var ContentBox=function(){"use strict";class e{appendHtml(e,t,i="beforeend"){e.insertAdjacentHTML(i,t)}hasClass(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}hasClassOld(e,t){if(!e)return!1;try{let i=e.getAttribute("class");return!!i&&new RegExp("\\b"+t+"\\b").test(i)}catch(e){}}addClass(e,t){e&&(e.length?e.forEach((e=>{this._addClass(e,t)})):this._addClass(e,t))}_addClass(e,t){if(e&&!e.length){if(e instanceof SVGElement){let i=function(){};"undefined"!=typeof window&&(i=window.SVGAnimatedString);const n=this.convertToArray(t);let o;return o=e.className instanceof i?this.convertToArray(e.className.baseVal):this.convertToArray(e.className),n.forEach((e=>{-1===o.indexOf(e)&&o.push(e)})),void e.setAttribute("class",o.join(" "))}this.hasClass(e,t)||(0===e.classList.length?e.className=t:e.className=e.className+" "+t,e.className=e.className.replace(/  +/g," "))}}removeClass(e,t){e&&(e.length?e.forEach((e=>{this._removeClass(e,t)})):this._removeClass(e,t))}_removeClass(e,t){if(e){if(e instanceof SVGElement){let i=function(){};"undefined"!=typeof window&&(i=window.SVGAnimatedString);const n=this.convertToArray(t);let o;return o=e.className instanceof i?this.convertToArray(e.className.baseVal):this.convertToArray(e.className),n.forEach((e=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)})),void e.setAttribute("class",o.join(" "))}if(e&&e.classList.length>0){let i,n,o,s,a=t.split(" ");for(i=0,o=a.length;i<o;++i){if(!a[i])continue;let t=a[i],o="",r=e.className.split(" ");for(n=0,s=r.length;n<s;++n)r[n]&&r[n]!==t&&(o+=r[n]+" ");e.className=o.trim()}""===e.className&&e.removeAttribute("class")}}}html(e,t){let i=document.createRange();e.innerHTML="",e.appendChild(i.createContextualFragment(t))}getLastElement(e,t){const i=e.querySelectorAll(t);if(i.length>0){return i[i.length-1]}return!1}addExternalScripts(e,t,i=0){if(i<=e.length-1){let o=e[i];document.head.querySelectorAll("script").forEach((e=>{-1!==e.src.indexOf(o)&&e.parentNode.removeChild(e)}));var n=document.createElement("script");n.onload=()=>{this.addExternalScripts(e,t,i+1)},n.src=o,document.head.appendChild(n)}else t&&t()}addExternalStyles(e){const t=document.querySelectorAll("link");for(let i=0;i<=e.length-1;i++){const n=e[i];let o=!1;if(t.forEach((e=>{e.getAttribute("href")===n&&(o=!0)})),!o){const e=document.createElement("link");e.rel="stylesheet",e.href=n,document.head.appendChild(e)}}}getElementOffset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}}parentsHasClass(e,t){for(;e;)do{if(this.hasClass(e,t))return e;e=e.parentNode}while(e);return!1}removeElement(e){e&&e.parentNode.removeChild(e)}uniqueId(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}}const t=new e;
/*!
    Ionicons
    License: MIT
    Copyright (c) 2015-present Ionic (http://ionic.io/)
    https://ionic.io/ionicons/v1
    */
/*!
    Tabler Icons
    License: MIT
    Copyright (c) 2020 PaweÅ‚ Kuna
    https://github.com/tabler/tabler-icons
    */let i=!1;function n(e){if(i){var t=window._txt[e];return t||e}return e}"undefined"!=typeof window&&void 0!==window._txt&&(i=!0);const o=new e;class s{constructor(e){this.builder=e;let t="";const i=this.builder.builderStuff;if(this.builderStuff=i,this.builder.useSidebar){t+='<div class="is-sidebar active"  style="transform: translate3d(0,0,0);display: flex;flex-direction: column;opacity: 0.0001;">';var s=0;this.builder.sidebarData.buttons.map((e=>{"section"==e.name?t+='<button class="is-sidebar-button" data-content="divSidebarSections" data-command="section" data-title="'+e.title+'" title="'+e.title+'"><svg class="svg-icon"><use xlink:href="#ion-android-add"></use></svg></button>':"snippet"==e.name?t+='<button class="is-sidebar-button" data-content="divSidebarSnippets" data-title="'+e.title+'" title="'+e.title+'"><svg class="svg-icon"><use xlink:href="#icon-align-center"></use></svg></button>':"typography"==e.name?this.builder.enableContentStyle&&(t+='<button class="is-sidebar-button" data-content="divSidebarTypography" data-command="typography" data-title="'+e.title+'" title="'+e.title+'"><span style="">a</span></button>'):"code"==e.name?this.builder.htmlSyntaxHighlighting?t+='<button class="is-sidebar-button" data-command="code" data-title="'+e.title+'" title="'+e.title+'"><svg class="svg-icon" style="width:13px;height:13px;"><use xlink:href="#ion-code"></use></svg></button>':t+='<button class="is-sidebar-button" data-content="divSidebarSource" data-command="code" data-title="'+e.title+'" title="'+e.title+'"><svg class="svg-icon" style="width:13px;height:13px;"><use xlink:href="#ion-code"></use></svg></button>':"custom1"==e.name?t+='<button class="is-sidebar-button" data-content="divCustomSidebarArea1" data-title="'+e.title+'" title="'+e.title+'" data-src="'+e.src+'">'+e.html+"</button>":"custom2"==e.name?t+='<button class="is-sidebar-button" data-content="divCustomSidebarArea2" data-title="'+e.title+'" title="'+e.title+'" data-src="'+e.src+'">'+e.html+"</button>":t+='<button class="is-sidebar-button" data-content="'+e.content.substr(1)+'" data-title="'+e.title+'" title="'+e.title+'">'+e.html+"</button>",this.builder.sideButtons&&this.builder.sideButtons.map((e=>{if(s==e.pos){var a=o.uniqueId();t+='<button class="is-sidebar-button" data-content="'+a+'" data-src="'+e.src+'" data-title="'+n(e.title)+'" title="'+n(e.title)+'">'+e.html+"</button>";let s='<div id="'+a+'" class="is-sidebar-content '+e.class+'" style="-webkit-transition-duration:0.2s;transition-duration:0.2s;"><div><iframe src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;"></iframe></div></div>';o.appendHtml(i,s)}})),s++})),t+="</div>",t+='<div id="divSidebarSections" class="is-sidebar-content" style="-webkit-transition-duration:0.2s;transition-duration:0.2s;"><div><iframe id="ifrIdeasPanel" src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;"></iframe></div></div><div id="divSidebarSnippets" class="is-sidebar-content scroll-darker"" style="max-width:275px;border-left: transparent 50px solid;box-sizing: border-box;"></div><div id="divSidebarSource" class="is-sidebar-content" style="-webkit-transition-duration:0.2s;transition-duration:0.2s;"><div><div style="position:absolute;width:240px;height:35px;right:10px;top:5px;z-index:1;display:flex;"><button title="'+n("Cancel")+'" id="btnViewHtmlCancel" style="height:38px" class="classic-secondary"> '+n("Cancel")+' </button><button title="'+n("Ok")+'" id="btnViewHtmlOk" style="height:38px" class="classic-primary"> '+n("Ok")+' </button></div><div style="height:100%;box-sizing:border-box;border-top:#f3f3f3 50px solid;position:relative"><textarea id="inpViewHtml" style="width:100%;height:100%;resize: none;"></textarea><button title="'+n("Enlarge")+'" class="edit-html-larger" style="width:40px;height:40px;position:absolute;right:20px;top:5px;background:#fff;padding: 0;"><svg class="is-icon-flex" style="width:22px;height:22px;fill:rgb(170, 170, 170);"><use xlink:href="#ion-arrow-expand"></use></svg></button></div></div></div><div id="divSidebarTypography" class="is-sidebar-content" style="-webkit-transition-duration:0.2s;transition-duration:0.2s;"><div class="scroll-darker"><div style="padding: 15px 0 0 20px"><div class="is-sidebar-title" style="margin-bottom:12px;">'+n("Typography Styles")+"</div><div>"+n("Apply to")+':</div><div style="display:flex;justify-content:space-between;align-items: center;"><div class="typo-target-default" style="display:flex"><label><input type="radio" name="typoTarget" value="page"> <span>'+n("Page")+'</span></label><label><input type="radio" name="typoTarget" value="section" checked> <span>'+n("Section")+'</span></label></div><div class="typo-target-box" style="display: flex;"><span>'+n("Active Box")+'</span></div><button title="'+n("Clear")+'" id="btnTypoClear"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button></div></div><div id="divSelector"></div><div id="divStyles"></div></div></div><div id="divCustomSidebarArea1" class="is-sidebar-content" style="max-width:500px;"><div style="padding:0 0 0 50px;box-sizing:border-box;"><iframe id="ifrCustomSidebarArea1" src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;"></iframe></div></div><div id="divCustomSidebarArea2" class="is-sidebar-content" style="max-width:500px;"><div style="padding:0 0 0 50px;box-sizing:border-box;"><iframe id="ifrCustomSidebarArea2" src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;"></iframe></div></div>'}else t='<div id="divSections" style="display:none"></div><div class="is-modal addsection"><div style="max-width: 900px;"><div id="divSectionList" class="is-section-list"></div></div></div>';if(o.appendHtml(i,t),this.builder.useSidebar){document.querySelectorAll(".is-sidebar .is-sidebar-button").forEach((e=>{e.addEventListener("click",(()=>{let t=!1;o.hasClass(e,"active")&&(t=!0);const n=document.querySelector(".is-sidebar-overlay");if(n&&(n.remove(),document.body.style.overflowY=""),document.querySelectorAll(".is-sidebar-button.active").forEach((e=>{o.removeClass(e,"active")})),document.querySelectorAll(".is-sidebar-content.active").forEach((e=>{o.removeClass(e,"active")})),t)return;let s=e.getAttribute("data-content");if(s){const t=i.querySelector(".is-sidebar-overlay");t&&t.addEventListener("click",(()=>{const e=document.querySelector(".is-sidebar-overlay");e&&(e.remove(),document.body.style.overflowY=""),document.querySelectorAll(".is-sidebar-button.active").forEach((e=>{o.removeClass(e,"active")})),document.querySelectorAll(".is-sidebar-content.active").forEach((e=>{o.removeClass(e,"active")}))})),o.addClass(e,"active"),o.addClass(document.querySelector("#"+s),"active")}let a=e.getAttribute("data-command");a&&("section"==a&&this.viewIdeas(),"code"==a&&(this.builder.htmlSyntaxHighlighting?this.viewHtml():this.viewHtml2()),"typography"==a&&(e.setAttribute("data-applyto","page"),i.querySelector(".typo-target-default").style.display="flex",i.querySelector(".typo-target-box").style.display="none",this.viewTypography()));let r=e.getAttribute("data-src");if(r){let t=e.getAttribute("data-content");if("divCustomSidebarArea1"==t){const e=document.querySelector("#ifrCustomSidebarArea1");-1!=e.getAttribute("src").indexOf("blank")&&e.setAttribute("src",r)}else if("divCustomSidebarArea2"==t){const e=document.querySelector("#ifrCustomSidebarArea2");-1!=e.getAttribute("src").indexOf("blank")&&e.setAttribute("src",r)}else{let t=e.getAttribute("data-content");const i=document.querySelector("#"+t);-1!=i.getAttribute("src").indexOf("blank")&&i.setAttribute("src",r)}}}))}));i.querySelector("#btnViewHtmlOk").addEventListener("click",(()=>{this.builder.editor.saveForUndo();var e=i.querySelector("#inpViewHtml").value;e=this.builder.editor.fromViewToActual(e),this.builder.loadHtml(e),this.builder.settings.onChange();const t=document.querySelector(".is-sidebar-overlay");t&&(t.remove(),document.body.style.overflow="",document.body.style.overflowY=""),document.querySelectorAll(".is-sidebar-button.active").forEach((e=>{o.removeClass(e,"active")})),document.querySelectorAll(".is-sidebar-content.active").forEach((e=>{o.removeClass(e,"active")}))}));i.querySelector("#btnViewHtmlCancel").addEventListener("click",(()=>{const e=document.querySelector(".is-sidebar-overlay");e&&(e.remove(),document.body.style.overflow="",document.body.style.overflowY=""),document.querySelectorAll(".is-sidebar-button.active").forEach((e=>{o.removeClass(e,"active")})),document.querySelectorAll(".is-sidebar-content.active").forEach((e=>{o.removeClass(e,"active")}))}));i.querySelector("#divSidebarSource .edit-html-larger").addEventListener("click",(()=>{let e=i.querySelectorAll("[data-source-active]");e.forEach((e=>{e.removeAttribute("data-source-active")})),e=i.querySelectorAll("[data-source-ok]"),e.forEach((e=>{e.removeAttribute("data-source-ok")})),e=i.querySelectorAll("[data-source-cancel]"),e.forEach((e=>{e.removeAttribute("data-source-cancel")}));let t=i.querySelector("#divSidebarSource textarea");t.setAttribute("data-source-active","1"),t.setAttribute("data-source-ok","#btnViewHtmlOk"),t.setAttribute("data-source-cancel","#btnViewHtmlCancel"),this.builder.editor.viewHtmlLarger()})),document.querySelector("#btnTypoClear").addEventListener("click",(()=>{this.boxTypography("","","")}))}}closeSidebar(){const e=this.builderStuff,t=e.querySelector(".is-sidebar-overlay");t&&(t.remove(),document.body.style.overflowY=""),e.querySelectorAll(".is-sidebar-button.active").forEach((e=>{o.removeClass(e,"active")})),e.querySelectorAll(".is-sidebar-content.active").forEach((e=>{o.removeClass(e,"active")}))}viewIdeas(){const e=this.builder.designPath,t=this.builder.designUrl1,i=this.builder.designUrl2;if(t&&i){var n=document.querySelector("#ifrIdeasPanel").contentWindow.document;""===n.body.innerHTML&&(n.open(),n.write(this.getTemplatesHtml()),n.close())}else if(e){const t=document.querySelector("#ifrIdeasPanel");-1!=t.getAttribute("src").indexOf("blank")&&t.setAttribute("src",e+"ideas.html")}return!1}viewHtml(){const e=this.builderStuff;var t=this.builder.html(!0);e.querySelector("#inpViewHtml").value=t;let i=e.querySelectorAll("[data-source-active]");i.forEach((e=>{e.removeAttribute("data-source-active")})),i=e.querySelectorAll("[data-source-ok]"),i.forEach((e=>{e.removeAttribute("data-source-ok")})),i=e.querySelectorAll("[data-source-cancel]"),i.forEach((e=>{e.removeAttribute("data-source-cancel")}));let n=e.querySelector("#divSidebarSource textarea");n.setAttribute("data-source-active","1"),n.setAttribute("data-source-ok","#btnViewHtmlOk"),n.setAttribute("data-source-cancel","#btnViewHtmlCancel"),this.builder.editor.viewHtmlNormal()}viewHtml2(){const e=this.builderStuff;let t=this.builder.html(!0);e.querySelector("#inpViewHtml").value=t}viewTypography(){const e=this.builder.settings.contentStylePath,t=this.builder.settings.contentStyles,i=t.data.categories;let o="",s="";for(let e=0;e<i.length;e++)s+='<div data-value="'+i[e].id+'">'+n(i[e].desc)+"</div>",-1===i[e].id&&(o=n(i[e].desc));let a='<div class="is-selectbox style-cat" data-group="style-cat" data-value="-1"><span>'+o+'</span><svg class="is-icon-flex" style="position:absolute;top:13px;right:10px;"><use xlink:href="#ion-android-arrow-dropdown"></use></svg></div><div class="is-selectbox-options style-cat-options" data-group="style-cat" style="display:none">'+s+"</div>";function r(e){const t=e.childNodes;let i=[],n=t.length;for(;n--;)1===t[n].nodeType&&i.unshift(t[n]);return i}document.querySelector("#divSelector").innerHTML=a,this.builder.editor.dropdown(document.querySelector(".style-cat"),{dropdown:document.querySelector(".style-cat-options"),onChange:i=>{let n=i,o=t.data.styles,s="";if(-1==n)for(let t=0;t<o.length;t++)s+='<div data-css="'+o[t].css+'" data-sectioncss="'+o[t].sectioncss+'" data-classname="'+o[t].classname+'"><div>['+(t+1)+"] "+o[t].caption+'</div><img src="'+e+o[t].img+'" /><span class="is-overlay"></span></div></div>';else for(let t=0;t<o.length;t++)n==o[t].category&&(s+='<div data-css="'+o[t].css+'" data-sectioncss="'+o[t].sectioncss+'" data-classname="'+o[t].classname+'"><div>['+(t+1)+"] "+o[t].caption+'</div><img src="'+e+o[t].img+'" /><span class="is-overlay"></span></div></div>');let a=document.querySelector("#divStyles");a.innerHTML=s,r(a).forEach((e=>{e.addEventListener("click",(()=>{this.boxTypography(e.getAttribute("data-classname"),e.getAttribute("data-sectioncss"),e.getAttribute("data-css"))}))}))}});for(var l=t.data.styles,d="",c=0;c<l.length;c++)d+='<div data-css="'+l[c].css+'" data-sectioncss="'+l[c].sectioncss+'" data-classname="'+l[c].classname+'"><div>['+(c+1)+"] "+l[c].caption+'</div><img src="'+e+l[c].img+'" /><span class="is-overlay"></span></div></div>';var u=document.querySelector("#divStyles");u.innerHTML=d,r(u).forEach((e=>{e.addEventListener("click",(()=>{this.boxTypography(e.getAttribute("data-classname"),e.getAttribute("data-sectioncss"),e.getAttribute("data-css"))}))}))}boxTypography(e,t,i){const n=this.builder.builderStuff;this.builder.editor.saveForUndo();const s=this.builder.settings.contentStylePath;let a=n.querySelector('.is-sidebar > button[data-command="typography"]').getAttribute("data-applyto"),r=document.querySelector('input[name="typoTarget"]:checked').value;if("box"!==a)if("section"===r){let i=this.builder.activeSection;if(i.getAttribute("class").split(/\s+/).forEach((e=>{-1!=e.indexOf("type-")&&o.removeClass(i,e)})),i.querySelectorAll(".is-box, .is-box-centered").forEach((e=>{e.getAttribute("class").split(/\s+/).forEach((t=>{-1!=t.indexOf("type-")&&o.removeClass(e,t)}))})),""!==e){o.addClass(i,e);let n=!1,a=document.getElementsByTagName("link");for(let e=0;e<a.length;e++){-1!=a[e].href.toLowerCase().indexOf(t.toLowerCase())&&(n=!0)}n||(this.builder.settings.cssInBody?this.builder.wrapperEl.insertAdjacentHTML("beforebegin",'<link data-name="contentstyle" data-class="'+e+'" href="'+s+t+'" rel="stylesheet">'):o.appendHtml(document.head,'<link data-name="contentstyle" data-class="'+e+'" href="'+s+t+'" rel="stylesheet">'))}let n=document.getElementsByTagName("link");for(let e=0;e<n.length;e++)if("contentstyle"===n[e].getAttribute("data-name")){let t=n[e].getAttribute("data-class");this.builder.wrapperEl.querySelector("."+t)||n[e].setAttribute("data-rel","_del")}document.querySelectorAll('[data-rel="_del"]').forEach((e=>{e.parentNode.removeChild(e)}))}else if("page"===r){let e=document.getElementsByTagName("link");for(let t=0;t<e.length;t++)if("contentstyle"===e[t].getAttribute("data-name")){let i=e[t].getAttribute("data-class");if(this.builder.wrapperEl.querySelector("."+i)){this.builder.wrapperEl.querySelectorAll("."+i).forEach((e=>{o.removeClass(e,i)})),e[t].setAttribute("data-rel","_del")}}let t=document.querySelectorAll('[data-rel="_del"]');t.forEach((e=>{e.parentNode.removeChild(e)})),e=document.getElementsByTagName("link");for(let t=0;t<e.length;t++){-1!=e[t].href.toLowerCase().indexOf("basetype-")&&e[t].setAttribute("data-rel","_del")}t=document.querySelectorAll('[data-rel="_del"]'),t.forEach((e=>{e.parentNode.removeChild(e)})),""!=i&&(this.builder.settings.cssInBody?this.builder.wrapperEl.insertAdjacentHTML("beforebegin",'<link href="'+s+i+'" rel="stylesheet">'):o.appendHtml(document.head,'<link href="'+s+i+'" rel="stylesheet">'))}else if("container"===r){let i=document.querySelector(".builder-active");if(!i)return;let n=o.parentsHasClass(i,"is-box");if(n.getAttribute("class").split(/\s+/).forEach((e=>{-1!=e.indexOf("type-")&&o.removeClass(n,e)})),""!==e){o.addClass(n,e);let i=!1,a=document.getElementsByTagName("link");for(let e=0;e<a.length;e++){-1!=a[e].href.toLowerCase().indexOf(t.toLowerCase())&&(i=!0)}i||(this.builder.settings.cssInBody?this.builder.wrapperEl.insertAdjacentHTML("beforebegin",'<link data-name="contentstyle" data-class="'+e+'" href="'+s+t+'" rel="stylesheet">'):o.appendHtml(document.head,'<link data-name="contentstyle" data-class="'+e+'" href="'+s+t+'" rel="stylesheet">'))}let a=document.getElementsByTagName("link");for(let e=0;e<a.length;e++)if("contentstyle"===a[e].getAttribute("data-name")){let t=a[e].getAttribute("data-class");this.builder.wrapperEl.querySelector("."+t)||a[e].setAttribute("data-rel","_del")}document.querySelectorAll('[data-rel="_del"]').forEach((e=>{e.parentNode.removeChild(e)}))}if("box"===a){let i=this.builder.activeBox;if(i){if(i.getAttribute("class").split(/\s+/).forEach((e=>{-1!=e.indexOf("type-")&&o.removeClass(i,e)})),""!==e){o.addClass(i,e);let n=!1,a=document.getElementsByTagName("link");for(let e=0;e<a.length;e++){-1!=a[e].href.toLowerCase().indexOf(t.toLowerCase())&&(n=!0)}n||(this.builder.settings.cssInBody?this.builder.wrapperEl.insertAdjacentHTML("beforebegin",'<link data-name="contentstyle" data-class="'+e+'" href="'+s+t+'" rel="stylesheet">'):o.appendHtml(document.head,'<link data-name="contentstyle" data-class="'+e+'" href="'+s+t+'" rel="stylesheet">'))}let n=document.getElementsByTagName("link");for(let e=0;e<n.length;e++)if("contentstyle"===n[e].getAttribute("data-name")){let t=n[e].getAttribute("data-class");this.builder.wrapperEl.querySelector("."+t)||n[e].setAttribute("data-rel","_del")}document.querySelectorAll('[data-rel="_del"]').forEach((e=>{e.parentNode.removeChild(e)}))}}this.builder.settings.onChange()}getTemplatesHtml(){const e=this.builder.designUrl1,t=this.builder.designUrl2;let i='\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title></title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">      \n            <style>        \n                body {\n                    /* background: rgba(255,255,255,0.7); */\n                    margin: 0;\n                }\n        \n                .is-design-list {\n                    position: fixed;\n                    top: 0px;\n                    left: 0px;\n                    border-top: transparent 80px solid;\n                    width: 100%;\n                    height: 100%;\n                    overflow-y: auto;\n                    padding: 0px 0px 30px 0px;\n                    box-sizing: border-box;\n                    overflow: auto;\n                }\n        \n                .is-design-list>div {\n                    position:relative;\n                    /* background: #fff; */\n                    width: 250px;\n                    overflow: hidden;\n                    margin: 32px 0 0 30px;\n                    cursor: pointer;\n                    display: inline-block;\n                    outline: rgba(219, 219, 219, 0.39) 1px solid;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                }\n        \n                .is-design-list>div img {\n                    box-shadow: none;\n                    opacity: 1;\n                    display: block;\n                    box-sizing: border-box;\n                    transition: all 0.2s ease-in-out;\n                    max-width: 400px;\n                    width: 100%\n                }\n                \n                .is-overlay {\n                    position:absolute;left:0px;top:0px;width:100%;height:100%;\n                }\n                .is-design-list>div .is-overlay:after {\n                    background: rgba(0, 0, 0, 0.03);\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    transition: all 0.3s ease-in-out;\n                    opacity: 0;\n                }\n                .is-design-list>div:hover .is-overlay:after {\n                    opacity: 0.9;\n                }\n        \n                .is-category-list {\n                    position: relative;\n                    top: 0px;\n                    left: 0px;\n                    width: 100%;\n                    height: 80px;\n                    /* background: #f5f5f5; */\n                    box-sizing: border-box;\n                    z-index: 1;\n                }\n        \n                .is-category-list>div {\n                    display: inline-block;\n                    white-space: nowrap;\n                    padding: 13px 10px 0 20px;\n                    box-sizing: border-box;\n                    font-family: sans-serif;\n                    font-size: 10px;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    /* background: #f5f5f5; */\n                }\n        \n                .is-category-list > div > div {\n                    margin-bottom:10px;\n                    margin-left:5px;\n                }\n                .is-category-list > div > a {\n                    display: inline-block;\n                    padding: 10px 25px;\n                    /* background: #fefefe;\n                    color: #000; */\n                    border-radius: 50px;\n                    \n                    margin: 0 15px 8px 0;\n                    text-decoration: none;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);\n                }';return i+="\n                .is-category-list > div > a:hover {\n                    /* background: #fafafa;\n                    color: #000; */\n                }\n                .is-category-list > div > a.active {\n                    /* background: #f5f5f5;\n                    color: #000; */\n                    box-shadow: none;\n                }\n                \n                .is-more-categories {\n                    display: none;\n                    flex-flow: wrap;\n                    position: absolute;\n                    width: 400px;\n                    box-sizing: border-box;\n                    padding: 0;\n                    z-index: 1;\n                    font-family: sans-serif;\n                    font-size: 10px;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                    /* background: #fff; */\n                }\n        \n                .is-more-categories a {\n                    width: 200px;\n                    float: left;\n                    display: block;\n                    box-sizing: border-box;\n                    padding: 12px 20px;\n                    /* background: #fff; */\n                    text-decoration: none;\n                    /* color: #000; */\n                    line-height: 1.6;\n                }\n        \n                /* .is-more-categories a:hover {\n                    background:#eee;\n                }\n                .is-more-categories a.active {\n                    background:#eee;\n                } */\n                .is-more-categories.active {\n                    display: flex;\n                }\n\n                /*\n                .is-category-list {visibility:hidden}\n                .is-more-categories {visibility:hidden}\n                */\n                \n                /* Responsive */\n                .is-category-list > div > a.more-basic {display:none}\n                .is-category-list > div > .screen1 {display:inline-block}\n                .is-more-categories .screen1 {display:none}\n                .is-category-list > div > .screen2 {display:inline-block}\n                .is-more-categories .screen2 {display:none}        \n                @media all and (max-width: 970px) {\n                    .is-category-list > div > .screen1 {display:none}\n                    .is-more-categories .screen1 {display:block}\n                    .is-category-list > div > a.more-basic {display:inline-block}\n                }   \n                @media all and (max-width: 690px) {\n                    .is-category-list > div > .screen2 {display:none}\n                    .is-more-categories .screen2 {display:block}\n                    .is-category-list > div > a.more-basic {display:inline-block}\n                }             \n                .is-more-categories a.cms-option {display:none}\n                \n                /* Enable Module/Placeholder \n                .is-category-list > div > a.more-basic {display:inline-block}\n                .custom {display:none}        \n                .is-more-categories a.cms-option {display:block}\n                */\n                \n                \n                /* First Loading */\n                .is-category-list {opacity:0;transition: opacity ease 0.3s;} \n                .is-design-list {opacity:0;transition: opacity ease 0.3s;} \n                .pace {\n                  -webkit-pointer-events: none;\n                  pointer-events: none;\n                  -webkit-user-select: none;\n                  -moz-user-select: none;\n                  user-select: none;\n                }\n                .pace-inactive {\n                  display: none;\n                }\n                .pace .pace-progress {\n                  background: #000000;\n                  position: fixed;\n                  z-index: 2000;\n                  top: 0;\n                  right: 100%;\n                  width: 100%;\n                  height: 2px;\n                }\n        \n            </style>     \n        </head>",i+=`<body>\n        \n            <div class="is-category-list">\n                \x3c!--<a href="" data-cat="0">Default</a>--\x3e\n                <div style="border-right: rgba(255,255,255,0.1) 1px solid;">\n                    <div>${n("Simple Start:")}</div>\n                    <a href="" data-cat="5">${n("Random")}</a>\n                    <a href="" data-cat="1" class="screen2">Basic</a>\n                    <a href="" class="slider-section screen2" data-cat="2">${n("Slider")}</a>\n                    <a href="" data-cat="3" class="screen1 screen2">${n("Video")}</a>\n                    <a href="" data-cat="4" class="screen1 screen2 custom">${n("Custom")}</a>\n                    <a href="" class="more-basic">${n("More")}</a>\n                </div>\n                <div>\n                    <div>Quick Start: </div>\n                    <a href="" data-cat="101" class="screen2">${n("Header")}</a>\n                    <a href="" data-cat="118" class="screen2">${n("Article")}</a>\n                    <a href="" data-cat="103" class="screen1 screen2">${n("Profile")}</a>\n                    <a href="" class="more-examples">${n("More")}</a>\n                </div>\n            </div>\n            <div id="morebasic" class="is-more-categories" style="width:200px">\n                <a href="" data-cat="1" class="screen2">${n("Basic")}</a>\n                <a href="" data-cat="2" class="screen2">${n("Slider")}</a>\n                <a href="" data-cat="3" class="screen1">${n("Video")}</a>\n                <a href="" data-cat="4" class="screen1">${n("Custom")}</a>\n\n                <a href="" data-cat="51" class="cms-option">${n("Module")}</a>\n                <a href="" data-cat="52" class="cms-option">${n("Placeholder")}</a>\n            </div>\n            <div id="morecat" class="is-more-categories">\n                <a href="" data-cat="101" class="screen2">${n("Header")}</a>\n                <a href="" data-cat="118" class="screen2">${n("Article")}</a>\n                <a href="" data-cat="103" class="screen1 screen2">${n("Profile")}</a>\n\n                <a href="" data-cat="102">${n("Photos")}</a>\n                <a href="" data-cat="104">${n("Products, Services")}</a>\n                <a href="" data-cat="105">${n("Features")}</a>\n                <a href="" data-cat="106">${n("Process")}</a>\n                <a href="" data-cat="107">${n("Pricing")}</a>\n                <a href="" data-cat="108">${n("Skills")}</a>\n                <a href="" data-cat="109">${n("Achievements")}</a>\n                <a href="" data-cat="110">${n("Quotes")}</a>\n                <a href="" data-cat="111">${n("Partners")}</a>\n                <a href="" data-cat="112">${n("As Featured On")}</a>    \n                <a href="" data-cat="113">${n("Page Not Found")}</a>\n                <a href="" data-cat="114">${n("Coming Soon")}</a>\n                <a href="" data-cat="115">${n("Help, FAQ")}</a>\n                <a href="" data-cat="116">${n("Contact")}</a>\n                <a href="" data-cat="117" class="static-section">${n("Footer")}</a>\n                \n                <div class="template-extension" style="display:none">\n                    \x3c!--\n                    <div style="font-weight: 600;padding: 15px 0 10px 19px;width: 100%;position: relative !important;border-top: rgb(0 0 0 / 4%) 1px solid;">\n                        Writing Set\n                    </div>\n                    <div>\n                        <a href="" data-cat="102">${n("General")}</a>\n                        <a href="" data-cat="108">${n("Agency")}</a>\n                        <a href="" data-cat="114">${n("Travel")}</a>\n                        <a href="" data-cat="116">${n("Food")}</a>\n                    </div>\n                    --\x3e\n                </div>\n\n            </div>\n\n            <div class="is-design-list">\n            </div>\n            \n            <script src="${e}" type="text/javascript"><\/script>     \n            <script src="${t}" type="text/javascript"><\/script>  \n            \n            <script>\n                function hasClass(element, classname) {\n                    if(!element) return false;\n                    try{\n                        let s = element.getAttribute('class');\n                        if(!s) return false;\n                        let exists = false;\n                        s.split(' ').forEach((item)=>{\n                            if(item===classname) {\n                                exists=true;\n                            }\n                        });\n                        return exists;\n                    } catch(e) { \n                        // Do nothing\n                    }\n                }\n\n                function appendHtml(parent, html) {\n                    parent.insertAdjacentHTML('beforeend', html);\n                }\n                function addClass(element, classname) {\n                    if(!element) return;\n                    if(element.length) {\n                        element.forEach((elm) => {\n                            _addClass(elm, classname);\n                        })\n                        return;\n                    } \n                    _addClass(element, classname);\n            \n                }`,i+=`\n                function _addClass(element, classname) {\n                    if(!element) return;\n                    if(element.length) {\n                        return;\n                    } \n                    if(hasClass(element,classname)) return;\n                    if(element.classList.length===0) element.className = classname;\n                    else element.className = element.className + ' ' + classname;\n                    element.className = element.className.replace(/  +/g, ' ');\n                }\n\n                function _removeClass(element, classname) {\n                    if(!element) return;\n                    if(!element) return;\n                    if(element.classList.length>0) {\n                        let i, j, imax, jmax;\n                        let classesToDel = classname.split(' ');\n                        for (i=0, imax=classesToDel.length; i<imax; ++i) {\n                            if (!classesToDel[i]) continue;\n                            let classtoDel = classesToDel[i];\n                \n                            let sClassName = ''; \n                            let currentClasses = element.className.split(' ');\n                            for (j=0, jmax=currentClasses.length; j<jmax; ++j) {\n                                if (!currentClasses[j]) continue;\n                                if (currentClasses[j]!==classtoDel) sClassName += currentClasses[j] + ' ';\n                            }\n                            element.className = sClassName.trim();\n                        }\n                        if(element.className==='') element.removeAttribute('class');\n                    }\n                }\n                function removeClass(element, classname) {\n                    if(!element) return;\n                    if(element.length) {\n                        element.forEach((elm) => {\n                            _removeClass(elm, classname);\n                        })\n                        return;\n                    } \n                    _removeClass(element, classname);\n                }\n                function getElementOffset(el) {\n                    const rect = el.getBoundingClientRect();\n                    \n                    return {\n                        top: rect.top + window.pageYOffset,\n                        left: rect.left + window.pageXOffset,\n                        width: rect.width,\n                        height: rect.height\n                    };\n                }\n                \n                var defaultCat =  ${this.builder.defaultDesignCategory}; //Show 'Header' category: 101\n                var disableStaticSection = false;\n                try {\n                    disableStaticSection = ${this.builder.disableStaticSection};\n                } catch (e) { }\n                if (disableStaticSection) document.querySelector('.static-section').style.display = 'none';\n\n                var elm = document.querySelector('.is-category-list');\n                var tab = elm.querySelector('[data-cat="' + defaultCat + '"]');\n                if(tab) addClass(tab,'active');\n\n                elm = document.querySelector('#morecat');\n                tab = elm.querySelector('[data-cat="' + defaultCat + '"]');\n                if(tab) addClass(tab,'active');\n\n                elm = document.querySelector('#morebasic');\n                tab = elm.querySelector('[data-cat="' + defaultCat + '"]');\n                if(tab) addClass(tab,'active');\n                \n                /*\n                elm = document.querySelector('.is-category-list');\n                elm.style.visibility = 'visible';\n                var elms = document.querySelectorAll('.is-more-categories'); \n                elms.forEach(function(elm){\n                    elm.style.visibility = 'visible';\n                });\n                */\n\n                var nIndex = 1;\n                var path = '${this.builder.designPath}';\n                var navbar = ${this.builder.navbar};\n                data_basic.designs.forEach(function(item){\n\n                    var isdefault = false;\n                    var catSplit = item.category.split(',');\n                    for (var j = 0; j < catSplit.length; j++) {\n                        if (catSplit[j] == defaultCat) {\n                            isdefault = true;\n                        }\n                    }\n                    item.id = nIndex; //Give id to each record\n        \n                    if (isdefault) {\n                        var elm = document.querySelector('.is-design-list');\n\n                        var html = '<div data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path + item.thumbnail + '"><span class="is-overlay"></span></div>';\n                        //appendHtml(elm, html);\n\n                        if(item.type === 'navbar' ) {\n                            if(navbar) {\n                                appendHtml(elm, html);\n                            }\n                        } else {\n                            appendHtml(elm, html);\n                        }\n                    }\n        \n                    nIndex++;\n                });`,i+="\n                data_examples.designs.forEach(function(item){\n\n                    var isdefault = false;\n                    var catSplit = item.category.split(',');\n                    for (var j = 0; j < catSplit.length; j++) {\n                        if (catSplit[j] == defaultCat) {\n                            isdefault = true;\n                        }\n                    }\n                    item.id = nIndex; //Give id to each record\n        \n                    if (isdefault) {\n                        var elm = document.querySelector('.is-design-list');\n                        var html = '<div data-id=\"' + item.id + '\" data-cat=\"' + item.category + '\"><img src=\"' + path + item.thumbnail + '\"><span class=\"is-overlay\"></span></div>';\n                        appendHtml(elm, html);\n                    }\n        \n                    nIndex++;\n                });\n\n                var btnMore1 = document.querySelector('.more-basic');\n                var btnMore2 = document.querySelector('.more-examples');\n                btnMore1.addEventListener('click', function(e){\n                    let elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(elms, 'active');\n\n                    addClass(btnMore1, 'active');\n                    removeClass(btnMore2, 'active');\n\n                    let elm = document.querySelector('#morebasic');\n                    addClass(elm, 'active');\n\n                    var top = getElementOffset(btnMore1).top;\n                    var left = getElementOffset(btnMore1).left;\n                    top = top + 42;\n                    elm.style.top = top + 'px';\n                    elm.style.left = left + 'px';\n                    e.preventDefault();\n                });\n                btnMore2.addEventListener('click', function(e){\n                    let elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(elms, 'active');\n\n                    addClass(btnMore2, 'active');\n                    removeClass(btnMore1, 'active');\n\n                    let elm = document.querySelector('#morecat');\n                    addClass(elm, 'active');\n\n                    var top = getElementOffset(btnMore2).top;\n                    var left = getElementOffset(btnMore2).left;\n                    top = top + 42;\n                    elm.style.top = top + 'px';\n                    elm.style.left = 'auto';\n                    elm.style.right = '0px';\n                    e.preventDefault();\n                });\n\n                elms = document.querySelectorAll('.is-more-categories a');\n                elms.forEach(function(elm){\n                    elm.addEventListener('click', function(e){\n\n                        selectCategory(elm);\n             \n                        e.preventDefault();\n                    });\n                });\n\n                elms = document.querySelectorAll('.is-category-list a');\n                elms.forEach(function(elm){\n                    elm.addEventListener('click', function(e){\n                     \n                        if(!elm.getAttribute('data-cat')) return;\n\n                        selectCategory(elm);\n             \n                        e.preventDefault();\n                    });\n                });\n\n                var div = document.querySelectorAll('.is-design-list div');\n                div.forEach(function(btn){\n                    btn.addEventListener('click', function(e){\n                        var designid = btn.getAttribute('data-id');\n                        addDesign(designid);\n                    });\n                });\n\n                document.addEventListener(\"click\", function(e) {\n                    var btn1 = document.querySelector('.more-basic');\n                    var btn2 = document.querySelector('.more-examples');\n                    var targetEl = e.target; // clicked element      \n                    do {\n                      if(targetEl == btn1 || targetEl == btn2) {\n                        // Click inside\n                        return;\n                      }\n                      targetEl = targetEl.parentNode;\n                    } while (targetEl);\n\n                    // Click outside\n\n                    var elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(elms,'active');\n                    removeClass(btn1,'active');\n                    removeClass(btn2,'active');\n                });",i+=`\n                parent.document.addEventListener("click", function(e) {\n                    var btn1 = document.querySelector('.more-basic');\n                    var btn2 = document.querySelector('.more-examples');\n                    \n                    var elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(elms,'active');\n                    removeClass(btn1,'active');\n                    removeClass(btn2,'active');\n                });\n\n                // elm = document.querySelector('.is-category-list');\n                // elm.style.display = 'block';\n                elm = document.querySelector('.is-design-list');\n                elm.style.display = 'block';\n\n                var slider = '${this.builder.slider}';\n                var navbar = ${this.builder.navbar};\n\n                if(slider==='') document.querySelector('.slider-section').style.display = 'none';\n\n                function selectCategory(elm) {\n\n                    var cat = elm.getAttribute('data-cat');\n                    var div = document.querySelector('.is-design-list');\n                    var items = div.querySelectorAll('[data-cat="' + cat + '"]');\n                    if(items.length == 0) {\n                                    \n                        data_basic.designs.forEach(function(item){\n                            if (cat == item.category) {\n\n                                if(item.type === 'glide' || item.type === 'slick') {\n                                    if(slider==='glide') {\n                                        if(cat === '2') {\n                                            if(item.type === 'glide') {\n                                                appendHtml(div, '<div data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                            } \n                                        } \n                                    } else if(slider==='slick') {\n                                        if(cat === '2') {\n                                            if(item.type === 'slick') {\n                                                appendHtml(div, '<div data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                            } \n                                        } \n                                    } else if(slider==='all') {\n                                        appendHtml(div, '<div data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                    } \n                                } else if(item.type === 'navbar' ) {\n                                    if(navbar) {\n                                        appendHtml(div, '<div data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                    }\n                                } else {\n                                    appendHtml(div, '<div data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                }\n                                \n                            }\n                        });\n                        data_examples.designs.forEach(function(item){\n                            if (cat == item.category) {\n                                appendHtml(div, '<div data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                            }\n                        });\n\n                        items = div.querySelectorAll('[data-cat="' + cat + '"]');\n                        items.forEach(function(btn){\n                            btn.addEventListener('click', function(e){\n                                var designid = btn.getAttribute('data-id');\n                                addDesign(designid);\n                            });\n                        });\n\n                    }\n\n                    var _elms = document.querySelectorAll('.is-category-list a');\n                    removeClass(_elms,'active');\n                    _elms = document.querySelectorAll('.is-more-categories a');\n                    removeClass(_elms,'active');\n                    addClass(elm,'active');\n    \n                    if (cat) {\n                        _elms = document.querySelectorAll('.is-design-list div');\n                        _elms.forEach(function(elm) {\n                            elm.style.display =  'none';\n                        });\n                        _elms.forEach(function(elm) {\n                            var catSplit = elm.getAttribute('data-cat').split(',');\n                            for (var j = 0; j < catSplit.length; j++) {\n                                if (catSplit[j] == cat) {\n                                    elm.style.display =  '';\n                                }\n                            }\n                        });\n                    }\n\n                    _elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(_elms,'active');\n                }`,i+=`\n                function addDesign(designid) {\n          \n                    var wrapper = parent.document.querySelector('.is-wrapper');\n                    var framework = '${this.builder.framework}';\n                    var snippetPathReplace = [];\n                    ${this.builder.designPathReplace.length>0?`\n                    snippetPathReplace = ['${this.builder.designPathReplace[0]}', '${this.builder.designPathReplace[1]}'];\n                    `:""}\n                    \n                    var contentStylePath = '${this.builder.contentStylePath}';\n                    var html = '';\n                    var result = data_basic.designs.filter(function(element){ \n                        if(element.id === parseInt(designid)) return element;\n                    });\n                    if (result.length==0) {\n                        result = data_examples.designs.filter(function(element){ \n                            if(element.id === parseInt(designid)) return element;\n                        });\n                    }\n\n                    var html = result[0].html;\n                    var googleFonts = result[0].googleFonts;\n                    var contentCss = result[0].contentCss;\n                    var contentClass = result[0].contentClass;\n\n                    //To Tailwind\n                    if (framework == 'tailwind') {\n                        html = html.replace(new RegExp(' container', 'g'), ' container');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'flex flex-col md:flex-row');\n                        html = html.replace(new RegExp('column full', 'g'), 'w-full px-4');\n                        html = html.replace(new RegExp('column half', 'g'), 'w-full md:w-6/12 px-4');\n                        html = html.replace(new RegExp('column third', 'g'), 'w-full md:w-4/12 px-4');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'w-full md:w-3/12 px-4');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'w-full md:w-2/12 px-4'); //not needed\n                        html = html.replace(new RegExp('column sixth', 'g'), 'w-full md:w-2/12 px-4');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'w-full md:w-8/12 px-4');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'w-full md:w-9/12 px-4');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'w-full md:w-10/12 px-4');\n                    }\n                                \n                    //To Bootstrap\n                    if (framework == 'bootstrap') {\n                        html = html.replace(new RegExp(' container', 'g'), ' container-fluid');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'row');\n                        html = html.replace(new RegExp('column full', 'g'), 'col-md-12');\n                        html = html.replace(new RegExp('column half', 'g'), 'col-md-6');\n                        html = html.replace(new RegExp('column third', 'g'), 'col-md-4');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'col-md-3');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'col-md-2');\n                        html = html.replace(new RegExp('column sixth', 'g'), 'col-md-2');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'col-md-8');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'col-md-9');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'col-md-10');\n                        html = html.replace(new RegExp('btn btn-primary', 'g'), 'btn btn-primary btn-lg');\n                        html = html.replace(new RegExp('btn btn-default', 'g'), 'btn btn-default btn-lg');\n                    }\n\n                    //To Foundation\n                    if (framework == 'foundation') {\n                        //html = html.replace(new RegExp(' container', 'g'), ' container');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'row');\n                        html = html.replace(new RegExp('column full', 'g'), 'large-12 columns');\n                        html = html.replace(new RegExp('column half', 'g'), 'large-6 columns');\n                        html = html.replace(new RegExp('column third', 'g'), 'large-4 columns');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'large-3 columns');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'large-2 columns');\n                        html = html.replace(new RegExp('column sixth', 'g'), 'large-2 columns');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'large-8 columns');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'large-9 columns');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'large-10 columns');\n                        html = html.replace(new RegExp('btn btn-primary', 'g'), 'button');\n                        html = html.replace(new RegExp('btn btn-default', 'g'), 'secondary button');\n                    }\n\n                    //To UIKit\n                    if (framework == 'uikit') {\n                        html = html.replace(new RegExp(' container', 'g'), ' uk-container uk-container-center');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'uk-grid');\n                        html = html.replace(new RegExp('column full', 'g'), 'uk-width-1-1');\n                        html = html.replace(new RegExp('column half', 'g'), 'uk-width-1-2');\n                        html = html.replace(new RegExp('column third', 'g'), 'uk-width-1-3');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'uk-width-1-4');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'uk-width-1-5');\n                        html = html.replace(new RegExp('column sixth', 'g'), 'uk-width-1-6');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'uk-width-2-3');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'uk-width-3-4');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'uk-width-5-6');\n                        html = html.replace(new RegExp('btn btn-primary', 'g'), 'uk-button uk-button-primary uk-button-large');\n                        html = html.replace(new RegExp('btn btn-default', 'g'), 'uk-button uk-button-large');\n                    }\n\n                    //To Material\n                    if (framework == 'material') {\n                        html = html.replace(new RegExp(' container', 'g'), '');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'mdl-grid');\n                        html = html.replace(new RegExp('column full', 'g'), 'mdl-cell mdl-cell--12-col');\n                        html = html.replace(new RegExp('column half', 'g'), 'mdl-cell mdl-cell--6-col');\n                        html = html.replace(new RegExp('column third', 'g'), 'mdl-cell mdl-cell--4-col');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'mdl-cell mdl-cell--3-col');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'mdl-cell mdl-cell--2-col');\n                        html = html.replace(new RegExp('column sixth', 'g'), 'mdl-cell mdl-cell--2-col');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'mdl-cell mdl-cell--8-col');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'mdl-cell mdl-cell--9-col');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'mdl-cell mdl-cell--10-col');\n                        html = html.replace(new RegExp('btn btn-primary', 'g'), 'mdl-button mdl-js-button mdl-button--raised mdl-button--accent');\n                        html = html.replace(new RegExp('btn btn-default', 'g'), 'mdl-button mdl-js-button mdl-button--raised');\n                    }`,i+="\n\n                    html = html.replace(/{id}/g, makeid());\n\n                    if(snippetPathReplace.length>0) {\n                        if (snippetPathReplace[0] != '') {\n                            var regex = new RegExp(snippetPathReplace[0], 'g');\n                            html = html.replace(regex, snippetPathReplace[1]);\n                        }\n                    }\n\n                    //Add html\n                    parent.contentbox.addIdea(html);\n\n                    //Add contentCss\n                    var exist = false;\n                    var links = parent.document.getElementsByTagName(\"link\");\n                    for (var i = 0; i < links.length; i++) {\n                        var src = links[i].href.toLowerCase();\n                        if (src.indexOf(contentCss.toLowerCase()) != -1) exist = true;\n                    }\n            \n                    if (!exist) appendHtml(wrapper,'<link data-name=\"contentstyle\" data-class=\"' + contentClass + '\" href=\"' + contentStylePath + contentCss + '\" rel=\"stylesheet\">');\n            \n                }\n\n                function makeid() {//http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n                    var text = \"\";\n                    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n                    for (var i = 0; i < 2; i++)\n                        text += possible.charAt(Math.floor(Math.random() * possible.length));\n            \n                    var text2 = \"\";\n                    var possible2 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n                    for (var i = 0; i < 5; i++)\n                        text2 += possible2.charAt(Math.floor(Math.random() * possible2.length));\n            \n                    return text + text2;\n                }\n\n                            \n                // Style stuff\n                function applyParentStyles() {\n                    var cssString = '' +\n                        'body {' +\n                            'background: ' + parent._cb.styleSnippetBackground + ';' +\n                            'color: ' + parent._cb.styleSnippetColor + ';' +\n                            'margin: 0;' +\n                        '}' +\n                        \n\n                        '.dark .is-design-list>div {' +\n                            'outline: transparent 1px solid;' +\n                        '}' +\n\n                        '/* Scrollbar for modal */' +\n\n                        '/* Darker color, because background for snippet thumbnails is always light. */' +\n                        '.dark * {' +\n                            'scrollbar-width: thin;' +\n                            'scrollbar-color: rgb(78 78 78 / 62%) auto;' +\n                        '}' +\n                        '.dark *::-webkit-scrollbar {' +\n                            'width: 12px;' +\n                        '}' +\n                        '.dark *::-webkit-scrollbar-track {' +\n                            'background: transparent;' +\n                        '}' +\n                        '.dark *::-webkit-scrollbar-thumb {' +\n                            'background-color:rgb(78 78 78 / 62%);' +\n                        '}' +\n\n                        '.colored-dark * {' +\n                            'scrollbar-width: thin;' +\n                            'scrollbar-color: rgb(100, 100, 100) auto;' +\n                        '}' +\n                        '.colored-dark *::-webkit-scrollbar {' +\n                            'width: 12px;' +\n                        '}' +\n                        '.colored-dark *::-webkit-scrollbar-track {' +\n                            'background: transparent;' +\n                        '}' +\n                        '.colored-dark *::-webkit-scrollbar-thumb {' +\n                            'background-color:rgb(100, 100, 100);' +\n                        '}' +\n\n                        '.colored * {' +\n                            'scrollbar-width: thin;' +\n                            'scrollbar-color: rgba(0, 0, 0, 0.4) auto;' +\n                        '}' +\n                        '.colored *::-webkit-scrollbar {' +\n                            'width: 12px;' +\n                        '}' +\n                        '.colored *::-webkit-scrollbar-track {' +\n                            'background: transparent;' +\n                        '}' +\n                        '.colored *::-webkit-scrollbar-thumb {' +\n                            'background-color: rgba(0, 0, 0, 0.4);' +\n                        '}' +\n        ",i+='\n                        \'.light * {\' +\n                            \'scrollbar-width: thin;\' +\n                            \'scrollbar-color: rgba(0, 0, 0, 0.4) auto;\' +\n                        \'}\' +\n                        \'.light *::-webkit-scrollbar {\' +\n                            \'width: 12px;\' +\n                        \'}\' +\n                        \'.light *::-webkit-scrollbar-track {\' +\n                            \'background: transparent;\' +\n                        \'}\' +\n                        \'.light *::-webkit-scrollbar-thumb {\' +\n                            \'background-color: rgba(0, 0, 0, 0.4);\' +\n                        \'}\' +\n                \n                        \'svg {\' +\n                            \'fill: \' + parent._cb.styleSnippetColor + \';\' +\n                        \'}\' +\n\n                        \'.dark .is-design-list>div .is-overlay:after {\' +\n                            \'background: rgb(78 78 78 / 13%);\' +\n                        \'}\' +\n\n                \n                        \'.is-category-list {\' +\n                            \'display: flex;\' +\n                        \'}\' +\n                \n                        \'.is-category-list>div {\' +\n                            \'background: \' + parent._cb.styleSnippetTabsBackground + \';\' +\n                        \'}\' +\n                        \'.is-category-list>div:last-child {\' +\n                            \'width:100%;\' +\n                        \'}\' +\n                \n                        \'.is-category-list a {\' +\n                            \'background: \' + parent._cb.styleSnippetTabItemBackground + \';\' +\n                            \'color: \' + parent._cb.styleSnippetTabItemColor + \';\' +\n                            \'transition: box-shadow ease 0.3s;\' +\n                        \'}\' +\n                \n                        \'.is-category-list a:hover {\' +\n                            \'background: \' + parent._cb.styleSnippetTabItemBackgroundHover + \';\' +\n                            \'box-shadow: 0 5px 15px rgba(0, 0, 0, 0.06);\' +\n                            \'color: \' + parent._cb.styleSnippetTabItemColor + \';\' +\n                        \'}\' +\n                \n                        \'.is-category-list a.active {\' +\n                            \'background: \' + parent._cb.styleSnippetTabItemBackgroundActive + \';\' +\n                            \'color: \' + parent._cb.styleSnippetTabItemColor + \';\' +\n                            \'cursor: default;\' +\n                        \'}\' +\n\n                        \'.is-more-categories {\' +\n                            \'background: \' + parent._cb.styleSnippetMoreItemBackground + \';\' +\n                        \'}\' +\n                \n                        \'.is-more-categories a {\' +\n                            \'background: \' + parent._cb.styleSnippetMoreItemBackground + \';\' +\n                            \'color: \' + parent._cb.styleSnippetMoreItemColor + \';\' +\n                        \'}\' +\n                \n                        \'.is-more-categories a:hover {\' +\n                            \'background: \' + parent._cb.styleSnippetMoreItemBackgroundHover + \';\' +\n                        \'}\' +\n                \n                        \'.is-more-categories a.active {\' +\n                           \' background: \' + parent._cb.styleSnippetMoreItemBackgroundActive + \';\' +\n                        \'}\';\n                    \n                    let themestyle = document.querySelector(\'[data-theme-style]\');\n                    if(themestyle) themestyle.parentNode.removeChild(themestyle);\n                    \n                    var style = document.createElement("style");\n                    style.setAttribute(\'data-theme-style\',\'\');\n                    style.type = "text/css";\n                    style.innerHTML = cssString;\n                    document.head.appendChild(style);\n\n                    if(parent._cb.styleDark) {\n                        document.body.setAttribute(\'class\', \'dark\');\n                    } else if(parent._cb.styleColored) {\n                        document.body.setAttribute(\'class\', \'colored\');\n                    } else if(parent._cb.styleColoredDark) {\n                        document.body.setAttribute(\'class\', \'colored-dark\');\n                    } else if(parent._cb.styleLight) {\n                        document.body.setAttribute(\'class\', \'light\');\n                    } else {\n                        document.body.setAttribute(\'class\', \'\');\n                    }\n                }\n\n                // applyParentStyles();\n\n \n                /*!\n                * pace.js v1.2.4\n                * https://github.com/CodeByZach/pace/\n                * Licensed MIT Â© HubSpot, Inc.\n                */\n                !function(){function o(t,e){return function(){return t.apply(e,arguments)}}var u,c,i,s,n,y,t,l,v,r,a,p,e,h,w,b,f,g,d,m,k,S,q,L,x,P,T,R,j,O,E,M,A,C,N,_,F,U,W,X,D,H,I,z,G,B,J=[].slice,K={}.hasOwnProperty,Q=function(t,e){for(var n in e)K.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},V=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};function Y(){}for(g={className:"",catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},P=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},R=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,f=window.cancelAnimationFrame||window.mozCancelAnimationFrame,p=function(t,e,n){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1);var r;"function"!=typeof t["on"+e]||"object"!=typeof t["on"+e].eventListeners?(r=new s,"function"==typeof t["on"+e]&&r.on(e,t["on"+e]),t["on"+e]=function(t){return r.trigger(e,t)},t["on"+e].eventListeners=r):r=t["on"+e].eventListeners,r.on(e,n)},null==R&&(R=function(t){return setTimeout(t,50)},f=function(t){return clearTimeout(t)}),O=function(e){var n=P(),r=function(){var t=P()-n;return 33<=t?(n=P(),e(t,function(){return R(r)})):setTimeout(r,33-t)};return r()},j=function(){var t=arguments[0],e=arguments[1],n=3<=arguments.length?J.call(arguments,2):[];return"function"==typeof t[e]?t[e].apply(t,n):t[e]},d=function(){for(var t,e,n,r=arguments[0],s=2<=arguments.length?J.call(arguments,1):[],o=0,i=s.length;o<i;o++)if(e=s[o])for(t in e)K.call(e,t)&&(n=e[t],null!=r[t]&&"object"==typeof r[t]&&null!=n&&"object"==typeof n?d(r[t],n):r[t]=n);return r},h=function(t){for(var e,n,r=e=0,s=0,o=t.length;s<o;s++)n=t[s],r+=Math.abs(n),e++;return r/e},k=function(t,e){var n,r;if(null==t&&(t="options"),null==e&&(e=!0),r=document.querySelector("[data-pace-"+t+"]")){if(n=r.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(t){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",t):void 0}}},Y.prototype.on=function(t,e,n,r){var s;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(s=this.bindings)[t]&&(s[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:r})},Y.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},Y.prototype.off=function(t,e){var n,r,s;if(null!=(null!=(r=this.bindings)?r[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,s=[];n<this.bindings[t].length;)this.bindings[t][n].handler===e?s.push(this.bindings[t].splice(n,1)):s.push(n++);return s}},Y.prototype.trigger=function(){var t,e,n,r,s,o,i=arguments[0],a=2<=arguments.length?J.call(arguments,1):[];if(null!=(r=this.bindings)&&r[i]){for(n=0,o=[];n<this.bindings[i].length;)e=(s=this.bindings[i][n]).handler,t=s.ctx,s=s.once,e.apply(null!=t?t:this,a),s?o.push(this.bindings[i].splice(n,1)):o.push(n++);return o}},B=Y,y=window.Pace||{},window.Pace=y,d(y,B.prototype),T=y.options=d({},g,window.paceOptions,k()),X=0,H=(z=["ajax","document","eventLag","elements"]).length;X<H;X++)!0===T[C=z[X]]&&(T[C]=g[C]);function Z(){return Z.__super__.constructor.apply(this,arguments)}function $(){this.progress=0}function tt(){this.bindings={}}function et(){var e,o=this;et.__super__.constructor.apply(this,arguments),e=function(r){var s=r.open;return r.open=function(t,e,n){return A(t)&&o.trigger("request",{type:t,url:e,request:r}),s.apply(r,arguments)}},window.XMLHttpRequest=function(t){t=new W(t);return e(t),t};try{m(window.XMLHttpRequest,W)}catch(t){}if(null!=U){window.XDomainRequest=function(){var t=new U;return e(t),t};try{m(window.XDomainRequest,U)}catch(t){}}if(null!=F&&T.ajax.trackWebSockets){window.WebSocket=function(t,e){var n=null!=e?new F(t,e):new F(t);return A("socket")&&o.trigger("request",{type:"socket",url:t,protocols:e,request:n}),n};try{m(window.WebSocket,F)}catch(t){}}}function nt(){this.complete=o(this.complete,this);var t=this;this.elements=[],S().on("request",function(){return t.watch.apply(t,arguments)})}function rt(t){var e,n,r,s;for(null==t&&(t={}),this.complete=o(this.complete,this),this.elements=[],null==t.selectors&&(t.selectors=[]),n=0,r=(s=t.selectors).length;n<r;n++)e=s[n],this.elements.push(new i(e,this.complete))}function st(t,e){this.selector=t,this.completeCallback=e,this.progress=0,this.check()}function ot(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}function it(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=T.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=j(this.source,"progress"))}B=Error,Q(Z,B),n=Z,$.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector(T.target)))throw new n;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/(pace-done )|/,"pace-running ");var e=""!==T.className?" "+T.className:"";this.el.innerHTML=\'<div class="pace-progress\'+e+\'">  <div class="pace-progress-inner"></div></div><div class="pace-activity"></div>\',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},$.prototype.finish=function(){var t=this.getElement();return t.className=t.className.replace("pace-active","pace-inactive"),document.body.className=document.body.className.replace("pace-running ","pace-done ")},$.prototype.update=function(t){return this.progress=t,y.trigger("progress",t),this.render()},$.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){n=t}return this.el=void 0},$.prototype.render=function(){var t,e,n,r,s,o,i;if(null==document.querySelector(T.target))return!1;for(t=this.getElement(),r="translate3d("+this.progress+"%, 0, 0)",s=0,o=(i=["webkitTransform","msTransform","transform"]).length;s<o;s++)e=i[s],t.children[0].style[e]=r;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),100<=this.progress?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),y.trigger("change",this.progress),this.lastRenderedProgress=this.progress},$.prototype.done=function(){return 100<=this.progress},c=$,tt.prototype.trigger=function(t,e){var n,r,s,o,i;if(null!=this.bindings[t]){for(i=[],r=0,s=(o=this.bindings[t]).length;r<s;r++)n=o[r],i.push(n.call(this,e));return i}},tt.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},s=tt,W=window.XMLHttpRequest,U=window.XDomainRequest,F=window.WebSocket,m=function(t,e){var n,r=[];for(n in e.prototype)try{null==t[n]&&"function"!=typeof e[n]?"function"==typeof Object.defineProperty?r.push(Object.defineProperty(t,n,{get:function(t){return function(){return e.prototype[t]}}(n),configurable:!0,enumerable:!0})):r.push(t[n]=e.prototype[n]):r.push(void 0)}catch(t){0}return r},L=[],y.ignore=function(){var t=arguments[0],e=2<=arguments.length?J.call(arguments,1):[];return L.unshift("ignore"),e=t.apply(null,e),L.shift(),e},y.track=function(){var t=arguments[0],e=2<=arguments.length?J.call(arguments,1):[];return L.unshift("track"),e=t.apply(null,e),L.shift(),e},A=function(t){if(null==t&&(t="GET"),"track"===L[0])return"force";if(!L.length&&T.ajax){if("socket"===t&&T.ajax.trackWebSockets)return!0;if(t=t.toUpperCase(),0<=V.call(T.ajax.trackMethods,t))return!0}return!1},Q(et,s),t=et,D=null,M=function(t){for(var e,n=T.ajax.ignoreURLs,r=0,s=n.length;r<s;r++)if("string"==typeof(e=n[r])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},(S=function(){return D=null==D?new t:D})().on("request",function(t){var o,i=t.type,a=t.request,e=t.url;if(!M(e))return y.running||!1===T.restartOnRequestAfter&&"force"!==A(i)?void 0:(o=arguments,"boolean"==typeof(e=T.restartOnRequestAfter||0)&&(e=0),setTimeout(function(){var t,e,n,r,s="socket"===i?a.readyState<1:0<(s=a.readyState)&&s<4;if(s){for(y.restart(),r=[],t=0,e=(n=y.sources).length;t<e;t++){if((C=n[t])instanceof u){C.watch.apply(C,o);break}r.push(void 0)}return r}},e))}),nt.prototype.watch=function(t){var e=t.type,n=t.request,t=t.url;if(!M(t))return n=new("socket"===e?r:a)(n,this.complete),this.elements.push(n)},nt.prototype.complete=function(e){return this.elements=this.elements.filter(function(t){return t!==e})},u=nt,a=function(e,n){var t,r,s,o,i=this;if(this.progress=0,null!=window.ProgressEvent)for(p(e,"progress",function(t){return t.lengthComputable?i.progress=100*t.loaded/t.total:i.progress=i.progress+(100-i.progress)/2}),t=0,r=(o=["load","abort","timeout","error"]).length;t<r;t++)p(e,o[t],function(){return n(i),i.progress=100});else s=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?(n(i),i.progress=100):3===e.readyState&&(i.progress=50),"function"==typeof s?s.apply(null,arguments):void 0}},r=function(t,e){for(var n,r=this,s=this.progress=0,o=(n=["error","open"]).length;s<o;s++)p(t,n[s],function(){return e(r),r.progress=100})},rt.prototype.complete=function(e){return this.elements=this.elements.filter(function(t){return t!==e})},k=rt,st.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},T.elements.checkInterval)},st.prototype.done=function(){return this.completeCallback(this),this.completeCallback=null,this.progress=100},i=st,ot.prototype.states={loading:0,interactive:50,complete:100},B=ot,Q=function(){var e,n,r,s,o,i=this;this.progress=0,o=[],s=0,r=P(),n=setInterval(function(){var t=P()-r-50;return r=P(),o.push(t),o.length>T.eventLag.sampleCount&&o.shift(),e=h(o),++s>=T.eventLag.minSamples&&e<T.eventLag.lagThreshold?(i.progress=100,clearInterval(n)):i.progress=3/(e+3)*100},50)},it.prototype.tick=function(t,e){return 100<=(e=null==e?j(this.source,"progress"):e)&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/T.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),e=1-Math.pow(this.progress/100,T.easeFactor),this.progress+=e*this.rate*t,this.progress=Math.min(this.lastProgress+T.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},v=it,b=e=_=w=E=N=null,y.running=!1,q=function(){if(T.restartOnPushState)return y.restart()},null!=window.history.pushState&&(I=window.history.pushState,window.history.pushState=function(){return q(),I.apply(window.history,arguments)}),null!=window.history.replaceState&&(G=window.history.replaceState,window.history.replaceState=function(){return q(),G.apply(window.history,arguments)}),l={ajax:u,elements:k,document:B,eventLag:Q},(x=function(){var t,e,n,r,s,o,i,a;for(y.sources=N=[],e=0,r=(o=["ajax","elements","document","eventLag"]).length;e<r;e++)!1!==T[t=o[e]]&&N.push(new l[t](T[t]));for(n=0,s=(a=null!=(i=T.extraSources)?i:[]).length;n<s;n++)C=a[n],N.push(new C(T));return y.bar=w=new c,E=[],_=new v})(),y.stop=function(){return y.trigger("stop"),y.running=!1,w.destroy(),b=!0,null!=e&&("function"==typeof f&&f(e),e=null),x()},y.restart=function(){return y.trigger("restart"),y.stop(),y.start()},y.go=function(){var m;return y.running=!0,w.render(),m=P(),b=!1,e=O(function(t,e){w.progress;for(var n,r,s,o,i,a,u,c,l,p,h=a=0,f=!0,g=u=0,d=N.length;u<d;g=++u)for(C=N[g],i=null!=E[g]?E[g]:E[g]=[],s=c=0,l=(r=null!=(p=C.elements)?p:[C]).length;c<l;s=++c)o=r[s],f&=(o=null!=i[s]?i[s]:i[s]=new v(o)).done,o.done||(h++,a+=o.tick(t));return n=a/h,w.update(_.tick(t,n)),w.done()||f||b?(w.update(100),y.trigger("done"),setTimeout(function(){return w.finish(),y.running=!1,y.trigger("hide")},Math.max(T.ghostTime,Math.max(T.minTime-(P()-m),0)))):e()})},y.start=function(t){d(T,t),y.running=!0;try{w.render()}catch(t){n=t}return document.querySelector(".pace")?(y.trigger("start"),y.go()):setTimeout(y.start,50)},"function"==typeof define&&define.amd?define(function(){return y}):"object"==typeof exports?module.exports=y:T.startOnPageLoad&&y.start()}.call(this);\n                Pace.on("hide", function () {\n                    let elm = document.querySelector(\'.pace-inactive\');\n                    if(elm) elm.parentNode.removeChild(elm);\n\n                    document.querySelector(\'.is-category-list\').style.opacity = 1;\n                    document.querySelector(\'.is-design-list\').style.opacity = 1;\n\n                    applyParentStyles();\n                });\n            <\/script>\n        </body>\n        </html>\n                \n        \n        ',i}}const a=new e;class r{constructor(e){this.builder=e;const t=this.builder.builderStuff;this.builderStuff=t;let i='<div class="is-modal delsectionconfirm"><div style="max-width: 400px;"><p style="margin-bottom: 25px;text-align:center;">'+n("Are you sure you want to delete this section?")+'</p><button title="'+n("Delete")+'" class="input-ok classic">'+n("Delete")+'</button></div></div><div class="is-modal editsection"><div class="is-modal-content" style="max-width:313px;padding:0;"><div class="is-modal-bar is-draggable">'+n("Section Settings")+'</div><div class="is-tabs clearfix" style="padding-top:37px;"><a id="tabSectionGeneral" title="'+n("General")+'" href="" data-content="divSectionGeneral" class="active">'+n("General")+'</a><a id="tabSectionAnimation" title="'+n("Animation")+'" href="" data-content="divSectionAnimation">'+n("Animation")+'</a><a id="tabSectionScrollButton" title="'+n("Scroll")+'" href="" data-content="divSectionScrollButton">'+n("Scroll")+"</a></div>";i+='<div id="divSectionGeneral" class="is-tab-content" style="display:flex;padding-top:0"><div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Move Section")+':</div><div style="display:flex"><button title="'+n("Move Up")+'" class="cmd-section-up" style="">&#8593;</button><button title="'+n("Move Down")+'" class="cmd-section-down">&#8595;</button><button title="'+n("Move to Top")+'" class="cmd-section-top"><span style="transform:rotate(90deg);position:absolute;top:13px;left:15px;">&#8676;</span></button><button title="'+n("Move to Bottom")+'" class="cmd-section-bottom"><span style="transform:rotate(90deg);position:absolute;top:13px;left:15px;">&#8677;</span></button><button title="'+n("Duplicate")+'" class="cmd-section-duplicate" style="margin-left:20px;"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-copy-outline"></use></svg></button></div></div>',i+='<div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Height")+':</div><div style="display:flex"><button title="'+n("Auto")+'" class="cmd-section-height" data-value="0">'+n("Auto")+'</button><button title="20%" class="cmd-section-height" data-value="20">20%</button><button title="25%" class="cmd-section-height" data-value="25">25%</button><button title="30%" class="cmd-section-height" data-value="30">30%</button><button title="40%" class="cmd-section-height" data-value="40">40%</button><button title="50%" class="cmd-section-height" data-value="50">50%</button></div><div style="display:flex"><button title="60%" class="cmd-section-height" data-value="60" style="border-left:none;border-top:none;">60%</button><button title="70%" class="cmd-section-height" data-value="70" style="border-left:none;border-top:none;">70%</button><button title="75%" class="cmd-section-height" data-value="75" style="border-left:none;border-top:none;">75%</button><button title="80%" class="cmd-section-height" data-value="80" style="border-left:none;border-top:none;">80%</button><button title="90%" class="cmd-section-height" data-value="90" style="border-left:none;border-top:none;">90%</button><button title="100%" class="cmd-section-height" data-value="100" style="border-left:none;border-top:none;">100%</button></div></div><div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Spacing")+':</div><div style="display:flex"><button title="'+n("xs")+'" class="cmd-box-spacing" data-value="default">'+n("xs")+'</button><button title="'+n("sm")+'" class="cmd-box-spacing" data-value="sm">'+n("sm")+'</button><button title="'+n("m")+'" class="cmd-box-spacing" data-value="m">'+n("m")+'</button><button title="'+n("lg")+'" class="cmd-box-spacing" data-value="lg">'+n("lg")+'</button><button title="'+n("Clear")+'" class="cmd-box-spacing" data-value=""><svg class="is-icon-flex"><use xlink:href="#icon-clean"></use></svg></button></div></div>',i+='<div class="div-section-bgcolor" style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Background Color")+':</div><div style="display:flex;"><button title="'+n("Background Color")+'" class="input-section-bgcolor is-btn-color" style="margin-right:15px"></button><button title="'+n("Gradient")+'" class="input-section-gradient classic" data-value="+">'+n("Gradient")+'</button></div></div></div><div id="divSectionAnimation" class="is-tab-content" style="display:none;padding-top:0"><div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Start")+':</div><div style="display:flex;flex-flow:wrap;"><button title="'+n("Slide Left")+'" class="cmd-section-anim-start" data-value="slide-left">'+n("Slide Left")+'</button><button title="'+n("Slide Right")+'" class="cmd-section-anim-start" data-value="slide-right">'+n("Slide Right")+'</button><button title="'+n("Zoom In")+'" class="cmd-section-anim-start" data-value="zoom-in">'+n("Zoom In")+'</button><button title="'+n("Clear")+'" class="cmd-section-anim-start" data-value=""><svg class="is-icon-flex"><use xlink:href="#icon-clean"></use></svg></button></div></div>',i+='<div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("End")+':</div><div style="display:flex;flex-flow:wrap;"><button title="'+n("Slide Left")+'" class="cmd-section-anim-end" data-value="slide-left">'+n("Slide Left")+'</button><button title="'+n("Slide Right")+'" class="cmd-section-anim-end" data-value="slide-right">'+n("Slide Right")+'</button><button title="'+n("Slide Back")+'" class="cmd-section-anim-end" data-value="slide-back">'+n("Slide Back")+'</button><button title="'+n("Overlap")+'" class="cmd-section-anim-end" data-value="overlap">'+n("Overlap")+'</button><button title="'+n("Zoom In")+'" class="cmd-section-anim-end" data-value="zoom-in">'+n("Zoom In")+'</button><button title="'+n("Zoom Out")+'" class="cmd-section-anim-end" data-value="zoom-out">'+n("Zoom Out")+'</button><button title="'+n("Clear")+'" class="cmd-section-anim-end" data-value=""><svg class="is-icon-flex"><use xlink:href="#icon-clean"></use></svg></button></div></div></div><div id="divSectionScrollButton" class="is-tab-content" style="display:none;padding-top:0"><div style="display:none;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;"><label for="chkScrollIcon" style="margin:0;"><input id="chkScrollIcon" type="checkbox" /> '+n("Scroll Icon")+'</label></div><div style="display:flex;padding-top:10px;"><button title="'+n("Light")+'" class="cmd-section-scroll" data-value="light" style="min-width:80px;">'+n("Light")+'</button><button title="'+n("Dark")+'" class="cmd-section-scroll" data-value="dark" style="border-left:none;min-width:80px;">'+n("Dark")+'</button></div></div><div style="display:flex;flex-direction:column;padding-bottom:3px;"><div style="padding-top:20px;padding-bottom:3px;">'+n("Scroll Button")+':</div><div style="display:flex;flex-flow:wrap;"><button class="cmd-scroll-preset" data-value="1" title="'+n("Apply")+'" type="button">1</button><button class="cmd-scroll-preset" data-value="2" title="'+n("Apply")+'" type="button">2</button><button class="cmd-scroll-preset" data-value="3" title="'+n("Apply")+'" type="button">3</button><button class="cmd-scroll-preset" data-value="4" title="'+n("Apply")+'" type="button">4</button><button class="cmd-scroll-preset" data-value="5" title="'+n("Apply")+'" type="button">5</button><button class="cmd-scroll-preset" data-value="6" title="'+n("Apply")+'" type="button">6</button><button class="cmd-scroll-preset" data-value="7" title="'+n("Apply")+'" type="button">7</button><button class="cmd-scroll-preset" data-value="8" title="'+n("Apply")+'" type="button">8</button><button class="cmd-scroll-preset" data-value="9" title="'+n("Apply")+'" type="button">9</button><button class="cmd-scroll-preset" data-value="10" title="'+n("Apply")+'" type="button">10</button><button class="cmd-scroll-preset" data-value="11" title="'+n("Apply")+'" type="button">11</button><button class="cmd-scroll-preset" data-value="12" title="'+n("Apply")+'" type="button">12</button><button class="cmd-scroll-preset" data-value="13" title="'+n("Apply")+'" type="button">13</button><button class="cmd-scroll-preset" data-value="14" title="'+n("Apply")+'" type="button">14</button><button class="cmd-scroll-preset" data-value="" title="'+n("Remove")+'" type="button"><svg class="is-icon-flex" style="flex:none;width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg></button></div></div></div></div></div>',i+='<div class="is-modal editmodule"><div style="max-width:900px;height:570px;padding:0;box-sizing:border-box;position:relative;"><div class="is-modal-bar is-draggable" style="position: absolute;top: 0;left: 0;width: 100%;z-index:1;">'+n("Module Settings")+'</div><iframe style="position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-bottom:60px solid transparent;border-top:40px solid transparent;margin:0;box-sizing:border-box;" src="about:blank"></iframe><input id="hidModuleCode" type="hidden" /><input id="hidModuleSettings" type="hidden" /><button class="input-ok classic" style="height:60px;position:absolute;left:0;bottom:0;">'+n("Ok")+'</button></div></div><div class="is-modal editcustomcode"><div style="max-width:900px;height:570px;padding:0;box-sizing:border-box;position:relative;"><div class="is-modal-bar is-draggable" style="position: absolute;top: 0;left: 0;width: 100%;z-index:1;">'+n("Custom Code (Javascript Allowed)")+'</div><textarea id="txtBoxCustomCode" class="inptxt" style="background: #fff;position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-bottom:60px solid transparent;border-top:40px solid transparent;box-sizing:border-box;"></textarea><input id="hidBoxCustomCode" type="hidden" /><button class="cell-html-larger" style="width:35px;height:35px;position:absolute;right:0;top:0;background:transparent;z-index:2;"><svg class="is-icon-flex" style="width:19px;height:19px;fill:rgb(170, 170, 170);"><use xlink:href="#ion-arrow-expand"></use></svg></button><button class="input-ok classic" style="height:60px;position:absolute;left:0;bottom:0;">'+n("Ok")+"</button></div></div>",a.appendHtml(t,i);let o=t.querySelector(".is-modal.editsection");this.modalEditSection=o;const s=o.querySelectorAll(".is-tabs a");s.forEach((e=>{e.addEventListener("click",(t=>{if(t.preventDefault(),a.hasClass(e,"active"))return;s.forEach((e=>{a.removeClass(e,"active")})),a.addClass(e,"active");let i=e.getAttribute("data-content");o.querySelectorAll(".is-tab-content").forEach((e=>{e.style.display="none"})),o.querySelector("#"+i).style.display="flex"}))}));const r=t.querySelector(".is-modal.delsectionconfirm");r.querySelector(".input-ok").addEventListener("click",(()=>{const e=this.builder.activeSection;this.builder.editor.saveForUndo(),e.parentNode.removeChild(e),this.builder.settings.onRender(),this.builder.editor.util.hideModal(r),this.builder.settings.onChange();let t=document.querySelector("#divBoxTool");t.style.display="none",setTimeout((()=>{t.style.display="none"}),300),this.builder.activeSection=null}));o.querySelector(".cmd-section-up").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionUp(),this.builder.settings.onChange()}));o.querySelector(".cmd-section-down").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionDown(),this.builder.settings.onChange()}));o.querySelector(".cmd-section-top").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionTop(),this.builder.settings.onChange()}));o.querySelector(".cmd-section-bottom").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionBottom(),this.builder.settings.onChange()}));o.querySelector(".cmd-section-duplicate").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionDuplicate(),this.builder.settings.onChange()}));o.querySelectorAll(".cmd-section-anim-start").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionAnimStart(t),o.querySelectorAll(".cmd-section-anim-start").forEach((e=>{a.removeClass(e,"on")})),a.addClass(e,"on"),""===t&&setTimeout((()=>{a.removeClass(e,"on")}),100),this.builder.settings.onChange()}))}));o.querySelectorAll(".cmd-section-anim-end").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionAnimEnd(t),o.querySelectorAll(".cmd-section-anim-end").forEach((e=>{a.removeClass(e,"on")})),a.addClass(e,"on"),""===t&&setTimeout((()=>{a.removeClass(e,"on")}),100),this.builder.settings.onChange()}))}));o.querySelectorAll(".cmd-section-height").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionHeight(t),o.querySelectorAll(".cmd-section-height").forEach((e=>{a.removeClass(e,"on")})),a.addClass(e,"on"),this.builder.settings.onChange()}))}));o.querySelectorAll(".cmd-box-spacing").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxSpacing(t),o.querySelectorAll(".cmd-box-spacing").forEach((e=>{a.removeClass(e,"on")})),a.addClass(e,"on"),""===t&&setTimeout((()=>{a.removeClass(e,"on")}),100),this.builder.settings.onChange()}))}));o.querySelectorAll(".cmd-section-scroll").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionScrollIcon(t),this.builder.settings.onChange()}))}));o.querySelectorAll(".cmd-scroll-preset").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionScrollPreset(t),o.querySelectorAll(".cmd-scroll-preset").forEach((e=>{a.removeClass(e,"on")})),a.addClass(e,"on"),""===t&&setTimeout((()=>{a.removeClass(e,"on")}),100),this.builder.settings.onChange()}))}));o.querySelector("#chkScrollIcon").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionUseScroll(),this.builder.settings.onChange()}));const l=this.builder.editor.colorpicker(),d=o.querySelector(".input-section-bgcolor");d.addEventListener("click",(()=>{this.builder.editor.saveForUndo(!0);const e=this.builder.activeSection;let t=d.style.backgroundColor;l.open((t=>{e.style.backgroundColor=t,e.style.backgroundImage="",d.style.backgroundColor=t}),t)})),o.querySelector(".input-section-gradient").addEventListener("click",(()=>{this.builder.editor.saveForUndo(!0);const e=this.builder.activeSection;this.builder.editor.gradientpicker().open(e)}))}edit(){this.builder.sidebar.closeSidebar();const e=this.builder.activeSection,t=this.modalEditSection;this.builder.showModal(t);const i=t.querySelector("#chkScrollIcon");e.querySelector(".is-arrow-down")?i.checked=!0:i.checked=!1;let n=t.querySelectorAll(".cmd-section-height");if(n.forEach((e=>{a.removeClass(e,"on")})),a.hasClass(e,"is-section-100")&&a.addClass(t.querySelector('.cmd-section-height[data-value="100"]'),"on"),a.hasClass(e,"is-section-90")&&a.addClass(t.querySelector('.cmd-section-height[data-value="90"]'),"on"),a.hasClass(e,"is-section-80")&&a.addClass(t.querySelector('.cmd-section-height[data-value="80"]'),"on"),a.hasClass(e,"is-section-75")&&a.addClass(t.querySelector('.cmd-section-height[data-value="75"]'),"on"),a.hasClass(e,"is-section-70")&&a.addClass(t.querySelector('.cmd-section-height[data-value="70"]'),"on"),a.hasClass(e,"is-section-60")&&a.addClass(t.querySelector('.cmd-section-height[data-value="60"]'),"on"),a.hasClass(e,"is-section-50")&&a.addClass(t.querySelector('.cmd-section-height[data-value="50"]'),"on"),a.hasClass(e,"is-section-40")&&a.addClass(t.querySelector('.cmd-section-height[data-value="40"]'),"on"),a.hasClass(e,"is-section-30")&&a.addClass(t.querySelector('.cmd-section-height[data-value="30"]'),"on"),a.hasClass(e,"is-section-25")&&a.addClass(t.querySelector('.cmd-section-height[data-value="25"]'),"on"),a.hasClass(e,"is-section-20")&&a.addClass(t.querySelector('.cmd-section-height[data-value="20"]'),"on"),a.hasClass(e,"is-section-auto")&&a.addClass(t.querySelector('.cmd-section-height[data-value="0"]'),"on"),n=t.querySelectorAll(".cmd-section-anim-start"),n.forEach((e=>{a.removeClass(e,"on")})),n=t.querySelectorAll(".cmd-section-anim-end"),n.forEach((e=>{a.removeClass(e,"on")})),e.hasAttribute("data-anim-start")){const i=e.getAttribute("data-anim-start");"zoom-in"===i&&a.addClass(t.querySelector('.cmd-section-anim-start[data-value="zoom-in"]'),"on"),"zoom-out"===i&&a.addClass(t.querySelector('.cmd-section-anim-start[data-value="zoom-out"]'),"on"),"slide-left"===i&&a.addClass(t.querySelector('.cmd-section-anim-start[data-value="slide-left"]'),"on"),"slide-right"===i&&a.addClass(t.querySelector('.cmd-section-anim-start[data-value="slide-right"]'),"on")}if(e.hasAttribute("data-anim-end")){const i=e.getAttribute("data-anim-end");"zoom-in"===i&&a.addClass(t.querySelector('.cmd-section-anim-end[data-value="zoom-in"]'),"on"),"zoom-out"===i&&a.addClass(t.querySelector('.cmd-section-anim-end[data-value="zoom-out"]'),"on"),"slide-left"===i&&a.addClass(t.querySelector('.cmd-section-anim-end[data-value="slide-left"]'),"on"),"slide-right"===i&&a.addClass(t.querySelector('.cmd-section-anim-end[data-value="slide-right"]'),"on"),"overlap"===i&&a.addClass(t.querySelector('.cmd-section-anim-end[data-value="overlap"]'),"on"),"slide-back"===i&&a.addClass(t.querySelector('.cmd-section-anim-end[data-value="slide-back"]'),"on")}n=t.querySelectorAll(".cmd-box-spacing");const o=this.modalEditSection.querySelector(".div-section-bgcolor");n.forEach((e=>{a.removeClass(e,"on")})),a.hasClass(e,"box-space")?(a.hasClass(e,"box-space-sm")?a.addClass(t.querySelector('.cmd-box-spacing[data-value="sm"]'),"on"):a.hasClass(e,"box-space-m")?a.addClass(t.querySelector('.cmd-box-spacing[data-value="m"]'),"on"):a.hasClass(e,"box-space-lg")?a.addClass(t.querySelector('.cmd-box-spacing[data-value="lg"]'),"on"):a.addClass(t.querySelector('.cmd-box-spacing[data-value="default"]'),"on"),o.style.display="flex"):o.style.display="none",n=t.querySelectorAll(".cmd-scroll-preset"),n.forEach((e=>{a.removeClass(e,"on")}));const s=e.querySelector(".is-arrow-down");if(s){let e=s.getAttribute("data-scroll-preset");if(e){let i=t.querySelector(`.cmd-scroll-preset[data-value="${e}"]`);a.addClass(i,"on")}}let r=t.querySelector(".input-section-bgcolor"),l=e.style.backgroundColor;r.style.backgroundColor=l||""}sectionUp(){const e=this.builder.activeSection;let t=e.previousElementSibling;if(t)for(;!a.hasClass(t,"is-section")&&t.previousElementSibling;)t=t.previousElementSibling;t&&!a.hasClass(t,"is-static")&&(e.parentNode.insertBefore(e,t),this.builder.settings.onRender(),this.builder.scrollTo(e,600))}sectionDown(){const e=this.builder.activeSection;let t=e.nextElementSibling;if(t)for(;!a.hasClass(t,"is-section")&&t.nextElementSibling;)t=t.previousElementSibling;return t&&!a.hasClass(t,"is-static")&&(e.parentNode.insertBefore(t,e),this.builder.settings.onRender(),this.builder.scrollTo(e,600)),!1}sectionTop(){const e=this.builder.activeSection;let t=this.builder.wrapperEl.querySelector(".is-section:not(.is-static)");e.parentNode.insertBefore(e,t),this.builder.settings.onRender(),this.builder.scrollTo(e,600)}sectionBottom(){const e=this.builder.activeSection;let t=this.builder.wrapperEl.querySelectorAll(".is-section:not(.is-static)"),i=t[t.length-1];e.parentNode.insertBefore(e,i.nextElementSibling),this.builder.settings.onRender(),this.builder.scrollTo(e,600)}sectionDuplicate(){const e=this.builder.activeSection;let t=e.cloneNode(!0);t.setAttribute("data-section-copied","1"),e.parentNode.insertBefore(t,e.nextElementSibling);let i=document.querySelector("[data-section-copied]");if(i.removeAttribute("data-section-copied"),i.querySelectorAll(".is-overlay-content[data-module]").forEach((e=>{let t=decodeURIComponent(e.getAttribute("data-html"));t=t.replace(/{id}/g,a.uniqueId()),a.html(e,t)})),this.builder.sectionSetup(i),a.hasClass(i,"is-box"))this.builder.boxSetup(i);else{i.querySelectorAll(".is-box").forEach((e=>{this.builder.boxSetup(e)}))}i.querySelectorAll(".is-builder").forEach((e=>{let t=this.builder.editor.html(e),i=document.createRange();e.innerHTML="",e.appendChild(i.createContextualFragment(t)),e.removeAttribute("data-sort"),this.builder.editor.applyBehaviorOn(e)}));const n=i.querySelector(".is-arrow-down a");n&&n.addEventListener("click",(e=>(this.builder.scrollTo(i.nextElementSibling),e.preventDefault(),e.stopImmediatePropagation(),!1))),this.builder.settings.onRender(),this.builder.hideModal(this.modalEditSection),this.builder.scrollTo(i,600)}sectionAnimStart(e){const t=this.builder.activeSection;t.removeAttribute("data-bottom-top"),t.removeAttribute("data-300-bottom"),t.removeAttribute("data-400-bottom"),t.removeAttribute("data-anim-start"),t.style.transform="","zoom-in"===e?(t.setAttribute("data-bottom-top","transform:translateX(0%) translateY(0%) scale(0.7)"),t.setAttribute("data-300-bottom","transform:translateX(0%) translateY(0%) scale(1)")):"zoom-out"===e?(t.setAttribute("data-bottom-top","transform:translateX(0%) translateY(0%) scale(1.5)"),t.setAttribute("data-300-bottom","transform:translateX(0%) translateY(0%) scale(1)")):"slide-left"===e?(t.setAttribute("data-bottom-top","transform:translateX(100%) translateY(0%) scale(1)"),t.setAttribute("data-400-bottom","transform:translateX(0%) translateY(0%) scale(1)")):"slide-right"===e&&(t.setAttribute("data-bottom-top","transform:translateX(-100%) translateY(0%) scale(1)"),t.setAttribute("data-400-bottom","transform:translateX(0%) translateY(0%) scale(1)")),t.setAttribute("data-anim-start",e),"overlap"===t.getAttribute("data-anim-end")?t.setAttribute("data-smooth-scrolling","off"):t.removeAttribute("data-smooth-scrolling"),this.builder.settings.onRender()}sectionAnimEnd(e){const t=this.builder.activeSection;t.removeAttribute("data-top-bottom"),t.removeAttribute("data-center"),t.removeAttribute("data-anim-end"),t.style.transform="","zoom-in"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1)"),t.setAttribute("data-top-bottom","transform:translateX(0%) translateY(0%) scale(1.5)")):"zoom-out"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1);"),t.setAttribute("data-top-bottom","transform:translateX(0%) translateY(0%) scale(0.5)")):"overlap"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1)"),t.setAttribute("data-top-bottom","transform:translateX(0%) translateY(70%) scale(1)"),t.setAttribute("data-smooth-scrolling","off")):"slide-left"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1)"),t.setAttribute("data-top-bottom","transform:translateX(-100%) translateY(0%) scale(1)")):"slide-right"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1)"),t.setAttribute("data-top-bottom","transform:translateX(100%) translateY(0%) scale(1)")):"slide-back"===e&&(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1);"),t.setAttribute("data-top-bottom","transform:translateX(0%) translateY(100%) scale(0.5)")),t.setAttribute("data-anim-end",e),"overlap"===t.getAttribute("data-anim-end")?t.setAttribute("data-smooth-scrolling","off"):t.removeAttribute("data-smooth-scrolling"),this.builder.settings.onRender()}sectionHeight(e){const t=this.builder.activeSection;t.style.height="",a.removeClass(t,"is-section-auto"),a.removeClass(t,"is-section-20"),a.removeClass(t,"is-section-25"),a.removeClass(t,"is-section-30"),a.removeClass(t,"is-section-40"),a.removeClass(t,"is-section-50"),a.removeClass(t,"is-section-60"),a.removeClass(t,"is-section-70"),a.removeClass(t,"is-section-75"),a.removeClass(t,"is-section-80"),a.removeClass(t,"is-section-90"),a.removeClass(t,"is-section-100"),"0"===e?a.addClass(t,"is-section-auto"):a.addClass(t,"is-section-"+e),this.builder.settings.onRender(),this.builder.scrollTo(t,600)}boxSpacing(e){const t=this.builder.activeSection,i=this.modalEditSection.querySelector(".div-section-bgcolor");""==e?(a.removeClass(t,"box-space"),a.removeClass(t,"box-space-sm"),a.removeClass(t,"box-space-m"),a.removeClass(t,"box-space-lg"),i.style.display="none"):(a.addClass(t,"box-space"),i.style.display="flex"),"sm"===e?(a.removeClass(t,"box-space-m"),a.removeClass(t,"box-space-lg"),a.addClass(t,"box-space-sm")):"m"==e?(a.removeClass(t,"box-space-sm"),a.removeClass(t,"box-space-lg"),a.addClass(t,"box-space-m")):"lg"==e?(a.removeClass(t,"box-space-sm"),a.removeClass(t,"box-space-m"),a.addClass(t,"box-space-lg")):"default"==e&&(a.removeClass(t,"box-space-sm"),a.removeClass(t,"box-space-m"),a.removeClass(t,"box-space-lg"))}sectionUseScroll(){const e=this.builder.activeSection;if(this.modalEditSection.querySelector("#chkScrollIcon").checked){e.querySelector(".is-section-tool").insertAdjacentHTML("beforebegin",'<div class="is-arrow-down bounce"><a href="#"><i class="icon ion-ios-arrow-thin-down"></i></a></div>');e.querySelector(".is-arrow-down a").addEventListener("click",(t=>(this.builder.scrollTo(e.nextElementSibling),t.preventDefault(),t.stopImmediatePropagation(),!1)))}else{const t=e.querySelector(".is-arrow-down");t.parentNode.removeChild(t)}}sectionScrollIcon(e){const t=this.builder.activeSection.querySelector(".is-arrow-down");"light"===e?a.addClass(t,"light"):a.removeClass(t,"light")}sectionScrollPreset(e){const t=this.builder.activeSection,i=t.querySelector(".is-arrow-down");if(i&&i.parentNode.removeChild(i),"1"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="1" style="width: 30px;margin-left: -15px;height: 40px;">\n                <a href="#" style="border-radius: 5px;background:${"rgb(173 173 173 / 26%)"};box-shadow:0px 5px 5px 0px rgba(0, 0, 0, 0.03);">\n                <svg style="width:17px;height:17px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M277.375 85v259.704l119.702-119.702L427 256 256 427 85 256l29.924-29.922 119.701 118.626V85h42.75z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("2"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="2" style="width: 30px;margin-left: -15px;height: 40px;">\n                <a href="#" style="border-radius: 5px;background:${"rgb(221 221 221 / 30%)"};box-shadow:0px 5px 5px 0px rgba(0, 0, 0, 0.03);">\n                <svg style="width:17px;height:17px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M277.375 85v259.704l119.702-119.702L427 256 256 427 85 256l29.924-29.922 119.701 118.626V85h42.75z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("3"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="3">\n                <a href="#" style="background:${"rgba(193, 193, 193, 0.18)"};border-radius:500px">\n                <svg style="width:22px;height:22px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("4"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="4">\n                <a href="#" style="background:${"rgba(193, 193, 193, 0.18)"};border-radius:500px">\n                <svg style="width:22px;height:22px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("5"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="5">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:30px;height:30px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                    <g>\n                        <path d="M349.7 322.2c-3.1-3.1-8-3-11.3 0L264 388.6V104c0-4.4-3.6-8-8-8s-8 3.6-8 8v284.6l-74.4-66.3c-3.4-2.9-8.1-3.2-11.2-.1-3.1 3.1-3.3 8.5-.1 11.4 0 0 87 79.2 88 80s2.8 2.4 5.7 2.4 4.9-1.6 5.7-2.4 88-80 88-80c1.5-1.5 2.3-3.6 2.3-5.7s-.8-4.1-2.3-5.7z"></path>\n                    </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("6"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="6">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:30px;height:30px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                    <g>\n                        <path d="M349.7 322.2c-3.1-3.1-8-3-11.3 0L264 388.6V104c0-4.4-3.6-8-8-8s-8 3.6-8 8v284.6l-74.4-66.3c-3.4-2.9-8.1-3.2-11.2-.1-3.1 3.1-3.3 8.5-.1 11.4 0 0 87 79.2 88 80s2.8 2.4 5.7 2.4 4.9-1.6 5.7-2.4 88-80 88-80c1.5-1.5 2.3-3.6 2.3-5.7s-.8-4.1-2.3-5.7z"></path>\n                    </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("7"===e){let e="#fff",i="border:#333 2px solid;",n="";i=`border:${e} 2px solid;`,n=`fill:${e};`;let o=`<div data-target="border,svgfill" class="is-arrow-down bounce" data-scroll-preset="7" style="width: 30px;margin-left: -15px;height: 40px;">\n                <a href="#" style="${i}border-radius: 5px;background:none;">\n                <svg style="width:17px;height:17px;${n}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M277.375 85v259.704l119.702-119.702L427 256 256 427 85 256l29.924-29.922 119.701 118.626V85h42.75z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",o)}if("8"===e){let e="#000",i="border:#333 2px solid;",n="";i=`border:${e} 2px solid;`,n=`fill:${e};`;let o=`<div data-target="border,svgfill" class="is-arrow-down bounce" data-scroll-preset="8" style="width: 30px;margin-left: -15px;height: 40px;">\n                <a href="#" style="${i}border-radius: 5px;background:none;">\n                <svg style="width:17px;height:17px;${n}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M277.375 85v259.704l119.702-119.702L427 256 256 427 85 256l29.924-29.922 119.701 118.626V85h42.75z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",o)}if("9"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="9">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:30px;height:30px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("10"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="10">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:30px;height:30px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("11"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="11">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:60px;height:60px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("12"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="12">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:60px;height:60px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("13"===e){let e="#fff",i="border:#111 2px solid;",n="";i=`border:${e} 2px solid;`,n=`fill:${e};`;let o=`<div data-target="border,svgfill" class="is-arrow-down bounce" data-scroll-preset="13" style="width: 40px;margin-left: -20px;height: 35px;">\n                <a href="#" style="background:none;border-radius:unset;${i};">\n                <svg style="width:25px;height:25px;${n}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",o)}if("14"===e){let e="#000",i="border:#111 2px solid;",n="";i=`border:${e} 2px solid;`,n=`fill:${e};`;let o=`<div data-target="border,svgfill" class="is-arrow-down bounce" data-scroll-preset="14" style="width: 40px;margin-left: -20px;height: 35px;">\n                <a href="#" style="background:none;border-radius:unset;${i}">\n                <svg style="width:25px;height:25px;${n}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",o)}const n=t.querySelector(".is-arrow-down a");n&&n.addEventListener("click",(e=>(this.builder.scrollTo(t.nextElementSibling),e.preventDefault(),e.stopImmediatePropagation(),!1)))}}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d={exports:{}},c={},u={exports:{}},p={},h={};function g(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function f(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function m(e,t){this.__indent_cache=new f(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new g(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}g.prototype.clone_empty=function(){var e=new g(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},g.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},g.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},g.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},g.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},g.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},g.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},g.prototype.is_empty=function(){return 0===this.__items.length},g.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},g.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},g.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},g.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},g.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},g.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},g.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},f.prototype.get_indent_size=function(e,t){var i=this.__base_string_length;return t=t||0,e<0&&(i=0),i+=e*this.__indent_size,i+=t},f.prototype.get_indent_string=function(e,t){var i=this.__base_string;return t=t||0,e<0&&(e=0,i=""),t+=e*this.__indent_size,this.__ensure_cache(t),i+=this.__cache[t]},f.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},f.prototype.__add_column=function(){var e=this.__cache.length,t=0,i="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,i=new Array(t+1).join(this.__indent_string)),e&&(i+=new Array(e+1).join(" ")),this.__cache.push(i)},m.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},m.prototype.get_line_number=function(){return this.__lines.length},m.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},m.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},m.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},m.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},m.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join("\n");return"\n"!==e&&(i=i.replace(/[\n]/g,e)),i},m.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},m.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},m.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},m.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},m.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},m.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},m.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},m.prototype.just_added_newline=function(){return this.current_line.is_empty()},m.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},m.prototype.ensure_empty_line_above=function(e,t){for(var i=this.__lines.length-2;i>=0;){var n=this.__lines[i];if(n.is_empty())break;if(0!==n.item(0).indexOf(e)&&n.item(-1)!==t){this.__lines.splice(i+1,0,new g(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}},h.Output=m;var v={};v.Token=function(e,t,i,n){this.type=e,this.text=t,this.comments_before=null,this.newlines=i||0,this.whitespace_before=n||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null};var b,y,_,x,w,S={};y="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",x="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",w="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+(_="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc")+"])",(b=S).identifier=new RegExp(w+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),b.identifierStart=new RegExp(w),b.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+y+_+x+"])+"),b.newline=/[\n\r\u2028\u2029]/,b.lineBreak=new RegExp("\r\n|"+b.newline.source),b.allLineBreaks=new RegExp(b.lineBreak.source,"g");var C={},k={};function E(e,t){this.raw_options=A(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function A(e,t){var i,n={};for(i in e=q(e))i!==t&&(n[i]=e[i]);if(t&&e[t])for(i in e[t])n[i]=e[t][i];return n}function q(e){var t,i={};for(t in e){i[t.replace(/-/g,"_")]=e[t]}return i}E.prototype._get_array=function(e,t){var i=this.raw_options[e],n=t||[];return"object"==typeof i?null!==i&&"function"==typeof i.concat&&(n=i.concat()):"string"==typeof i&&(n=i.split(/[^a-zA-Z0-9_\/\-]+/)),n},E.prototype._get_boolean=function(e,t){var i=this.raw_options[e];return void 0===i?!!t:!!i},E.prototype._get_characters=function(e,t){var i=this.raw_options[e],n=t||"";return"string"==typeof i&&(n=i.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),n},E.prototype._get_number=function(e,t){var i=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var n=parseInt(i,10);return isNaN(n)&&(n=t),n},E.prototype._get_selection=function(e,t,i){var n=this._get_selection_list(e,t,i);if(1!==n.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n[0]},E.prototype._get_selection_list=function(e,t,i){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(i=i||[t[0]],!this._is_valid_selection(i,t))throw new Error("Invalid Default Value!");var n=this._get_array(e,i);if(!this._is_valid_selection(n,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n},E.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},k.Options=E,k.normalizeOpts=q,k.mergeOpts=A;var T=k.Options,L=["before-newline","after-newline","preserve-newline"];function M(e){T.call(this,e,"js");var t=this.raw_options.brace_style||null;"expand-strict"===t?this.raw_options.brace_style="expand":"collapse-preserve-inline"===t?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var n=0;n<i.length;n++)"preserve-inline"===i[n]?this.brace_preserve_inline=!0:this.brace_style=i[n];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",L),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}M.prototype=new T,C.Options=M;var O={},R={},N=RegExp.prototype.hasOwnProperty("sticky");function B(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}B.prototype.restart=function(){this.__position=0},B.prototype.back=function(){this.__position>0&&(this.__position-=1)},B.prototype.hasNext=function(){return this.__position<this.__input_length},B.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},B.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},B.prototype.__match=function(e,t){e.lastIndex=t;var i=e.exec(this.__input);return!i||N&&e.sticky||i.index!==t&&(i=null),i},B.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},B.prototype.testChar=function(e,t){var i=this.peek(t);return e.lastIndex=0,null!==i&&e.test(i)},B.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},B.prototype.read=function(e,t,i){var n,o="";return e&&(n=this.match(e))&&(o+=n[0]),!t||!n&&e||(o+=this.readUntil(t,i)),o},B.prototype.readUntil=function(e,t){var i,n=this.__position;e.lastIndex=this.__position;var o=e.exec(this.__input);return o?(n=o.index,t&&(n+=o[0].length)):n=this.__input_length,i=this.__input.substring(this.__position,n),this.__position=n,i},B.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},B.prototype.get_regexp=function(e,t){var i=null,n="g";return t&&N&&(n="y"),"string"==typeof e&&""!==e?i=new RegExp(e,n):e&&(i=new RegExp(e.source,n)),i},B.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},B.prototype.peekUntilAfter=function(e){var t=this.__position,i=this.readUntilAfter(e);return this.__position=t,i},B.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},R.InputScanner=B;var I={},D={};function $(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}$.prototype.restart=function(){this.__position=0},$.prototype.isEmpty=function(){return 0===this.__tokens_length},$.prototype.hasNext=function(){return this.__position<this.__tokens_length},$.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},$.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},$.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},D.TokenStream=$;var P={},H={};function z(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}z.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},z.prototype.read_match=function(){return this._input.match(this._match_pattern)},z.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},z.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},z.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},z.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},z.prototype._create=function(){return new z(this._input,this)},z.prototype._update=function(){},H.Pattern=z;var F=H.Pattern;function j(e,t){F.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}j.prototype=new F,j.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},j.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},j.prototype.matching=function(e,t){var i=this._create();return i.__set_whitespace_patterns(e,t),i._update(),i},j.prototype._create=function(){return new j(this._input,this)},j.prototype.__split=function(e,t){e.lastIndex=0;for(var i=0,n=[],o=e.exec(t);o;)n.push(t.substring(i,o.index)),i=o.index+o[0].length,o=e.exec(t);return i<t.length?n.push(t.substring(i,t.length)):n.push(""),n},P.WhitespacePattern=j;var U=R.InputScanner,W=v.Token,G=D.TokenStream,V=P.WhitespacePattern,Y={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},X=function(e,t){this._input=new U(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new V(this._input)};X.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new G,this._reset();for(var t=new W(Y.START,""),i=null,n=[],o=new G;t.type!==Y.EOF;){for(e=this._get_next_token(t,i);this._is_comment(e);)o.add(e),e=this._get_next_token(t,i);o.isEmpty()||(e.comments_before=o,o=new G),e.parent=i,this._is_opening(e)?(n.push(i),i=e):i&&this._is_closing(e,i)&&(e.opened=i,i.closed=e,i=n.pop(),e.parent=i),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},X.prototype._is_first_token=function(){return this.__tokens.isEmpty()},X.prototype._reset=function(){},X.prototype._get_next_token=function(e,t){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(Y.RAW,i):this._create_token(Y.EOF,"")},X.prototype._is_comment=function(e){return!1},X.prototype._is_opening=function(e){return!1},X.prototype._is_closing=function(e,t){return!1},X.prototype._create_token=function(e,t){return new W(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},X.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},I.Tokenizer=X,I.TOKEN=Y;var K={};function Z(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}Z.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(e);i;)t[i[1]]=i[2],i=this.__directive_pattern.exec(e);return t},Z.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},K.Directives=Z;var Q={},J=H.Pattern,ee={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function te(e,t){J.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},ee),this._excluded=Object.assign({},ee),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var i=new J(e);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}te.prototype=new J,te.prototype._create=function(){return new te(this._input,this)},te.prototype._update=function(){this.__set_templated_pattern()},te.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},te.prototype.read_options=function(e){var t=this._create();for(var i in ee)t._disabled[i]=-1===e.templating.indexOf(i);return t._update(),t},te.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},te.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},te.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},te.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var i=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==i||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==i||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=(e=(e=e||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return e},Q.TemplatablePattern=te;var ie=R.InputScanner,ne=I.Tokenizer,oe=I.TOKEN,se=K.Directives,ae=S,re=H.Pattern,le=Q.TemplatablePattern;function de(e,t){return-1!==t.indexOf(e)}var ce={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:oe.START,RAW:oe.RAW,EOF:oe.EOF},ue=new se(/\/\*/,/\*\//),pe=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,he=/[0-9]/,ge=/[^\d\.]/,fe=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),me=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";me=(me="\\?\\.(?!\\d) "+(me=me.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"))).replace(/ /g,"|");var ve,be=new RegExp(me),ye="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),_e=ye.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),xe=new RegExp("^(?:"+_e.join("|")+")$"),we=function(e,t){ne.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new re(this._input),n=new le(this._input).read_options(this._options);this.__patterns={template:n,identifier:n.starting_with(ae.identifier).matching(ae.identifierMatch),number:i.matching(pe),punct:i.matching(be),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(ae.lineBreak),shebang:i.starting_with(/#!/).until_after(ae.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:n.until(/['\\\n\r\u2028\u2029]/),double_quote:n.until(/["\\\n\r\u2028\u2029]/),template_text:n.until(/[`\\$]/),template_expression:n.until(/[`}\\]/)}};(we.prototype=new ne)._is_comment=function(e){return e.type===ce.COMMENT||e.type===ce.BLOCK_COMMENT||e.type===ce.UNKNOWN},we.prototype._is_opening=function(e){return e.type===ce.START_BLOCK||e.type===ce.START_EXPR},we.prototype._is_closing=function(e,t){return(e.type===ce.END_BLOCK||e.type===ce.END_EXPR)&&t&&("]"===e.text&&"["===t.text||")"===e.text&&"("===t.text||"}"===e.text&&"{"===t.text)},we.prototype._reset=function(){ve=!1},we.prototype._get_next_token=function(e,t){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(ce.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_non_javascript(n))||this._read_string(n))||this._read_word(e))||this._read_singles(n))||this._read_comment(n))||this._read_regexp(n,e))||this._read_xml(n,e))||this._read_punctuation())||this._create_token(ce.UNKNOWN,this._input.next())},we.prototype._read_word=function(e){var t;return""!==(t=this.__patterns.identifier.read())?(t=t.replace(ae.allLineBreaks,"\n"),e.type!==ce.DOT&&(e.type!==ce.RESERVED||"set"!==e.text&&"get"!==e.text)&&xe.test(t)?"in"===t||"of"===t?this._create_token(ce.OPERATOR,t):this._create_token(ce.RESERVED,t):this._create_token(ce.WORD,t)):""!==(t=this.__patterns.number.read())?this._create_token(ce.WORD,t):void 0},we.prototype._read_singles=function(e){var t=null;return"("===e||"["===e?t=this._create_token(ce.START_EXPR,e):")"===e||"]"===e?t=this._create_token(ce.END_EXPR,e):"{"===e?t=this._create_token(ce.START_BLOCK,e):"}"===e?t=this._create_token(ce.END_BLOCK,e):";"===e?t=this._create_token(ce.SEMICOLON,e):"."===e&&ge.test(this._input.peek(1))?t=this._create_token(ce.DOT,e):","===e&&(t=this._create_token(ce.COMMA,e)),t&&this._input.next(),t},we.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(""!==e)return"="===e?this._create_token(ce.EQUALS,e):"?."===e?this._create_token(ce.DOT,e):this._create_token(ce.OPERATOR,e)},we.prototype._read_non_javascript=function(e){var t="";if("#"===e){if(this._is_first_token()&&(t=this.__patterns.shebang.read()))return this._create_token(ce.UNKNOWN,t.trim()+"\n");if(t=this.__patterns.include.read())return this._create_token(ce.UNKNOWN,t.trim()+"\n");e=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(he)){do{i+=e=this._input.next()}while(this._input.hasNext()&&"#"!==e&&"="!==e);return"#"===e||("["===this._input.peek()&&"]"===this._input.peek(1)?(i+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(i+="{}",this._input.next(),this._input.next())),this._create_token(ce.WORD,i)}this._input.back()}else if("<"===e&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(ae.newline);)t+=this._input.next();return ve=!0,this._create_token(ce.COMMENT,t)}}else if(ve&&"-"===e&&(t=this.__patterns.html_comment_end.read()))return ve=!1,this._create_token(ce.COMMENT,t);return null},we.prototype._read_comment=function(e){var t=null;if("/"===e){var i="";if("*"===this._input.peek(1)){i=this.__patterns.block_comment.read();var n=ue.get_directives(i);n&&"start"===n.ignore&&(i+=ue.readIgnored(this._input)),i=i.replace(ae.allLineBreaks,"\n"),(t=this._create_token(ce.BLOCK_COMMENT,i)).directives=n}else"/"===this._input.peek(1)&&(i=this.__patterns.comment.read(),t=this._create_token(ce.COMMENT,i))}return t},we.prototype._read_string=function(e){if("`"===e||"'"===e||'"'===e){var t=this._input.next();return this.has_char_escapes=!1,t+="`"===e?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=function(e){var t="",i=0,n=new ie(e),o=null;for(;n.hasNext();)if((o=n.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=o[0]),"\\"===n.peek()){if(n.next(),"x"===n.peek())o=n.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==n.peek()){t+="\\",n.hasNext()&&(t+=n.next());continue}o=n.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return e;if((i=parseInt(o[1],16))>126&&i<=255&&0===o[0].indexOf("x"))return e;if(i>=0&&i<32){t+="\\"+o[0];continue}t+=34===i||39===i||92===i?"\\"+String.fromCharCode(i):String.fromCharCode(i)}return t}(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(ae.allLineBreaks,"\n"),this._create_token(ce.STRING,t)}return null},we.prototype._allow_regexp_or_xml=function(e){return e.type===ce.RESERVED&&de(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===ce.END_EXPR&&")"===e.text&&e.opened.previous.type===ce.RESERVED&&de(e.opened.previous.text,["if","while","for"])||de(e.type,[ce.COMMENT,ce.START_EXPR,ce.START_BLOCK,ce.START,ce.END_BLOCK,ce.OPERATOR,ce.EQUALS,ce.EOF,ce.SEMICOLON,ce.COMMA])},we.prototype._read_regexp=function(e,t){if("/"===e&&this._allow_regexp_or_xml(t)){for(var i=this._input.next(),n=!1,o=!1;this._input.hasNext()&&(n||o||this._input.peek()!==e)&&!this._input.testChar(ae.newline);)i+=this._input.peek(),n?n=!1:(n="\\"===this._input.peek(),"["===this._input.peek()?o=!0:"]"===this._input.peek()&&(o=!1)),this._input.next();return this._input.peek()===e&&(i+=this._input.next(),i+=this._input.read(ae.identifier)),this._create_token(ce.STRING,i)}return null},we.prototype._read_xml=function(e,t){if(this._options.e4x&&"<"===e&&this._allow_regexp_or_xml(t)){var i="",n=this.__patterns.xml.read_match();if(n){for(var o=n[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=0===o.indexOf("{"),a=0;n;){var r=!!n[1],l=n[2];if(!(!!n[n.length-1]||"![CDATA["===l.slice(0,8))&&(l===o||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(r?--a:++a),i+=n[0],a<=0)break;n=this.__patterns.xml.read_match()}return n||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(ae.allLineBreaks,"\n"),this._create_token(ce.STRING,i)}}return null},we.prototype._read_string_recursive=function(e,t,i){var n,o;"'"===e?o=this.__patterns.single_quote:'"'===e?o=this.__patterns.double_quote:"`"===e?o=this.__patterns.template_text:"}"===e&&(o=this.__patterns.template_expression);for(var s=o.read(),a="";this._input.hasNext();){if((a=this._input.next())===e||!t&&ae.newline.test(a)){this._input.back();break}"\\"===a&&this._input.hasNext()?("x"===(n=this._input.peek())||"u"===n?this.has_char_escapes=!0:"\r"===n&&"\n"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):i&&("${"===i&&"$"===a&&"{"===this._input.peek()&&(a+=this._input.next()),i===a&&(a+="`"===e?this._read_string_recursive("}",t,"`"):this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(a+=this._input.next()))),s+=a+=o.read()}return s},O.Tokenizer=we,O.TOKEN=ce,O.positionable_operators=fe.slice(),O.line_starters=ye.slice();var Se=h.Output,Ce=v.Token,ke=S,Ee=C.Options,Ae=O.Tokenizer,qe=O.line_starters,Te=O.positionable_operators,Le=O.TOKEN;function Me(e,t){return-1!==t.indexOf(e)}function Oe(e,t){return e&&e.type===Le.RESERVED&&e.text===t}function Re(e,t){return e&&e.type===Le.RESERVED&&Me(e.text,t)}var Ne=["case","return","do","if","throw","else","await","break","continue","async"],Be=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].replace(/-/g,"_")]=e[i];return t}(["before-newline","after-newline","preserve-newline"]),Ie=[Be.before_newline,Be.preserve_newline],De="BlockStatement",$e="Statement",Pe="ObjectLiteral",He="ArrayLiteral",ze="ForInitializer",Fe="Conditional",je="Expression";function Ue(e,t){t.multiline_frame||t.mode===ze||t.mode===Fe||e.remove_indent(t.start_line_index)}function We(e){return e===He}function Ge(e){return Me(e,[je,ze,Fe])}function Ve(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new Ee(t)}Ve.prototype.create_flags=function(e,t){var i=0;return e&&(i=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>i&&(i=e.line_indent_level)),{mode:t,parent:e,last_token:e?e.last_token:new Ce(Le.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,alignment:0,line_indent_level:e?e.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0}},Ve.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new Se(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(De);var i=new Ae(e,this._options);return this._tokens=i.tokenize(),e},Ve.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._reset(this._source_text),t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&ke.lineBreak.test(e||"")&&(t=e.match(ke.lineBreak)[0]));for(var i=this._tokens.next();i;)this.handle_token(i),this._last_last_text=this._flags.last_token.text,this._flags.last_token=i,i=this._tokens.next();return this._output.get_code(t)},Ve.prototype.handle_token=function(e,t){e.type===Le.START_EXPR?this.handle_start_expr(e):e.type===Le.END_EXPR?this.handle_end_expr(e):e.type===Le.START_BLOCK?this.handle_start_block(e):e.type===Le.END_BLOCK?this.handle_end_block(e):e.type===Le.WORD||e.type===Le.RESERVED?this.handle_word(e):e.type===Le.SEMICOLON?this.handle_semicolon(e):e.type===Le.STRING?this.handle_string(e):e.type===Le.EQUALS?this.handle_equals(e):e.type===Le.OPERATOR?this.handle_operator(e):e.type===Le.COMMA?this.handle_comma(e):e.type===Le.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===Le.COMMENT?this.handle_comment(e,t):e.type===Le.DOT?this.handle_dot(e):e.type===Le.EOF?this.handle_eof(e):(e.type,Le.UNKNOWN,this.handle_unknown(e,t))},Ve.prototype.handle_whitespace_and_comments=function(e,t){var i=e.newlines,n=this._options.keep_array_indentation&&We(this._flags.mode);if(e.comments_before)for(var o=e.comments_before.next();o;)this.handle_whitespace_and_comments(o,t),this.handle_token(o,t),o=e.comments_before.next();if(n)for(var s=0;s<i;s+=1)this.print_newline(s>0,t);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,t);for(var a=1;a<i;a+=1)this.print_newline(!0,t)}};var Ye=["async","break","continue","return","throw","yield"];Ve.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=void 0!==t&&t,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&e.newlines||t;if(Me(this._flags.last_token.text,Te)||Me(e.text,Te)){var n=Me(this._flags.last_token.text,Te)&&Me(this._options.operator_position,Ie)||Me(e.text,Te);i=i&&n}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(Re(this._flags.last_token,Ye))return;this._output.set_wrap_point()}}},Ve.prototype.print_newline=function(e,t){if(!t&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==Le.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var i=this._tokens.peek();!(this._flags.mode!==$e||this._flags.if_block&&Oe(i,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)},Ve.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&("["===e.text||We(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},Ve.prototype.print_token=function(e){if(this._output.raw)this._output.add_raw_token(e);else{if(this._options.comma_first&&e.previous&&e.previous.type===Le.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},Ve.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},Ve.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},Ve.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},Ve.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===$e&&Ue(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},Ve.prototype.start_of_object_property=function(){return this._flags.parent.mode===Pe&&this._flags.mode===$e&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||Re(this._flags.last_token,["get","set"]))},Ve.prototype.start_of_statement=function(e){var t=!1;return!!(t=(t=(t=(t=(t=(t=(t=t||Re(this._flags.last_token,["var","let","const"])&&e.type===Le.WORD)||Oe(this._flags.last_token,"do"))||!(this._flags.parent.mode===Pe&&this._flags.mode===$e)&&Re(this._flags.last_token,Ye)&&!e.newlines)||Oe(this._flags.last_token,"else")&&!(Oe(e,"if")&&!e.comments_before))||this._flags.last_token.type===Le.END_EXPR&&(this._previous_flags.mode===ze||this._previous_flags.mode===Fe))||this._flags.last_token.type===Le.WORD&&this._flags.mode===De&&!this._flags.in_case&&!("--"===e.text||"++"===e.text)&&"function"!==this._last_last_text&&e.type!==Le.WORD&&e.type!==Le.RESERVED)||this._flags.mode===Pe&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||Re(this._flags.last_token,["get","set"])))&&(this.set_mode($e),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,Re(e,["do","for","if","while"])),!0)},Ve.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=je;if("["===e.text){if(this._flags.last_token.type===Le.WORD||")"===this._flags.last_token.text)return Re(this._flags.last_token,qe)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));t=He,We(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),Me(this._flags.last_token.type,[Le.START_EXPR,Le.END_EXPR,Le.WORD,Le.OPERATOR,Le.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===Le.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,t=ze):Me(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=Fe):Me(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===e.whitespace_before?this._output.space_before_token=!1:(Me(this._flags.last_token.text,qe)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===Le.EQUALS||this._flags.last_token.type===Le.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===Le.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var n=this._tokens.peek(-4);Re(i,["async","function"])||"*"===i.text&&Re(n,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Pe&&("{"!==i.text&&","!==i.text&&("*"!==i.text||"{"!==n.text&&","!==n.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===Le.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(Me(this._last_last_text,["function","yield"])||this._flags.mode===Pe&&Me(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===Le.START_BLOCK?this.print_newline():this._flags.last_token.type!==Le.END_EXPR&&this._flags.last_token.type!==Le.START_EXPR&&this._flags.last_token.type!==Le.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==Le.COMMA||this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},Ve.prototype.handle_end_expr=function(e){for(;this._flags.mode===$e;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,"]"===e.text&&We(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==Le.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(e),this.restore_mode(),Ue(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Fe&&(this._previous_flags.mode=je,this._flags.do_block=!1,this._flags.do_while=!1)},Ve.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),i=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===Le.END_EXPR?(this.set_mode(De),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(De):i&&(Me(i.text,[":",","])&&Me(t.type,[Le.STRING,Le.WORD,Le.RESERVED])||Me(t.text,["get","set","..."])&&Me(i.type,[Le.WORD,Le.RESERVED]))?Me(this._last_last_text,["class","interface"])?this.set_mode(De):this.set_mode(Pe):this._flags.last_token.type===Le.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(De):Me(this._flags.last_token.type,[Le.EQUALS,Le.START_EXPR,Le.COMMA,Le.OPERATOR])||Re(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Pe):this.set_mode(De);var n=!t.comments_before&&"}"===t.text,o=n&&"function"===this._flags.last_word&&this._flags.last_token.type===Le.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do{if(s+=1,(a=this._tokens.peek(s-1)).newlines){this._flags.inline_frame=!1;break}}while(a.type!==Le.EOF&&(a.type!==Le.END_BLOCK||a.opened!==e))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==Le.OPERATOR&&(o||this._flags.last_token.type===Le.EQUALS||Re(this._flags.last_token,Ne)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!We(this._previous_flags.mode)||this._flags.last_token.type!==Le.START_EXPR&&this._flags.last_token.type!==Le.COMMA||((this._flags.last_token.type===Le.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===Le.COMMA||this._flags.last_token.type===Le.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==Le.OPERATOR&&this._flags.last_token.type!==Le.START_EXPR&&(this._flags.last_token.type!==Le.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(e),this.indent(),n||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},Ve.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===$e;)this.restore_mode();var t=this._flags.last_token.type===Le.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:"expand"===this._options.brace_style?t||this.print_newline():t||(We(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)},Ve.prototype.handle_word=function(e){if(e.type===Le.RESERVED)if(Me(e.text,["set","get"])&&this._flags.mode!==Pe)e.type=Le.WORD;else if("import"===e.text&&"("===this._tokens.peek().text)e.type=Le.WORD;else if(Me(e.text,["as","from"])&&!this._flags.import_block)e.type=Le.WORD;else if(this._flags.mode===Pe){":"===this._tokens.peek().text&&(e.type=Le.WORD)}if(this.start_of_statement(e)?Re(this._flags.last_token,["var","let","const"])&&e.type===Le.WORD&&(this._flags.declaration_statement=!0):!e.newlines||Ge(this._flags.mode)||this._flags.last_token.type===Le.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===Le.EQUALS||!this._options.preserve_newlines&&Re(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(e):(this.handle_whitespace_and_comments(e),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(Oe(e,"while"))return this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&Oe(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===$e;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&Re(e,["case","default"]))return this.print_newline(),this._flags.last_token.type!==Le.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),void(this._flags.in_case=!0);if(this._flags.last_token.type!==Le.COMMA&&this._flags.last_token.type!==Le.START_EXPR&&this._flags.last_token.type!==Le.EQUALS&&this._flags.last_token.type!==Le.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e),Oe(e,"function"))return(Me(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!Me(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==Le.OPERATOR)&&(this._output.just_added_blankline()||e.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===Le.RESERVED||this._flags.last_token.type===Le.WORD?Re(this._flags.last_token,["get","set","new","export"])||Re(this._flags.last_token,Ye)||Oe(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===Le.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!Ge(this._flags.mode)&&!We(this._flags.mode))&&this.print_newline(),this.print_token(e),void(this._flags.last_word=e.text);var t="NONE";(this._flags.last_token.type===Le.END_BLOCK?this._previous_flags.inline_frame?t="SPACE":Re(e,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines?t="NEWLINE":(t="SPACE",this._output.space_before_token=!0):t="NEWLINE":this._flags.last_token.type===Le.SEMICOLON&&this._flags.mode===De?t="NEWLINE":this._flags.last_token.type===Le.SEMICOLON&&Ge(this._flags.mode)?t="SPACE":this._flags.last_token.type===Le.STRING?t="NEWLINE":this._flags.last_token.type===Le.RESERVED||this._flags.last_token.type===Le.WORD||"*"===this._flags.last_token.text&&(Me(this._last_last_text,["function","yield"])||this._flags.mode===Pe&&Me(this._last_last_text,["{",","]))?t="SPACE":this._flags.last_token.type===Le.START_BLOCK?t=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===Le.END_EXPR&&(this._output.space_before_token=!0,t="NEWLINE"),Re(e,qe)&&")"!==this._flags.last_token.text&&(t=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),Re(e,["else","catch","finally"]))?(this._flags.last_token.type!==Le.END_BLOCK||this._previous_flags.mode!==De||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===t?Re(this._flags.last_token,Ne)||"declare"===this._flags.last_token.text&&Re(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==Le.END_EXPR?this._flags.last_token.type===Le.START_EXPR&&Re(e,["var","let","const"])||":"===this._flags.last_token.text||(Oe(e,"if")&&Oe(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):Re(e,qe)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&We(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===t&&(this._output.space_before_token=!0);!e.previous||e.previous.type!==Le.WORD&&e.previous.type!==Le.RESERVED||(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===Le.RESERVED&&("do"===e.text?this._flags.do_block=!0:"if"===e.text?this._flags.if_block=!0:"import"===e.text?this._flags.import_block=!0:this._flags.import_block&&Oe(e,"from")&&(this._flags.import_block=!1))},Ve.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();!(this._flags.mode!==$e||this._flags.if_block&&Oe(t,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)},Ve.prototype.handle_string=function(e){(!e.text.startsWith("`")||0!==e.newlines||""!==e.whitespace_before||")"!==e.previous.text&&this._flags.last_token.type!==Le.WORD)&&(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===Le.RESERVED||this._flags.last_token.type===Le.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===Le.COMMA||this._flags.last_token.type===Le.START_EXPR||this._flags.last_token.type===Le.EQUALS||this._flags.last_token.type===Le.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):!e.text.startsWith("`")||this._flags.last_token.type!==Le.END_EXPR||"]"!==e.previous.text&&")"!==e.previous.text||0!==e.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(e)},Ve.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0},Ve.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(Ge(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===Pe||this._flags.mode===$e&&this._flags.parent.mode===Pe?(this._flags.mode===$e&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)},Ve.prototype.handle_operator=function(e){var t="*"===e.text&&(Re(this._flags.last_token,["function","yield"])||Me(this._flags.last_token.type,[Le.START_BLOCK,Le.COMMA,Le.END_BLOCK,Le.SEMICOLON])),i=Me(e.text,["-","+"])&&(Me(this._flags.last_token.type,[Le.START_BLOCK,Le.START_EXPR,Le.EQUALS,Le.OPERATOR])||Me(this._flags.last_token.text,qe)||","===this._flags.last_token.text);if(this.start_of_statement(e));else{var n=!t;this.handle_whitespace_and_comments(e,n)}if(Re(this._flags.last_token,Ne))return this._output.space_before_token=!0,void this.print_token(e);if("*"!==e.text||this._flags.last_token.type!==Le.DOT)if("::"!==e.text){if(this._flags.last_token.type===Le.OPERATOR&&Me(this._options.operator_position,Ie)&&this.allow_wrap_or_preserved_newline(e),":"===e.text&&this._flags.in_case)return this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==Le.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var o=!0,s=!0,a=!1;if(":"===e.text?0===this._flags.ternary_depth?o=!1:(this._flags.ternary_depth-=1,a=!0):"?"===e.text&&(this._flags.ternary_depth+=1),!i&&!t&&this._options.preserve_newlines&&Me(e.text,Te)){var r=":"===e.text,l=r&&a,d=r&&!a;switch(this._options.operator_position){case Be.before_newline:return this._output.space_before_token=!d,this.print_token(e),r&&!l||this.allow_wrap_or_preserved_newline(e),void(this._output.space_before_token=!0);case Be.after_newline:return this._output.space_before_token=!0,!r||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),void(this._output.space_before_token=!0);case Be.preserve_newline:return d||this.allow_wrap_or_preserved_newline(e),o=!(this._output.just_added_newline()||d),this._output.space_before_token=o,this.print_token(e),void(this._output.space_before_token=!0)}}if(t){this.allow_wrap_or_preserved_newline(e),o=!1;var c=this._tokens.peek();s=c&&Me(c.type,[Le.WORD,Le.RESERVED])}else"..."===e.text?(this.allow_wrap_or_preserved_newline(e),o=this._flags.last_token.type===Le.START_BLOCK,s=!1):(Me(e.text,["--","++","!","~"])||i)&&(this._flags.last_token.type!==Le.COMMA&&this._flags.last_token.type!==Le.START_EXPR||this.allow_wrap_or_preserved_newline(e),o=!1,s=!1,!e.newlines||"--"!==e.text&&"++"!==e.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&Ge(this._flags.mode)&&(o=!0),this._flags.last_token.type===Le.RESERVED?o=!0:this._flags.last_token.type===Le.END_EXPR?o=!("]"===this._flags.last_token.text&&("--"===e.text||"++"===e.text)):this._flags.last_token.type===Le.OPERATOR&&(o=Me(e.text,["--","-","++","+"])&&Me(this._flags.last_token.text,["--","-","++","+"]),Me(e.text,["+","-"])&&Me(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode!==De||this._flags.inline_frame)&&this._flags.mode!==$e||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||o,this.print_token(e),this._output.space_before_token=s}else this.print_token(e);else this.print_token(e)},Ve.prototype.handle_block_comment=function(e,t){return this._output.raw?(this._output.add_raw_token(e),void(e.directives&&"end"===e.directives.preserve&&(this._output.raw=this._options.test_output_raw))):e.directives?(this.print_newline(!1,t),this.print_token(e),"start"===e.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):ke.newline.test(e.text)||e.newlines?void this.print_block_commment(e,t):(this._output.space_before_token=!0,this.print_token(e),void(this._output.space_before_token=!0))},Ve.prototype.print_block_commment=function(e,t){var i,n=function(e){for(var t=[],i=(e=e.replace(ke.allLineBreaks,"\n")).indexOf("\n");-1!==i;)t.push(e.substring(0,i)),i=(e=e.substring(i+1)).indexOf("\n");return e.length&&t.push(e),t}(e.text),o=!1,s=!1,a=e.whitespace_before,r=a.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(n[0]),this.print_newline(!1,t),n.length>1){for(o=function(e,t){for(var i=0;i<e.length;i++)if(e[i].trim().charAt(0)!==t)return!1;return!0}(n=n.slice(1),"*"),s=function(e,t){for(var i,n=0,o=e.length;n<o;n++)if((i=e[n])&&0!==i.indexOf(t))return!1;return!0}(n,a),o&&(this._flags.alignment=1),i=0;i<n.length;i++)o?(this.print_token_line_indentation(e),this._output.add_token(n[i].replace(/^\s+/g,""))):s&&n[i]?(this.print_token_line_indentation(e),this._output.add_token(n[i].substring(r))):(this._output.current_line.set_indent(-1),this._output.add_token(n[i])),this.print_newline(!1,t);this._flags.alignment=0}},Ve.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)},Ve.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),Re(this._flags.last_token,Ne)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)},Ve.prototype.handle_unknown=function(e,t){this.print_token(e),"\n"===e.text[e.text.length-1]&&this.print_newline(!1,t)},Ve.prototype.handle_eof=function(e){for(;this._flags.mode===$e;)this.restore_mode();this.handle_whitespace_and_comments(e)},p.Beautifier=Ve;var Xe=p.Beautifier,Ke=C.Options;u.exports=function(e,t){return new Xe(e,t).beautify()},u.exports.defaultOptions=function(){return new Ke};var Ze={exports:{}},Qe={},Je={},et=k.Options;function tt(e){et.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var n=0;n<i.length;n++)"expand"!==i[n]?this.brace_style="collapse":this.brace_style=i[n]}tt.prototype=new et,Je.Options=tt;var it=Je.Options,nt=h.Output,ot=R.InputScanner,st=new(0,K.Directives)(/\/\*/,/\*\//),at=/\r\n|[\r\n]/,rt=/\r\n|[\r\n]/g,lt=/\s/,dt=/(?:\s|\n)+/g,ct=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,ut=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function pt(e,t){this._source_text=e||"",this._options=new it(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}pt.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},pt.prototype.eatWhitespace=function(e){for(var t=lt.test(this._input.peek()),i=0;lt.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===i||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return t},pt.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,i=this._input.peek(t);i;){if("{"===i)return!0;if("("===i)e+=1;else if(")"===i){if(0===e)return!1;e-=1}else if(";"===i||"}"===i)return!1;t++,i=this._input.peek(t)}return!1},pt.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},pt.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},pt.prototype.indent=function(){this._indentLevel++},pt.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},pt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&at.test(e||"")&&(t=e.match(at)[0]));var i=(e=e.replace(rt,"\n")).match(/^[\t ]*/)[0];this._output=new nt(this._options,i),this._input=new ot(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var n,o,s=0,a=!1,r=!1,l=!1,d=!1,c=!1,u=this._ch;n=""!==this._input.read(dt),o=u,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var p=this._input.read(ct),h=st.get_directives(p);h&&"start"===h.ignore&&(p+=st.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(ut)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(n),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var g=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);g.match(/[ :]$/)&&(g=this.eatString(": ").replace(/\s$/,""),this.print_string(g),this._output.space_before_token=!0),"extend"===(g=g.replace(/\s$/,""))?d=!0:"import"===g&&(c=!0),g in this.NESTED_AT_RULE?(this._nestedLevel+=1,g in this.CONDITIONAL_GROUP_RULE&&(l=!0)):a||0!==s||-1===g.indexOf(":")||(r=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(r&&(r=!1,this.outdent()),l?(l=!1,a=this._indentLevel>=this._nestedLevel):a=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&a&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===o&&this._output.trim(!0),c=!1,d=!1,r&&(this.outdent(),r=!1),this.print_string(this._ch),a=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!a&&!l||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||d||0!==s?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),r||(r=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===s?(r&&(this.outdent(),r=!1),d=!1,c=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),s++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),s&&(s--,this.outdent()))):(this.preserveSingleSpace(n),this.print_string(this._ch),this.eatWhitespace(),s++,this.indent()):")"===this._ch?(s&&(s--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||r||0!==s||c||d?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||r||0!==s?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(n),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),lt.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(n),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&lt.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},Qe.Beautifier=pt;var ht=Qe.Beautifier,gt=Je.Options;Ze.exports=function(e,t){return new ht(e,t).beautify()},Ze.exports.defaultOptions=function(){return new gt};var ft={exports:{}},mt={},vt={},bt=k.Options;function yt(e){bt.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}yt.prototype=new bt,vt.Options=yt;var _t={},xt=I.Tokenizer,wt=I.TOKEN,St=K.Directives,Ct=Q.TemplatablePattern,kt=H.Pattern,Et={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:wt.START,RAW:wt.RAW,EOF:wt.EOF},At=new St(/<\!--/,/-->/),qt=function(e,t){xt.call(this,e,t),this._current_tag_name="";var i=new Ct(this._input).read_options(this._options),n=new kt(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),handlebars_open:n.until(/[\n\r\t }]/),handlebars_raw_close:n.until(/}}/),comment:n.starting_with(/<!--/).until_after(/-->/),cdata:n.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:n.starting_with(/<!\[/).until_after(/]>/),processing:n.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var o=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=n.matching(o).until_after(o)}};(qt.prototype=new xt)._is_comment=function(e){return!1},qt.prototype._is_opening=function(e){return e.type===Et.TAG_OPEN},qt.prototype._is_closing=function(e,t){return e.type===Et.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},qt.prototype._reset=function(){this._current_tag_name=""},qt.prototype._get_next_token=function(e,t){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(Et.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_open_handlebars(n,t))||this._read_attribute(n,e,t))||this._read_close(n,t))||this._read_raw_content(n,e,t))||this._read_content_word(n))||this._read_comment_or_cdata(n))||this._read_processing(n))||this._read_open(n,t))||this._create_token(Et.UNKNOWN,this._input.next())},qt.prototype._read_comment_or_cdata=function(e){var t=null,i=null,n=null;"<"===e&&("!"===this._input.peek(1)&&((i=this.__patterns.comment.read())?(n=At.get_directives(i))&&"start"===n.ignore&&(i+=At.readIgnored(this._input)):i=this.__patterns.cdata.read()),i&&((t=this._create_token(Et.COMMENT,i)).directives=n));return t},qt.prototype._read_processing=function(e){var t=null,i=null;if("<"===e){var n=this._input.peek(1);"!"!==n&&"?"!==n||(i=(i=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),i&&((t=this._create_token(Et.COMMENT,i)).directives=null)}return t},qt.prototype._read_open=function(e,t){var i=null,n=null;return t||"<"===e&&(i=this._input.next(),"/"===this._input.peek()&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),n=this._create_token(Et.TAG_OPEN,i)),n},qt.prototype._read_open_handlebars=function(e,t){var i=null,n=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(i=(i=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),n=this._create_token(Et.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),n=this._create_token(Et.TAG_OPEN,i))),n},qt.prototype._read_close=function(e,t){var i=null,n=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(i=this._input.next(),"/"===e&&(i+=this._input.next()),n=this._create_token(Et.TAG_CLOSE,i)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),n=this._create_token(Et.TAG_CLOSE,"}}"))),n},qt.prototype._read_attribute=function(e,t,i){var n=null,o="";if(i&&"<"===i.text[0])if("="===e)n=this._create_token(Et.EQUALS,this._input.next());else if('"'===e||"'"===e){var s=this._input.next();s+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),n=this._create_token(Et.VALUE,s)}else(o=this.__patterns.attribute.read())&&(n=t.type===Et.EQUALS?this._create_token(Et.VALUE,o):this._create_token(Et.ATTRIBUTE,o));return n},qt.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},qt.prototype._read_raw_content=function(e,t,i){var n="";if(i&&"{"===i.text[0])n=this.__patterns.handlebars_raw_close.read();else if(t.type===Et.TAG_CLOSE&&"<"===t.opened.text[0]&&"/"!==t.text[0]){var o=t.opened.text.substr(1).toLowerCase();if("script"===o||"style"===o){var s=this._read_comment_or_cdata(e);if(s)return s.type=Et.TEXT,s;n=this._input.readUntil(new RegExp("</"+o+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(o)&&(n=this._input.readUntil(new RegExp("</"+o+"[\\n\\r\\t ]*?>","ig")))}return n?this._create_token(Et.TEXT,n):null},qt.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(Et.TEXT,t)},_t.Tokenizer=qt,_t.TOKEN=Et;var Tt=vt.Options,Lt=h.Output,Mt=_t.Tokenizer,Ot=_t.TOKEN,Rt=/\r\n|[\r\n]/,Nt=/\r\n|[\r\n]/g,Bt=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new Lt(e,t)};Bt.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},Bt.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},Bt.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},Bt.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},Bt.prototype.print_preserved_newlines=function(e){var t=0;e.type!==Ot.TEXT&&e.previous.type!==Ot.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var i=0;i<t;i++)this.print_newline(i>0);return 0!==t},Bt.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines)&&(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0)},Bt.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},Bt.prototype.print_newline=function(e){this._output.add_new_line(e)},Bt.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},Bt.prototype.indent=function(){this.indent_level++},Bt.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)};var It=function(e,t){var i=null,n=null;return t.closed?("script"===e?i="text/javascript":"style"===e&&(i="text/css"),(i=function(e){for(var t=null,i=e.next;i.type!==Ot.EOF&&e.closed!==i;){if(i.type===Ot.ATTRIBUTE&&"type"===i.text){i.next&&i.next.type===Ot.EQUALS&&i.next.next&&i.next.next.type===Ot.VALUE&&(t=i.next.next.text);break}i=i.next}return t}(t)||i).search("text/css")>-1?n="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?n="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?n="html":i.search(/test\/null/)>-1&&(n="null"),n):null};function Dt(e,t){return-1!==t.indexOf(e)}function $t(e,t,i){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=i||0,this.parser_token=t||null}function Pt(e){this._printer=e,this._current_frame=null}function Ht(e,t,i,n){this._source_text=e||"",t=t||{},this._js_beautify=i,this._css_beautify=n,this._tag_stack=null;var o=new Tt(t,"html");this._options=o,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}Pt.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},Pt.prototype.record_tag=function(e){var t=new $t(this._current_frame,e,this._printer.indent_level);this._current_frame=t},Pt.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},Pt.prototype._get_frame=function(e,t){for(var i=this._current_frame;i&&-1===e.indexOf(i.tag);){if(t&&-1!==t.indexOf(i.tag)){i=null;break}i=i.parent}return i},Pt.prototype.try_pop=function(e,t){var i=this._get_frame([e],t);return this._try_pop_frame(i)},Pt.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},Ht.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&Rt.test(e)&&(t=e.match(Rt)[0]));var i=(e=e.replace(Nt,"\n")).match(/^[\t ]*/)[0],n={text:"",type:""},o=new zt,s=new Bt(this._options,i),a=new Mt(e,this._options).tokenize();this._tag_stack=new Pt(s);for(var r=null,l=a.next();l.type!==Ot.EOF;)l.type===Ot.TAG_OPEN||l.type===Ot.COMMENT?o=r=this._handle_tag_open(s,l,o,n):l.type===Ot.ATTRIBUTE||l.type===Ot.EQUALS||l.type===Ot.VALUE||l.type===Ot.TEXT&&!o.tag_complete?r=this._handle_inside_tag(s,l,o,a):l.type===Ot.TAG_CLOSE?r=this._handle_tag_close(s,l,o):l.type===Ot.TEXT?r=this._handle_text(s,l,o):s.add_raw_token(l),n=r,l=a.next();return s._output.get_code(t)},Ht.prototype._handle_tag_close=function(e,t,i){var n={text:t.text,type:t.type};return e.alignment_size=0,i.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),i.is_unformatted?e.add_raw_token(t):("<"===i.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!i.indent_content||i.is_unformatted||i.is_content_unformatted||(e.indent(),i.indent_content=!1),i.is_inline_element||i.is_unformatted||i.is_content_unformatted||e.set_wrap_point(),n},Ht.prototype._handle_inside_tag=function(e,t,i,n){var o=i.has_wrapped_attrs,s={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),i.is_unformatted)e.add_raw_token(t);else if("{"===i.tag_start_char&&t.type===Ot.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===Ot.ATTRIBUTE?(e.set_space_before_token(!0),i.attr_count+=1):(t.type===Ot.EQUALS||t.type===Ot.VALUE&&t.previous.type===Ot.EQUALS)&&e.set_space_before_token(!1),t.type===Ot.ATTRIBUTE&&"<"===i.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),o=o||0!==t.newlines),this._is_wrap_attributes_force)){var a=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===i.attr_count){var r,l=!0,d=0;do{if((r=n.peek(d)).type===Ot.ATTRIBUTE){l=!1;break}d+=1}while(d<4&&r.type!==Ot.EOF&&r.type!==Ot.TAG_CLOSE);a=!l}a&&(e.print_newline(!1),o=!0)}e.print_token(t),o=o||e.previous_token_wrapped(),i.has_wrapped_attrs=o}return s},Ht.prototype._handle_text=function(e,t,i){var n={text:t.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(e,t,i):i.is_unformatted||i.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),n},Ht.prototype._print_custom_beatifier_text=function(e,t,i){var n=this;if(""!==t.text){var o,s=t.text,a=1,r="",l="";"javascript"===i.custom_beautifier_name&&"function"==typeof this._js_beautify?o=this._js_beautify:"css"===i.custom_beautifier_name&&"function"==typeof this._css_beautify?o=this._css_beautify:"html"===i.custom_beautifier_name&&(o=function(e,t){return new Ht(e,t,n._js_beautify,n._css_beautify).beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-e.indent_level);var d=e.get_full_indent(a);if(s=s.replace(/\n[ \t]*$/,""),"html"!==i.custom_beautifier_name&&"<"===s[0]&&s.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(s);if(!c)return void e.add_raw_token(t);r=d+c[1]+"\n",s=c[4],c[5]&&(l=d+c[5]),s=s.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/))&&(t.whitespace_before=c[0])}if(s)if(o){var u=function(){this.eol="\n"};u.prototype=this._options.raw_options,s=o(d+s,new u)}else{var p=t.whitespace_before;p&&(s=s.replace(new RegExp("\n("+p+")?","g"),"\n")),s=d+s.replace(/\n/g,"\n"+d)}r&&(s=s?r+s+"\n"+l:r+l),e.print_newline(!1),s&&(t.text=s,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},Ht.prototype._handle_tag_open=function(e,t,i,n){var o=this._get_tag_open_token(t);return!i.is_unformatted&&!i.is_content_unformatted||i.is_empty_element||t.type!==Ot.TAG_OPEN||0!==t.text.indexOf("</")?(e.traverse_whitespace(t),this._set_tag_position(e,t,o,i,n),o.is_inline_element||e.set_wrap_point(),e.print_token(t)):(e.add_raw_token(t),o.start_tag_token=this._tag_stack.try_pop(o.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(o.alignment_size=t.text.length+1),o.tag_complete||o.is_unformatted||(e.alignment_size=o.alignment_size),o};var zt=function(e,t){var i;(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t)?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(i=t.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"","{{#>"===t.text&&">"===this.tag_check&&null!==t.next&&(this.tag_check=t.next.text)),this.tag_check=this.tag_check.toLowerCase(),t.type===Ot.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};Ht.prototype._get_tag_open_token=function(e){var t=new zt(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||Dt(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&Dt(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&Dt(t.tag_check,this._options.content_unformatted),t.is_inline_element=Dt(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},Ht.prototype._set_tag_position=function(e,t,i,n,o){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(i),"script"!==i.tag_name&&"style"!==i.tag_name||i.is_unformatted||i.is_content_unformatted||(i.custom_beautifier_name=It(i.tag_check,t)))),Dt(i.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),i.is_empty_element){if("{"===i.tag_start_char&&"else"===i.tag_check)this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1);"!--"===i.tag_name&&o.type===Ot.TAG_CLOSE&&n.is_end_tag&&-1===i.text.indexOf("\n")||(i.is_inline_element||i.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,i))}else if(i.is_end_tag){var s=!1;s=(s=i.start_tag_token&&i.start_tag_token.multiline_content)||!i.is_inline_element&&!(n.is_inline_element||n.is_unformatted)&&!(o.type===Ot.TAG_CLOSE&&i.start_tag_token===n)&&"TK_CONTENT"!==o.type,(i.is_content_unformatted||i.is_unformatted)&&(s=!1),s&&e.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,"<"===i.tag_start_char&&("html"===i.tag_name?i.indent_content=this._options.indent_inner_html:"head"===i.tag_name?i.indent_content=this._options.indent_head_inner_html:"body"===i.tag_name&&(i.indent_content=this._options.indent_body_inner_html)),i.is_inline_element||i.is_unformatted||"TK_CONTENT"===o.type&&!i.is_content_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,i)},Ht.prototype._calcluate_parent_multiline=function(e,t){!t.parent||!e._output.just_added_newline()||(t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element||(t.parent.multiline_content=!0)};var Ft=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],jt=["a","audio","del","ins","map","noscript","video"];Ht.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent){if("body"===e.tag_name)t=t||this._tag_stack.try_pop("head");else if("li"===e.tag_name)t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===e.tag_name||"dt"===e.tag_name)t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===e.parent.tag_name&&-1!==Ft.indexOf(e.tag_name)){var i=e.parent.parent;i&&-1!==jt.indexOf(i.tag_name)||(t=t||this._tag_stack.try_pop("p"))}else"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}},mt.Beautifier=Ht;var Ut=mt.Beautifier,Wt=vt.Options;ft.exports=function(e,t,i,n){return new Ut(e,t,i,n).beautify()},ft.exports.defaultOptions=function(){return new Wt};var Gt=u.exports,Vt=Ze.exports,Yt=ft.exports;function Xt(e,t,i,n){return Yt(e,t,i=i||Gt,n=n||Vt)}Xt.defaultOptions=Yt.defaultOptions,c.js=Gt,c.css=Vt,c.html=Xt,function(e){var t=c;t.js_beautify=t.js,t.css_beautify=t.css,t.html_beautify=t.html,e.exports=function(e,t,i){var n=function(t,i){return e.js_beautify(t,i)};return n.js=e.js_beautify,n.css=t.css_beautify,n.html=i.html_beautify,n.js_beautify=e.js_beautify,n.css_beautify=t.css_beautify,n.html_beautify=i.html_beautify,n}(t,t,t)}(d);var Kt=d.exports;const Zt=new e;class Qt{constructor(e){this.builder=e,this.builderStuff=this.builder.builderStuff;const t=this.builderStuff;let i='<div id="divBoxTool"><form id="form-upload-cover" data-tooltip-top data-title="'+n("Background Image")+'" target="frame-upload-cover" method="post" action="'+this.builder.coverImageHandler+'" enctype="multipart/form-data" style="position:relative;width:40px;height:40px;display:inline-block;float:left;background: rgb(90, 156, 38);"><div style="width:40px;height:40px;overflow:hidden;"><div style="position:absolute;width:100%;height:100%;"><svg class="is-icon-flex" style="position: absolute;top: 12px;left: 12px;fill:rgb(255,255,255);"><use xlink:href="#ion-image"></use></svg></div><input type="file" title="'+n("Background Image")+'" id="fileCover" name="fileCover" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;"/></div><input id="hidcustomval" name="hidcustomval" type="hidden" value="" /><iframe id="frame-upload-cover" name="frame-upload-cover" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe></form><button id="btnEditBox" data-tooltip-top data-title="'+n("Box Settings")+'" title="'+n("Box Settings")+'"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button><button id="btnEditModule" data-tooltip-top data-title="'+n("Module Settings")+'" title="'+n("Module Settings")+'"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button></div><div class="is-modal editmodule"><div style="max-width:900px;height:570px;padding:0;box-sizing:border-box;position:relative;"><div class="is-modal-bar is-draggable" style="position: absolute;top: 0;left: 0;width: 100%;z-index:1;">'+n("Module Settings")+'</div><iframe style="position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-bottom:60px solid transparent;border-top:40px solid transparent;margin:0;box-sizing:border-box;" src="about:blank"></iframe><input id="hidModuleCode" type="hidden" /><input id="hidModuleSettings" type="hidden" /><button class="input-ok classic" style="height:60px;position:absolute;left:0;bottom:0;">'+n("Ok")+"</button></div></div>";i+='<div class="is-modal editcustomcode"><div style="max-width:900px;height:570px;padding:0;box-sizing:border-box;position:relative;"><div class="is-modal-bar is-draggable" style="position: absolute;top: 0;left: 0;width: 100%;z-index:1;">'+n("Custom Code (Javascript Allowed)")+'</div><textarea id="txtBoxCustomCode" class="inptxt" style="background: #fff;position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-bottom:60px solid transparent;border-top:40px solid transparent;box-sizing:border-box;"></textarea><input id="hidBoxCustomCode" type="hidden" /><button class="cell-html-larger" style="width:35px;height:35px;position:absolute;right:0;top:0;background:transparent;z-index:2;"><svg class="is-icon-flex" style="width:19px;height:19px;fill:rgb(170, 170, 170);"><use xlink:href="#ion-arrow-expand"></use></svg></button><button class="input-ok classic" style="height:60px;position:absolute;left:0;bottom:0;">'+n("Ok")+'</button></div></div><div class="is-modal editbox"><div class="is-modal-content" style="max-width:380px;min-height:300px;padding:0"><div class="is-modal-bar is-draggable">'+n("Box Settings")+'</div><div class="is-tabs clearfix" style="padding-top:37px;"><a id="tabBoxGeneral" href="" data-content="divBoxGeneral" class="active">'+n("General")+'</a><a id="tabBoxContentContainer" href="" data-content="divBoxContentContainer">'+n("Content")+'</a><a id="tabBoxContentText" href="" data-content="divBoxContentText">'+n("Text")+'</a><a id="tabBoxImage" href="" data-content="divBoxImage">'+n("Image")+'</a><a id="tabBoxAnimate" href="" data-content="divBoxAnimate">'+n("Animate")+'</a><a id="tabBoxClick" href="" data-content="divBoxClick">'+n("On Click")+'</a></div><div id="divBoxGeneral" class="is-tab-content" data-group="boxsettings" style="display:flex;padding-top:0"><div id="divBoxSize"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Box Size")+':</div><div style="display:flex"><button title="'+n("Decrease")+'" class="cmd-box-smaller" style="width:40px;">-</button><button title="'+n("Increase")+'" class="cmd-box-larger" style="width:40px;border-left:none">+</button><br style="clear:both"></div></div>',i+='<div id="divContentSize"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Content Size")+': &nbsp;<span class="val-box-size" style="font-size:12px"></span></div><div style="display: flex;flex-direction: row;flex-wrap: wrap;"><input class="inp-box-size" type="text" style="display:none;width:80px;height:35px;text-align:center;font-size:12px;" /><button class="cmd-box-size" data-value="500" style="width:40px;border-left:none">500</button><button class="cmd-box-size" data-value="600" style="width:40px;border-left:none">600</button><button class="cmd-box-size" data-value="700" style="width:40px;border-left:none">700</button><button class="cmd-box-size" data-value="800" style="width:40px;border-top:none">800</button><button class="cmd-box-size" data-value="900" style="width:40px;border-top:none">900</button><button class="cmd-box-size" data-value="1000" style="width:40px;border-top:none;border-left:none">1000</button><button class="cmd-box-size" data-value="1100" style="width:40px;border-top:none;border-left:none">1100</button><button class="cmd-box-size" data-value="1200" style="width:40px;border-top:none;border-left:none">1200</button><button class="cmd-box-size" data-value="1300" style="width:40px;border-top:none;border-left:none">1300</button><button class="cmd-box-size" data-value="1400" style="width:40px;border-top:none;border-left:none">1400</button><button class="cmd-box-size" data-value="1500" style="width:40px;border-top:none;border-left:none">1500</button><button class="cmd-box-size" data-value="1600" style="width:40px;border-top:none;border-left:none">1600</button><button class="cmd-box-size" data-value="1800" style="width:40px;border-top:none;border-left:none">1800</button><button title="'+n("Clear")+'" class="cmd-box-size" data-value=""><svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg></button><button title="'+n("Decrease")+'" class="cmd-box-size" data-value="-" style="width:40px;border-top:none;border-left:none">-</button><button title="'+n("Increase")+'"class="cmd-box-size" data-value="+" style="width:40px;border-top:none;border-left:none">+</button><br style="clear:both"></div></div>',i+='<div id="divBoxBackgroundColor"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Background Color")+':</div><div style="display:flex;"><button title="'+n("Background Color")+'" class="input-box-bgcolor is-btn-color" style="margin-right:15px"></button><button title="'+n("Gradient")+'" class="input-box-gradient classic" data-value="+">'+n("Gradient")+'</button></div><div style="padding-top:20px;padding-bottom: 3px;">'+n("Background Image")+':</div><div style="height:auto"><div style="display:flex;align-items:flex-end;"><div class="box-bgimage-preview"></div><label class="label-box-bgimage-grayscale label-checkbox" for="chkBoxBgImageGrayscale" style="margin:0;margin-left:8px;margin-bottom:5px;"><input id="chkBoxBgImageGrayscale" class="chk-box-bgimage-grayscale" type="checkbox" /> '+n("Grayscale")+'</label></div><div style="display:flex;align-items: flex-end;"><button title="'+n("Image")+'" class="input-box-bgimage"><svg class="is-icon-flex"><use xlink:href="#ion-image"></use></svg><span>'+n("Image")+'</span></button><button title="'+n("Remove")+'" class="input-box-bgremove"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button><button title="'+n("Adjust")+'" class="input-box-bgimageadjust"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button></div></div></div><div id="divBoxPickPhoto" class="is-settings" style="padding-top:20px"><button class="cmd-box-pickphoto" data-value="" style="width:100%"><svg class="is-icon-flex" style=""><use xlink:href="#ion-image"></use></svg></button></div><div style="display:flex;justify-content:flex-end;"><button title="'+n("Add Text")+'" class="cmd-box-addtext" style="display:none;margin-top:20px;"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-android-add"></use></svg> <span>'+n("Text")+'</span></button><button title="'+n("Remove Text")+'" class="cmd-box-removetext" style="display:none;margin-top:20px;"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg> <span>'+n("Clear")+'</span></button></div><p id="divNoBoxSettings" style="text-align: center;display:none;">'+n("This box has no available settings.")+"</p></div>",i+='<div id="divBoxClick" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><label for="inpBoxLinkSource" style="display:block;padding-top:20px;">'+n("Open")+':</label><div class="image-src" style="display:flex"><input id="inpBoxLinkSource" class="input-src" type="text" style="height:38px"><button title="'+n("Select")+'" class="input-select" style="flex:none;width:40px;height:38px;background:transparent;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button><div class="image-larger5" style="position: relative; flex: 0 0 auto; width: 40px; height: 38px; box-shadow: rgba(0, 0, 0, 0.32) 0px 3px 6px -6px;"><form class="form-upload-larger" target="frameTargetBoxLinkUpload" method="post" action="'+this.builder.largerImageHandler+'" enctype="multipart/form-data" style="position:absolute;top:0;left:0;width:100%;height:100%;"><input id="hidRefId5" name="hidRefId" type="hidden" value=""><svg class="is-icon-flex" style="position: absolute;top: 10px;left: 15px;"><use xlink:href="#ion-image"></use></svg><input title="'+n("Select")+'" id="fileImage5" name="fileImage" type="file" accept="image/*,video/mp4" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;"></form><iframe id="frameTargetBoxLinkUpload" name="frameTargetBoxLinkUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe></div></div><div style="padding-top:20px"><button class="cmd-box-testclick">'+n("Test")+"</button></div></div>",i+='<div id="divBoxContentText" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Text Style")+':</div><div style="display:flex"><button title="'+n("Light")+'" class="cmd-box-textcolor" data-value="light">'+n("Light")+'</button><button title="'+n("Dark")+'" class="cmd-box-textcolor" data-value="dark" style="border-left:none;">'+n("Dark")+'</button><button title="'+n("Not Set")+'" class="cmd-box-textcolor" data-value="" style="border-left:none;">'+n("Not Set")+'</button><br style="clear:both"></div></div><div style="padding-top:20px;"><label for="chkOptimizeTextSize" style="margin:0;"><input id="chkOptimizeTextSize" type="checkbox" /> '+n("Optimize text sizes on large screen.")+"</label></div>",i+='<div id="divContainerTransparency" style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Transparency")+':</div><div style="display:flex"><button title="'+n("Increase")+'" class="cmd-box-textopacity" data-value="+" style="width:40px"> + </button><button title="'+n("Decrease")+'" class="cmd-box-textopacity" data-value="-" style="width:40px;border-left:none;"> - </button><button title="'+n("Not Set")+'" class="cmd-box-textopacity" data-value="" style="border-left:none;">'+n("Not Set")+'</button><br style="clear:both"></div></div><div id="divContainerTextAlign" style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">Align:</div><div style="display:flex"><button title="'+n("Align Left")+'" class="cmd-box-textalign" data-value="left" style="width:40px"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:13px;height:13px;"><use xlink:href="#icon-align-left"></use></svg></button><button title="'+n("Align Center")+'" class="cmd-box-textalign" data-value="center" style="width:40px;border-left:none;"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:13px;height:13px;"><use xlink:href="#icon-align-center"></use></svg></button><button title="'+n("Align Right")+'" class="cmd-box-textalign" data-value="right" style="width:40px;border-left:none;"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:13px;height:13px;"><use xlink:href="#icon-align-right"></use></svg></button><button title="'+n("Align Full")+'" class="cmd-box-textalign" data-value="justify" style="width:40px;border-left:none;"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:13px;height:13px;"><use xlink:href="#icon-align-full"></use></svg></button><button title="'+n("Not Set")+'" class="cmd-box-textalign" data-value="" style="border-left:none;">'+n("Not Set")+'</button><br style="clear:both"></div></div>',i+=(this.builder.settings.enableContentStyle?'<div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Typography")+':</div><div style="display:flex"><button title="'+n("Change Style")+'" class="cmd-box-typography" data-value="+"> '+n("Change Style")+' </button><br style="clear:both"></div></div>':"")+'</div><div id="divBoxContentContainer" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><div style="padding-top:10px;"><label for="chkParallaxContent" style="margin:0;"><input id="chkParallaxContent" type="checkbox" /> '+n("Parallax")+'</label></div><div style="padding-top:10px;"><label for="chkFadeContent" style="margin:0;"><input id="chkFadeContent" type="checkbox" /> '+n("Fade")+"</label></div>",i+='<div style="display:flex;flex-direction: row;"><div style="display:flex;flex-direction: column;margin-right:20px;"><div style="padding-top:13px;padding-bottom: 3px;">'+n("Position")+':</div><div style="display:flex"><button title="'+n("Top Left")+'" class="cmd-box-content-pos" data-value="topleft" style="width:40px;">&#8598;</button><button title="'+n("Top Center")+'" class="cmd-box-content-pos" data-value="topcenter" style="width:40px;border-left:none;">&#8593;</button><button title="'+n("Top Right")+'" class="cmd-box-content-pos" data-value="topright" style="width:40px;border-left:none;">&#8599;</button></div><div style="display:flex"><button title="'+n("Middle Left")+'" class="cmd-box-content-pos" data-value="middleleft" style="width:40px;border-top:none;">&#8592;</button><button title="'+n("Middle Center")+'" class="cmd-box-content-pos" data-value="middlecenter" style="width:40px;border-left:none;border-top:none;">&#9737;</button><button title="'+n("Middle Right")+'" class="cmd-box-content-pos" data-value="middleright" style="width:40px;border-left:none;border-top:none;">&#8594;</button></div><div style="display:flex"><button title="'+n("Bottom Left")+'" class="cmd-box-content-pos" data-value="bottomleft" style="width:40px;border-top:none;">&#8601;</button><button title="'+n("Bottom Center")+'" class="cmd-box-content-pos" data-value="bottomcenter" style="width:40px;border-left:none;border-top:none;">&#8595;</button><button title="'+n("Bottom Right")+'" class="cmd-box-content-pos" data-value="bottomright" style="width:40px;border-left:none;border-top:none;">&#8600;</button></div></div><div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 1px;">'+n("Height")+':</div><div style="display: flex;flex-direction: row;flex-wrap: wrap;"><button title="'+n("Auto")+'" class="cmd-content-height" data-value="" style="width:60px">Auto</button><button title="'+n("Full")+'" class="cmd-content-height" data-value="100" style="width:40px">Full</button></div><div class="div-content-justify"><div style="padding-top:10px;padding-bottom: 1px;">'+n("Justify")+':</div><div style="display: flex;flex-direction: row;flex-wrap: wrap;"><button title="'+n("Top")+'" class="cmd-content-justify" data-value="flex-start" style="width:40px"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-arrow-bar-to-up"></use></svg></button><button title="'+n("Bottom")+'" class="cmd-content-justify" data-value="flex-end" style="width:40px"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-arrow-bar-to-down"></use></svg></button><button title="'+n("Space Between")+'" class="cmd-content-justify" data-value="space-between" style="width:40px"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-space-between"></use></svg></button></div></div></div></div>',i+='<div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Vertical Adjustment")+':</div><div style="display:flex"><button title="'+n("Decrease")+'" class="cmd-box-content-edge-y" data-value="-" style="width:40px;">-</button><button title="'+n("Increase")+'" class="cmd-box-content-edge-y" data-value="+" style="width:40px;border-left:none;">+</button><button title="'+n("Not Set")+'" class="cmd-box-content-edge-y" data-value="" style="display:none;width:40px;border-left:none;min-width:100px;">'+n("Not Set")+'</button></div></div><div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Horizontal Adjustment")+':</div><div style="display:flex"><button title="'+n("Decrease")+'" class="cmd-box-content-edge-x" data-value="-" style="width:40px;">-</button><button title="'+n("Increase")+'" class="cmd-box-content-edge-x" data-value="+" style="width:40px;border-left:none;">+</button><button title="'+n("Not Set")+'" class="cmd-box-content-edge-x" data-value="" style="display:none;width:40px;border-left:none;min-width:100px;">'+n("Not Set")+'</button></div></div><div style="padding-top:13px;"><label for="chkAutofitContent" style="margin:0;"><input id="chkAutofitContent" type="checkbox" /> '+n("Autofit Content on Mobile")+"</label></div></div>",i+='<div id="divBoxImage" class="is-tab-content" data-group="boxsettings" style="padding-top:0">'+(null!=this.builder.settings.onCoverImageSelectClick?'<div style="padding-top:20px;"><button class="cmd-box-selectasset" style="width:120px;">'+n("Select Image")+'</button></div><div style="padding-top:20px;"><label for="chkAnimateBg" style="margin:0;"><input id="chkAnimateBg" type="checkbox" /> '+n("Ken Burns Effect")+"</label></div>":'<div style="padding-top:20px;"><label for="chkAnimateBg" style="margin:0;"><input id="chkAnimateBg" type="checkbox" /> '+n("Ken Burns Effect")+"</label></div>")+'<div style="padding-top:10px;"><label for="chkParallaxBg" style="margin:0;"><input id="chkParallaxBg" type="checkbox" /> '+n("Parallax")+" & "+n("Scale")+'</label></div><div style="padding-top:10px;"><label for="chkParallaxBg2" style="margin:0;"><input id="chkParallaxBg2" type="checkbox" /> '+n("Parallax")+" "+n("(visible on preview)")+"</label></div>",i+='<div style="padding-top:20px;padding-bottom: 3px;">'+n("Overlay Color")+':</div><div style="display:flex;"><button title="'+n("Overlay Color")+'" class="input-box-overlaycolor is-btn-color" style="margin-right:15px"></button></div><div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+n("Overlay Transparency")+':</div><div style="display:flex"><button title="'+n("Decrease")+'" class="cmd-box-overlayopacity" data-value="-" style="width:40px;border-left:none;">-</button><button title="'+n("Increase")+'" class="cmd-box-overlayopacity" data-value="+" style="width:40px;">+</button><button title="'+n("None")+'" class="cmd-box-overlayopacity" data-value="0" style="border-left:none;min-width:100px;">'+n("None")+'</button></div></div></div><div id="divBoxAnimate" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><div style="display:flex;flex-direction: column;"><select class="cmd-box-animate"><option value="">'+n("None")+'</option><option value="is-pulse">pulse</option><option value="is-bounceIn">bounceIn</option><option value="is-fadeIn">fadeIn</option><option value="is-fadeInDown">fadeInDown</option><option value="is-fadeInLeft">fadeInLeft</option><option value="is-fadeInRight">fadeInRight</option><option value="is-fadeInUp">fadeInUp</option><option value="is-flipInX">flipInX</option><option value="is-flipInY">flipInY</option><option value="is-slideInUp">slideInUp</option><option value="is-slideInDown">slideInDown</option><option value="is-slideInLeft">slideInLeft</option><option value="is-slideInRight">slideInRight</option><option value="is-zoomIn">zoomIn</option></select><label for="chkAnimOnce" style="margin:10px 0 0;"><input id="chkAnimOnce" type="checkbox" /> '+n("Once")+"</label></div>",i+='<div><label style="padding-top:20px;">'+n("Delay")+': <select class="cmd-box-animatedelay" style="margin-top:3px;"><option value="">'+n("None")+'</option><option value="delay-0ms">0s</option><option value="delay-100ms">100ms</option><option value="delay-200ms">200ms</option><option value="delay-300ms">300ms</option><option value="delay-400ms">400ms</option><option value="delay-500ms">500ms</option><option value="delay-600ms">600ms</option><option value="delay-700ms">700ms</option><option value="delay-800ms">800ms</option><option value="delay-900ms">900ms</option><option value="delay-1000ms">1000ms</option><option value="delay-1100ms">1100ms</option><option value="delay-1200ms">1200ms</option><option value="delay-1300ms">1300ms</option><option value="delay-1400ms">1400ms</option><option value="delay-1500ms">1500ms</option><option value="delay-1600ms">1600ms</option><option value="delay-1700ms">1700ms</option><option value="delay-1800ms">1800ms</option><option value="delay-1900ms">1900ms</option><option value="delay-2000ms">2000ms</option><option value="delay-2100ms">2100ms</option><option value="delay-2200ms">2200ms</option><option value="delay-2300ms">2300ms</option><option value="delay-2400ms">2400ms</option><option value="delay-2500ms">2500ms</option><option value="delay-2600ms">2600ms</option><option value="delay-2700ms">2700ms</option><option value="delay-2800ms">2800ms</option><option value="delay-2900ms">2900ms</option><option value="delay-3000ms">3000ms</option></select></label></div><div style="padding-top:20px"><button class="cmd-box-animate-test" style="width:100%">'+n("Test")+'</button></div></div></div></div><div class="is-modal pickphoto"><div style="max-width:1000px;height:570px;padding:0;box-sizing:border-box;position:relative;"><div class="is-modal-bar is-draggable" style="position: absolute;top: 0;left: 0;width: 100%;z-index:1;">'+n("Photos")+'</div><iframe style="position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-top:40px solid transparent;margin:0;box-sizing:border-box;" src="about:blank"></iframe></div></div>',Zt.appendHtml(t,i),this.builder.boxTool=t.querySelector("#divBoxTool"),t.querySelector("#hidcustomval").value=this.builder.settings.customval;t.querySelector("#btnEditBox").addEventListener("click",(()=>{this.edit()}));t.querySelector("#btnEditModule").addEventListener("click",(()=>{this.editModule()}));const o=t.querySelector("#fileCover");o.addEventListener("click",(()=>{this.targetBox=this.builder.activeBox})),o.addEventListener("change",(e=>{if(""===o.value)return;this.builder.editor.saveForUndo();const t=this.builderStuff;Zt.appendHtml(t,`<div class="waiting-indicator-overlay"></div>\n            <div class="waiting-indicator">\n                <div>${n("Uploading..")}</div>\n            </div>\n            `);const i=t.querySelector(".waiting-indicator");let s=this.targetBox;const a=s.getBoundingClientRect().top+window.pageYOffset,r=s.getBoundingClientRect().left+window.pageXOffset;i.style.top=a+"px",i.style.left=r+"px",this.builder.settings.onUploadCoverImage?this.builder.settings.onUploadCoverImage(e):t.querySelector("#form-upload-cover").submit(),o.value="",e.preventDefault(),e.stopImmediatePropagation()}));const s=t.querySelector(".is-modal.editbox");this.modalEditBox=s;const a=t.querySelector(".is-modal.editcustomcode"),r=t.querySelector(".is-modal.editmodule"),l=s.querySelectorAll(".is-tabs a");l.forEach((e=>{e.addEventListener("click",(t=>{if(t.preventDefault(),Zt.hasClass(e,"active"))return;l.forEach((e=>{Zt.removeClass(e,"active")})),Zt.addClass(e,"active");let i=e.getAttribute("data-content");s.querySelectorAll(".is-tab-content").forEach((e=>{e.style.display="none"})),s.querySelector("#"+i).style.display="block"}))})),s.querySelector("#tabBoxGeneral").click();s.querySelector(".cmd-box-smaller").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxWidthSmaller(),this.builder.settings.onChange()}));s.querySelector(".cmd-box-larger").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxWidthLarger(),this.builder.settings.onChange()}));s.querySelectorAll(".cmd-box-textcolor").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxTextColor(t),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-textalign").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxTextAlign(t),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-textopacity").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxTextOpacity(t),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-typography").forEach((e=>{e.addEventListener("click",(()=>{setTimeout((()=>{this.builder.hideModal(s),t.querySelector('.is-sidebar > button[data-command="typography"]').click();Zt.appendHtml(t,'<div class="is-sidebar-overlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.000001);z-index: 1000;"></div>');const e=t.querySelector(".is-sidebar-overlay");e&&e.addEventListener("click",(()=>{const e=document.querySelector(".is-sidebar-overlay");e&&(e.remove(),document.body.style.overflowY=""),document.querySelectorAll(".is-sidebar-button.active").forEach((e=>{Zt.removeClass(e,"active")})),document.querySelectorAll(".is-sidebar-content.active").forEach((e=>{Zt.removeClass(e,"active")}))})),t.querySelector('.is-sidebar > button[data-command="typography"]').setAttribute("data-applyto","box"),t.querySelector(".typo-target-default").style.display="none",t.querySelector(".typo-target-box").style.display="flex"}),10)}))}));s.querySelectorAll(".cmd-box-size").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();const t=this.builder.activeBox.querySelector(".is-container"),i=this.builder.contentSizes;let n,o=e.getAttribute("data-value");if(""===o)return t.style.maxWidth="",t.classList.forEach((e=>{-1!==e.indexOf("is-content-")&&"is-content-left"!==e&&"is-content-right"!==e&&Zt.removeClass(t,e)})),Zt.addClass(t,"is-content-none"),s.querySelector(".inp-box-size").value="",s.querySelector(".val-box-size").innerHTML="",void this.builder.settings.onChange();if("+"===o||"-"===o){for(let e=0;e<i.length;e++)if(Zt.hasClass(t,`is-content-${i[e]}`)){if("+"===o){n=e+1>=i.length?i[e]:i[e+1];break}if("-"===o){n=e-1<0?i[e]:i[e-1];break}}if(!n){const e=t.offsetWidth;for(let t=0;t<i.length;t++){if(i[t]<=e&&e<i[t+1]&&"+"===o){n=i[t+1];break}if(i[t]<e&&e<=i[t+1]&&"-"===o){n=i[t];break}}}}else n=o;n||(n=800),t.style.maxWidth="",t.classList.forEach((e=>{-1!==e.indexOf("is-content-")&&"is-content-left"!==e&&"is-content-right"!==e&&Zt.removeClass(t,e)})),Zt.addClass(t,"is-content-"+n),s.querySelector(".inp-box-size").value=n,s.querySelector(".val-box-size").innerHTML=n,this.builder.settings.onChange()}))}));const d=s.querySelector(".inp-box-size");d.addEventListener("input",(()=>{this.builder.editor.saveForUndo();const e=[];let t=300;for(;t<=2700;)e.push(t),t+=20;let i=this.builder.activeBox.querySelector(".is-container");i.classList.forEach((e=>{-1!==e.indexOf("is-content-")&&"is-content-left"!==e&&"is-content-right"!==e&&Zt.removeClass(i,e)}));let n=d.value;if(!isNaN(n)&&n>=300&&n<=2700){i.style.maxWidth=n+"px";let t=parseInt(window.getComputedStyle(i,null).getPropertyValue("max-width"));for(let i=0;i<=121;i++){let n=e[i];if(n>t){t=n;break}}n=t,n<=300&&(n=300),n>=2700&&(n=2700),Zt.addClass(i,"is-content-"+n)}this.builder.settings.onChange()}));s.querySelectorAll(".cmd-content-justify").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value"),i=this.builder.activeBox.querySelector(".is-container");i.style.justifyContent="",Zt.removeClass(i,"justify-start"),Zt.removeClass(i,"justify-end"),Zt.removeClass(i,"justify-between"),"flex-start"===t?Zt.addClass(i,"justify-start"):"flex-end"===t?Zt.addClass(i,"justify-end"):"space-between"===t&&Zt.addClass(i,"justify-between"),s.querySelectorAll(".cmd-content-justify").forEach((e=>{Zt.removeClass(e,"on")})),Zt.addClass(e,"on"),this.builder.settings.onChange()}))}));const c=s.querySelectorAll(".cmd-content-height"),u=s.querySelector(".div-content-justify");c.forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value"),i=this.builder.activeBox.querySelector(".is-container");if(""===t&&(i.style.height="",Zt.removeClass(i,"h-full"),Zt.removeClass(i,"flex"),Zt.removeClass(i,"flex-col"),Zt.removeClass(i,"justify-start"),Zt.removeClass(i,"justify-end"),Zt.removeClass(i,"justify-between"),u.style.display="none"),"100"===t){Zt.addClass(i,"h-full"),Zt.addClass(i,"flex"),Zt.addClass(i,"flex-col"),Zt.removeClass(i,"justify-start"),Zt.removeClass(i,"justify-end"),Zt.addClass(i,"justify-between"),u.style.display="block",s.querySelectorAll(".cmd-content-justify").forEach((e=>{Zt.removeClass(e,"on")})),Zt.addClass(s.querySelector('.cmd-content-justify[data-value="space-between"]'),"on")}s.querySelectorAll(".cmd-content-height").forEach((e=>{Zt.removeClass(e,"on")})),Zt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-pos").forEach((e=>{e.addEventListener("click",(()=>{let t=this.builder.activeBox,i=t.querySelector(".is-box-centered"),n=t.querySelector(".is-container");this.builder.editor.saveForUndo(),Zt.removeClass(t.querySelector(".edge-y--5"),"edge-y--5"),Zt.removeClass(t.querySelector(".edge-y--4"),"edge-y--4"),Zt.removeClass(t.querySelector(".edge-y--3"),"edge-y--3"),Zt.removeClass(t.querySelector(".edge-y--2"),"edge-y--2"),Zt.removeClass(t.querySelector(".edge-y--1"),"edge-y--1"),Zt.removeClass(t.querySelector(".edge-y-0"),"edge-y-0"),Zt.removeClass(t.querySelector(".edge-y-0-25"),"edge-y-0-25"),Zt.removeClass(t.querySelector(".edge-y-0-5"),"edge-y-0-5"),Zt.removeClass(t.querySelector(".edge-y-0-75"),"edge-y-0-75"),Zt.removeClass(t.querySelector(".edge-y-1"),"edge-y-1"),Zt.removeClass(t.querySelector(".edge-y-2"),"edge-y-2"),Zt.removeClass(t.querySelector(".edge-y-3"),"edge-y-3"),Zt.removeClass(t.querySelector(".edge-y-4"),"edge-y-4"),Zt.removeClass(t.querySelector(".edge-y-5"),"edge-y-5"),Zt.removeClass(t.querySelector(".edge-x--1"),"edge-x--1"),Zt.removeClass(t.querySelector(".edge-x--0-75"),"edge-x--0-75"),Zt.removeClass(t.querySelector(".edge-x--0-5"),"edge-x--0-5"),Zt.removeClass(t.querySelector(".edge-x--0-25"),"edge-x--0-25"),Zt.removeClass(t.querySelector(".edge-x-0"),"edge-x-0"),Zt.removeClass(t.querySelector(".edge-x-0-25"),"edge-x-0-25"),Zt.removeClass(t.querySelector(".edge-x-0-5"),"edge-x-0-5"),Zt.removeClass(t.querySelector(".edge-x-0-75"),"edge-x-0-75"),Zt.removeClass(t.querySelector(".edge-x-1"),"edge-x-1"),Zt.removeClass(t.querySelector(".edge-x-2"),"edge-x-2"),Zt.removeClass(t.querySelector(".edge-x-3"),"edge-x-3"),Zt.removeClass(t.querySelector(".edge-x-4"),"edge-x-4"),Zt.removeClass(t.querySelector(".edge-x-5"),"edge-x-5"),Zt.removeClass(t.querySelector(".is-box-centered"),"is-content-top"),Zt.removeClass(t.querySelector(".is-box-centered"),"is-content-bottom"),Zt.removeClass(t,"is-content-top"),Zt.removeClass(t,"is-content-bottom"),Zt.removeClass(t.querySelector(".is-container"),"is-content-left"),Zt.removeClass(t.querySelector(".is-container"),"is-content-right");let o=e.getAttribute("data-value");"topleft"===o&&(Zt.addClass(t.querySelector(".is-box-centered"),"is-content-top"),Zt.addClass(t,"is-content-top"),Zt.addClass(t.querySelector(".is-container"),"is-content-left"),Zt.addClass(i,"edge-y-1"),Zt.addClass(n,"edge-x-0-5")),"topcenter"===o&&(Zt.addClass(t.querySelector(".is-box-centered"),"is-content-top"),Zt.addClass(t,"is-content-top"),Zt.removeClass(t.querySelector(".is-container"),"is-content-left"),Zt.addClass(i,"edge-y-1")),"topright"===o&&(Zt.addClass(t.querySelector(".is-box-centered"),"is-content-top"),Zt.addClass(t,"is-content-top"),Zt.addClass(t.querySelector(".is-container"),"is-content-right"),Zt.addClass(i,"edge-y-1"),Zt.addClass(n,"edge-x-0-5")),"middleleft"===o&&(Zt.addClass(t.querySelector(".is-container"),"is-content-left"),Zt.addClass(n,"edge-x-0-5")),"middleright"===o&&(Zt.addClass(t.querySelector(".is-container"),"is-content-right"),Zt.addClass(n,"edge-x-0-5")),"bottomleft"===o&&(Zt.addClass(t.querySelector(".is-box-centered"),"is-content-bottom"),Zt.addClass(t,"is-content-bottom"),Zt.addClass(t.querySelector(".is-container"),"is-content-left"),Zt.addClass(i,"edge-y-1"),Zt.addClass(n,"edge-x-0-5")),"bottomcenter"===o&&(Zt.addClass(t.querySelector(".is-box-centered"),"is-content-bottom"),Zt.addClass(t,"is-content-bottom"),Zt.addClass(i,"edge-y-1")),"bottomright"===o&&(Zt.addClass(t.querySelector(".is-box-centered"),"is-content-bottom"),Zt.addClass(t,"is-content-bottom"),Zt.addClass(t.querySelector(".is-container"),"is-content-right"),Zt.addClass(i,"edge-y-1"),Zt.addClass(n,"edge-x-0-5")),s.querySelectorAll(".cmd-box-content-pos").forEach((e=>{Zt.removeClass(e,"on")})),Zt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-edge-x").forEach((e=>{e.addEventListener("click",(()=>{let t=this.builder.activeBox.querySelector(".is-container");this.builder.editor.saveForUndo();let i=e.getAttribute("data-value");if("-"===i){if(Zt.hasClass(t,"edge-x--1"))return!1;Zt.hasClass(t,"edge-x--0-75")?(Zt.removeClass(t,"edge-x--0-75"),Zt.addClass(t,"edge-x--1")):Zt.hasClass(t,"edge-x--0-5")?(Zt.removeClass(t,"edge-x--0-5"),Zt.addClass(t,"edge-x--0-75")):Zt.hasClass(t,"edge-x--0-25")?(Zt.removeClass(t,"edge-x--0-25"),Zt.addClass(t,"edge-x--0-5")):Zt.hasClass(t,"edge-x-0")?(Zt.removeClass(t,"edge-x-0"),Zt.addClass(t,"edge-x--0-25")):Zt.hasClass(t,"edge-x-0-25")?(Zt.removeClass(t,"edge-x-0-25"),Zt.addClass(t,"edge-x-0")):Zt.hasClass(t,"edge-x-0-5")?(Zt.removeClass(t,"edge-x-0-5"),Zt.addClass(t,"edge-x-0-25")):Zt.hasClass(t,"edge-x-0-75")?(Zt.removeClass(t,"edge-x-0-75"),Zt.addClass(t,"edge-x-0-5")):Zt.hasClass(t,"edge-x-1")?(Zt.removeClass(t,"edge-x-1"),Zt.addClass(t,"edge-x-0-75")):Zt.hasClass(t,"edge-x-2")?(Zt.removeClass(t,"edge-x-2"),Zt.addClass(t,"edge-x-1")):Zt.hasClass(t,"edge-x-3")?(Zt.removeClass(t,"edge-x-3"),Zt.addClass(t,"edge-x-2")):Zt.hasClass(t,"edge-x-4")?(Zt.removeClass(t,"edge-x-4"),Zt.addClass(t,"edge-x-3")):Zt.hasClass(t,"edge-x-5")?(Zt.removeClass(t,"edge-x-5"),Zt.addClass(t,"edge-x-4")):Zt.hasClass(t,"edge-x-6")?(Zt.removeClass(t,"edge-x-6"),Zt.addClass(t,"edge-x-5")):Zt.addClass(t,"edge-x-0")}if("+"===i)if(Zt.hasClass(t,"edge-x--1"))Zt.removeClass(t,"edge-x--1"),Zt.addClass(t,"edge-x--0-75");else if(Zt.hasClass(t,"edge-x--0-75"))Zt.removeClass(t,"edge-x--0-75"),Zt.addClass(t,"edge-x--0-5");else if(Zt.hasClass(t,"edge-x--0-5"))Zt.removeClass(t,"edge-x--0-5"),Zt.addClass(t,"edge-x--0-25");else if(Zt.hasClass(t,"edge-x--0-25"))Zt.removeClass(t,"edge-x--0-25"),Zt.addClass(t,"edge-x-0");else if(Zt.hasClass(t,"edge-x-0"))Zt.removeClass(t,"edge-x-0"),Zt.addClass(t,"edge-x-0-25");else if(Zt.hasClass(t,"edge-x-0-25"))Zt.removeClass(t,"edge-x-0-25"),Zt.addClass(t,"edge-x-0-5");else if(Zt.hasClass(t,"edge-x-0-5"))Zt.removeClass(t,"edge-x-0-5"),Zt.addClass(t,"edge-x-0-75");else if(Zt.hasClass(t,"edge-x-0-75"))Zt.removeClass(t,"edge-x-0-75"),Zt.addClass(t,"edge-x-1");else if(Zt.hasClass(t,"edge-x-1"))Zt.removeClass(t,"edge-x-1"),Zt.addClass(t,"edge-x-2");else if(Zt.hasClass(t,"edge-x-2"))Zt.removeClass(t,"edge-x-2"),Zt.addClass(t,"edge-x-3");else if(Zt.hasClass(t,"edge-x-3"))Zt.removeClass(t,"edge-x-3"),Zt.addClass(t,"edge-x-4");else if(Zt.hasClass(t,"edge-x-4"))Zt.removeClass(t,"edge-x-4"),Zt.addClass(t,"edge-x-5");else if(Zt.hasClass(t,"edge-x-5"))Zt.removeClass(t,"edge-x-5"),Zt.addClass(t,"edge-x-6");else{if(Zt.hasClass(t,"edge-x-6"))return!1;Zt.addClass(t,"edge-x-0")}""===i&&(Zt.removeClass(t,"edge-x--1"),Zt.removeClass(t,"edge-x--0-75"),Zt.removeClass(t,"edge-x--0-5"),Zt.removeClass(t,"edge-x--0-25"),Zt.removeClass(t,"edge-x-0"),Zt.removeClass(t,"edge-x-0-25"),Zt.removeClass(t,"edge-x-0-5"),Zt.removeClass(t,"edge-x-0-75"),Zt.removeClass(t,"edge-x-1"),Zt.removeClass(t,"edge-x-2"),Zt.removeClass(t,"edge-x-3"),Zt.removeClass(t,"edge-x-4"),Zt.removeClass(t,"edge-x-5"),Zt.removeClass(t,"edge-x-6")),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-edge-y").forEach((e=>{e.addEventListener("click",(()=>{let t=this.builder.activeBox.querySelector(".is-box-centered");this.builder.editor.saveForUndo();let i=e.getAttribute("data-value");if("-"===i){if(Zt.hasClass(t,"edge-y--5"))return!1;Zt.hasClass(t,"edge-y--4")?(Zt.removeClass(t,"edge-y--4"),Zt.addClass(t,"edge-y--5")):Zt.hasClass(t,"edge-y--3")?(Zt.removeClass(t,"edge-y--3"),Zt.addClass(t,"edge-y--4")):Zt.hasClass(t,"edge-y--2")?(Zt.removeClass(t,"edge-y--2"),Zt.addClass(t,"edge-y--3")):Zt.hasClass(t,"edge-y--1")?(Zt.removeClass(t,"edge-y--1"),Zt.addClass(t,"edge-y--2")):Zt.hasClass(t,"edge-y-0")?(Zt.removeClass(t,"edge-y-0"),Zt.addClass(t,"edge-y--1")):Zt.hasClass(t,"edge-y-0-25")?(Zt.removeClass(t,"edge-y-0-25"),Zt.addClass(t,"edge-y-0")):Zt.hasClass(t,"edge-y-0-5")?(Zt.removeClass(t,"edge-y-0-5"),Zt.addClass(t,"edge-y-0-25")):Zt.hasClass(t,"edge-y-0-75")?(Zt.removeClass(t,"edge-y-0-75"),Zt.addClass(t,"edge-y-0-5")):Zt.hasClass(t,"edge-y-1")?(Zt.removeClass(t,"edge-y-1"),Zt.addClass(t,"edge-y-0-75")):Zt.hasClass(t,"edge-y-2")?(Zt.removeClass(t,"edge-y-2"),Zt.addClass(t,"edge-y-1")):Zt.hasClass(t,"edge-y-3")?(Zt.removeClass(t,"edge-y-3"),Zt.addClass(t,"edge-y-2")):Zt.hasClass(t,"edge-y-4")?(Zt.removeClass(t,"edge-y-4"),Zt.addClass(t,"edge-y-3")):Zt.hasClass(t,"edge-y-5")?(Zt.removeClass(t,"edge-y-5"),Zt.addClass(t,"edge-y-4")):Zt.hasClass(t,"edge-y-6")?(Zt.removeClass(t,"edge-y-6"),Zt.addClass(t,"edge-y-5")):Zt.hasClass(t,"edge-y-7")?(Zt.removeClass(t,"edge-y-7"),Zt.addClass(t,"edge-y-6")):Zt.hasClass(t,"edge-y-8")?(Zt.removeClass(t,"edge-y-8"),Zt.addClass(t,"edge-y-7")):Zt.addClass(t,"edge-y-0")}if("+"==i)if(Zt.hasClass(t,"edge-y--5"))Zt.removeClass(t,"edge-y--5"),Zt.addClass(t,"edge-y--4");else if(Zt.hasClass(t,"edge-y--4"))Zt.removeClass(t,"edge-y--4"),Zt.addClass(t,"edge-y--3");else if(Zt.hasClass(t,"edge-y--3"))Zt.removeClass(t,"edge-y--3"),Zt.addClass(t,"edge-y--2");else if(Zt.hasClass(t,"edge-y--2"))Zt.removeClass(t,"edge-y--2"),Zt.addClass(t,"edge-y--1");else if(Zt.hasClass(t,"edge-y--1"))Zt.removeClass(t,"edge-y--1"),Zt.addClass(t,"edge-y-0");else if(Zt.hasClass(t,"edge-y-0"))Zt.removeClass(t,"edge-y-0"),Zt.addClass(t,"edge-y-0-25");else if(Zt.hasClass(t,"edge-y-0-25"))Zt.removeClass(t,"edge-y-0-25"),Zt.addClass(t,"edge-y-0-5");else if(Zt.hasClass(t,"edge-y-0-5"))Zt.removeClass(t,"edge-y-0-5"),Zt.addClass(t,"edge-y-0-75");else if(Zt.hasClass(t,"edge-y-0-75"))Zt.removeClass(t,"edge-y-0-75"),Zt.addClass(t,"edge-y-1");else if(Zt.hasClass(t,"edge-y-1"))Zt.removeClass(t,"edge-y-1"),Zt.addClass(t,"edge-y-2");else if(Zt.hasClass(t,"edge-y-2"))Zt.removeClass(t,"edge-y-2"),Zt.addClass(t,"edge-y-3");else if(Zt.hasClass(t,"edge-y-3"))Zt.removeClass(t,"edge-y-3"),Zt.addClass(t,"edge-y-4");else if(Zt.hasClass(t,"edge-y-4"))Zt.removeClass(t,"edge-y-4"),Zt.addClass(t,"edge-y-5");else if(Zt.hasClass(t,"edge-y-5"))Zt.removeClass(t,"edge-y-5"),Zt.addClass(t,"edge-y-6");else if(Zt.hasClass(t,"edge-y-6"))Zt.removeClass(t,"edge-y-6"),Zt.addClass(t,"edge-y-7");else if(Zt.hasClass(t,"edge-y-7"))Zt.removeClass(t,"edge-y-7"),Zt.addClass(t,"edge-y-8");else{if(Zt.hasClass(t,"edge-y-8"))return!1;Zt.addClass(t,"edge-y-0")}""==i&&(Zt.removeClass(t,"edge-y--5"),Zt.removeClass(t,"edge-y--4"),Zt.removeClass(t,"edge-y--3"),Zt.removeClass(t,"edge-y--2"),Zt.removeClass(t,"edge-y--1"),Zt.removeClass(t,"edge-y-0"),Zt.removeClass(t,"edge-y-0-25"),Zt.removeClass(t,"edge-y-0-5"),Zt.removeClass(t,"edge-y-0-75"),Zt.removeClass(t,"edge-y-1"),Zt.removeClass(t,"edge-y-2"),Zt.removeClass(t,"edge-y-3"),Zt.removeClass(t,"edge-y-4"),Zt.removeClass(t,"edge-y-5"),Zt.removeClass(t,"edge-y-6"),Zt.removeClass(t,"edge-y-7"),Zt.removeClass(t,"edge-y-8")),this.builder.settings.onChange()}))}));s.querySelector("#chkOptimizeTextSize").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxOptimizeTextSize(),this.builder.settings.onChange()}));s.querySelector("#chkParallaxContent").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxContainerAnim(),this.builder.settings.onChange()}));s.querySelector("#chkFadeContent").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxContainerAnim(),this.builder.settings.onChange()}));s.querySelector("#chkAutofitContent").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxContentAutofit(),this.builder.settings.onChange()}));s.querySelector(".cmd-box-pickphoto").addEventListener("click",(()=>{const e=s.querySelector(".is-modal.pickphoto");this.builder.showModal(e);const t=this.builder.settings.photoselect;e.querySelector("iframe").setAttribute("src",t)}));s.querySelector("#chkAnimateBg").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxAnimateBg(),this.builder.settings.onChange()}));s.querySelector("#chkParallaxBg").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxParallaxBg(),this.builder.settings.onChange()}));s.querySelector("#chkParallaxBg2").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxParallaxBg2(),this.builder.settings.onChange()}));s.querySelectorAll(".cmd-box-overlayopacity").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxOverlayOpacity(t),this.builder.settings.onChange()}))}));const p=s.querySelector(".cmd-box-selectasset");p&&p.addEventListener("click",(()=>{this.boxSelectAsset()}));const h=s.querySelector(".cmd-box-animate");h.addEventListener("change",(()=>{const e=this.builder.activeBox;this.builder.editor.saveForUndo(),Zt.removeClass(e,"is-animated"),Zt.removeClass(e,"is-pulse"),Zt.removeClass(e,"is-bounceIn"),Zt.removeClass(e,"is-fadeIn"),Zt.removeClass(e,"is-fadeInDown"),Zt.removeClass(e,"is-fadeInLeft"),Zt.removeClass(e,"is-fadeInRight"),Zt.removeClass(e,"is-fadeInUp"),Zt.removeClass(e,"is-flipInX"),Zt.removeClass(e,"is-flipInY"),Zt.removeClass(e,"is-slideInUp"),Zt.removeClass(e,"is-slideInDown"),Zt.removeClass(e,"is-slideInLeft"),Zt.removeClass(e,"is-slideInRight"),Zt.removeClass(e,"is-zoomIn"),Zt.removeClass(e,"animated"),Zt.removeClass(e,"pulse"),Zt.removeClass(e,"bounceIn"),Zt.removeClass(e,"fadeIn"),Zt.removeClass(e,"fadeInDown"),Zt.removeClass(e,"fadeInLeft"),Zt.removeClass(e,"fadeInRight"),Zt.removeClass(e,"fadeInUp"),Zt.removeClass(e,"flipInX"),Zt.removeClass(e,"flipInY"),Zt.removeClass(e,"slideInUp"),Zt.removeClass(e,"slideInDown"),Zt.removeClass(e,"slideInLeft"),Zt.removeClass(e,"slideInRight"),Zt.removeClass(e,"zoomIn"),""!==h.value&&(Zt.addClass(e,"is-animated"),Zt.addClass(e,h.value),Zt.addClass(e,"animated"),Zt.addClass(e,h.value.substr(3)),Zt.removeClass(e,"box-active")),this.builder.settings.onChange()}));s.querySelector(".cmd-box-animate-test").addEventListener("click",(()=>{const e=this.builder.activeBox;Zt.removeClass(e,"animated"),Zt.removeClass(e,"pulse"),Zt.removeClass(e,"bounceIn"),Zt.removeClass(e,"fadeIn"),Zt.removeClass(e,"fadeInDown"),Zt.removeClass(e,"fadeInLeft"),Zt.removeClass(e,"fadeInRight"),Zt.removeClass(e,"fadeInUp"),Zt.removeClass(e,"flipInX"),Zt.removeClass(e,"flipInY"),Zt.removeClass(e,"slideInUp"),Zt.removeClass(e,"slideInDown"),Zt.removeClass(e,"slideInLeft"),Zt.removeClass(e,"slideInRight"),Zt.removeClass(e,"zoomIn"),setTimeout((function(){Zt.addClass(e,"animated"),Zt.addClass(e,h.value.substr(3)),Zt.removeClass(e,"box-active")}),50),this.builder.settings.onChange()}));const g=s.querySelector("#chkAnimOnce");g.addEventListener("click",(()=>{const e=this.builder.activeBox;this.builder.editor.saveForUndo(),e.setAttribute("data-animated",""),g.checked?Zt.addClass(e,"once"):Zt.removeClass(e,"once"),this.builder.settings.onChange()}));const f=s.querySelector(".cmd-box-animatedelay");f.addEventListener("change",(()=>{const e=this.builder.activeBox;this.builder.editor.saveForUndo(),Zt.removeClass(e,"delay-0ms"),Zt.removeClass(e,"delay-100ms"),Zt.removeClass(e,"delay-200ms"),Zt.removeClass(e,"delay-300ms"),Zt.removeClass(e,"delay-400ms"),Zt.removeClass(e,"delay-500ms"),Zt.removeClass(e,"delay-600ms"),Zt.removeClass(e,"delay-700ms"),Zt.removeClass(e,"delay-800ms"),Zt.removeClass(e,"delay-900ms"),Zt.removeClass(e,"delay-1000ms"),Zt.removeClass(e,"delay-1100ms"),Zt.removeClass(e,"delay-1200ms"),Zt.removeClass(e,"delay-1300ms"),Zt.removeClass(e,"delay-1400ms"),Zt.removeClass(e,"delay-1500ms"),Zt.removeClass(e,"delay-1600ms"),Zt.removeClass(e,"delay-1700ms"),Zt.removeClass(e,"delay-1800ms"),Zt.removeClass(e,"delay-1900ms"),Zt.removeClass(e,"delay-2000ms"),Zt.removeClass(e,"delay-2100ms"),Zt.removeClass(e,"delay-2200ms"),Zt.removeClass(e,"delay-2300ms"),Zt.removeClass(e,"delay-2400ms"),Zt.removeClass(e,"delay-2500ms"),Zt.removeClass(e,"delay-2600ms"),Zt.removeClass(e,"delay-2700ms"),Zt.removeClass(e,"delay-2800ms"),Zt.removeClass(e,"delay-2900ms"),Zt.removeClass(e,"delay-3000ms"),""!==f.value&&Zt.addClass(e,f.value),this.builder.settings.onChange()}));const m=s.querySelector(".input-box-bgimage");m&&m.addEventListener("click",(()=>{const e=this.builder.activeBox.querySelector(".is-overlay-bg");let t="";e&&e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")&&(t=e.style.backgroundImage.slice(4,-1).replace(/["']/g,"")),this.builder.editor.openImagePicker(t,(e=>{this.boxImage(e)}))}));const v=s.querySelector(".input-box-bgimageadjust");v&&v.addEventListener("click",(()=>{const e=this.builder.activeBox.querySelector(".is-overlay-bg");this.builder.editor.openImageAdjust(e)}));const b=s.querySelector(".chk-box-bgimage-grayscale");b.addEventListener("click",(()=>{const e=this.builder.activeBox.querySelector(".is-overlay-bg");b.checked?e.style.filter="grayscale(1)":e.style.filter&&(e.style.filter=e.style.filter.replace("grayscale(1)",""))}));s.querySelector(".cmd-box-addtext").addEventListener("click",(()=>{const e=this.builder.activeBox,t=e.querySelector(".is-overlay");Zt.appendHtml(t,'\n                <div class="is-boxes">\n                    <div class="is-box-centered">\n                        <div class="is-container container" style="max-width: 440px;">\n                            \n                        </div>\n                    </div>\n                </div>\n            ',"afterend");let i=e.querySelector(".is-container");this.builder.editor.applyBehaviorOn(i),this.builder.onChange(),this.edit()}));s.querySelector(".cmd-box-removetext").addEventListener("click",(()=>{this.builder.editor.util.confirm(n("Are you sure you want to remove all text/content in this box?"),(e=>{if(e){const e=this.builder.activeBox.querySelector(".is-overlay").nextElementSibling;e.parentNode.removeChild(e),this.edit()}}))}));const y=s.querySelector(".input-box-bgremove");y&&y.addEventListener("click",(()=>{this.boxImage("")}));const _=this.builder.editor.colorpicker(),x=s.querySelector(".input-box-bgcolor");x.addEventListener("click",(()=>{this.builder.editor.saveForUndo(!0);const e=this.builder.activeBox;let t=x.style.backgroundColor,i=e.querySelector(".is-overlay");_.open((e=>{i.style.backgroundColor=e,i.style.backgroundImage="",x.style.backgroundColor=e}),t)})),s.querySelector(".input-box-gradient").addEventListener("click",(()=>{const e=this.builder.activeBox;this.builder.editor.saveForUndo(!0);let t=e.querySelector(".is-overlay");this.builder.editor.gradientpicker().open(t)}));const w=s.querySelector(".input-box-overlaycolor");w.addEventListener("click",(()=>{this.builder.editor.saveForUndo(!0);const e=this.builder.activeBox;let t=e.querySelector(".is-overlay");t||(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),t=e.querySelector(".is-overlay"));let i=t.querySelector(".is-overlay-bg");i||(t.insertAdjacentHTML("beforeend",'<div class="is-overlay-bg"></div>'),i=t.querySelector(".is-overlay-bg"));let n=i.querySelector(".is-overlay-color");n||(i.insertAdjacentHTML("beforeend",`<div class="is-overlay-color ${this.builder.cssClasses.opacity.opacity_5}"></div>`),n=i.querySelector(".is-overlay-color"));let o=n.style.backgroundColor;_.open((e=>{if("none"!==n.style.display&&0!==n.style.opacity||(n.style.display="block",n.style.opacity=.1),""===e){let e=i.querySelector(".is-overlay-color");e&&e.parentNode.removeChild(e)}else{let t=i.querySelector(".is-overlay-color");t||(i.insertAdjacentHTML("beforeend",`<div class="is-overlay-color ${this.builder.cssClasses.opacity.opacity_5}"></div>`),t=i.querySelector(".is-overlay-color")),t.style.backgroundColor=e}return w.style.backgroundColor=e,!1}),o)}));let S=this.builder.settings.largerImageHandler,C=this.builder.settings.onLargerImageUpload,k=this.builder.settings.onImageSelectClick,E=this.builder.settings.imageselect,A=this.builder.settings.onFileSelectClick,q=this.builder.settings.fileselect;""!==S||C||(s.querySelector(".image-larger5").style.display="none"),k||""!==E||(s.querySelector(".input-select").style.display="none");const T=s.querySelector(".input-src");try{this.builder.editor.dom.observeElement(T,"value",((e,t)=>{const i=this.builder.activeBox;let n=i.getAttribute("data-modal-url");n||(n=""),n!==t&&(this.builder.editor.saveForUndo(),this.builder.editor.dom.addClass(i,"block-click"),i.setAttribute("data-modal-url",t),this.builder.onChange())}))}catch(e){}if(k||E||A||q){const e=s.querySelector(".input-select");e&&e.addEventListener("click",(()=>{this.builder.editor.openAsset(s.querySelector(".input-src"),"media",e)}))}let L=s.querySelector("#fileImage5");L.addEventListener("change",(e=>{let t=L;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;this.builder.editor.dom.addClass(i,"please-wait"),s.querySelector("#hidRefId5").value=this.builder.settings.customval,C?C(e):i.submit(),L.value=""})),T.addEventListener("focus",(()=>{this.builder.editor.saveForUndo(!0)})),T.addEventListener("keyup",(()=>{const e=this.builder.activeBox;""===T.value?(this.builder.editor.dom.removeClass(e,"block-click"),e.removeAttribute("data-modal-url")):(this.builder.editor.dom.addClass(e,"block-click"),e.setAttribute("data-modal-url",T.value)),this.builder.onChange()})),s.querySelector(".cmd-box-testclick").addEventListener("click",(()=>{const e=this.builder.activeBox;this.builder.editor.openMedia(e)}));a.querySelector(".input-ok").addEventListener("click",(()=>{let e=this.builder.activeBox.querySelector(".is-overlay-content[data-module]");this.builder.editor.saveForUndo();const i=t.querySelector("#hidBoxCustomCode"),n=t.querySelector("#txtBoxCustomCode");i.value=n.value,e.setAttribute("data-html",encodeURIComponent(i.value));let o=document.createRange();e.innerHTML="",e.appendChild(o.createContextualFragment(i.value)),this.builder.settings.onRender(),this.builder.settings.onChange(),this.builder.hideModal(a)}));t.querySelector(".editcustomcode .cell-html-larger").addEventListener("click",(()=>{let e=t.querySelectorAll("[data-source-active]");e.forEach((e=>{e.removeAttribute("data-source-active")})),e=t.querySelectorAll("[data-source-ok]"),e.forEach((e=>{e.removeAttribute("data-source-ok")})),e=t.querySelectorAll("[data-source-cancel]"),e.forEach((e=>{e.removeAttribute("data-source-cancel")}));let i=t.querySelector(".editcustomcode textarea");i.setAttribute("data-source-active","1"),i.setAttribute("data-source-ok",".editcustomcode .input-ok"),i.setAttribute("data-source-cancel",".editcustomcode"),this.builder.editor.viewHtmlLarger()}));r.querySelector(".input-ok").addEventListener("click",(()=>{let e=this.builder.activeBox.querySelector(".is-overlay-content[data-module]");this.builder.editor.saveForUndo();let i=r.querySelector("iframe");i.contentWindow.construct&&i.contentWindow.construct(),this.builder.editor.saveForUndo();const n=t.querySelector("#hidModuleCode"),o=t.querySelector("#hidModuleSettings");e.setAttribute("data-html",encodeURIComponent(n.value)),e.setAttribute("data-settings",encodeURIComponent(o.value));let s=document.createRange();e.innerHTML="",e.appendChild(s.createContextualFragment(n.value)),this.builder.settings.onRender(),this.builder.settings.onChange(),this.builder.hideModal(r)}))}edit(){this.targetBox=null,this.builder.sidebar.closeSidebar();const e=this.builderStuff.querySelector(".is-modal.editbox"),t=this.builder.activeBox,i=t.querySelector(".is-overlay-bg"),n=t.querySelector(".is-video-bg"),o=t.querySelector(".is-overlay-content");let s=!1;if(i){this.builder.editor.dom.elementChildren(i).forEach((e=>{Zt.hasClass(e,"is-overlay-color")||(s=!0)}))}if(i?(""==this.builder.settings.photoselect?e.querySelector("#divBoxPickPhoto").style.display="none":e.querySelector("#divBoxPickPhoto").style.display="block",s?(e.querySelector("#chkAnimateBg").parentNode.parentNode.style.display="none",e.querySelector("#chkParallaxBg").parentNode.parentNode.style.display="none"):e.querySelector("#chkAnimateBg").parentNode.parentNode.style.display=""):e.querySelector("#divBoxPickPhoto").style.display="none",this.builder.settings.enableAnimation?e.querySelector("#tabBoxAnimate").style.display="":e.querySelector("#tabBoxAnimate").style.display="none",t.querySelector(".is-container")){t.querySelector(".is-container .is-module")?e.querySelector("#tabBoxContentText").style.display="none":e.querySelector("#tabBoxContentText").style.display="";let i=window.getComputedStyle(t,null).getPropertyValue("display");"table"===i||"table-cell"===i||"flex"===i?(e.querySelector("#tabBoxContentContainer").style.display="",e.querySelector("#divContentSize").style.display=""):(e.querySelector("#tabBoxContentContainer").style.display="none",e.querySelector("#divContentSize").style.display="none")}else e.querySelector("#tabBoxContentText").style.display="none",e.querySelector("#tabBoxContentContainer").style.display="none",e.querySelector("#divContentSize").style.display="none";let a="middle";(Zt.hasClass(t,"is-content-top")||t.querySelector(".is-content-top"))&&(a="top"),(Zt.hasClass(t,"is-content-bottom")||t.querySelector(".is-content-bottom"))&&(a="bottom");const r=t.querySelector(".is-builder");let l="center";if(r&&(Zt.hasClass(r,"is-content-left")&&(l="left"),Zt.hasClass(r,"is-content-right")&&(l="right")),e.querySelectorAll(".cmd-box-content-pos").forEach((e=>{Zt.removeClass(e,"on")})),"top"===a&&"left"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="topleft"]'),"on"),"top"===a&&"center"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="topcenter"]'),"on"),"top"===a&&"right"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="topright"]'),"on"),"middle"===a&&"left"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="middleleft"]'),"on"),"middle"===a&&"center"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="middlecenter"]'),"on"),"middle"===a&&"right"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="middleright"]'),"on"),"bottom"===a&&"left"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="bottomleft"]'),"on"),"bottom"===a&&"center"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="bottomcenter"]'),"on"),"bottom"===a&&"right"===l&&Zt.addClass(e.querySelector('.cmd-box-content-pos[data-value="bottomright"]'),"on"),e.querySelector("#divContainerTransparency").style.display="",e.querySelector("#divContainerTextAlign").style.display="",o&&(e.querySelector("#tabBoxContentText").style.display="",t.querySelector(".is-container")||(e.querySelector("#divContainerTransparency").style.display="none",e.querySelector("#divContainerTextAlign").style.display="none")),n?e.querySelector("#divBoxBackgroundColor").style.display="none":(e.querySelector("#divBoxBackgroundColor").style.display="",s&&(e.querySelector("#divBoxBackgroundColor").style.display="none")),i&&(Zt.hasClass(i,"is-scale-animated")?e.querySelector("#chkAnimateBg").checked=!0:e.querySelector("#chkAnimateBg").checked=!1,i.getAttribute("data-top-bottom")||i.getAttribute("data-bottom-top")?e.querySelector("#chkParallaxBg").checked=!0:e.querySelector("#chkParallaxBg").checked=!1,"fixed"===i.style.backgroundAttachment?e.querySelector("#chkParallaxBg2").checked=!0:e.querySelector("#chkParallaxBg2").checked=!1),Zt.hasClass(t,"is-section")?e.querySelector("#divBoxSize").style.display="none":e.querySelector("#divBoxSize").style.display="block",e.querySelector("#chkParallaxContent").checked=!1,e.querySelector("#chkFadeContent").checked=!1,r){let t=r.getAttribute("data-bottom-top");t&&(-1!==t.indexOf("translateY")&&(e.querySelector("#chkParallaxContent").checked=!0),-1!==t.indexOf("opacity")&&(e.querySelector("#chkFadeContent").checked=!0))}e.querySelector("#chkOptimizeTextSize").checked=!1,r&&Zt.hasClass(r,"v2")&&(e.querySelector("#chkOptimizeTextSize").checked=!0),e.querySelector("#chkAutofitContent").checked=!1,Zt.hasClass(t,"box-autofit")&&(e.querySelector("#chkAutofitContent").checked=!0),Zt.addClass(t,"box-active"),this.builder.showModal(e);const d=e.querySelector(".inp-box-size");if(r){let t=parseInt(r.style.maxWidth);isNaN(t)||(d.value=parseInt(r.style.maxWidth)),e.querySelector(".val-box-size").innerHTML="",t=parseInt(window.getComputedStyle(r,null).getPropertyValue("max-width")),isNaN(t)||(e.querySelector(".val-box-size").innerHTML=t)}const c=e.querySelector(".cmd-box-animate");c.value="",Zt.hasClass(t,"is-pulse")&&(c.value="is-pulse"),Zt.hasClass(t,"is-bounceIn")&&(c.value="is-bounceIn"),Zt.hasClass(t,"is-fadeIn")&&(c.value="is-fadeIn"),Zt.hasClass(t,"is-fadeInDown")&&(c.value="is-fadeInDown"),Zt.hasClass(t,"is-fadeInLeft")&&(c.value="is-fadeInLeft"),Zt.hasClass(t,"is-fadeInRight")&&(c.value="is-fadeInRight"),Zt.hasClass(t,"is-fadeInUp")&&(c.value="is-fadeInUp"),Zt.hasClass(t,"is-flipInX")&&(c.value="is-flipInX"),Zt.hasClass(t,"is-flipInY")&&(c.value="is-flipInY"),Zt.hasClass(t,"is-slideInUp")&&(c.value="is-slideInUp"),Zt.hasClass(t,"is-slideInDown")&&(c.value="is-slideInDown"),Zt.hasClass(t,"is-slideInLeft")&&(c.value="is-slideInLeft"),Zt.hasClass(t,"is-slideInRight")&&(c.value="is-slideInRight"),Zt.hasClass(t,"is-zoomIn")&&(c.value="is-zoomIn");const u=e.querySelector("#chkAnimOnce");Zt.hasClass(t,"once")?u.checked=!0:u.checked=!1;const p=e.querySelector(".cmd-box-animatedelay");Zt.hasClass(t,"delay-0ms")&&(p.value="delay-0ms"),Zt.hasClass(t,"delay-100ms")&&(p.value="delay-100ms"),Zt.hasClass(t,"delay-200ms")&&(p.value="delay-20ms"),Zt.hasClass(t,"delay-300ms")&&(p.value="delay-300ms"),Zt.hasClass(t,"delay-400ms")&&(p.value="delay-400ms"),Zt.hasClass(t,"delay-500ms")&&(p.value="delay-500ms"),Zt.hasClass(t,"delay-600ms")&&(p.value="delay-600ms"),Zt.hasClass(t,"delay-700ms")&&(p.value="delay-700ms"),Zt.hasClass(t,"delay-800ms")&&(p.value="delay-800ms"),Zt.hasClass(t,"delay-900ms")&&(p.value="delay-900ms"),Zt.hasClass(t,"delay-1000ms")&&(p.value="delay-1000ms"),Zt.hasClass(t,"delay-1100ms")&&(p.value="delay-1100ms"),Zt.hasClass(t,"delay-1200ms")&&(p.value="delay-1200ms"),Zt.hasClass(t,"delay-1300ms")&&(p.value="delay-1300ms"),Zt.hasClass(t,"delay-1400ms")&&(p.value="delay-1400ms"),Zt.hasClass(t,"delay-1500ms")&&(p.value="delay-1500ms"),Zt.hasClass(t,"delay-1600ms")&&(p.value="delay-1600ms"),Zt.hasClass(t,"delay-1700ms")&&(p.value="delay-1700ms"),Zt.hasClass(t,"delay-1800ms")&&(p.value="delay-1800ms"),Zt.hasClass(t,"delay-1900ms")&&(p.value="delay-1900ms"),Zt.hasClass(t,"delay-2000ms")&&(p.value="delay-2000ms"),Zt.hasClass(t,"delay-2100ms")&&(p.value="delay-2100ms"),Zt.hasClass(t,"delay-2200ms")&&(p.value="delay-2200ms"),Zt.hasClass(t,"delay-2300ms")&&(p.value="delay-2300ms"),Zt.hasClass(t,"delay-2400ms")&&(p.value="delay-2400ms"),Zt.hasClass(t,"delay-2500ms")&&(p.value="delay-2500ms"),Zt.hasClass(t,"delay-2600ms")&&(p.value="delay-2600ms"),Zt.hasClass(t,"delay-2700ms")&&(p.value="delay-2700ms"),Zt.hasClass(t,"delay-2800ms")&&(p.value="delay-2800ms"),Zt.hasClass(t,"delay-2900ms")&&(p.value="delay-2900ms"),Zt.hasClass(t,"delay-3000ms")&&(p.value="delay-3000ms"),e.querySelector("#tabBoxImage").style.display="none";let h="";i&&i.style.backgroundImage&&-1!==i.style.backgroundImage.indexOf("url(")&&(h=i.style.backgroundImage.slice(4,-1).replace(/["']/g,""),e.querySelector("#tabBoxImage").style.display="inline-block");const g=e.querySelector(".box-bgimage-preview"),f=e.querySelector(".input-box-bgimageadjust"),m=e.querySelector(".label-box-bgimage-grayscale"),v=e.querySelector(".chk-box-bgimage-grayscale");f.style.display="none",m.style.display="none";const b=e.querySelector(".input-box-bgremove");b.style.display="none",v.checked=!1,""!==h?(g.innerHTML=`<img src="${h}">`,i&&i.style.filter&&-1!==i.style.filter.indexOf("grayscale")&&(v.checked=!0),f.style.display="flex",b.style.display="flex",m.style.display="flex"):g.innerHTML="";const y=t.querySelector(".is-overlay-color"),_=e.querySelector(".input-box-overlaycolor");_.style.backgroundColor=y?y.style.backgroundColor:"transparent";const x=e.querySelector(".input-src");h=t.getAttribute("data-modal-url"),x.value=""!==h?h:"","none"===e.querySelector("#divBoxSize").style.display&&"none"===e.querySelector("#divBoxBackgroundColor").style.display&&"none"===e.querySelector("#tabBoxContentText").style.display&&"none"===e.querySelector("#tabBoxContentContainer").style.display&&"none"===e.querySelector("#tabBoxImage").style.display&&"none"===e.querySelector("#tabBoxAnimate").style.display&&"none"===e.querySelector("#tabBoxCustomHtml").style.display?e.querySelector("#divNoBoxSettings").style.display="block":e.querySelector("#divNoBoxSettings").style.display="none";let w=t.querySelector(".is-overlay");w||(t.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),w=t.querySelector(".is-overlay"));let S=e.querySelector(".input-box-bgcolor"),C=w.style.backgroundColor;C||(C=window.getComputedStyle(t,null).getPropertyValue("background-color"),"rgba(0, 0, 0, 0)"===C&&(C="")),S.style.backgroundColor=C;const k=e.querySelector(".cmd-box-addtext"),E=e.querySelector(".cmd-box-removetext");r?(k.style.display="none",E.style.display="flex"):(k.style.display="flex",E.style.display="none");let A=e.querySelectorAll(".cmd-content-height"),q=e.querySelector(".div-content-justify");A.forEach((e=>{Zt.removeClass(e,"on")})),e.querySelectorAll(".cmd-content-justify").forEach((e=>{Zt.removeClass(e,"on")})),r&&("100%"===r.style.height||Zt.hasClass(r,"h-full")?(Zt.addClass(e.querySelector('.cmd-content-height[data-value="100"]'),"on"),q.style.display="block",("flex-start"===r.style.justifyContent||Zt.hasClass(r,"justify-start"))&&Zt.addClass(e.querySelector('.cmd-content-justify[data-value="flex-start"]'),"on"),("flex-end"===r.style.justifyContent||Zt.hasClass(r,"justify-end"))&&Zt.addClass(e.querySelector('.cmd-content-justify[data-value="flex-end"]'),"on"),("space-between"===r.style.justifyContent||Zt.hasClass(r,"justify-between"))&&Zt.addClass(e.querySelector('.cmd-content-justify[data-value="space-between"]'),"on")):(Zt.addClass(e.querySelector('.cmd-content-height[data-value=""]'),"on"),q.style.display="none"))}editModule(){const e=this.builder.builderStuff;let t=this.builder.activeBox.querySelector(".is-overlay-content[data-module]");this.builder.wrapperEl.querySelectorAll("[data-module-active]").forEach((e=>{e.removeAttribute("data-module-active")})),t.setAttribute("data-module-active","1");let i=t.getAttribute("data-module");if("code"===i)if(this.builder.settings.htmlSyntaxHighlighting){let i=decodeURIComponent(t.getAttribute("data-html"));i=(0,Kt.html)(i),e.querySelector("#txtBoxCustomCode").value=i;let n=e.querySelectorAll("[data-source-active]");n.forEach((e=>{e.removeAttribute("data-source-active")})),n=e.querySelectorAll("[data-source-ok]"),n.forEach((e=>{e.removeAttribute("data-source-ok")})),n=e.querySelectorAll("[data-source-cancel]"),n.forEach((e=>{e.removeAttribute("data-source-cancel")}));let o=e.querySelector("#txtBoxCustomCode");o.setAttribute("data-source-active","1"),o.setAttribute("data-source-ok",".editcustomcode .input-ok"),o.setAttribute("data-source-cancel",".editcustomcode"),this.builder.editor.viewHtmlNormal()}else{const i=e.querySelector(".is-modal.editcustomcode");this.builder.showModal(i);let n=decodeURIComponent(t.getAttribute("data-html"));n=(0,Kt.html)(n);let o=e.querySelector("#txtBoxCustomCode");o.value=n,o.focus()}else{const e=document.querySelector(".is-modal.editmodule"),o=e.querySelector("iframe");o.style.opacity=0,o.style.transition="opacity 0.1s ease",o.setAttribute("src",this.builder.settings.modulePath+i+".html"),this.builder.showModal(e),setTimeout((()=>{o.style.opacity=1}),200);let s=t.getAttribute("data-module-desc");const a=e.querySelector(".is-modal-bar");a.innerHTML=s||n("Module Settings");let r=t.getAttribute("data-dialog-width");r&&""!=r||(r="900px");let l=t.getAttribute("data-dialog-height");l&&""!=l||(l="570px"),e.childNodes.forEach((e=>{Zt.hasClass(e,"is-modal-overlay")||(e.style.maxWidth=r,e.style.height=l)}))}}refreshModule(){const e=document.querySelector(".is-modal.editmodule"),t=this.builderStuff;let i=this.builder.activeBox.querySelector(".is-overlay-content[data-module]"),n=e.querySelector("iframe");n.contentWindow.construct&&n.contentWindow.construct();const o=t.querySelector("#hidModuleCode"),s=t.querySelector("#hidModuleSettings");i.setAttribute("data-html",encodeURIComponent(o.value)),i.setAttribute("data-settings",encodeURIComponent(s.value));let a=document.createRange();i.innerHTML="",i.appendChild(a.createContextualFragment(o.value)),this.builder.settings.onRender(),this.builder.settings.onChange()}boxWidthSmaller(){let e,t;if(e=this.builder.activeBox,e.nextElementSibling){if(Zt.hasClass(e,"is-box-1"))return;if(t=e.nextElementSibling,Zt.hasClass(t,"is-box-12"))return;return this.boxMinus(e),this.boxPlus(t),!1}if(e.previousElementSibling){if(Zt.hasClass(e,"is-box-1"))return;if(t=e.previousElementSibling,Zt.hasClass(t,"is-box-12"))return;return this.boxMinus(e),this.boxPlus(t),!1}}boxWidthLarger(){let e,t;if(e=this.builder.activeBox,e.nextElementSibling){if(t=e.nextElementSibling,Zt.hasClass(t,"is-box-1"))return;if(Zt.hasClass(e,"is-box-12"))return;return this.boxPlus(e),this.boxMinus(t),!1}if(e.previousElementSibling){if(t=e.previousElementSibling,Zt.hasClass(t,"is-box-1"))return;if(Zt.hasClass(e,"is-box-12"))return;return this.boxPlus(e),this.boxMinus(t),!1}}boxPlus(e){for(let t=1;t<12;t++)if(Zt.hasClass(e,"is-box-"+t))return Zt.removeClass(e,"is-box-"+t),void Zt.addClass(e,"is-box-"+(t+1))}boxMinus(e){for(let t=12;t>1;t--)if(Zt.hasClass(e,"is-box-"+t))return Zt.removeClass(e,"is-box-"+t),void Zt.addClass(e,"is-box-"+(t-1))}boxTextColor(e){let t=this.builder.activeBox;"light"==e&&(Zt.removeClass(t,"is-dark-text"),Zt.addClass(t,"is-light-text")),"dark"==e&&(Zt.removeClass(t,"is-light-text"),Zt.addClass(t,"is-dark-text")),""==e&&(Zt.removeClass(t,"is-dark-text"),Zt.removeClass(t,"is-light-text"))}boxTextAlign(e){let t=this.builder.activeBox,i=t.querySelector(".center");Zt.removeClass(i,"center"),t.querySelectorAll(".is-builder > div > div > *").forEach((e=>{e.style.textAlign="",this.builder.editor.dom.doFunction(e,(e=>{e.style.textAlign=""}),!0)})),"right"==e?(Zt.removeClass(t,"is-align-left"),Zt.removeClass(t,"is-align-center"),Zt.removeClass(t,"is-align-justify"),Zt.addClass(t,"is-align-right")):"center"==e?(Zt.removeClass(t,"is-align-left"),Zt.removeClass(t,"is-align-right"),Zt.removeClass(t,"is-align-justify"),Zt.addClass(t,"is-align-center")):"left"==e?(Zt.removeClass(t,"is-align-right"),Zt.removeClass(t,"is-align-center"),Zt.removeClass(t,"is-align-justify"),Zt.addClass(t,"is-align-left")):"justify"==e?(Zt.removeClass(t,"is-align-left"),Zt.removeClass(t,"is-align-right"),Zt.removeClass(t,"is-align-center"),Zt.addClass(t,"is-align-justify")):""==e&&(Zt.removeClass(t,"is-align-left"),Zt.removeClass(t,"is-align-right"),Zt.removeClass(t,"is-align-center"),Zt.removeClass(t,"is-align-justify"))}boxTextOpacity(e){let t=this.builder.activeBox.querySelector(".is-box-centered");if("+"!==e)if("-"!==e)Zt.removeClass(t,"is-opacity-20"),Zt.removeClass(t,"is-opacity-25"),Zt.removeClass(t,"is-opacity-30"),Zt.removeClass(t,"is-opacity-35"),Zt.removeClass(t,"is-opacity-40"),Zt.removeClass(t,"is-opacity-45"),Zt.removeClass(t,"is-opacity-50"),Zt.removeClass(t,"is-opacity-55"),Zt.removeClass(t,"is-opacity-60"),Zt.removeClass(t,"is-opacity-65"),Zt.removeClass(t,"is-opacity-70"),Zt.removeClass(t,"is-opacity-75"),Zt.removeClass(t,"is-opacity-80"),Zt.removeClass(t,"is-opacity-85"),Zt.removeClass(t,"is-opacity-90"),Zt.removeClass(t,"is-opacity-95"),"0.7"==e&&Zt.addClass(t,"is-opacity-70"),"0.75"==e&&Zt.addClass(t,"is-opacity-75"),"0.8"==e&&Zt.addClass(t,"is-opacity-80"),"0.85"==e&&Zt.addClass(t,"is-opacity-85"),"0.90"==e&&Zt.addClass(t,"is-opacity-90"),"0.95"==e&&Zt.addClass(t,"is-opacity-95");else{if(Zt.hasClass(t,"is-opacity-20"))return;Zt.hasClass(t,"is-opacity-25")?(Zt.removeClass(t,"is-opacity-25"),Zt.addClass(t,"is-opacity-20")):Zt.hasClass(t,"is-opacity-30")?(Zt.removeClass(t,"is-opacity-30"),Zt.addClass(t,"is-opacity-25")):Zt.hasClass(t,"is-opacity-35")?(Zt.removeClass(t,"is-opacity-35"),Zt.addClass(t,"is-opacity-30")):Zt.hasClass(t,"is-opacity-40")?(Zt.removeClass(t,"is-opacity-40"),Zt.addClass(t,"is-opacity-35")):Zt.hasClass(t,"is-opacity-45")?(Zt.removeClass(t,"is-opacity-45"),Zt.addClass(t,"is-opacity-40")):Zt.hasClass(t,"is-opacity-50")?(Zt.removeClass(t,"is-opacity-50"),Zt.addClass(t,"is-opacity-45")):Zt.hasClass(t,"is-opacity-55")?(Zt.removeClass(t,"is-opacity-55"),Zt.addClass(t,"is-opacity-50")):Zt.hasClass(t,"is-opacity-60")?(Zt.removeClass(t,"is-opacity-60"),Zt.addClass(t,"is-opacity-55")):Zt.hasClass(t,"is-opacity-65")?(Zt.removeClass(t,"is-opacity-65"),Zt.addClass(t,"is-opacity-60")):Zt.hasClass(t,"is-opacity-70")?(Zt.removeClass(t,"is-opacity-70"),Zt.addClass(t,"is-opacity-65")):Zt.hasClass(t,"is-opacity-75")?(Zt.removeClass(t,"is-opacity-75"),Zt.addClass(t,"is-opacity-70")):Zt.hasClass(t,"is-opacity-80")?(Zt.removeClass(t,"is-opacity-80"),Zt.addClass(t,"is-opacity-75")):Zt.hasClass(t,"is-opacity-85")?(Zt.removeClass(t,"is-opacity-85"),Zt.addClass(t,"is-opacity-80")):Zt.hasClass(t,"is-opacity-90")?(Zt.removeClass(t,"is-opacity-90"),Zt.addClass(t,"is-opacity-85")):Zt.hasClass(t,"is-opacity-95")?(Zt.removeClass(t,"is-opacity-95"),Zt.addClass(t,"is-opacity-90")):Zt.addClass(t,"is-opacity-95")}else Zt.hasClass(t,"is-opacity-20")?(Zt.removeClass(t,"is-opacity-20"),Zt.addClass(t,"is-opacity-25")):Zt.hasClass(t,"is-opacity-25")?(Zt.removeClass(t,"is-opacity-25"),Zt.addClass(t,"is-opacity-30")):Zt.hasClass(t,"is-opacity-30")?(Zt.removeClass(t,"is-opacity-30"),Zt.addClass(t,"is-opacity-35")):Zt.hasClass(t,"is-opacity-35")?(Zt.removeClass(t,"is-opacity-35"),Zt.addClass(t,"is-opacity-40")):Zt.hasClass(t,"is-opacity-40")?(Zt.removeClass(t,"is-opacity-40"),Zt.addClass(t,"is-opacity-45")):Zt.hasClass(t,"is-opacity-45")?(Zt.removeClass(t,"is-opacity-45"),Zt.addClass(t,"is-opacity-50")):Zt.hasClass(t,"is-opacity-50")?(Zt.removeClass(t,"is-opacity-50"),Zt.addClass(t,"is-opacity-55")):Zt.hasClass(t,"is-opacity-55")?(Zt.removeClass(t,"is-opacity-55"),Zt.addClass(t,"is-opacity-60")):Zt.hasClass(t,"is-opacity-60")?(Zt.removeClass(t,"is-opacity-60"),Zt.addClass(t,"is-opacity-65")):Zt.hasClass(t,"is-opacity-65")?(Zt.removeClass(t,"is-opacity-65"),Zt.addClass(t,"is-opacity-70")):Zt.hasClass(t,"is-opacity-70")?(Zt.removeClass(t,"is-opacity-70"),Zt.addClass(t,"is-opacity-75")):Zt.hasClass(t,"is-opacity-75")?(Zt.removeClass(t,"is-opacity-75"),Zt.addClass(t,"is-opacity-80")):Zt.hasClass(t,"is-opacity-80")?(Zt.removeClass(t,"is-opacity-80"),Zt.addClass(t,"is-opacity-85")):Zt.hasClass(t,"is-opacity-85")?(Zt.removeClass(t,"is-opacity-85"),Zt.addClass(t,"is-opacity-90")):Zt.hasClass(t,"is-opacity-90")?(Zt.removeClass(t,"is-opacity-90"),Zt.addClass(t,"is-opacity-95")):Zt.hasClass(t,"is-opacity-95")&&Zt.removeClass(t,"is-opacity-95")}boxAnimateBg(){let e=this.builder.activeBox.querySelector(".is-overlay");if(!e)return;let t=e.querySelector(".is-overlay-bg");t&&(this.modalEditBox.querySelector("#chkAnimateBg").checked?(Zt.addClass(t,"is-scale-animated"),Zt.addClass(t,"is-appeared")):(Zt.removeClass(t,"is-scale-animated"),Zt.removeClass(t,"is-appeared")))}boxParallaxBg(){let e=this.builder.activeBox.querySelector(".is-overlay");if(!e)return;let t=e.querySelector(".is-overlay-bg");if(t)if(this.modalEditBox.querySelector("#chkParallaxBg").checked)t.setAttribute("data-bottom-top","transform:translateY(-120px) scale(1);"),t.setAttribute("data-top-bottom","transform:translateY(50px) scale(1.4)"),this.builder.settings.onRender();else{Zt.removeClass(t,"skrollable"),Zt.removeClass(t,"skrollable-between"),t.removeAttribute("data-bottom-top"),t.removeAttribute("data-top-bottom"),t.style.transform="translateY(0) scale(1)",t.style.transform="";let i=t.outerHTML;t.parentNode.removeChild(t),Zt.appendHtml(e,i)}}boxParallaxBg2(){let e=this.builder.activeBox.querySelector(".is-overlay");if(!e)return;let t=e.querySelector(".is-overlay-bg");t&&(this.modalEditBox.querySelector("#chkParallaxBg2").checked?t.style.backgroundAttachment="fixed":t.style.backgroundAttachment="")}boxOptimizeTextSize(){let e=this.builder.activeBox.querySelector(".is-builder");this.modalEditBox.querySelector("#chkOptimizeTextSize").checked?Zt.addClass(e,"v2"):Zt.removeClass(e,"v2")}boxContentAutofit(){let e=this.builder.activeBox;this.modalEditBox.querySelector("#chkAutofitContent").checked?Zt.addClass(e,"box-autofit"):Zt.removeClass(e,"box-autofit")}boxContainerAnim(){let e=this.builder.activeBox,t=this.builder.activeSection,i=e.querySelector(".is-builder"),n="20%",o=parseInt(window.getComputedStyle(t,null).getPropertyValue("min-height"));parseInt(o)<=50&&(n="10%");let s=this.modalEditBox.querySelector("#chkParallaxContent").checked,a=this.modalEditBox.querySelector("#chkFadeContent").checked;i.removeAttribute("data-100-bottom"),i.removeAttribute("data-center"),s&&!a?(i.setAttribute("data-bottom-top",`transform:translateY(-${n})`),i.removeAttribute("data-100-bottom"),i.setAttribute("data-top-bottom",`transform:translateY(${n})`)):a&&!s?(i.setAttribute("data-bottom-top","opacity:0"),i.setAttribute("data-100-bottom","opacity:1"),i.removeAttribute("data-top-bottom")):a&&s?(i.setAttribute("data-bottom-top",`transform:translateY(-${n});opacity:0;`),i.setAttribute("data-100-bottom","opacity:1"),i.setAttribute("data-top-bottom",`transform:translateY(${n})`)):(Zt.removeClass(i,"skrollable"),Zt.removeClass(i,"skrollable-between"),i.removeAttribute("data-bottom-top"),i.removeAttribute("data-100-bottom"),i.removeAttribute("data-top-bottom"),i.style.transform=""),this.builder.settings.onRender()}setElementClass(e,t,i,n){let o;for(let n=0;n<Object.keys(i).length;n++){let s=Object.values(i)[n];if(Zt.hasClass(e,s)){if("+"===t){if(n+1===Object.keys(i).length)return;o=Object.values(i)[n+1];break}if("-"===t){if(n-1<0)return;o=Object.values(i)[n-1];break}}}if(o){for(let t=0;t<Object.keys(i).length;t++){let n=Object.values(i)[t];Zt.removeClass(e,n)}Zt.addClass(e,o)}else Zt.addClass(e,n)}removeElementClass(e,t){for(let i=0;i<Object.keys(t).length;i++){let n=Object.values(t)[i];Zt.removeClass(e,n)}}boxOverlayOpacity(e){let t=this.builder.activeBox.querySelector(".is-overlay");if(!t)return;let i=t.querySelector(".is-overlay-color");if(!i){t.querySelector(".is-overlay-bg").insertAdjacentHTML("afterbegin",`<div class="is-overlay-color ${this.builder.cssClasses.opacity.opacity_5}"></div>`),i=t.querySelector(".is-overlay-color")}if(this.builder.useCssClasses){const t=this.builder.cssClasses.opacity;"0"===e?(this.removeElementClass(i,t),Zt.addClass(i,t.opacity_0)):this.setElementClass(i,e,t,t.opacity_10),i.style.opacity="",i.style.display=""}else{if("+"===e){let e=i.style.opacity;i.style.opacity=e?"0.01"===e?.025:"0.025"===e?.04:"0.04"===e?.055:"0.055"===e?.07:"0.07"===e?.085:"0.085"===e?.1:"0.1"===e?.125:"0.125"===e?.15:"0.15"===e?.2:"0.2"===e?.25:"0.25"===e?.3:"0.3"===e?.35:"0.35"===e?.4:"0.4"===e?.45:"0.45"===e?.5:"0.5"===e?.55:"0.55"===e||"0.6"===e?.6:.15:.1}if("-"===e){let e=i.style.opacity;i.style.opacity=e?"0.01"===e||"0.025"===e?.01:"0.04"===e?.025:"0.055"===e?.04:"0.07"===e?.055:"0.085"===e?.07:"0.1"===e?.085:"0.125"===e?.1:"0.15"===e?.125:"0.2"===e?.15:"0.25"===e?.2:"0.3"===e?.25:"0.35"===e?.3:"0.4"===e?.35:"0.45"===e?.4:"0.5"===e?.45:"0.55"===e?.5:"0.6"===e?.55:.15:.085}"0"===e&&(i.style.opacity="0")}return!1}boxSelectAsset(){let e=this.builder.activeBox.querySelector(".is-overlay");if(!e)return;let t=e.querySelector(".is-overlay-bg");return t?(this.builder.settings.onCoverImageSelectClick&&this.builder.settings.onCoverImageSelectClick(t),!1):void 0}boxImage(e,t){const i=this.builderStuff,n=i.querySelector(".waiting-indicator"),o=i.querySelector(".waiting-indicator-overlay");if(n&&n.parentNode.removeChild(n),o&&o.parentNode.removeChild(o),t)return void alert(t);let s;this.targetBox?(s=this.targetBox,this.targetBox=null):s=this.builder.activeBox;const a=this.modalEditBox;this.builder.editor.saveForUndo();let r=s.querySelector(".is-overlay");r||(s.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),r=s.querySelector(".is-overlay"));const l=a.querySelector(".box-bgimage-preview"),d=a.querySelector(".input-box-bgimageadjust");d.style.display="none";const c=a.querySelector(".label-box-bgimage-grayscale");c.style.display="none";const u=a.querySelector(".input-box-bgremove");if(u.style.display="none",""!==e){let t=r.querySelector(".is-overlay-bg");t||(r.insertAdjacentHTML("beforeend",'<div class="is-overlay-bg"></div>'),t=r.querySelector(".is-overlay-bg")),t.style.backgroundImage="url('"+e+"')",t.style.backgroundPosition="50% 60%",l.innerHTML=`<img src="${e}">`,d.style.display="flex",u.style.display="flex",c.style.display="flex";a.querySelector(".chk-box-bgimage-grayscale").checked=!1,t.style.filter&&(t.style.filter=t.style.filter.replace("grayscale(1)","")),a.querySelector("#tabBoxImage").style.display="inline-block"}else{let e=r.querySelector(".is-overlay-bg");e&&e.parentNode.removeChild(e);let t=r.querySelector(".is-overlay-color");t&&t.parentNode.removeChild(t);let i=r.querySelector(".is-overlay-content");i&&""===i.innerHTML&&i.parentNode.removeChild(i),l.innerHTML="";a.querySelector(".input-box-overlaycolor").style.backgroundColor="",a.querySelector("#tabBoxImage").style.display="none"}this.builder.onRender(),this.builder.onChange()}}var Jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ei={exports:{}};!function(e,t){e.exports=function(){var e="object",t="function",i="undefined",n=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],o=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],s=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],a=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function r(i,n){var o=typeof i[n];return o==t||!(o!=e||!i[n])||"unknown"==o}function l(t,i){return!(typeof t[i]!=e||!t[i])}function d(e,t){return typeof e[t]!=i}function c(e){return function(t,i){for(var n=i.length;n--;)if(!e(t,i[n]))return!1;return!0}}var u=c(r),p=c(l),h=c(d);function g(e){return e&&u(e,a)&&h(e,s)}function f(e){return l(e,"body")?e.body:e.getElementsByTagName("body")[0]}var m,v,b={},y=typeof window!=i&&typeof document!=i,_={isHostMethod:r,isHostObject:l,isHostProperty:d,areHostMethods:u,areHostObjects:p,areHostProperties:h,isTextRange:g,getBody:f,forEach:[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var i=0,n=e.length;i<n;++i)t(e[i],i)}},x={version:"1.3.0",initialized:!1,isBrowser:y,supported:!0,util:_,features:{},modules:b,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==i||rangyAutoInitialize}};function w(e){typeof console!=i&&r(console,"log")&&console.log(e)}function S(e,t){y&&t?alert(e):w(e)}function C(e){x.initialized=!0,x.supported=!1,S("Rangy is not supported in this environment. Reason: "+e,x.config.alertOnFail)}function k(e){S("Rangy warning: "+e,x.config.alertOnWarn)}x.fail=C,x.warn=k,{}.hasOwnProperty?(_.extend=m=function(e,t,i){var n,o;for(var s in t)t.hasOwnProperty(s)&&(n=e[s],o=t[s],i&&null!==n&&"object"==typeof n&&null!==o&&"object"==typeof o&&m(n,o,!0),e[s]=o);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},_.createOptions=function(e,t){var i={};return m(i,t),e&&m(i,e),i}):C("hasOwnProperty not supported"),y||C("Rangy can only run in a browser"),function(){var e;if(y){var t=document.createElement("div");t.appendChild(document.createElement("span"));var i=[].slice;try{1==i.call(t.childNodes,0)[0].nodeType&&(e=function(e){return i.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],i=0,n=e.length;i<n;++i)t[i]=e[i];return t}),_.toArray=e}(),y&&(r(document,"addEventListener")?v=function(e,t,i){e.addEventListener(t,i,!1)}:r(document,"attachEvent")?v=function(e,t,i){e.attachEvent("on"+t,i)}:C("Document does not have required addEventListener or attachEvent method"),_.addListener=v);var E=[];function A(e){return e.message||e.description||String(e)}function q(){if(y&&!x.initialized){var e,t=!1,i=!1;r(document,"createRange")&&(e=document.createRange(),u(e,o)&&h(e,n)&&(t=!0));var s=f(document);if(s&&"body"==s.nodeName.toLowerCase())if(s&&r(s,"createTextRange")&&g(e=s.createTextRange())&&(i=!0),t||i){var a;for(var l in x.initialized=!0,x.features={implementsDomRange:t,implementsTextRange:i},b)(a=b[l])instanceof R&&a.init(a,x);for(var d=0,c=E.length;d<c;++d)try{E[d](x)}catch(e){w("Rangy init listener threw an exception. Continuing. Detail: "+A(e))}}else C("Neither Range nor TextRange are available");else C("No body element found")}}function T(e,t,i){i&&(e+=" in module "+i.name),x.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function L(e,t,i,n){e[t]=function(){return T(t,i,n),e[i].apply(e,_.toArray(arguments))}}_.deprecationNotice=T,_.createAliasForDeprecatedMethod=L,x.init=q,x.addInitListener=function(e){x.initialized?e(x):E.push(e)};var M=[];function O(e){e=e||window,q();for(var t=0,i=M.length;t<i;++t)M[t](e)}function R(e,t,i){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=i}function N(e,t,i){var n=new R(e,t,(function(t){if(!t.initialized){t.initialized=!0;try{i(x,t),t.supported=!0}catch(t){w("Module '"+e+"' failed to load: "+A(t)),t.stack&&w(t.stack)}}}));return b[e]=n,n}function B(){}function I(){}x.addShimListener=function(e){M.push(e)},y&&(x.shim=x.createMissingNativeApi=O,L(x,"createMissingNativeApi","shim")),R.prototype={init:function(){for(var e,t,i=this.dependencies||[],n=0,o=i.length;n<o;++n){if(t=i[n],!((e=b[t])&&e instanceof R))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){x.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){x.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},x.createModule=function(e){var t,i;2==arguments.length?(t=arguments[1],i=[]):(t=arguments[2],i=arguments[1]);var n=N(e,i,t);x.initialized&&x.supported&&n.init()},x.createCoreModule=function(e,t,i){N(e,t,i)},x.RangePrototype=B,x.rangePrototype=new B,x.selectionPrototype=new I,x.createCoreModule("DomUtil",[],(function(e,t){var i="undefined",n=e.util,o=n.getBody;n.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),n.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var s=document.createElement("div");n.areHostMethods(s,["insertBefore","appendChild","cloneNode"]||!n.areHostObjects(s,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),n.isHostProperty(s,"innerHTML")||t.fail("Element is missing innerHTML property");var a=document.createTextNode("test");n.areHostMethods(a,["splitText","deleteData","insertData","appendData","cloneNode"]||!n.areHostObjects(s,["previousSibling","nextSibling","childNodes","parentNode"])||!n.areHostProperties(a,["data"]))||t.fail("Incomplete Text Node implementation");var r=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1};function l(e){var t;return typeof e.namespaceURI==i||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function d(e){var t=e.parentNode;return 1==t.nodeType?t:null}function c(e){for(var t=0;e=e.previousSibling;)++t;return t}function u(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function p(e,t){var i,n=[];for(i=e;i;i=i.parentNode)n.push(i);for(i=t;i;i=i.parentNode)if(r(n,i))return i;return null}function h(e,t,i){for(var n=i?t:t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1}function g(e,t){return h(e,t,!0)}function f(e,t,i){for(var n,o=i?e:e.parentNode;o;){if((n=o.parentNode)===t)return o;o=n}return null}function m(e){var t=e.nodeType;return 3==t||4==t||8==t}function v(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function b(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function y(e,t,i){var n=e.cloneNode(!1);if(n.deleteData(0,t),e.deleteData(t,e.length-t),b(n,e),i)for(var o,s=0;o=i[s++];)o.node==e&&o.offset>t?(o.node=n,o.offset-=t):o.node==e.parentNode&&o.offset>c(e)&&++o.offset;return n}function _(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=i)return e.ownerDocument;if(typeof e.document!=i)return e.document;if(e.parentNode)return _(e.parentNode);throw t.createError("getDocument: no document found for node")}function x(e){var n=_(e);if(typeof n.defaultView!=i)return n.defaultView;if(typeof n.parentWindow!=i)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function w(e){if(typeof e.contentDocument!=i)return e.contentDocument;if(typeof e.contentWindow!=i)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function S(e){if(typeof e.contentWindow!=i)return e.contentWindow;if(typeof e.contentDocument!=i)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function C(e){return e&&n.isHostMethod(e,"setTimeout")&&n.isHostObject(e,"document")}function k(e,t,i){var o;if(e?n.isHostProperty(e,"nodeType")?o=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?w(e):_(e):C(e)&&(o=e.document):o=document,!o)throw t.createError(i+"(): Parameter must be a Window object or DOM node");return o}function E(e){for(var t;t=e.parentNode;)e=t;return e}function A(e,i,n,o){var s,a,r,l,d;if(e==n)return i===o?0:i<o?-1:1;if(s=f(n,e,!0))return i<=c(s)?-1:1;if(s=f(e,n,!0))return c(s)<o?-1:1;if(!(a=p(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((r=e===a?a:f(e,a,!0))===(l=n===a?a:f(n,a,!0)))throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=a.firstChild;d;){if(d===r)return-1;if(d===l)return 1;d=d.nextSibling}}var q,T=!1;function L(e){try{return e.parentNode,!1}catch(e){return!0}}function M(e){if(!e)return"[No node]";if(T&&L(e))return"[Broken node]";if(m(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+c(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function O(e){for(var t,i=_(e).createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i}function R(e,t,i){var n=o(e),s=e.createElement("div");s.contentEditable=""+!!i,t&&(s.innerHTML=t);var a=n.firstChild;return a?n.insertBefore(s,a):n.appendChild(s),s}function N(e){return e.parentNode.removeChild(e)}function B(e){this.root=e,this._next=e}function I(e){return new B(e)}function D(e,t){this.node=e,this.offset=t}function $(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var t=document.createElement("b");t.innerHTML="1";var i=t.firstChild;t.innerHTML="<br />",T=L(i),e.features.crashyTextNodes=T}(),typeof window.getComputedStyle!=i?q=function(e,t){return x(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=i?q=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,i=this._current=this._next;if(this._current)if(e=i.firstChild)this._next=e;else{for(t=null;i!==this.root&&!(t=i.nextSibling);)i=i.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+M(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},$.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},$.prototype.toString=function(){return this.message},e.dom={arrayContains:r,isHtmlNamespace:l,parentElement:d,getNodeIndex:c,getNodeLength:u,getCommonAncestor:p,isAncestorOf:h,isOrIsAncestorOf:g,getClosestAncestorIn:f,isCharacterDataNode:m,isTextOrCommentNode:v,insertAfter:b,splitDataNode:y,getDocument:_,getWindow:x,getIframeWindow:S,getIframeDocument:w,getBody:o,isWindow:C,getContentDocument:k,getRootContainer:E,comparePoints:A,isBrokenNode:L,inspectNode:M,getComputedStyleProperty:q,createTestElement:R,removeNode:N,fragmentFromNodeChildren:O,createIterator:I,DomPosition:D},e.DOMException=$})),x.createCoreModule("DomRange",["DomUtil"],(function(e,t){var i=e.dom,n=e.util,o=i.DomPosition,s=e.DOMException,a=i.isCharacterDataNode,r=i.getNodeIndex,l=i.isOrIsAncestorOf,d=i.getDocument,c=i.comparePoints,u=i.splitDataNode,p=i.getClosestAncestorIn,h=i.getNodeLength,g=i.arrayContains,f=i.getRootContainer,m=e.features.crashyTextNodes,v=i.removeNode;function b(e,t){return 3!=e.nodeType&&(l(e,t.startContainer)||l(e,t.endContainer))}function y(e){return e.document||d(e.startContainer)}function _(e){return f(e.startContainer)}function x(e){return new o(e.parentNode,r(e))}function w(e){return new o(e.parentNode,r(e)+1)}function S(e,t,n){var o=11==e.nodeType?e.firstChild:e;return a(t)?n==t.length?i.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:u(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),o}function C(e,t,i){if(X(e),X(t),y(t)!=y(e))throw new s("WRONG_DOCUMENT_ERR");var n=c(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=c(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return i?n<=0&&o>=0:n<0&&o>0}function k(e){for(var t,i,n,o=y(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(n=e.getSubtreeIterator(),i.appendChild(k(n)),n.detach()),10==i.nodeType)throw new s("HIERARCHY_REQUEST_ERR");o.appendChild(i)}return o}function E(e,t,n){var o,s,a,r;for(n=n||{stop:!1};a=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(a))return void(n.stop=!0);if(E(r=e.getSubtreeIterator(),t,n),r.detach(),n.stop)return}else for(o=i.createIterator(a);s=o.next();)if(!1===t(s))return void(n.stop=!0)}function A(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(A(t=e.getSubtreeIterator()),t.detach()):e.remove()}function q(e){for(var t,i,n=y(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(q(i)),i.detach()):e.remove(),10==t.nodeType)throw new s("HIERARCHY_REQUEST_ERR");n.appendChild(t)}return n}function T(e,t,i){var n,o=!(!t||!t.length),s=!!i;o&&(n=new RegExp("^("+t.join("|")+")$"));var r=[];return E(new M(e,!1),(function(t){if((!o||n.test(t.nodeType))&&(!s||i(t))){var l=e.startContainer;if(t!=l||!a(l)||e.startOffset!=l.length){var d=e.endContainer;t==d&&a(d)&&0==e.endOffset||r.push(t)}}})),r}function L(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+i.inspectNode(e.startContainer)+":"+e.startOffset+", "+i.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function M(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var i=e.commonAncestorContainer;this.sc===this.ec&&a(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||a(this.sc)?p(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||a(this.ec)?p(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}M.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,a(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,i=this._current;!a(i)||i!==this.sc&&i!==this.ec?i.parentNode&&v(i):(e=i===this.sc?this.so:0)!=(t=i===this.ec?this.eo:i.length)&&i.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return b(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new me(y(this.range));var t=this._current,i=t,n=0,o=t,s=h(t);l(t,this.sc)&&(i=this.sc,n=this.so),l(t,this.ec)&&(o=this.ec,s=this.eo),fe(e,i,n,o,s)}return new M(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var O=[1,3,4,5,7,8,10],R=[2,9,11],N=[5,6,10,12],B=[1,3,4,5,7,8,10,11],I=[1,3,4,5,7,8];function D(e){return function(t,i){for(var n,o=i?t:t.parentNode;o;){if(n=o.nodeType,g(e,n))return o;o=o.parentNode}return null}}var $=D([9,11]),P=D(N),H=D([6,10,12]);function z(e,t){if(H(e,t))throw new s("INVALID_NODE_TYPE_ERR")}function F(e,t){if(!g(t,e.nodeType))throw new s("INVALID_NODE_TYPE_ERR")}function j(e,t){if(t<0||t>(a(e)?e.length:e.childNodes.length))throw new s("INDEX_SIZE_ERR")}function U(e,t){if($(e,!0)!==$(t,!0))throw new s("WRONG_DOCUMENT_ERR")}function W(e){if(P(e,!0))throw new s("NO_MODIFICATION_ALLOWED_ERR")}function G(e,t){if(!e)throw new s(t)}function V(e,t){return t<=(a(e)?e.length:e.childNodes.length)}function Y(e){return!!e.startContainer&&!!e.endContainer&&!(m&&(i.isBrokenNode(e.startContainer)||i.isBrokenNode(e.endContainer)))&&f(e.startContainer)==f(e.endContainer)&&V(e.startContainer,e.startOffset)&&V(e.endContainer,e.endOffset)}function X(e){if(!Y(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}var K=document.createElement("style"),Z=!1;try{K.innerHTML="<b>x</b>",Z=3==K.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=Z;var Q=Z?function(e){var t=this.startContainer,n=d(t);if(!t)throw new s("INVALID_STATE_ERR");var o=null;return 1==t.nodeType?o=t:a(t)&&(o=i.parentElement(t)),(o=null===o||"HTML"==o.nodeName&&i.isHtmlNamespace(d(o).documentElement)&&i.isHtmlNamespace(o)?n.createElement("body"):o.cloneNode(!1)).innerHTML=e,i.fragmentFromNodeChildren(o)}:function(e){var t=y(this).createElement("body");return t.innerHTML=e,i.fragmentFromNodeChildren(t)};function J(e,t){X(e);var i=e.startContainer,n=e.startOffset,o=e.endContainer,s=e.endOffset,l=i===o;a(o)&&s>0&&s<o.length&&u(o,s,t),a(i)&&n>0&&n<i.length&&(i=u(i,n,t),l?(s-=n,o=i):o==i.parentNode&&s>=r(i)&&s++,n=0),e.setStartAndEnd(i,n,o,s)}function ee(e){X(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var te=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ie=0,ne=1,oe=2,se=3,ae=0,re=1,le=2,de=3;function ce(e){e.START_TO_START=ie,e.START_TO_END=ne,e.END_TO_END=oe,e.END_TO_START=se,e.NODE_BEFORE=ae,e.NODE_AFTER=re,e.NODE_BEFORE_AND_AFTER=le,e.NODE_INSIDE=de}function ue(e){ce(e),ce(e.prototype)}function pe(e,t){return function(){X(this);var i,n=this.startContainer,o=this.startOffset,s=this.commonAncestorContainer,a=new M(this,!0);n!==s&&(n=(i=w(p(n,s,!0))).node,o=i.offset),E(a,W),a.reset();var r=e(a);return a.detach(),t(this,n,o,n,o),r}}function he(t,i){function o(e,t){return function(i){F(i,O),F(f(i),R);var n=(e?x:w)(i);(t?s:l)(this,n.node,n.offset)}}function s(e,t,n){var o=e.endContainer,s=e.endOffset;t===e.startContainer&&n===e.startOffset||(f(t)==f(o)&&1!=c(t,n,o,s)||(o=t,s=n),i(e,t,n,o,s))}function l(e,t,n){var o=e.startContainer,s=e.startOffset;t===e.endContainer&&n===e.endOffset||(f(t)==f(o)&&-1!=c(t,n,o,s)||(o=t,s=n),i(e,o,s,t,n))}var d=function(){};d.prototype=e.rangePrototype,t.prototype=new d,n.extend(t.prototype,{setStart:function(e,t){z(e,!0),j(e,t),s(this,e,t)},setEnd:function(e,t){z(e,!0),j(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],o=t,s=n;switch(e.length){case 3:s=e[2];break;case 4:o=e[2],s=e[3]}i(this,t,n,o,s)},setBoundary:function(e,t,i){this["set"+(i?"Start":"End")](e,t)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(e){X(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){z(e,!0),i(this,e,0,e,h(e))},selectNode:function(e){z(e,!1),F(e,O);var t=x(e),n=w(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:pe(q,i),deleteContents:pe(A,i),canSurroundContents:function(){X(this),W(this.startContainer),W(this.endContainer);var e=new M(this,!0),t=e._first&&b(e._first,this)||e._last&&b(e._last,this);return e.detach(),!t},splitBoundaries:function(){J(this)},splitBoundariesPreservingPositions:function(e){J(this,e)},normalizeBoundaries:function(){X(this);var e,t=this.startContainer,n=this.startOffset,o=this.endContainer,s=this.endOffset,l=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(o=e,s=e.length,e.appendData(t.data),v(t))},d=function(e){var i=e.previousSibling;if(i&&i.nodeType==e.nodeType){t=e;var a=e.length;if(n=i.length,e.insertData(0,i.data),v(i),t==o)s+=n,o=t;else if(o==e.parentNode){var l=r(e);s==l?(o=e,s=a):s>l&&s--}}},c=!0;if(a(o))s==o.length?l(o):0==s&&(e=o.previousSibling)&&e.nodeType==o.nodeType&&(s=e.length,t==o&&(c=!1),e.appendData(o.data),v(o),o=e);else{if(s>0){var u=o.childNodes[s-1];u&&a(u)&&l(u)}c=!this.collapsed}if(c){if(a(t))0==n?d(t):n==t.length&&(e=t.nextSibling)&&e.nodeType==t.nodeType&&(o==e&&(o=t,s+=t.length),t.appendData(e.data),v(e));else if(n<t.childNodes.length){var p=t.childNodes[n];p&&a(p)&&d(p)}}else t=o,n=s;i(this,t,n,o,s)},collapseToPoint:function(e,t){z(e,!0),j(e,t),this.setStartAndEnd(e,t)}}),ue(t)}function ge(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:i.getCommonAncestor(e.startContainer,e.endContainer)}function fe(e,t,n,o,s){e.startContainer=t,e.startOffset=n,e.endContainer=o,e.endOffset=s,e.document=i.getDocument(t),ge(e)}function me(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,ge(this)}n.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){var i,n,o,s;X(this),U(this.startContainer,t.startContainer);var a=e==se||e==ie?"start":"end",r=e==ne||e==ie?"start":"end";return i=this[a+"Container"],n=this[a+"Offset"],o=t[r+"Container"],s=t[r+"Offset"],c(i,n,o,s)},insertNode:function(e){if(X(this),F(e,B),W(this.startContainer),l(e,this.startContainer))throw new s("HIERARCHY_REQUEST_ERR");var t=S(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(X(this),this.collapsed)return y(this).createDocumentFragment();if(this.startContainer===this.endContainer&&a(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=y(this).createDocumentFragment()).appendChild(e),t;var i=new M(this,!0);return e=k(i),i.detach(),e},canSurroundContents:function(){X(this),W(this.startContainer),W(this.endContainer);var e=new M(this,!0),t=e._first&&b(e._first,this)||e._last&&b(e._last,this);return e.detach(),!t},surroundContents:function(e){if(F(e,I),!this.canSurroundContents())throw new s("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);S(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){X(this);for(var e,t=new me(y(this)),i=te.length;i--;)t[e=te[i]]=this[e];return t},toString:function(){X(this);var e=this.startContainer;if(e===this.endContainer&&a(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],i=new M(this,!0);return E(i,(function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)})),i.detach(),t.join("")},compareNode:function(e){X(this);var t=e.parentNode,i=r(e);if(!t)throw new s("NOT_FOUND_ERR");var n=this.comparePoint(t,i),o=this.comparePoint(t,i+1);return n<0?o>0?le:ae:o>0?re:de},comparePoint:function(e,t){return X(this),G(e,"HIERARCHY_REQUEST_ERR"),U(e,this.startContainer),c(e,t,this.startContainer,this.startOffset)<0?-1:c(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Q,toHtml:function(){return ee(this)},intersectsNode:function(e,t){if(X(this),f(e)!=_(this))return!1;var i=e.parentNode,n=r(e);if(!i)return!0;var o=c(i,n,this.endContainer,this.endOffset),s=c(i,n+1,this.startContainer,this.startOffset);return t?o<=0&&s>=0:o<0&&s>0},isPointInRange:function(e,t){return X(this),G(e,"HIERARCHY_REQUEST_ERR"),U(e,this.startContainer),c(e,t,this.startContainer,this.startOffset)>=0&&c(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return C(this,e,!1)},intersectsOrTouchesRange:function(e){return C(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=c(this.startContainer,this.startOffset,e.startContainer,e.startOffset),i=c(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();return-1==t&&n.setStart(e.startContainer,e.startOffset),1==i&&n.setEnd(e.endContainer,e.endOffset),n}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==c(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==c(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new s("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==de},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,h(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var i=t.getNodes([3]);if(i.length>0){t.setStart(i[0],0);var n=i.pop();return t.setEnd(n,n.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return X(this),T(this,e,t)},getDocument:function(){return y(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=y(this),o=e.createRange(n);t=t||i.getBody(n),o.selectNodeContents(t);var s=this.intersection(o),a=0,r=0;return s&&(o.setEnd(s.startContainer,s.startOffset),r=(a=o.toString().length)+s.toString().length),{start:a,end:r,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,i=0;this.setStart(t,0),this.collapse(!0);for(var n,o,s,a,r=[t],l=!1,d=!1;!d&&(n=r.pop());)if(3==n.nodeType)o=i+n.length,!l&&e.start>=i&&e.start<=o&&(this.setStart(n,e.start-i),l=!0),l&&e.end>=i&&e.end<=o&&(this.setEnd(n,e.end-i),d=!0),i=o;else for(s=(a=n.childNodes).length;s--;)r.push(a[s])},getName:function(){return"DomRange"},equals:function(e){return me.rangesEqual(this,e)},isValid:function(){return Y(this)},inspect:function(){return L(this)},detach:function(){}}),he(me,fe),n.extend(me,{rangeProperties:te,RangeIterator:M,copyComparisonConstants:ue,createPrototypeRange:he,inspect:L,toHtml:ee,getRangeDocument:y,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=me})),x.createCoreModule("WrappedRange",["DomRange"],(function(e,t){var i,n,o=e.dom,s=e.util,a=o.DomPosition,r=e.DomRange,l=o.getBody,d=o.getContentDocument,c=o.isCharacterDataNode;if(e.features.implementsDomRange&&function(){var n,a,c=r.rangeProperties;function u(e){for(var t,i=c.length;i--;)e[t=c[i]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function p(e,t,i,n,o){var s=e.startContainer!==t||e.startOffset!=i,a=e.endContainer!==n||e.endOffset!=o,r=!e.equals(e.nativeRange);(s||a||r)&&(e.setEnd(n,o),e.setStart(t,i))}i=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,u(this)},r.createPrototypeRange(i,p),(n=i.prototype).selectNode=function(e){this.nativeRange.selectNode(e),u(this)},n.cloneContents=function(){return this.nativeRange.cloneContents()},n.surroundContents=function(e){this.nativeRange.surroundContents(e),u(this)},n.collapse=function(e){this.nativeRange.collapse(e),u(this)},n.cloneRange=function(){return new i(this.nativeRange.cloneRange())},n.refresh=function(){u(this)},n.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");l(document).appendChild(h);var g=document.createRange();g.setStart(h,0),g.setEnd(h,0);try{g.setStart(h,1),n.setStart=function(e,t){this.nativeRange.setStart(e,t),u(this)},n.setEnd=function(e,t){this.nativeRange.setEnd(e,t),u(this)},a=function(e){return function(t){this.nativeRange[e](t),u(this)}}}catch(e){n.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(i){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}u(this)},n.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(i){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}u(this)},a=function(e,t){return function(i){try{this.nativeRange[e](i)}catch(n){this.nativeRange[t](i),this.nativeRange[e](i)}u(this)}}}n.setStartBefore=a("setStartBefore","setEndBefore"),n.setStartAfter=a("setStartAfter","setEndAfter"),n.setEndBefore=a("setEndBefore","setStartBefore"),n.setEndAfter=a("setEndAfter","setStartAfter"),n.selectNodeContents=function(e){this.setStartAndEnd(e,0,o.getNodeLength(e))},g.selectNodeContents(h),g.setEnd(h,3);var f=document.createRange();f.selectNodeContents(h),f.setEnd(h,4),f.setStart(h,2),-1==g.compareBoundaryPoints(g.START_TO_END,f)&&1==g.compareBoundaryPoints(g.END_TO_START,f)?n.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:n.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var m=document.createElement("div");m.innerHTML="123";var v=m.firstChild,b=l(document);b.appendChild(m),g.setStart(v,1),g.setEnd(v,2),g.deleteContents(),"13"==v.data&&(n.deleteContents=function(){this.nativeRange.deleteContents(),u(this)},n.extractContents=function(){var e=this.nativeRange.extractContents();return u(this),e}),b.removeChild(m),b=null,s.isHostMethod(g,"createContextualFragment")&&(n.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(h),n.getName=function(){return"WrappedRange"},e.WrappedRange=i,e.createNativeRange=function(e){return(e=d(e,t,"createNativeRange")).createRange()}}(),e.features.implementsTextRange){var u=function(e){var t=e.parentElement(),i=e.duplicate();i.collapse(!0);var n=i.parentElement();(i=e.duplicate()).collapse(!1);var s=i.parentElement(),a=n==s?n:o.getCommonAncestor(n,s);return a==t?a:o.getCommonAncestor(t,a)},p=function(e){return 0==e.compareEndPoints("StartToEnd",e)},h=function(e,t,i,n,s){var r=e.duplicate();r.collapse(i);var l=r.parentElement();if(o.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var d=new a(l.parentNode,o.getNodeIndex(l));return{boundaryPosition:d,nodeInfo:{nodeIndex:d.offset,containerElement:d.node}}}var u=o.getDocument(l).createElement("span");u.parentNode&&o.removeNode(u);for(var p,h,g,f,m,v=i?"StartToStart":"StartToEnd",b=s&&s.containerElement==l?s.nodeIndex:0,y=l.childNodes.length,_=y,x=_;x==y?l.appendChild(u):l.insertBefore(u,l.childNodes[x]),r.moveToElementText(u),0!=(p=r.compareEndPoints(v,e))&&b!=_;){if(-1==p){if(_==b+1)break;b=x}else _=_==b+1?b:x;x=Math.floor((b+_)/2),l.removeChild(u)}if(m=u.nextSibling,-1==p&&m&&c(m)){var w;if(r.setEndPoint(i?"EndToStart":"EndToEnd",e),/[\r\n]/.test(m.data)){var S=r.duplicate(),C=S.text.replace(/\r\n/g,"\r").length;for(w=S.moveStart("character",C);-1==(p=S.compareEndPoints("StartToEnd",S));)w++,S.moveStart("character",1)}else w=r.text.length;f=new a(m,w)}else h=(n||!i)&&u.previousSibling,f=(g=(n||i)&&u.nextSibling)&&c(g)?new a(g,0):h&&c(h)?new a(h,h.data.length):new a(l,o.getNodeIndex(u));return o.removeNode(u),{boundaryPosition:f,nodeInfo:{nodeIndex:x,containerElement:l}}},g=function(e,t){var i,n,s,a,r=e.offset,d=o.getDocument(e.node),u=l(d).createTextRange(),p=c(e.node);return p?n=(i=e.node).parentNode:(i=r<(a=e.node.childNodes).length?a[r]:null,n=e.node),(s=d.createElement("span")).innerHTML="&#feff;",i?n.insertBefore(s,i):n.appendChild(s),u.moveToElementText(s),u.collapse(!t),n.removeChild(s),p&&u[t?"moveStart":"moveEnd"]("character",r),u};(n=function(e){this.textRange=e,this.refresh()}).prototype=new r(document),n.prototype.refresh=function(){var e,t,i,n=u(this.textRange);p(this.textRange)?t=e=h(this.textRange,n,!0,!0).boundaryPosition:(e=(i=h(this.textRange,n,!0,!1)).boundaryPosition,t=h(this.textRange,n,!1,!1,i.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},n.prototype.getName=function(){return"WrappedTextRange"},r.copyComparisonConstants(n);var f=function(e){if(e.collapsed)return g(new a(e.startContainer,e.startOffset),!0);var t=g(new a(e.startContainer,e.startOffset),!0),i=g(new a(e.endContainer,e.endOffset),!1),n=l(r.getRangeDocument(e)).createTextRange();return n.setEndPoint("StartToStart",t),n.setEndPoint("EndToEnd",i),n};if(n.rangeToTextRange=f,n.prototype.toTextRange=function(){return f(this)},e.WrappedTextRange=n,!e.features.implementsDomRange||e.config.preferTextRange){var m=Function("return this;")();void 0===m.Range&&(m.Range=n),e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=n}}e.createRange=function(i){return i=d(i,t,"createRange"),new e.WrappedRange(e.createNativeRange(i))},e.createRangyRange=function(e){return e=d(e,t,"createRangyRange"),new r(e)},s.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),s.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener((function(t){var i=t.document;void 0===i.createRange&&(i.createRange=function(){return e.createRange(i)}),i=t=null}))})),x.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],(function(e,t){e.config.checkSelectionRanges=!0;var i,n,o="boolean",s="number",a=e.dom,r=e.util,l=r.isHostMethod,d=e.DomRange,c=e.WrappedRange,u=e.DOMException,p=a.DomPosition,h=e.features,g="Control",f=a.getDocument,m=a.getBody,v=d.rangesEqual;function b(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function y(e,i){if(e){if(a.isWindow(e))return e;if(e instanceof Y)return e.win;var n=a.getContentDocument(e,t,i);return a.getWindow(n)}return window}function _(e){return y(e,"getWinSelection").getSelection()}function x(e){return y(e,"getDocSelection").document.selection}function w(e){var t=!1;return e.anchorNode&&(t=1==a.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var S=l(window,"getSelection"),C=r.isHostObject(document,"selection");h.implementsWinGetSelection=S,h.implementsDocSelection=C;var k=C&&(!S||e.config.preferTextRange);if(k)i=x,e.isSelectionValid=function(e){var t=y(e,"isSelectionValid").document,i=t.selection;return"None"!=i.type||f(i.createRange().parentElement())==t};else{if(!S)return t.fail("Neither document.selection or window.getSelection() detected."),!1;i=_,e.isSelectionValid=function(){return!0}}e.getNativeSelection=i;var E=i();if(!E)return t.fail("Native selection was null (possibly issue 138?)"),!1;var A=e.createNativeRange(document),q=m(document),T=r.areHostProperties(E,["anchorNode","focusNode","anchorOffset","focusOffset"]);h.selectionHasAnchorAndFocus=T;var L=l(E,"extend");h.selectionHasExtend=L;var M=typeof E.rangeCount==s;h.selectionHasRangeCount=M;var O=!1,R=!0,N=L?function(t,i){var n=d.getRangeDocument(i),o=e.createRange(n);o.collapseToPoint(i.endContainer,i.endOffset),t.addRange(z(o)),t.extend(i.startContainer,i.startOffset)}:null;r.areHostMethods(E,["addRange","getRangeAt","removeAllRanges"])&&typeof E.rangeCount==s&&h.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var i=t.rangeCount,n=i>1,o=[],s=w(t),r=0;r<i;++r)o[r]=t.getRangeAt(r);var l=a.createTestElement(document,"",!1),d=l.appendChild(document.createTextNode("Â Â Â ")),c=document.createRange();if(c.setStart(d,1),c.collapse(!0),t.removeAllRanges(),t.addRange(c),R=1==t.rangeCount,t.removeAllRanges(),!n){var u=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(u&&parseInt(u[1])>=36)O=!1;else{var p=c.cloneRange();c.setStart(d,0),p.setEnd(d,3),p.setStart(d,2),t.addRange(c),t.addRange(p),O=2==t.rangeCount}}for(a.removeNode(l),t.removeAllRanges(),r=0;r<i;++r)0==r&&s?N?N(t,o[r]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(o[r])):t.addRange(o[r])}}(),h.selectionSupportsMultipleRanges=O,h.collapsedNonEditableSelectionsSupported=R;var B,I,D=!1;function $(e,t,i){var n=i?"end":"start",o=i?"start":"end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function P(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function H(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function z(t){var i;return t instanceof d?((i=e.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),i.setStart(t.startContainer,t.startOffset)):t instanceof c?i=t.nativeRange:h.implementsDomRange&&t instanceof a.getWindow(t.startContainer).Range&&(i=t),i}function F(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,i=e.length;t<i;++t)if(!a.isAncestorOf(e[0],e[t]))return!1;return!0}function j(e){var i=e.getNodes();if(!F(i))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return i[0]}function U(e){return!!e&&void 0!==e.text}function W(e,t){var i=new c(t);e._ranges=[i],$(e,i,!1),e.rangeCount=1,e.isCollapsed=i.collapsed}function G(t){if(t._ranges.length=0,"None"==t.docSelection.type)H(t);else{var i=t.docSelection.createRange();if(U(i))W(t,i);else{t.rangeCount=i.length;for(var n,o=f(i.item(0)),s=0;s<t.rangeCount;++s)(n=e.createRange(o)).selectNode(i.item(s)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,$(t,t._ranges[t.rangeCount-1],!1)}}}function V(e,i){for(var n=e.docSelection.createRange(),o=j(i),s=f(n.item(0)),a=m(s).createControlRange(),r=0,l=n.length;r<l;++r)a.add(n.item(r));try{a.add(o)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),G(e)}function Y(e,t,i){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=i,this.refresh()}function X(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}q&&l(q,"createControlRange")&&(B=q.createControlRange(),r.areHostProperties(B,["item","add"])&&(D=!0)),h.implementsControlRange=D,n=T?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},l(E,"getRangeAt")?I=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:T&&(I=function(t){var i=f(t.anchorNode),n=e.createRange(i);return n.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),n}),Y.prototype=e.selectionPrototype;var K=[];function Z(e,t){for(var i,n,o=K.length;o--;)if(n=(i=K[o]).selection,"deleteAll"==t)X(n);else if(i.win==e)return"delete"==t?(K.splice(o,1),!0):n;return"deleteAll"==t&&(K.length=0),null}var Q=function(e){if(e&&e instanceof Y)return e.refresh(),e;var t=Z(e=y(e,"getNativeSelection")),n=i(e),o=C?x(e):null;return t?(t.nativeSelection=n,t.docSelection=o,t.refresh()):(t=new Y(n,o,e),K.push({win:e,selection:t})),t};e.getSelection=Q,r.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var J,ee=Y.prototype;function te(e,i){for(var n,o=f(i[0].startContainer),s=m(o).createControlRange(),a=0,r=i.length;a<r;++a){n=j(i[a]);try{s.add(n)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}s.select(),G(e)}if(!k&&T&&r.areHostMethods(E,["removeAllRanges","addRange"])){ee.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),H(this)};var ie=function(e,t){N(e.nativeSelection,t),e.refresh()};ee.addRange=M?function(t,i){if(D&&C&&this.docSelection.type==g)V(this,t);else if(b(i)&&L)ie(this,t);else{var o;O?o=this.rangeCount:(this.removeAllRanges(),o=0);var s=z(t).cloneRange();try{this.nativeSelection.addRange(s)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(e.config.checkSelectionRanges){var a=I(this.nativeSelection,this.rangeCount-1);a&&!v(a,t)&&(t=new c(a))}this._ranges[this.rangeCount-1]=t,$(this,t,ne(this.nativeSelection)),this.isCollapsed=n(this)}else this.refresh()}}:function(e,t){b(t)&&L?ie(this,e):(this.nativeSelection.addRange(z(e)),this.refresh())},ee.setRanges=function(e){if(D&&C&&e.length>1)te(this,e);else{this.removeAllRanges();for(var t=0,i=e.length;t<i;++t)this.addRange(e[t])}}}else{if(!(l(E,"empty")&&l(A,"select")&&D&&k))return t.fail("No means of selecting a Range or TextRange was found"),!1;ee.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=f(this.anchorNode);else if(this.docSelection.type==g){var t=this.docSelection.createRange();t.length&&(e=f(t.item(0)))}e&&(m(e).createTextRange().select(),this.docSelection.empty())}}catch(e){}H(this)},ee.addRange=function(t){this.docSelection.type==g?V(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,$(this,t,!1))},ee.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?te(this,e):t&&this.addRange(e[0])}}if(ee.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new u("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},k)J=function(t){var i;e.isSelectionValid(t.win)?i=t.docSelection.createRange():(i=m(t.win.document).createTextRange()).collapse(!0),t.docSelection.type==g?G(t):U(i)?W(t,i):H(t)};else if(l(E,"getRangeAt")&&typeof E.rangeCount==s)J=function(t){if(D&&C&&t.docSelection.type==g)G(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var i=0,o=t.rangeCount;i<o;++i)t._ranges[i]=new e.WrappedRange(t.nativeSelection.getRangeAt(i));$(t,t._ranges[t.rangeCount-1],ne(t.nativeSelection)),t.isCollapsed=n(t)}else H(t)};else{if(!T||typeof E.isCollapsed!=o||typeof A.collapsed!=o||!h.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;J=function(e){var t,i=e.nativeSelection;i.anchorNode?(t=I(i,0),e._ranges=[t],e.rangeCount=1,P(e),e.isCollapsed=n(e)):H(e)}}ee.refresh=function(e){var t=e?this._ranges.slice(0):null,i=this.anchorNode,n=this.anchorOffset;if(J(this),e){var o=t.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=i||this.anchorOffset!=n)return!0;for(;o--;)if(!v(t[o],this._ranges[o]))return!0;return!1}};var ne,oe=function(e,t){var i=e.getAllRanges();e.removeAllRanges();for(var n=0,o=i.length;n<o;++n)v(t,i[n])||e.addRange(i[n]);e.rangeCount||H(e)};function se(e,t){if(e.win.document!=f(t))throw new u("WRONG_DOCUMENT_ERR")}function ae(t){return function(i,n){var o;this.rangeCount?(o=this.getRangeAt(0))["set"+(t?"Start":"End")](i,n):(o=e.createRange(this.win.document)).setStartAndEnd(i,n),this.setSingleRange(o,this.isBackward())}}function re(e){var t=[],i=new p(e.anchorNode,e.anchorOffset),n=new p(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var s=0,a=e.rangeCount;s<a;++s)t[s]=d.inspect(e.getRangeAt(s));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}ee.removeRange=D&&C?function(e){if(this.docSelection.type==g){for(var t=this.docSelection.createRange(),i=j(e),n=f(t.item(0)),o=m(n).createControlRange(),s=!1,a=0,r=t.length;a<r;++a)t.item(a)!==i||s?o.add(t.item(a)):s=!0;o.select(),G(this)}else oe(this,e)}:function(e){oe(this,e)},!k&&T&&h.implementsDomRange?(ne=w,ee.isBackward=function(){return ne(this)}):ne=ee.isBackward=function(){return!1},ee.isBackwards=ee.isBackward,ee.toString=function(){for(var e=[],t=0,i=this.rangeCount;t<i;++t)e[t]=""+this._ranges[t];return e.join("")},ee.collapse=function(t,i){se(this,t);var n=e.createRange(t);n.collapseToPoint(t,i),this.setSingleRange(n),this.isCollapsed=!0},ee.collapseToStart=function(){if(!this.rangeCount)throw new u("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ee.collapseToEnd=function(){if(!this.rangeCount)throw new u("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ee.selectAllChildren=function(t){se(this,t);var i=e.createRange(t);i.selectNodeContents(t),this.setSingleRange(i)},ee.deleteFromDocument=function(){if(D&&C&&this.docSelection.type==g){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),a.removeNode(e);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();if(i.length){this.removeAllRanges();for(var n=0,o=i.length;n<o;++n)i[n].deleteContents();this.addRange(i[o-1])}}},ee.eachRange=function(e,t){for(var i=0,n=this._ranges.length;i<n;++i)if(e(this.getRangeAt(i)))return t},ee.getAllRanges=function(){var e=[];return this.eachRange((function(t){e.push(t)})),e},ee.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ee.callMethodOnEachRange=function(e,t){var i=[];return this.eachRange((function(n){i.push(n[e].apply(n,t||[]))})),i},ee.setStart=ae(!0),ee.setEnd=ae(!1),e.rangePrototype.select=function(e){Q(this.getDocument()).setSingleRange(this,e)},ee.changeEachRange=function(e){var t=[],i=this.isBackward();this.eachRange((function(i){e(i),t.push(i)})),this.removeAllRanges(),i&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ee.containsNode=function(e,t){return this.eachRange((function(i){return i.containsNode(e,t)}),!0)||!1},ee.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ee.moveToBookmark=function(t){for(var i,n,o=[],s=0;i=t.rangeBookmarks[s++];)(n=e.createRange(this.win)).moveToBookmark(i),o.push(n);t.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},ee.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ee.restoreRanges=function(e){this.removeAllRanges();for(var t,i=0;t=e.ranges[i];++i)this.addRange(t,e.backward&&0==i)},ee.toHtml=function(){var e=[];return this.eachRange((function(t){e.push(d.toHtml(t))})),e.join("")},h.implementsTextRange&&(ee.getNativeTextRange=function(){var i;if(i=this.docSelection){var n=i.createRange();if(U(n))return n;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ee.getName=function(){return"WrappedSelection"},ee.inspect=function(){return re(this)},ee.detach=function(){Z(this.win,"delete"),X(this)},Y.detachAll=function(){Z(null,"deleteAll")},Y.inspect=re,Y.isDirectionBackward=b,e.Selection=Y,e.selectionPrototype=ee,e.addShimListener((function(e){void 0===e.getSelection&&(e.getSelection=function(){return Q(e)}),e=null}))}));var D=!1,$=function(e){D||(D=!0,!x.initialized&&x.config.autoInitialize&&q())};return y&&("complete"==document.readyState?$():(r(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",$,!1),v(window,"load",$))),x}()}(ei);var ti=ei.exports;class ii{constructor(e){this.builder=e,this.dom=new ni}cellSelected(){return document.querySelector(".cell-active")}builderStuff(){return document.querySelector("#_cbhtml")}cellNext(e){const t=this.dom;let i=e.nextElementSibling;return i?t.hasClass(i,"is-row-tool")||t.hasClass(i,"is-rowadd-tool")||t.hasClass(i,"is-row-overlay")?null:i:null}out(e){if(this.builder){let t=this.builder.opts.lang[e];return t||(this.builder.checkLang&&console.log(e),e)}return e}confirm(e,t,i,n){const o=this.dom;let s="";s=`<div class="is-modal is-confirm">\n            <div class="is-modal-content" style="padding-bottom:20px;">\n                <p>${e}</p>\n                <button title="${this.out("Delete")}" class="input-ok classic">${this.out("Delete")}</button>\n            </div>\n        </div>`,i&&(s=`<div class="is-modal is-confirm">\n                <div class="is-modal-content" style="padding-bottom:20px;">\n                    <p>${e}</p>\n                    <button title="${this.out("Cancel")}" class="input-cancel classic-secondary">${this.out("Cancel")}</button>\n                    <button title="${n}" class="input-ok classic-primary">${n}</button>\n                </div>\n            </div>`);const a=this.builder.builderStuff;let r=a.querySelector(".is-confirm");r||(o.appendHtml(a,s),r=a.querySelector(".is-confirm")),this.showModal(r,!1,(()=>{r.parentNode.removeChild(r),t(!1)}),!0);let l=r.querySelector(".is-confirm .input-ok");o.addEventListener(l,"click",(()=>{this.hideModal(r),r.parentNode.removeChild(r),t(!0)}));let d=r.querySelector(".is-confirm .input-cancel");o.addEventListener(d,"click",(e=>{this.hideModal(r),r.parentNode.removeChild(r),t(!1),e.preventDefault(),e.stopImmediatePropagation()}))}showModal(e,t,i,n){const o=this.dom;o.addClass(e,"active");let s=!1;if(this.builder?this.builder.opts.animateModal&&(s=!0,n||(s=!1)):n&&(s=!0),s&&this.builder){const e=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(e,(e=>{e.style.transform=`scale(${this.builder.opts.zoom-.02})`,e.style.WebkitTransform=`scale(${this.builder.opts.zoom-.02})`,e.style.MozTransform=`scale(${this.builder.opts.zoom-.02})`,e.setAttribute("scaled-down","1")}))}if(!e.querySelector(".is-modal-overlay")){let n;if(n=t?'<div class="is-modal-overlay overlay-stay"></div>':'<div class="is-modal-overlay"></div>',e.insertAdjacentHTML("afterbegin",n),!t){let t=e.querySelector(".is-modal-overlay");o.addEventListener(t,"click",(()=>{i&&i(),this.hideModal(e)}))}}}hideModal(e){if(this.builder){const e=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(e,(e=>{e.getAttribute("scaled-down")&&(e.style.transform=`scale(${this.builder.opts.zoom})`,e.style.WebkitTransform=`scale(${this.builder.opts.zoom})`,e.style.MozTransform=`scale(${this.builder.opts.zoom})`,e.removeAttribute("scaled-down"))}))}this.dom.removeClass(e,"active")}fixLayout(e){const t=this.dom;let i=2;e.querySelector(".is-row-overlay")&&(i=3);const n=e.childElementCount-i,o=this.builder.opts.row,s=this.builder.opts.cols,a=this.builder.opts.colequal;if(a.length>0){t.elementChildren(e).forEach((e=>{if(!(t.hasClass(e,"is-row-tool")||t.hasClass(e,"is-rowadd-tool")||t.hasClass(e,"is-row-overlay"))){for(let i=0;i<=s.length-1;i++)t.removeClass(e,s[i]);for(let i=0;i<=a.length-1;i++)if(a[i].length===n){t.addClass(e,a[i][0]);break}1===n&&t.addClass(e,s[s.length-1])}}))}else if(""!==o&&s.length>0){let i=0;t.elementChildren(e).forEach((e=>{if(!(t.hasClass(e,"is-row-tool")||t.hasClass(e,"is-rowadd-tool")||t.hasClass(e,"is-row-overlay"))){i++;for(var o=0;o<=s.length-1;o++)t.removeClass(e,s[o]);1===n&&t.addClass(e,s[11]),2===n&&t.addClass(e,s[5]),3===n&&t.addClass(e,s[3]),4===n&&t.addClass(e,s[2]),5===n&&(5===i?t.addClass(e,s[3]):t.addClass(e,s[1])),6===n&&t.addClass(e,s[1]),7===n&&(i>=6?t.addClass(e,s[0]):t.addClass(e,s[1])),8===n&&(i>=5?t.addClass(e,s[0]):t.addClass(e,s[1])),9===n&&(i>=4?t.addClass(e,s[0]):t.addClass(e,s[1])),10===n&&(i>=3?t.addClass(e,s[0]):t.addClass(e,s[1])),11===n&&(i>=2?t.addClass(e,s[0]):t.addClass(e,s[1])),12===n&&t.addClass(e,s[0])}}))}}addContent(e,t,i){const n=this.dom;this.builder.opts.onAdd&&(e=this.builder.opts.onAdd(e));const o=this.cellSelected();let s;if(o)s=o.parentNode;else{if(s=document.querySelector(".row-active"),!s)return;t="row"}if("cell"===t||"cell-left"===t||"cell-right"===t){let a=4;this.builder.maxColumns&&(a=this.builder.maxColumns);let r,l=2;if(s.querySelector(".is-row-overlay")&&(l=3),s.childElementCount>=a+l)return alert(this.out("You have reached the maximum number of columns")),!1;if(this.builder.uo.saveForUndo(),""===this.builder.opts.row){let t=this.builder.opts.cellFormat,i=t.indexOf("</");e=t.substring(0,i)+e+t.substring(i),r=this.createElementFromHTML(e)}else{r=o.cloneNode(!0),r.removeAttribute("data-noedit"),r.removeAttribute("data-protected"),r.removeAttribute("data-module"),r.removeAttribute("data-module-desc"),r.removeAttribute("data-dialog-width"),r.removeAttribute("data-html"),r.removeAttribute("data-settings");for(let e=1;e<=20;e++)r.removeAttribute("data-html-"+e);r.removeAttribute("data-noedit"),n.removeClass(r,"cell-active"),r.removeAttribute("data-click"),r.removeAttribute("style"),i&&r.setAttribute(i,""),r.innerHTML=e}s.insertBefore(r,o),"cell"!==t&&"cell-right"!==t||n.moveAfter(r,o);let d=document.querySelector(".builder-active");d&&this.builder.applyBehaviorOn(d),this.fixLayout(s),r.click()}if("row"===t){let t,o;if(this.builder.uo.saveForUndo(),""===this.builder.opts.row){t=this.htmlToElement(this.builder.opts.rowFormat);let s=this.builder.opts.cellFormat,a=s.indexOf("</");e=s.substring(0,a)+e+s.substring(a);let r=n.elementChildren(t);for(;r.length>0&&(r=r[0],n.elementChildren(r).length>0);)r=n.elementChildren(r);r.innerHTML=e,o=r.firstChild,i&&o.setAttribute(i,"")}else o=n.createElement("div"),n.addClass(o,this.builder.opts.cols[this.builder.opts.cols.length-1]),o.innerHTML=e,i&&o.setAttribute(i,""),t=n.createElement("div"),n.addClass(t,this.builder.opts.row),n.appendChild(t,o);s.parentNode.insertBefore(t,s),n.moveAfter(t,s);let a=document.querySelector(".builder-active");a&&this.builder.applyBehaviorOn(a),o.click()}if("elm"===t){let t=this.builder.activeElement;if(!t)return;this.builder.uo.saveForUndo();let i=t;i.insertAdjacentHTML("afterend",e);let n=document.querySelector(".builder-active");n&&this.builder.applyBehaviorOn(n);let o=i.nextElementSibling;var a;if("img"===o.tagName.toLowerCase())clearTimeout(a),a=setTimeout((()=>{o.complete&&o.click()}),200);else o.click()}if(this.builder.useCssClasses){let e=document.querySelector(".builder-active");e&&n.contentReformat(e,this.builder.cssClasses)}this.builder.opts.onChange()}htmlToElement(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}addSnippet(e,t,i){this.builder.uo.saveForUndo();const n=this.dom;let o,s,a,r,l=!1;const d=this.builder.builderStuff.querySelector(".quickadd").getAttribute("data-mode");if(!t||"cell"!==d&&"cell-left"!==d&&"cell-right"!==d){if(t&&"row"===d){let t;if(a=document.createElement("div"),a.className=this.builder.opts.cols[this.builder.opts.cols.length-1],a.innerHTML=e,i&&a.setAttribute("data-noedit",""),o=document.createElement("div"),o.className=this.builder.opts.row,o.appendChild(a),s=this.builder.cellSelected(),s?t=s.parentNode:(t=document.querySelector(".row-active"),t||(l=!0)),l){const e=document.querySelectorAll(".is-builder"),i=e[e.length-1],o=n.elementChildren(i);t=o[o.length-1]}t.parentNode.insertBefore(o,t),n.moveAfter(o,t);let d=document.querySelector(".builder-active");d&&this.builder.applyBehaviorOn(d),a.click(),o.className=o.className.replace("row-outline",""),r=document.querySelector(".is-column-tool"),r.className=r.className.replace("active","")}else{if(t)return void(i?this.addContent(e,d,"data-noedit"):this.addContent(e,d));{var c=document.createElement("div");c.innerHTML=e;var u=c.querySelectorAll("[data-html]");if(Array.prototype.forEach.call(u,(t=>{e=(e=decodeURIComponent(t.getAttribute("data-html"))).replace(/{id}/g,this.makeId());for(var i=1;i<=20;i++)e=e.replace("[%HTML"+i+"%]",void 0===t.getAttribute("data-html-"+i)?"":decodeURIComponent(t.getAttribute("data-html-"+i)));t.innerHTML=e})),1===c.childNodes.length&&1===c.childNodes[0].childNodes.length&&("cell"===d||"cell-left"===d||"cell-right"===d)){const e=this.cellSelected();let t=e.parentNode,i=4;if(this.builder.maxColumns&&(i=this.builder.maxColumns),t.querySelector(".is-row-overlay")){if(t.childElementCount>=i+3)return alert(this.out("You have reached the maximum number of columns")),!1}else if(t.childElementCount>=i+2)return alert(this.out("You have reached the maximum number of columns")),!1;this.builder.uo.saveForUndo();let n=c.childNodes[0].childNodes[0];var p=document.createRange();e.parentNode.insertBefore(p.createContextualFragment(n.outerHTML),e),"cell"!==d&&"cell-right"!==d||(e.parentNode.insertBefore(e.previousElementSibling,e),e.parentNode.insertBefore(e,e.previousElementSibling));let o=document.querySelector(".builder-active");return o&&this.builder.applyBehaviorOn(o),this.fixLayout(t),"cell"===d||"cell-right"===d?e.nextElementSibling.click():e.previousElementSibling.click(),void this.builder.opts.onChange()}let t;if(s=this.builder.activeCol,s?t=s.parentNode:(t=document.querySelector(".row-active"),t||(l=!0)),l){const e=document.querySelectorAll(".is-builder"),i=e[e.length-1],o=n.elementChildren(i);t=o[o.length-1]}p=document.createRange(),t.parentNode.insertBefore(p.createContextualFragment(c.innerHTML),t.nextSibling),o=c.childNodes[0],o=t.nextElementSibling;let i=document.querySelector(".builder-active");i&&this.builder.applyBehaviorOn(i),a=o.childNodes[0],a.click(),o.className=o.className.replace("row-outline",""),r=document.querySelector(".is-column-tool"),r.className=r.className.replace("active","")}}if(this.builder.useCssClasses){let e=document.querySelector(".builder-active");e&&n.contentReformat(e,this.builder.cssClasses)}this.builder.opts.onChange()}else i?this.addContent(e,d,"data-noedit"):this.addContent(e,d)}clearActiveCell(){const e=this.builder.builderStuff;if(!e)return;if(e.getAttribute("preventDevault"))return void setTimeout((()=>{e.removeAttribute("preventDevault")}),30);const t=this.dom;let i=document.getElementsByClassName("cell-active");for(;i.length;)i[0].classList.remove("cell-active");for(i=document.getElementsByClassName("row-outline");i.length;)i[0].classList.remove("row-outline");for(i=document.getElementsByClassName("row-active");i.length;)i[0].classList.remove("row-active");for(i=document.getElementsByClassName("builder-active");i.length;)i[0].classList.remove("builder-active");let n=e.querySelector(".is-column-tool");t.removeClass(n,"active"),e.querySelector(".is-element-tool").style.display="",this.builder.activeCol=null}clearAfterUndoRedo(){const e=this.dom,t=this.builder.builderStuff;let i=t.querySelectorAll(".is-tool");Array.prototype.forEach.call(i,(e=>{e.style.display=""})),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none",this.builder.activeSpacer=null,this.builder.activeCodeBlock=null,this.builder.activeLink=null,this.builder.activeLinkButton=null,this.builder.activeButton=null,this.builder.activeIframe=null,this.builder.activeTd=null,this.builder.activeTable=null,this.builder.activeModule=null;const n=document.querySelectorAll(".icon-active");Array.prototype.forEach.call(n,(t=>{e.removeClass(t,"icon-active")})),this.builder.activeIcon=null;let o=t.querySelector(".is-rte-tool").querySelectorAll("button");Array.prototype.forEach.call(o,(t=>{e.removeClass(t,"on")})),o=t.querySelector(".is-elementrte-tool").querySelectorAll("button"),Array.prototype.forEach.call(o,(t=>{e.removeClass(t,"on")}));let s=t.querySelectorAll(".is-pop");Array.prototype.forEach.call(s,(e=>{e.style.display=""}))}hideControls(){let e=this.builder.builderStuff.querySelectorAll(".is-tool");Array.prototype.forEach.call(e,(e=>{e.style.display=""})),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}clearActiveElement(e){const t=this.dom,i=this.builder.builderStuff,n=document.querySelectorAll(".icon-active");Array.prototype.forEach.call(n,(e=>{t.removeClass(e,"icon-active")}));let o=document.querySelectorAll(".elm-inspected");if(Array.prototype.forEach.call(o,(e=>{t.removeClass(e,"elm-inspected")})),o=document.querySelectorAll(".elm-active"),Array.prototype.forEach.call(o,(e=>{t.removeClass(e,"elm-active")})),i.querySelector(".is-element-tool").style.display="",i.querySelector("#divLinkTool").style.display="",e){this.builder.activeIcon=null,this.builder.inspectedElement=null,this.builder.activeElement=null;let e=i.querySelector(".is-rte-tool");e&&(e.style.display="none");let t=i.querySelector(".is-elementrte-tool");t&&(t.style.display="flex");let n=i.querySelector(".rte-more-options");n&&(n.style.display="");let o=i.querySelector(".elementrte-more-options");o&&(o.style.display="");let s=t.querySelectorAll("button[data-align]");Array.prototype.forEach.call(s,(e=>{e.style.display="none"})),this.builder.rte.positionToolbar()}}clearControls(){const e=this.dom,t=this.builder.builderStuff;if(!t)return;if(t.getAttribute("preventDevault"))return void setTimeout((()=>{t.removeAttribute("preventDevault")}),30);let i=t.querySelectorAll(".is-tool");Array.prototype.forEach.call(i,(e=>{e.style.display=""})),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none",this.builder.activeSpacer=null,this.builder.activeCodeBlock=null,this.builder.activeLink=null,this.builder.activeLinkButton=null,this.builder.activeButton=null,this.builder.activeIframe=null,this.builder.activeTd=null,this.builder.activeTable=null,this.builder.activeModule=null,this.builder.activeImage=null;const n=document.querySelectorAll(".icon-active");Array.prototype.forEach.call(n,(t=>{e.removeClass(t,"icon-active")})),this.builder.activeIcon=null;let o=document.querySelectorAll(".ovl");Array.prototype.forEach.call(o,(e=>{e.style.display="block"}));var s=t.querySelectorAll(".is-side.elementstyles");Array.prototype.forEach.call(s,(t=>{e.removeClass(t,"active")}));let a=document.querySelectorAll("[data-saveforundo]");Array.prototype.forEach.call(a,(e=>{e.removeAttribute("data-saveforundo")})),a=document.querySelectorAll(".elm-inspected"),Array.prototype.forEach.call(a,(t=>{e.removeClass(t,"elm-inspected")}));let r=t.querySelector(".is-rte-tool");r&&(r.style.display="none");let l=t.querySelector(".is-elementrte-tool");l&&(l.style.display="none");let d=t.querySelector(".rte-more-options");d&&(d.style.display="");let c=t.querySelector(".elementrte-more-options");c&&(c.style.display=""),a=document.querySelectorAll(".elm-active"),Array.prototype.forEach.call(a,(t=>{e.removeClass(t,"elm-active")}));let u=t.querySelectorAll(".is-rte-pop");Array.prototype.forEach.call(u,(t=>{t.style.display="",e.removeClass(t,"active"),e.removeClass(t,"deactive")})),this.builder.colTool.lockIndicator.style.display=""}makeId(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}saveSelection(){if(window.getSelection){let e=window.getSelection();if(e.getRangeAt&&e.rangeCount){let t=[];for(let i=0,n=e.rangeCount;i<n;++i)t.push(e.getRangeAt(i));return this.builder.selection=t,t}}else if(document.selection&&document.selection.createRange)return this.builder.selection=document.selection.createRange(),document.selection.createRange();return this.builder.selection=null,null}restoreSelection(){let e=this.builder.selection;if(e)if(window.getSelection){let o=window.getSelection();if(document.body.createTextRange){var t=document.body.createTextRange();t.collapse(),t.select()}else window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty();for(var i=0,n=e.length;i<n;++i)o.addRange(e[i])}else document.selection&&e.select&&e.select()}cleanHTML(e,t){let i,n=e.replace(/(\n|\r| class=(")?Mso[a-zA-Z]+(")?)/g," "),o=new RegExp("\x3c!--(.*?)--\x3e","g");n=n.replace(o,""),i=t?new RegExp("<(/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>","gi"):new RegExp("<(/)*(meta|link|\\?xml:|st1:|o:|font)(.*?)>","gi"),n=n.replace(i,"");let s,a=["style","script","applet","embed","noframes","noscript"];for(let e=0;e<a.length;e++)i=new RegExp("<"+a[e]+".*?"+a[e]+"(.*?)>","gi"),n=n.replace(i,"");s=t?["style","start"]:["start"];for(let e=0;e<s.length;e++){let t=new RegExp(" "+s[e]+'="(.*?)"',"gi");n=n.replace(t,"")}return n=n.replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s/>]))[^>]*>/gi,""),n=n.replace(/<(\/?)s>/gi,"<$1strike>"),n=n.replace(/&nbsp;/gi," "),n=n.replace(/background-color: rgba\(200, 200, 201, 0.11\);/gi,""),n=n.replace(/background-color: rgba\(200, 200, 201, 0.11\)/gi,""),n}checkEmpty(){const e=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(e,(e=>{this.checkEmptyOn(e)}))}checkEmptyOn(e){const t=this.dom,i=t.elementChildren(e);let n=!0;if(i.forEach((e=>{t.hasClass(e,"row-add-initial")||t.hasClass(e,"dummy-space")||(n=!1)})),n){let i=e.querySelector(".row-add-initial");i||(e.innerHTML=`<button type="button" class="row-add-initial">${this.out("Empty")}<br><span class="block">${this.out("+ Click to add content")}</span></div>`,i=e.querySelector(".row-add-initial")),i.addEventListener("click",(()=>{this.clearActiveCell();const n=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(n,(e=>{t.removeClass(e,"builder-active")})),t.addClass(e,"builder-active"),t.addClass(i,"row-active");let o=this.builder.builderStuff.querySelector(".quickadd");o.querySelector(".is-pop-tabs").style.display="none";const s=window.innerHeight;let a=i.getBoundingClientRect().top;const r=i.getBoundingClientRect().left+i.offsetWidth*this.builder.opts.zoom/2-11;o.style.display="flex";const l=o.offsetWidth,d=o.offsetHeight;s-a>d?(a=a+i.offsetHeight*this.builder.opts.zoom-19,o.style.top=a+window.pageYOffset+27+"px",o.style.left=r-l/2+7+"px",t.removeClass(o,"arrow-bottom"),t.removeClass(o,"arrow-right"),t.removeClass(o,"arrow-left"),t.removeClass(o,"center"),t.addClass(o,"arrow-top"),t.addClass(o,"center")):(o.style.top=a+window.pageYOffset-d-8+"px",o.style.left=r-l/2+7+"px",t.removeClass(o,"arrow-top"),t.removeClass(o,"arrow-right"),t.removeClass(o,"arrow-left"),t.removeClass(o,"center"),t.addClass(o,"arrow-bottom"),t.addClass(o,"center")),o.setAttribute("data-mode","row")}))}else{let t=e.querySelector(".row-add-initial");t&&t.parentNode.removeChild(t)}}clearPreferences(){localStorage.removeItem("_theme"),localStorage.removeItem("_zoom"),localStorage.removeItem("_buildermode"),localStorage.removeItem("_editingtoolbar"),localStorage.removeItem("_editingtoolbardisplay"),localStorage.removeItem("_hidecelltool"),localStorage.removeItem("_rowtool"),localStorage.removeItem("_hideelementtool"),localStorage.removeItem("_hidesnippetaddtool"),localStorage.removeItem("_outlinemode"),localStorage.removeItem("_hiderowcoloutline"),localStorage.removeItem("_outlinestyle"),localStorage.removeItem("_hideelementhighlight"),localStorage.removeItem("_opensnippets"),localStorage.removeItem("_toolstyle"),localStorage.removeItem("_snippetssidebardisplay"),localStorage.removeItem("_pasteresult"),localStorage.removeItem("_scrollableeditor"),localStorage.removeItem("_animatedsorting"),localStorage.removeItem("_addbuttonplace"),localStorage.removeItem("_hiderowtool"),localStorage.removeItem("_dragwithouthandle"),localStorage.removeItem("_advancedhtmleditor"),localStorage.removeItem("_hidecolhtmleditor"),localStorage.removeItem("_hiderowhtmleditor")}pasteHtmlAtCaret(e,t){var i,n;if(this.restoreSelection(),window.getSelection){if(!this.builder.activeCol)return;if((i=window.getSelection()).getRangeAt&&i.rangeCount){(n=i.getRangeAt(0)).deleteContents();var o=document.createElement("div");o.innerHTML=e;for(var s,a,r=document.createDocumentFragment();s=o.firstChild;)a=r.appendChild(s);var l=r.firstChild;n.insertNode(r),a&&((n=n.cloneRange()).setStartAfter(a),t?n.setStartBefore(l):n.collapse(!0),i.removeAllRanges(),this.builder.isTouchSupport||i.addRange(n))}}else if((i=document.selection)&&"Control"!==i.type){if(!this.builder.activeCol)return;var d=i.createRange();d.collapse(!0),i.createRange().pasteHTML(e),t&&((n=i.createRange()).setEndPoint("StartToStart",d),this.builder.isTouchSupport||n.select())}}refreshModule(){let e=this.builder.activeModule;if(!e)return;let t=1,i=e.querySelectorAll("[data-subblock]");Array.prototype.forEach.call(i,(i=>{let n=i.innerHTML;e.setAttribute("data-html-"+t,encodeURIComponent(n)),t++}));let n=decodeURIComponent(e.getAttribute("data-html"));n=n.replace(/{id}/g,this.makeId()),e.innerHTML="";var o=document.createRange();o.setStart(e,0),e.appendChild(o.createContextualFragment(n)),i=e.querySelectorAll("[data-subblock]");var s=1;Array.prototype.forEach.call(i,(t=>{e.getAttribute("data-html-"+s)&&(t.innerHTML=decodeURIComponent(e.getAttribute("data-html-"+s))),s++})),this.repositionColumnTool(!0),this.builder.onRefreshTool&&this.builder.onRefreshTool()}repositionColumnTool(e){let t=this.builder.colTool.columnTool,i=this.builder.activeCol;e?(t.style.transition="all ease 100ms",setTimeout((()=>{t.style.top=i.getBoundingClientRect().top-29+window.pageYOffset+"px",t.style.left=i.getBoundingClientRect().left-1+"px",setTimeout((()=>{t.style.transition=""}),100)}),10)):(t.style.top=i.getBoundingClientRect().top-29+window.pageYOffset+"px",t.style.left=i.getBoundingClientRect().left-1+"px")}isTouchSupport(){return!!window.matchMedia("(pointer: coarse)").matches}detectIE(){return!!document.documentMode}LightenDarkenColor(e,t){var i=!1;"#"===e[0]&&(e=e.slice(1),i=!0);var n=parseInt(e,16),o=(n>>16)+t;o>255?o=255:o<0&&(o=0);var s=(n>>8&255)+t;s>255?s=255:s<0&&(s=0);var a=(255&n)+t;return a>255?a=255:a<0&&(a=0),(i?"#":"")+String("000000"+(a|s<<8|o<<16).toString(16)).slice(-6)}getUIStyles(){this.dom.appendHtml(this.builder.builderStuff,'<button class="style-helper"><svg><use xlink:href="#ion-code-working"></use></svg></button>\n        <input type="text" class="style-helper-input" style="display:none;">\n        <label class="style-helper-label" style="display:none;"></label>\n        <input class="style-helper-checkbox" type="checkbox" style="display:none;">\n        <button class="style-helper-button-classic classic" style="display:none;"><svg><use xlink:href="#ion-code-working"></use></svg></button>\n        <select class="style-helper-select" style="display:none;"><option value=""></option></select>\n        ');const e=this.builder.builderStuff.querySelector(".style-helper"),t=this.builder.builderStuff.querySelector(".style-helper-input"),i=this.builder.builderStuff.querySelector(".style-helper-label"),n=this.builder.builderStuff.querySelector(".style-helper-select"),o=this.builder.builderStuff.querySelector(".style-helper-button-classic");this.builder.styleModalColor=this.getUIStyleValue(e,"modal-color","background-color"),this.builder.styleModalBackground=this.getUIStyleValue(e,"modal-background","background-color"),this.builder.styleButtonPickColorBorder=this.getUIStyleValue(e,"button-pickcolor-border","border"),this.builder.styleButtonPickColorBackground=this.getUIStyleValue(e,"button-pickcolor-background","background-color"),this.builder.styleToolBackground=window.getComputedStyle(e,null).getPropertyValue("background-color"),this.builder.styleButtonColor=window.getComputedStyle(e,null).getPropertyValue("color"),this.builder.styleButtonSvgFill=window.getComputedStyle(e.querySelector("svg"),null).getPropertyValue("fill"),this.builder.styleButtonBackgroundHover=this.getUIStyleValue(e,"hover","background-color"),this.builder.styleSnippetColor=this.getUIStyleValue(e,"snippet-color","background-color"),this.builder.styleSnippetBackground=this.getUIStyleValue(e,"snippet-background","background-color"),this.builder.styleSnippetTabsBackground=this.getUIStyleValue(e,"snippet-tabs-background","background-color"),this.builder.styleSnippetTabItemBackground=this.getUIStyleValue(e,"snippet-tab-item-background","background-color"),this.builder.styleSnippetTabItemBackgroundActive=this.getUIStyleValue(e,"snippet-tab-item-background-active","background-color"),this.builder.styleSnippetTabItemBackgroundHover=this.getUIStyleValue(e,"snippet-tab-item-background-hover","background-color"),this.builder.styleSnippetTabItemColor=this.getUIStyleValue(e,"snippet-tab-item-color","background-color"),this.builder.styleSnippetMoreItemBackground=this.getUIStyleValue(e,"snippet-more-item-background","background-color"),this.builder.styleSnippetMoreItemBackgroundActive=this.getUIStyleValue(e,"snippet-more-item-background-active","background-color"),this.builder.styleSnippetMoreItemBackgroundHover=this.getUIStyleValue(e,"snippet-more-item-background-hover","background-color"),this.builder.styleSnippetMoreItemColor=this.getUIStyleValue(e,"snippet-more-item-color","background-color"),this.builder.styleTabsBackground=this.getUIStyleValue(e,"tabs-background","background-color"),this.builder.styleTabItemBorderBottomActive=this.getUIStyleValue(e,"tab-item-active-border-bottom","border"),this.builder.styleTabItemColor=this.getUIStyleValue(e,"tab-item-color","background-color"),this.builder.styleTabsMoreBackground=this.getUIStyleValue(e,"tabs-more-background","background-color"),this.builder.styleTabsMoreBorder=this.getUIStyleValue(e,"tabs-more-border","border"),this.builder.styleTabsMoreItemColor=this.getUIStyleValue(e,"tabs-more-item-color","background-color"),this.builder.styleTabsMoreBackgroundHover=this.getUIStyleValue(e,"tabs-more-item-background-hover","background-color"),this.builder.styleSeparatorColor=this.getUIStyleValue(e,"separator-color","background-color"),this.builder.styleSelectBackground=window.getComputedStyle(n,null).getPropertyValue("background-color"),this.builder.styleSelectColor=window.getComputedStyle(n,null).getPropertyValue("color"),this.builder.styleSelectOptionBackground=window.getComputedStyle(n.querySelector("option"),null).getPropertyValue("background-color"),this.builder.styleInputBackground=window.getComputedStyle(t,null).getPropertyValue("background-color"),this.builder.styleInputBorderBottom=window.getComputedStyle(t,null).getPropertyValue("border-bottom"),this.builder.styleInputColor=window.getComputedStyle(t,null).getPropertyValue("color"),this.builder.styleLabelColor=window.getComputedStyle(i,null).getPropertyValue("color"),this.builder.styleButtonClassicBackground=window.getComputedStyle(o,null).getPropertyValue("background-color"),this.builder.styleButtonClassicColor=window.getComputedStyle(o,null).getPropertyValue("color"),this.builder.styleButtonClassicBackgroundHover=this.getUIStyleValue(o,"hover","background-color"),this.builder.styleDark=!1,this.builder.styleColored=!1,this.builder.styleColoredDark=!1,this.builder.styleLight=!1,document.body.getAttribute("class")&&(-1!==document.body.getAttribute("class").indexOf("colored-dark")?this.builder.styleColoredDark=!0:-1!==document.body.getAttribute("class").indexOf("dark")?this.builder.styleDark=!0:-1!==document.body.getAttribute("class").indexOf("colored")?this.builder.styleColored=!0:-1!==document.body.getAttribute("class").indexOf("light")&&(this.builder.styleLight=!0))}getUIStyleValue(e,t,i){const n=this.dom;n.addClass(e,t);let o=window.getComputedStyle(e,null).getPropertyValue(i);return n.removeClass(e,t),o}getFontFamilyStyle(e){return`\n            html, body {height:100%}\n            body {overflow:hidden;margin:0;\n                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                font-size:100%; \n                line-height:1.7;\n            }\n            #divFontList {margin:0;padding:0 0 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;}\n            #divFontList > div {width:100%;cursor:pointer;overflow:hidden;text-align:center;position:relative;}\n            #divFontList > div img {margin:7px 5px 0px 5px;max-width: 230px;max-height: 27px;}\n            #divFontList > div div {position:absolute;top:0;left:0;width:100%;height:100%;}\n\n            #divFontList > div > div {\n                position:absolute;left:0px;top:0px;width:100%;height:100%;\n                // z-index: 1;\n            }\n\n            #divFontList > div {\n                color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n            }\n            #divFontList > div > div:after {\n                // background: rgba(0, 0, 0, 0.04); \n                background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                position: absolute;\n                content: "";\n                display: block;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                opacity: 0;\n            }\n            #divFontList > div:hover > div:after {\n                opacity: 1;\n            }\n            #divFontList > div.on > div:after {\n                opacity: 1;\n            }\n\n            ${this.builder.styleDark||this.builder.styleColoredDark||this.builder.styleColore?"":"\n            #divFontList > div img {\n                mix-blend-mode: multiply;\n            }\n            "}\n\n            .dark #divFontList > div img {\n                ${e?"":"mix-blend-mode: screen;"};\n                filter: invert(1);\n            }\n            .dark #divFontList > div {\n                color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n            }\n            .dark #divFontList > div > div:after {\n                background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n            }\n            \n            .colored-dark #divFontList > div img {\n                ${e?"":"mix-blend-mode: screen;"};\n                ${e?"":"filter: invert(1);"};\n            }\n            .colored-dark #divFontList > div {\n                color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n            }\n            .colored-dark #divFontList > div > div:after {\n                background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n            }\n\n\n            .colored #divFontList > div img {\n                ${e?"":"mix-blend-mode: screen;"};\n                ${e?"":"filter: invert(1);"};\n            }\n            .colored #divFontList > div {\n                color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n            }\n            .colored #divFontList > div > div:after {\n                background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n            }\n\n\n            /* Scrollbar for toolbar/RTE and modal */\n\n            .dark * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n            }\n            .dark *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .dark *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .dark *::-webkit-scrollbar-thumb {\n                background-color:rgba(255, 255, 255, 0.3);\n            } \n\n            .colored-dark * {\n                scrollbar-width: thin;\n                scrollbar-color: rgb(100, 100, 100) auto;\n            }\n            .colored-dark *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .colored-dark *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .colored-dark *::-webkit-scrollbar-thumb {\n                background-color:rgb(100, 100, 100);\n            } \n\n            .colored * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n            }\n            .colored *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .colored *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .colored *::-webkit-scrollbar-thumb {\n                background-color: rgba(0, 0, 0, 0.4);\n            } \n\n            .light * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n            }\n            .light *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .light *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .light *::-webkit-scrollbar-thumb {\n                background-color: rgba(0, 0, 0, 0.4);\n            }`}refreshFontFamilyStyle1(){let e=this.builder.rte.rteFontFamilyOptions.querySelector("iframe").contentWindow.document;e.querySelector("#mainstyle").innerHTML=this.getFontFamilyStyle(),this.builder.styleDark?e.body.setAttribute("class","dark"):this.builder.styleColored?e.body.className="colored":this.builder.styleColoredDark?e.body.className="colored-dark":this.builder.styleLight?e.body.className="light":e.body.className=""}refreshFontFamilyStyle2(){let e=this.builder.builderStuff.querySelector(".is-modal.pickfontfamily").querySelector("iframe").contentWindow.document;e.querySelector("#mainstyle").innerHTML=this.getFontFamilyStyle(!0),this.builder.styleDark?e.body.setAttribute("class","dark"):this.builder.styleColored?e.body.className="colored":this.builder.styleColoredDark?e.body.className="colored-dark":this.builder.styleLight?e.body.className="light":e.body.className=""}getFontPreview(){let e=this.builder.fontAssetPath,t="";return t=`\n        <div data-provider="" data-font-family="" style="font-size:12px;padding:10px 7px;box-sizing:border-box;"><div></div>\n            <span style="z-index:1;position: relative;">${this.out("None")}</span>\n        </div>\n        <div data-provider="" data-font-family="Arial, sans-serif"><div></div><img src="${e}arial.png"></div>\n        <div data-provider="" data-font-family="courier"><div></div><img src="${e}courier.png"></div>\n        <div data-provider="" data-font-family="Georgia, serif"><div></div><img src="${e}georgia.png"></div>\n        <div data-provider="" data-font-family="monospace"><div></div><img src="${e}monospace.png"></div>\n        <div data-provider="" data-font-family="sans-serif"><div></div><img src="${e}sans_serif.png"></div>\n        <div data-provider="" data-font-family="serif"><div></div><img src="${e}serif.png"></div>\n        <div data-provider="google" data-font-family="Abel, sans-serif"><div></div><img src="${e}abel.png"></div>\n        <div data-provider="google" data-font-family="Abril Fatface"><div></div><img src="${e}abril_fatface.png"></div>\n        <div data-provider="google" data-font-family="Advent Pro, sans-serif" data-font-style="300"><div></div><img src="${e}advent_pro.png"></div>\n        <div data-provider="google" data-font-family="Aladin, cursive"><div></div><img src="${e}aladin.png"></div>\n        <div data-provider="google" data-font-family="Alegreya, serif" data-font-style="400,400i,500,500i,700,700i,800,800i,900,900i"><div></div><img src="${e}alegreya.png"></div>\n        <div data-provider="google" data-font-family="Alegreya Sans SC, sans-serif" data-font-style="300,700"><div></div><img src="${e}alegreya_sans_sc.png"></div>\n        <div data-provider="google" data-font-family="Alegreya SC, serif" data-font-style="400,400i,500,500i,700,700i,800,800i,900,900i"><div></div><img src="${e}alegreya_sc.png"></div>\n        <div data-provider="google" data-font-family="Alice, serif"><div></div><img src="${e}alice.png"></div>\n        <div data-provider="google" data-font-family="Allerta Stencil, sans-serif"><div></div><img src="${e}allerta_stencil.png"></div>\n        <div data-provider="google" data-font-family="Allura, cursive"><div></div><img src="${e}allura.png"></div>\n        <div data-provider="google" data-font-family="Almendra Display, cursive"><div></div><img src="${e}almendra_display.png"></div>\n        <div data-provider="google" data-font-family="Amatic SC, cursive" data-font-style="400,700"><div></div><img src="${e}amatic_sc.png"></div>\n        <div data-provider="google" data-font-family="Andika, sans-serif"><div></div><img src="${e}andika.png"></div>\n        <div data-provider="google" data-font-family="Anonymous Pro, monospace" data-font-style="400,400i,700,700i"><div></div><img src="${e}anonymous_pro.png"></div>\n        <div data-provider="google" data-font-family="Architects Daughter, cursive"><div></div><img style="transform:scale(1.1);" src="${e}architects_daughter.png"></div>\n        <div data-provider="google" data-font-family="Arimo, sans-serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}arimo.png"></div>\n        <div data-provider="google" data-font-family="Arsenal, sans-serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}arsenal.png"></div>\n        <div data-provider="google" data-font-family="Assistant" data-font-style="300,700"><div></div><img src="${e}assistant.png"></div>\n        <div data-provider="google" data-font-family="Aubrey, cursive"><div></div><img src="${e}aubrey.png"></div>\n        <div data-provider="google" data-font-family="Anton, sans-serif"><div></div><img src="${e}anton.png"></div>\n        <div data-provider="google" data-font-family="Archivo Narrow, sans-serif"><div></div><img src="${e}archivo_narrow.png"></div>\n        <div data-provider="google" data-font-family="Bad Script, cursive"><div></div><img src="${e}bad_script.png"></div>\n        <div data-provider="google" data-font-family="BenchNine, sans-serif"><div></div><img src="${e}benchNine.png"></div>\n        <div data-provider="google" data-font-family="Bevan, cursive"><div></div><img src="${e}bevan.png"></div>\n        <div data-provider="google" data-font-family="Bigelow Rules, cursive"><div></div><img src="${e}bigelow_rules.png"></div>\n        <div data-provider="google" data-font-family="Bilbo, cursive"><div></div><img src="${e}bilbo.png"></div>\n        <div data-provider="google" data-font-family="Bonbon, cursive"><div></div><img src="${e}bonbon.png"></div>\n        <div data-provider="google" data-font-family="Bowlby One SC, cursive"><div></div><img src="${e}bowlby_one_sc.png"></div>\n        <div data-provider="google" data-font-family="Cabin Condensed, sans-serif"><div></div><img src="${e}cabin_condensed.png"></div>\n        <div data-provider="google" data-font-family="Carrois Gothic SC, sans-serif"><div></div><img src="${e}carrois_gothic_sc.png"></div>\n        <div data-provider="google" data-font-family="Caveat, cursive" data-font-style="400,700"><div></div><img src="${e}caveat.png"></div>\n        <div data-provider="google" data-font-family="Chewy, cursive"><div></div><img src="${e}chewy.png"></div>\n        <div data-provider="google" data-font-family="Cinzel, serif"><div></div><img src="${e}cinzel.png"></div>\n        <div data-provider="google" data-font-family="Comfortaa, cursive" data-font-style="300"><div></div><img src="${e}comfortaa.png"></div>\n        <div data-provider="google" data-font-family="Concert One, cursive"><div></div><img src="${e}concert_one.png"></div>\n        <div data-provider="google" data-font-family="Cormorant, serif" data-font-style="300,300i,600,600i,700,700i"><div></div><img src="${e}cormorant.png"></div>\n        <div data-provider="google" data-font-family="Cormorant Garamond, serif" data-font-style="300,300i,600,600i,700,700i"><div></div><img src="${e}cormorant_garamond.png"></div>\n        <div data-provider="google" data-font-family="Cormorant Infant, serif" data-font-style="300,300i,600,600i,700,700i"><div></div><img src="${e}cormorant_infant.png"></div>\n        <div data-provider="google" data-font-family="Cormorant SC, serif" data-font-style="300,600,700"><div></div><img src="${e}cormorant_sc.png"></div>\n        <div data-provider="google" data-font-family="Cormorant Unicase, serif" data-font-style="300,600,700"><div></div><img src="${e}cormorant_unicase.png"></div>\n        <div data-provider="google" data-font-family="Cousine" data-font-style="400,700"><div></div><img src="${e}cousine.png"></div>\n        <div data-provider="google" data-font-family="Crafty Girls, cursive"><div></div><img src="${e}crafty_girls.png"></div>\n        <div data-provider="google" data-font-family="Cuprum, sans-serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}cuprum.png"></div>\n        <div data-provider="google" data-font-family="Cutive Mono, monospace"><div></div><img src="${e}cutive_mono.png"></div>\n        <div data-provider="google" data-font-family="Devonshire, cursive"><div></div><img src="${e}devonshire.png"></div>\n        <div data-provider="google" data-font-family="Didact Gothic, sans-serif"><div></div><img src="${e}didact_gothic.png"></div>\n        <div data-provider="google" data-font-family="Diplomata SC, cursive"><div></div><img src="${e}diplomata_sc.png"></div>\n        <div data-provider="google" data-font-family="Dosis, sans-serif" data-font-style="200"><div></div><img src="${e}dosis.png"></div>\n        <div data-provider="google" data-font-family="EB Garamond, serif" data-font-style="400,400i,600,600i,700,700i,800,800i"><div></div><img src="${e}eb_garamond.png"></div>\n        <div data-provider="google" data-font-family="El Messiri, sans-serif" data-font-style="400,600,700"><div></div><img src="${e}el_messiri.png"></div>\n        <div data-provider="google" data-font-family="Elsie, cursive" data-font-style="400,900"><div></div><img src="${e}elsie.png"></div>\n        <div data-provider="google" data-font-family="Encode Sans, sans-serif" data-font-style="300,700"><div></div><img src="${e}encode_sans.png"></div>\n        <div data-provider="google" data-font-family="Exo, sans-serif" data-font-style="100"><div></div><img src="${e}exo.png"></div>\n        <div data-provider="google" data-font-family="'Exo 2', sans-serif" data-font-style="200,200i,600,600i,700,700i,800,800i,900,900i" data-font-display="swap"><div></div><img src="${e}exo_2.png"></div>\n        <div data-provider="google" data-font-family="Felipa, cursive"><div></div><img src="${e}felipa.png"></div>\n        <div data-provider="google" data-font-family="Fira Code, monospace" data-font-style="300,500,600,700"><div></div><img src="${e}fira_code.png"></div>\n        <div data-provider="google" data-font-family="Fira Mono, monospace" data-font-style="400,500,700"><div></div><img src="${e}fira_mono.png"></div>\n        <div data-provider="google" data-font-family="Fira Sans, sans-serif" data-font-style="200,200i,500,500i,700,700i,800,800i,900,900i"><div></div><img src="${e}fira_sans.png"></div>\n        <div data-provider="google" data-font-family="Fira Sans Condensed, sans-serif" data-font-style="200,200i,500,500i,700,700i,800,800i,900,900i"><div></div><img src="${e}fira_sans_condensed.png"></div>\n        <div data-provider="google" data-font-family="Fira Sans Extra Condensed, sans-serif" data-font-style="200,200i,500,500i,700,700i,800,800i,900,900i"><div></div><img src="${e}fira_sans_extra_condensed.png"></div>\n        <div data-provider="google" data-font-family="Fjalla One, sans-serif"><div></div><img src="${e}fjalla_one.png"></div>\n        <div data-provider="google" data-font-family="Forum, cursive"><div></div><img src="${e}forum.png"></div>\n        <div data-provider="google" data-font-family="Frank Ruhl Libre" data-font-style="300,700"><div></div><img src="${e}frank_ruhl_libre.png"></div>\n        <div data-provider="google" data-font-family="Fredericka the Great, cursive"><div></div><img src="${e}fredericka_the_great.png"></div>\n        <div data-provider="google" data-font-family="Gabriela, serif"><div></div><img src="${e}gabriela.png"></div>\n        <div data-provider="google" data-font-family="Gilda Display, serif"><div></div><img src="${e}gilda_display.png"></div>\n        <div data-provider="google" data-font-family="Give You Glory, cursive"><div></div><img style="transform:scale(1.3);" src="${e}give_you_glory.png"></div>\n        <div data-provider="google" data-font-family="Gruppo, cursive"><div></div><img src="${e}gruppo.png"></div>\n        <div data-provider="google" data-font-family="Handlee, cursive"><div></div><img src="${e}handlee.png"></div>\n        <div data-provider="google" data-font-family="Happy Monkey, cursive"><div></div><img src="${e}happy_monkey.png"></div>\n        <div data-provider="google" data-font-family="Hind" data-font-style="300,700"><div></div><img src="${e}hind.png"></div>\n        <div data-provider="google" data-font-family="IBM Plex Mono, monospace" data-font-style="300,300i,500,500i,600,600i,700,700i"><div></div><img src="${e}ibm_plex_mono.png"></div>\n        <div data-provider="google" data-font-family="IBM Plex Sans, sans-serif" data-font-style="300,300i,500,500i,600,600i,700,700i"><div></div><img src="${e}ibm_plex_sans.png"></div>\n        <div data-provider="google" data-font-family="IBM Plex Serif, serif" data-font-style="300,300i,500,500i,600,600i,700,700i"><div></div><img src="${e}ibm_plex_serif.png"></div>\n        <div data-provider="google" data-font-family="Iceland, cursive"><div></div><img src="${e}iceland.png"></div>\n        <div data-provider="google" data-font-family="Inconsolata, monospace" data-font-style="400,700"><div></div><img src="${e}inconsolata.png"></div>\n        <div data-provider="google" data-font-family="Josefin Sans, sans-serif" data-font-style="300,700"><div></div><img src="${e}josefin_sans.png"></div>\n        <div data-provider="google" data-font-family="Istok Web, sans-serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}istok_web.png"></div>\n        <div data-provider="google" data-font-family="Julee, cursive"><div></div><img src="${e}julee.png"></div>\n        <div data-provider="google" data-font-family="Julius Sans One, sans-serif"><div></div><img src="${e}julius_sans_one.png"></div>\n        <div data-provider="google" data-font-family="Junge, serif"><div></div><img src="${e}junge.png"></div>\n        <div data-provider="google" data-font-family="Jura, sans-serif" data-font-style="300,600,700"><div></div><img src="${e}jura.png"></div>\n        <div data-provider="google" data-font-family="Just Me Again Down Here, cursive"><div></div><img style="transform:scale(1.1);" src="${e}just_me_again_down_here.png"></div>\n        <div data-provider="google" data-font-family="Kaushan Script, cursive"><div></div><img src="${e}kaushan_script.png"></div>\n        <div data-provider="google" data-font-family="Kelly Slab, cursive"><div></div><img src="${e}kelly_slab.png"></div>\n        <div data-provider="google" data-font-family="Kite One, sans-serif"><div></div><img src="${e}kite_one.png"></div>\n        <div data-provider="google" data-font-family="Kosugi, sans-serif"><div></div><img src="${e}kosugi.png"></div>\n        <div data-provider="google" data-font-family="Kosugi Maru, sans-serif"><div></div><img src="${e}kosugi_maru.png"></div>\n        <div data-provider="google" data-font-family="Kurale, serif"><div></div><img src="${e}kurale.png"></div>\n        <div data-provider="google" data-font-family="Lato, sans-serif" data-font-style="300,700"><div></div><img src="${e}lato.png"></div>\n        <div data-provider="google" data-font-family="Ledger, serif" data-font-style="300,700" data-font-display="swap"><div></div><img src="${e}ledger.png"></div>\n        <div data-provider="google" data-font-family="Lekton, sans-serif" data-font-style="400,700"><div></div><img src="${e}lekton.png"></div>\n        <div data-provider="google" data-font-family="Life Savers, cursive"><div></div><img src="${e}life_savers.png"></div>\n        <div data-provider="google" data-font-family="Literata, serif" data-font-style="400,400i,600,600i,700,700i"><div></div><img src="${e}literata.png"></div>\n        <div data-provider="google" data-font-family="Lobster, cursive"><div></div><img src="${e}lobster.png"></div>\n        <div data-provider="google" data-font-family="Lobster Two, cursive"><div></div><img src="${e}lobster_two.png"></div>\n        <div data-provider="google" data-font-family="Londrina Shadow, cursive"><div></div><img src="${e}londrina_shadow.png"></div>\n        <div data-provider="google" data-font-family="Lora, serif" data-font-style="400,700"><div></div><img src="${e}lora.png"></div>\n        <div data-provider="google" data-font-family="Lovers Quarrel, cursive"><div></div><img style="transform:scale(1.1);" src="${e}lovers_quarrel.png"></div>\n        <div data-provider="google" data-font-family="'M PLUS 1p', sans-serif" data-font-style="300,500,700,800,900" data-font-display="swap"><div></div><img src="${e}m_plus_1p.png"></div>\n        <div data-provider="google" data-font-family="'M PLUS Rounded 1c', sans-serif" data-font-style="300,500,700,800,900" data-font-display="swap"><div></div><img src="${e}m_plus_rounded_1c.png"></div>\n        <div data-provider="google" data-font-family="Macondo, cursive"><div></div><img src="${e}macondo.png"></div>\n        <div data-provider="google" data-font-family="Marcellus SC, serif"><div></div><img src="${e}marcellus_sc.png"></div>\n        <div data-provider="google" data-font-family="Marck Script, cursive"><div></div><img src="${e}marck_script.png"></div>\n        <div data-provider="google" data-font-family="Martel, serif" data-font-style="300,700"><div></div><img src="${e}martel.png"></div>\n        <div data-provider="google" data-font-family="Maven Pro, sans-serif"><div></div><img src="${e}maven_pro.png"></div>\n        <div data-provider="google" data-font-family="Merriweather, serif" data-font-style="300,700"><div></div><img src="${e}merriweather.png"></div>\n        <div data-provider="google" data-font-family="Merriweather Sans" data-font-style="300,700"><div></div><img src="${e}merriweather_sans.png"></div>\n        <div data-provider="google" data-font-family="Mogra, cursive"><div></div><img src="${e}mogra.png"></div>\n        <div data-provider="google" data-font-family="Monoton, cursive"><div></div><img src="${e}monoton.png"></div>\n        <div data-provider="google" data-font-family="Montez, cursive"><div></div><img src="${e}montez.png"></div>\n        <div data-provider="google" data-font-family="Montserrat, sans-serif" data-font-style="300,400,700"><div></div><img src="${e}montserrat.png"></div>\n        <div data-provider="google" data-font-family="Montserrat Alternates, sans-serif" data-font-style="300,300i,500,500i,700,700i,800,800i,900,900i"><div></div><img src="${e}montserrat_alternates.png"></div>\n        <div data-provider="google" data-font-family="Montserrat Subrayada, sans-serif"><div></div><img src="${e}montserrat_subrayada.png"></div>\n        <div data-provider="google" data-font-family="Neucha, cursive"><div></div><img src="${e}neucha.png"></div>\n        <div data-provider="google" data-font-family="Neuton, serif" data-font-style="200,700"><div></div><img src="${e}neuton.png"></div>\n        <div data-provider="google" data-font-family="Nixie One, cursive"><div></div><img src="${e}nixie_one.png"></div>\n        <div data-provider="google" data-font-family="Nothing You Could Do, cursive"><div></div><img style="transform:scale(1.1);" src="${e}nothing_you_could_do.png"></div>\n        <div data-provider="google" data-font-family="Noto Sans, sans-serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}noto_sans.png"></div>\n        <div data-provider="google" data-font-family="Noto Sans SC, sans-serif" data-font-style="300,500,700,900"><div></div><img src="${e}noto_sans_sc.png"></div>\n        <div data-provider="google" data-font-family="Noto Serif, serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}noto_serif.png"></div>\n        <div data-provider="google" data-font-family="Noto Serif TC, serif" data-font-style="300,600,700,900"><div></div><img src="${e}noto_serif_tc.png"></div>\n        <div data-provider="google" data-font-family="Nunito, sans-serif" data-font-style="200,200i,600,600i,700,700i,800,800i,900,900i"><div></div><img src="${e}nunito.png"></div>\n        <div data-provider="google" data-font-family="Old Standard TT, serif" data-font-style="400,400i,700"><div></div><img src="${e}old_standard_tt.png"></div>\n        <div data-provider="google" data-font-family="Open Sans, sans-serif" data-font-style="300,400,600,800"><div></div><img src="${e}open_sans.png"></div>\n        <div data-provider="google" data-font-family="Open Sans Condensed, sans-serif" data-font-style="300,300i,700"><div></div><img src="${e}open_sans_condensed.png"></div>\n        <div data-provider="google" data-font-family="Oranienbaum, serif"><div></div><img src="${e}oranienbaum.png"></div>\n        <div data-provider="google" data-font-family="Oswald, sans-serif" data-font-style="300,400,700"><div></div><img src="${e}oswald.png"></div>\n        <div data-provider="google" data-font-family="Oxygen, sans-serif" data-font-style="300,700"><div></div><img src="${e}oxygen.png"></div>\n        <div data-provider="google" data-font-family="Pacifico, cursive"><div></div><img src="${e}pacifico.png"></div>\n        <div data-provider="google" data-font-family="Pangolin, cursive"><div></div><img src="${e}pangolin.png"></div>\n        <div data-provider="google" data-font-family="Passion One, cursive"><div></div><img src="${e}passion_one.png"></div>\n        <div data-provider="google" data-font-family="Pathway Gothic One, sans-serif"><div></div><img src="${e}pathway_gothic_one.png"></div>\n        <div data-provider="google" data-font-family="Pattaya, sans-serif"><div></div><img src="${e}pattaya.png"></div>\n        <div data-provider="google" data-font-family="Petit Formal Script, cursive"><div></div><img style="transform:scale(1.1);" src="${e}petit_formal_script.png"></div>\n        <div data-provider="google" data-font-family="Philosopher, sans-serif"><div></div><img src="${e}philosopher.png"></div>\n        <div data-provider="google" data-font-family="Play, sans-serif" data-font-style="400,700"><div></div><img src="${e}play.png"></div>\n        <div data-provider="google" data-font-family="Playfair Display, serif" data-font-style="400,400i,700,700i,900,900i"><div></div><img src="${e}playfair_display.png"></div>\n        <div data-provider="google" data-font-family="Playfair Display SC, serif" data-font-style="400,400i,700,700i,900,900i"><div></div><img src="${e}playfair_display_sc.png"></div>\n        <div data-provider="google" data-font-family="Podkova, serif" data-font-style="400,600,700,800"><div></div><img src="${e}podkova.png"></div>\n        <div data-provider="google" data-font-family="Poiret One, cursive"><div></div><img src="${e}poiret_one.png"></div>\n        <div data-provider="google" data-font-family="Pompiere, cursive"><div></div><img style="transform:scale(1.1);" src="${e}pompiere.png"></div>\n        `,t+=`<div data-provider="google" data-font-family="Poppins, sans-serif" data-font-style="400,600"><div></div><img src="${e}poppins.png"></div>\n        <div data-provider="google" data-font-family="Prata, serif"><div></div><img src="${e}prata.png"></div>\n        <div data-provider="google" data-font-family="'Press Start 2P', cursive" data-font-display="swap"><div></div><img src="${e}press_start_2p.png"></div>\n        <div data-provider="google" data-font-family="Prosto One, cursive"><div></div><img src="${e}prosto_one.png"></div>\n        <div data-provider="google" data-font-family="PT Mono, monospace"><div></div><img src="${e}pt_mono.png"></div>\n        <div data-provider="google" data-font-family="PT Sans, sans-serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}pt_sans.png"></div>\n        <div data-provider="google" data-font-family="PT Sans Caption, sans-serif" data-font-style="400,700"><div></div><img src="${e}pt_sans_caption.png"></div>\n        <div data-provider="google" data-font-family="PT Sans Narrow, sans-serif" data-font-style="400,700"><div></div><img src="${e}pt_sans_narrow.png"></div>\n        <div data-provider="google" data-font-family="PT Serif, serif" data-font-style="400,700"><div></div><img src="${e}pt_serif.png"></div>\n        <div data-provider="google" data-font-family="PT Serif Caption, serif" data-font-style="400,700"><div></div><img src="${e}pt_serif_caption.png"></div>\n        <div data-provider="google" data-font-family="Quattrocento Sans, sans-serif"><div></div><img src="${e}quattrocento_sans.png"></div>\n        <div data-provider="google" data-font-family="Quattrocento, serif"><div></div><img src="${e}quattrocento.png"></div>\n        <div data-provider="google" data-font-family="Quicksand, sans-serif"><div></div><img src="${e}quicksand.png"></div>\n        <div data-provider="google" data-font-family="Qwigley, cursive"><div></div><img src="${e}qwigley.png"></div>\n        <div data-provider="google" data-font-family="Raleway, sans-serif" data-font-style="100"><div></div><img src="${e}raleway.png"></div>\n        <div data-provider="google" data-font-family="Raleway Dots, sans-serif"><div></div><img src="${e}raleway_dots.png"></div>\n        <div data-provider="google" data-font-family="Redressed, cursive"><div></div><img src="${e}redressed.png"></div>\n        <div data-provider="google" data-font-family="Ribeye Marrow, cursive"><div></div><img src="${e}ribeye_marrow.png"></div>\n        <div data-provider="google" data-font-family="Righteous, cursive"><div></div><img src="${e}righteous.png"></div>\n        <div data-provider="google" data-font-family="Roboto, sans-serif" data-font-style="300"><div></div><img src="${e}roboto.png"></div>\n        <div data-provider="google" data-font-family="Roboto Condensed, sans-serif" data-font-style="300,300i,700,700i"><div></div><img src="${e}roboto_condensed.png"></div>\n        <div data-provider="google" data-font-family="Roboto Mono, monospace" data-font-style="300,700"><div></div><img src="${e}roboto_mono.png"></div>\n        <div data-provider="google" data-font-family="Roboto Slab, serif" data-font-style="200,600,700,800,900"><div></div><img src="${e}roboto_slab.png"></div>\n        <div data-provider="google" data-font-family="Rochester, cursive"><div></div><img src="${e}rochester.png"></div>\n        <div data-provider="google" data-font-family="Rouge Script, cursive"><div></div><img src="${e}rouge_script.png"></div>\n        <div data-provider="google" data-font-family="Rubik, sans-serif" data-font-style="300,300i,500,500i,700,700i,900,900i"><div></div><img src="${e}rubik.png"></div>\n        <div data-provider="google" data-font-family="Rubik Mono One, sans-serif"><div></div><img src="${e}rubik_mono_one.png"></div>\n        <div data-provider="google" data-font-family="Ruslan Display, cursive"><div></div><img src="${e}ruslan_display.png"></div>\n        <div data-provider="google" data-font-family="Russo One, sans-serif"><div></div><img src="${e}russo_one.png"></div>\n        <div data-provider="google" data-font-family="Sacramento, cursive"><div></div><img src="${e}sacramento.png"></div>\n        <div data-provider="google" data-font-family="Sanchez, serif"><div></div><img src="${e}sanchez.png"></div>\n        <div data-provider="google" data-font-family="Satisfy, cursive"><div></div><img src="${e}satisfy.png"></div>\n        <div data-provider="google" data-font-family="Sawarabi Gothic, sans-serif"><div></div><img src="${e}sawarabi_gothic.png"></div>\n        <div data-provider="google" data-font-family="Scada, sans-serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}scada.png"></div>\n        <div data-provider="google" data-font-family="Seaweed Script, cursive"><div></div><img src="${e}seaweed_script.png"></div>\n        <div data-provider="google" data-font-family="Seymour One, sans-serif"><div></div><img src="${e}seymour_one.png"></div>\n        <div data-provider="google" data-font-family="Shadows Into Light Two, cursive"><div></div><img src="${e}shadows_into_light_two.png"></div>\n        <div data-provider="google" data-font-family="Six Caps, sans-serif"><div></div><img src="${e}six_caps.png"></div>\n        <div data-provider="google" data-font-family="Snowburst One, cursive"><div></div><img src="${e}snowburst_one.png"></div>\n        <div data-provider="google" data-font-family="Source Code Pro, monospace" data-font-style="300,700"><div></div><img src="${e}source_code_pro.png"></div>\n        <div data-provider="google" data-font-family="Source Sans Pro, sans-serif" data-font-style="200"><div></div><img src="${e}source_sans_pro.png"></div>\n        <div data-provider="google" data-font-family="Special Elite, cursive"><div></div><img src="${e}special_elite.png"></div>\n        <div data-provider="google" data-font-family="Spectral, serif" data-font-style="200,200i,600,600i,700,700i,800,800i"><div></div><img src="${e}spectral.png"></div>\n        <div data-provider="google" data-font-family="Spectral SC, serif" data-font-style="300,300i,600,600i,700,700i,800,800i"><div></div><img src="${e}spectral_sc.png"></div>\n        <div data-provider="google" data-font-family="Squada One, cursive"><div></div><img src="${e}squada_one.png"></div>\n        <div data-provider="google" data-font-family="Stalinist One, cursive"><div></div><img src="${e}stalinist_one.png"></div>\n        <div data-provider="google" data-font-family="Stint Ultra Expanded, cursive"><div></div><img src="${e}stint_ultra_expanded.png"></div>\n        <div data-provider="google" data-font-family="Syncopate, sans-serif"><div></div><img src="${e}syncopate.png"></div>\n        <div data-provider="google" data-font-family="Tangerine, cursive"><div></div><img src="${e}tangerine.png"></div>\n        <div data-provider="google" data-font-family="Tenor Sans, sans-serif"><div></div><img src="${e}tenor_sans.png"></div>\n        <div data-provider="google" data-font-family="Tinos, serif" data-font-style="400,400i,700,700i"><div></div><img src="${e}tinos.png"></div>\n        <div data-provider="google" data-font-family="Ubuntu, sans-serif" data-font-style="300,300i,500,500i,700,700i"><div></div><img src="${e}ubuntu.png"></div>\n        <div data-provider="google" data-font-family="Ubuntu Condensed, sans-serif"><div></div><img src="${e}ubuntu_condensed.png"></div>\n        <div data-provider="google" data-font-family="Ubuntu Mono, monospace" data-font-style="400,700"><div></div><img src="${e}ubuntu_mono.png"></div>\n        <div data-provider="google" data-font-family="Underdog, cursive"><div></div><img src="${e}underdog.png"></div>\n        <div data-provider="google" data-font-family="UnifrakturMaguntia, cursive"><div></div><img src="${e}unifrakturmaguntia.png"></div>\n        <div data-provider="google" data-font-family="Vast Shadow, cursive"><div></div><img src="${e}vast_shadow.png"></div>\n        <div data-provider="google" data-font-family="Viga, sans-serif"><div></div><img src="${e}viga.png"></div>\n        <div data-provider="google" data-font-family="Vollkorn, serif" data-font-style="400,400i,600,600i,700,700i,900,900i"><div></div><img src="${e}vollkorn.png"></div>\n        <div data-provider="google" data-font-family="Vollkorn SC, serif" data-font-style="400,600,700,900"><div></div><img src="${e}vollkorn_sc.png"></div>\n        <div data-provider="google" data-font-family="Voltaire, sans-serif"><div></div><img src="${e}voltaire.png"></div>\n        <div data-provider="google" data-font-family="Wire One, sans-serif"><div></div><img src="${e}wire_one.png"></div>\n        <div data-provider="google" data-font-family="Yanone Kaffeesatz, sans-serif" data-font-style="300,700"><div></div><img src="${e}yanone_kaffeesatz.png"></div>\n        <div data-provider="google" data-font-family="Yeseva One, cursive"><div></div><img src="${e}yeseva_one.png"></div>\n        `,t}getFontFamilyHTML(e){return`\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title>Fonts</title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">  \n            <style id="mainstyle">\n                html, body {height:100%}\n                body {overflow:hidden;margin:0;\n                    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                    font-size:100%; \n                    line-height:1.7;\n                }\n                #divFontList {margin:0;padding:0 0 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;}\n                #divFontList > div {width:100%;cursor:pointer;overflow:hidden;text-align:center;position:relative;}\n                #divFontList > div img {margin:7px 5px 0px 5px;max-width: 230px;max-height: 27px;}\n                #divFontList > div div {position:absolute;top:0;left:0;width:100%;height:100%;}\n\n                #divFontList > div > div {\n                    position:absolute;left:0px;top:0px;width:100%;height:100%;\n                    // z-index: 1;\n                }\n\n                #divFontList > div {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                #divFontList > div > div:after {\n                    // background: rgba(0, 0, 0, 0.04); \n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    opacity: 0;\n                }\n                #divFontList > div:hover > div:after {\n                    opacity: 1;\n                }\n                #divFontList > div.on > div:after {\n                    opacity: 1;\n                }\n\n                ${this.builder.styleDark||this.builder.styleColoredDark||this.builder.styleColore?"":"\n                #divFontList > div img {\n                    mix-blend-mode: multiply;\n                }\n                "}\n\n                .dark #divFontList > div img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    filter: invert(1);\n                }\n                .dark #divFontList > div {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .dark #divFontList > div > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n                \n                .colored-dark #divFontList > div img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    ${e?"":"filter: invert(1);"};\n                }\n                .colored-dark #divFontList > div {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .colored-dark #divFontList > div > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n\n\n                .colored #divFontList > div img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    ${e?"":"filter: invert(1);"};\n                }\n                .colored #divFontList > div {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .colored #divFontList > div > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n\n\n                /* Scrollbar for toolbar/RTE and modal */\n\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgba(255, 255, 255, 0.3);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n            </style>\n\n        </head>\n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n        <div id="divFontList">\n        ${this.getFontPreview()}\n        </div>\n\n        <script type="text/javascript">\n            var elms = document.querySelectorAll('#divFontList > div');\n            for(var i=0;i<elms.length;i++) {\n                elms[i].addEventListener('click', function(e){\n\n                    var elm = e.target.parentNode;\n                    var on = false;\n                    if(elm.className) {\n                        if(elm.className.indexOf('on')!==-1) {\n                            on = true;\n                        }\n                    }\n                    /*\n                    if(on) {\n                        parent._cb.clearFont();\n                    } else {\n                        var provider = elm.getAttribute('data-provider');\n                        var fontfamily = elm.getAttribute('data-font-family');\n                        var fontstyle = elm.getAttribute('data-font-style');\n                        var fontdisplay = elm.getAttribute('data-font-display');\n                        //parent._cb.applyFont(fontfamily, fontstyle, provider);\n                        parent._cb.setFont(fontfamily, fontstyle, fontdisplay, provider);\n                    }\n                    */\n                    var provider = elm.getAttribute('data-provider');\n                    var fontfamily = elm.getAttribute('data-font-family');\n                    var fontstyle = elm.getAttribute('data-font-style');\n                    var fontdisplay = elm.getAttribute('data-font-display');\n                    //parent._cb.applyFont(fontfamily, fontstyle, provider);\n                    parent._cb.setFont(fontfamily, fontstyle, fontdisplay, provider);\n\n                });\n            }\n        <\/script>\n        \n        </body>\n        </html>\n                \n        \n        `}getFontFamilyEmail(e){let t=this.builder.fontAssetPath;return`\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title>Fonts</title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">  \n            <style>\n                html, body {height:100%}\n                body {overflow:hidden;margin:0;\n                    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                    font-size:100%; \n                    line-height:1.7;\n                }\n                #divFontList {margin:0;padding:0 0 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;}\n                #divFontList > div {width:100%;cursor:pointer;overflow:hidden;text-align:center;position:relative;}\n                #divFontList > div img {margin:7px 5px 0px 5px;max-width: 230px;max-height: 27px;}\n                #divFontList > div div {position:absolute;top:0;left:0;width:100%;height:100%;}\n\n                #divFontList > div > div {\n                    position:absolute;left:0px;top:0px;width:100%;height:100%;\n                    // z-index: 1;\n                }\n\n                #divFontList > div {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                #divFontList > div > div:after {\n                    // background: rgba(0, 0, 0, 0.04); \n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    opacity: 0;\n                }\n                #divFontList > div:hover > div:after {\n                    opacity: 1;\n                }\n                #divFontList > div.on > div:after {\n                    opacity: 1;\n                }\n\n                ${this.builder.styleDark||this.builder.styleColoredDark||this.builder.styleColore?"":"\n                #divFontList > div img {\n                    mix-blend-mode: multiply;\n                }\n                "}\n\n                .dark #divFontList > div img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    filter: invert(1);\n                }\n                .dark #divFontList > div {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .dark #divFontList > div > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n                \n                .colored-dark #divFontList > div img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    ${e?"":"filter: invert(1);"};\n                }\n                .colored-dark #divFontList > div {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .colored-dark #divFontList > div > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n\n\n                .colored #divFontList > div img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    ${e?"":"filter: invert(1);"};\n                }\n                .colored #divFontList > div {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .colored #divFontList > div > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n\n\n                /* Scrollbar for toolbar/RTE and modal */\n\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgba(255, 255, 255, 0.3);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n            </style>\n        </head>\n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n        <div id="divFontList">\n        <div data-provider="" data-font-family="" style="font-size:12px;padding:10px 7px;box-sizing:border-box;"><div></div>None</div>\n        <div data-provider="" data-font-family="Arial, sans-serif"><div></div><img src="${t}arial.png"></div>\n        <div data-provider="" data-font-family="courier"><div></div><img src="${t}courier.png"></div>\n        <div data-provider="" data-font-family="Georgia, serif"><div></div><img src="${t}georgia.png"></div>\n        <div data-provider="" data-font-family="monospace"><div></div><img src="${t}monospace.png"></div>\n        <div data-provider="" data-font-family="sans-serif"><div></div><img src="${t}sans_serif.png"></div>\n        <div data-provider="" data-font-family="serif"><div></div><img src="${t}serif.png"></div>\n        </div>\n\n        <script type="text/javascript">\n            var elms = document.querySelectorAll('#divFontList > div');\n            for(var i=0;i<elms.length;i++) {\n                elms[i].addEventListener('click', function(e){\n\n                    var elm = e.target.parentNode;\n                    var on = false;\n                    if(elm.className) {\n                        if(elm.className.indexOf('on')!==-1) {\n                            on = true;\n                        }\n                    }\n                    /*\n                    if(on) {\n                        parent._cb.clearFont();\n                    } else {\n                        var provider = elm.getAttribute('data-provider');\n                        var fontfamily = elm.getAttribute('data-font-family');\n                        var fontstyle = elm.getAttribute('data-font-style');\n                        var fontdisplay = elm.getAttribute('data-font-display');\n                        //parent._cb.applyFont(fontfamily, fontstyle, provider);\n                        parent._cb.setFont(fontfamily, fontstyle, fontdisplay, provider);\n                    }\n                    */\n                    var provider = elm.getAttribute('data-provider');\n                    var fontfamily = elm.getAttribute('data-font-family');\n                    var fontstyle = elm.getAttribute('data-font-style');\n                    var fontdisplay = elm.getAttribute('data-font-display');\n                    //parent._cb.applyFont(fontfamily, fontstyle, provider);\n                    parent._cb.setFont(fontfamily, fontstyle, fontdisplay, provider);\n\n                });\n            }\n\n        <\/script>\n        \n        </body>\n        </html>\n                \n        \n        `}}class ni{createElement(e){return document.createElement(e)}appendChild(e,t){e&&e.appendChild(t)}appendHtml(e,t){e&&e.insertAdjacentHTML("beforeend",t)}addEventListener(e,t,i){e&&e.addEventListener(t,i)}addClass(e,t){e&&(this.hasClass(e,t)||(0===e.classList.length?e.className=t:e.className=e.className+" "+t,e.className=e.className.replace(/  +/g," ")))}removeClass(e,t){if(e&&e.classList.length>0){let i,n,o,s,a=t.split(" ");for(i=0,o=a.length;i<o;++i){if(!a[i])continue;let t=a[i],o="",r=e.className.split(" ");for(n=0,s=r.length;n<s;++n)r[n]&&r[n]!==t&&(o+=r[n]+" ");e.className=o.trim()}""===e.className&&e.removeAttribute("class")}}removeClassesByPrefix(e,t){e.classList&&e.classList.forEach((i=>{0===i.indexOf(t)&&this.removeClass(e,i)}))}hasClass(e,t){return!!e&&(!!e.className&&(" "+e.className+" ").indexOf(" "+t+" ")>-1)}moveAfter(e,t){t.parentNode.insertBefore(e,t),t.parentNode.insertBefore(t,t.previousElementSibling)}elementChildren(e){const t=e.childNodes;let i=[],n=t.length;for(;n--;)1===t[n].nodeType&&i.unshift(t[n]);return i}getElementOffset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}}parentsHasClass(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(this.hasClass(e,t))return!0;e=e.parentNode}}parentsHasId(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(e.id===t)return!0;e=e.parentNode}}parentsHasTag(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(e.tagName.toLowerCase()===t.toLowerCase())return!0;e=e.parentNode}}parentsHasAttribute(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;try{if(e.hasAttribute(t))return!0}catch(e){}e=e.parentNode}}getParentByTag(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(e.tagName.toLowerCase()===t.toLowerCase())return e;e=e.parentNode}}getParentByAttribute(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;try{if(e.hasAttribute(t))return e}catch(e){}e=e.parentNode}}parentsHasElement(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(!(e=e.parentNode))return!1;if(!e.tagName)return!1;if(e.tagName.toLowerCase()===t)return!0}}getParentElement(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(!(e=e.parentNode))return!1;if(!e.tagName)return!1;if(e.tagName.toLowerCase()===t)return e}}removeClasses(e,t){for(let i=0;i<e.length;i++)e[i].classList.remove(t)}removeAttributes(e,t){for(let i=0;i<e.length;i++)e[i].removeAttribute(t)}removeElements(e){Array.prototype.forEach.call(e,(e=>{e.parentNode.removeChild(e)}))}moveCursorToElement(e){var t,i;window.getSelection&&document.createRange?((i=document.createRange()).selectNodeContents(e),i.collapse(!1),(t=window.getSelection()).removeAllRanges(),t.addRange(i)):document.body.createTextRange&&((i=document.body.createTextRange()).moveToElementText(e),i.collapse(!1),i.select())}selectElementContents(e){var t=document.createRange();t.selectNodeContents(e);var i=window.getSelection();i.removeAllRanges(),i.addRange(t)}getSelected(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString();var e=document.selection&&document.selection.createRange();return!!e.text&&e.text}checkEditable(){try{var e,t;return window.getSelection?e=3===(t=window.getSelection().getRangeAt(0).commonAncestorContainer).nodeType?t.parentNode:t:document.selection&&(t=document.selection.createRange(),e=document.selection.createRange().parentElement()),!!this.parentsHasAttribute(e,"contenteditable")}catch(e){return!1}}textSelection(){const e=this.getSelection().anchorNode;if(!e)return!1;return e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.COMMENT_NODE?e:e.parentElement}getStyle(e,t){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))]}observeElement(e,t,i,n=0){let o=Object.getPrototypeOf(e);if(Object.prototype.hasOwnProperty.call(o,t)){let s=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:function(){return s.get.apply(this,arguments)},set:function(){let e=this[t];s.set.apply(this,arguments);let o=this[t];"function"==typeof i&&setTimeout(i.bind(this,e,o),n)}})}}baseName(e){if("string"==typeof e){var t=e.split(".");return t.splice(0,t.length-1).join(".")}}doFunction(e,t,i){if(t(e),i){let i=Array.prototype.slice.call(e.getElementsByTagName("*"));for(var n=0;n<i.length;n++)t(i[n])}}execCommand(e,t,i){const n=this.getSelection();if(!n)return;const o=n.anchorNode;if(o){const l=o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE?o:o.parentElement,d=l&&l.innerText===n.toString();let c,u=!1;for(var s=[],a=ti.getSelection(),r=0;r<a.rangeCount;++r)s=s.concat(a.getRangeAt(r).getNodes());const p=["p","h1","h2","h3","h4","h5","h6","div","pre"];if(s.forEach((e=>{if(e.tagName){const t=e.tagName.toLowerCase();-1!==p.indexOf(t)&&(u=!0,i(!0,e))}})),u)return;c=d||""===n.toString().trim()?this.updateSelection(e,t,l):this.replaceSelection(e,t,n,l),i&&i(!0,c)}else i&&i(!1)}updateSelection(e,t,i){return i.style[e]=this.getStyleValue(i,e,t),this.checkStyleIfSameAsParent(i,e),this.cleanChildren(e,i),this.cleanUnusedSpan(i),i}replaceSelection(e,t,i,n){const o=i.getRangeAt(0),s=o.extractContents(),a=this.createSpan(n,e,t);return a.appendChild(s),this.cleanChildren(e,a),this.cleanUnusedSpan(a),o.insertNode(a),i.selectAllChildren(a),this.checkStyleIfSameAsParent(a,e),a}checkStyleIfSameAsParent(e,t){if(e.parentNode&&(e.parentNode.style[t]===e.style[t]||window.getComputedStyle(e.parentNode,null).getPropertyValue(t)===e.style[t])){e.style[t]="",""!==e.getAttribute("style")&&null!==e.style||e.removeAttribute("style");let i=0===e.attributes.length||1===e.attributes.length&&e.hasAttribute("data-keep");if("span"===e.nodeName.toLowerCase()&&i){const t=document.createTextNode(e.textContent);e.parentElement.replaceChild(t,e)}}}createSpan(e,t,i){const n=document.createElement("span");return n.style[t]=this.getStyleValue(e,t,i),n}findParentStyle(e,t){if("HTML"===e.nodeName.toUpperCase()||"BODY"===e.nodeName.toUpperCase())return null;if(!e.parentNode)return null;if(null!==e.style[t]&&void 0!==e.style[t]&&""!==e.style[t])return e;this.findParentStyle(e.parentNode,t)}getStyleValue(e,t,i){if("font-weight"===t||"font-style"===t||"text-decoration"===t||"text-transform"===t){let n,o=this.findParentStyle(e,t);if(o&&(n=o.style[t]),i===n){e.style[t]="";let o=window.getComputedStyle(e,null).getPropertyValue(t);e.style[t]=n,i=o}}return i}getParentBlock(e){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if("inline"!==this.getStyle(e,"display"))return e;e=e.parentNode}}execCommandClass(e,t,i=!0,n){const o=this.getSelection();if(!o)return;const s=o.anchorNode;if(s){let d=s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.COMMENT_NODE?s:s.parentElement;const c=d&&d.innerText===o.toString();let u=!1;for(var a=[],r=ti.getSelection(),l=0;l<r.rangeCount;++l)a=a.concat(r.getRangeAt(l).getNodes());const p=["p","h1","h2","h3","h4","h5","h6","div","pre"];if(a.forEach((i=>{if(i.tagName){const n=i.tagName.toLowerCase();if(-1!==p.indexOf(n)){u=!0;for(let e=0;e<Object.keys(t).length;e++){let n=Object.values(t)[e];this.removeClass(i,n)}""!==e&&this.addClass(i,e),this.cleanChildrenClass(i,t),this.cleanUnusedSpan(i)}}})),u)return;(i||c||""===o.toString().trim())&&("block"===n&&"inline"===this.getStyle(d,"display")&&(d=this.getParentBlock(d)),this.updateSelectionClass(e,t,d))}}updateSelectionClass(e,t,i){for(let e=0;e<Object.keys(t).length;e++){let n=Object.values(t)[e];this.removeClass(i,n)}return""!==e&&this.addClass(i,e),this.cleanChildrenClass(i,t),this.cleanUnusedSpan(i),i}cleanChildrenClass(e,t){if(!e.hasChildNodes())return;Array.from(e.children).map((e=>{for(let i=0;i<Object.keys(t).length;i++){let n=Object.values(t)[i];this.removeClass(e,n)}}));const i=Array.from(e.children).map((e=>this.cleanChildrenClass(e,t)));i&&i.length}execCommandToggle(e,t,i){const n=this.getSelection();if(!n)return;const o=n.anchorNode;if(o){const l=o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE?o:o.parentElement,d=l&&l.innerText===n.toString();let c=!1;for(var s=[],a=ti.getSelection(),r=0;r<a.rangeCount;++r)s=s.concat(a.getRangeAt(r).getNodes());const u=["p","h1","h2","h3","h4","h5","h6","div","pre"];if(s.forEach((n=>{if(n.tagName){const o=n.tagName.toLowerCase();if(-1!==u.indexOf(o)){if(c=!0,"fontWeight"===e){let e=!1;this.hasClass(n,i.fontWeight.defaultBold)&&(e=!0),this.removeClass(n,i.fontWeight.thin),this.removeClass(n,i.fontWeight.extralight),this.removeClass(n,i.fontWeight.light),this.removeClass(n,i.fontWeight.normal),this.removeClass(n,i.fontWeight.medium),this.removeClass(n,i.fontWeight.semibold),this.removeClass(n,i.fontWeight.bold),this.removeClass(n,i.fontWeight.extrabold),this.removeClass(n,i.fontWeight.black),e||this.addClass(n,i.fontWeight.defaultBold)}if("fontStyle"===e){let e=!1;this.hasClass(n,i.fontStyle.italic)&&(e=!0),this.removeClass(n,i.fontStyle.italic),this.removeClass(n,i.fontStyle.normal),e||this.addClass(n,i.fontStyle.italic)}if("textUnderline"===e){let e=!1;this.hasClass(n,i.textDecoration.underline)&&(e=!0),this.removeClass(n,i.textDecoration.linethrough),this.removeClass(n,i.textDecoration.underline),this.removeClass(n,i.textDecoration.normal),e||this.addClass(n,i.textDecoration.underline)}if("textLinethrough"===e){let e=!1;this.hasClass(n,i.textDecoration.linethrough)&&(e=!0),this.removeClass(n,i.textDecoration.underline),this.removeClass(n,i.textDecoration.linethrough),this.removeClass(n,i.textDecoration.normal),e||this.addClass(n,i.textDecoration.linethrough)}if("textTransform"===e){let e="";this.hasClass(n,i.textTransform.uppercase)?e="uppercase":this.hasClass(n,i.textTransform.lowercase)?e="lowercase":this.hasClass(n,i.textTransform.capitalize)?e="capitalize":this.hasClass(n,i.textTransform.normal)&&(e="normal"),this.removeClass(n,i.textTransform.uppercase),this.removeClass(n,i.textTransform.lowercase),this.removeClass(n,i.textTransform.capitalize),this.removeClass(n,i.textTransform.normal),""===e?this.addClass(n,i.textTransform.uppercase):"uppercase"===e?this.addClass(n,i.textTransform.lowercase):"lowercase"===e?this.addClass(n,i.textTransform.capitalize):"capitalize"===e||"normal"===e&&this.addClass(n,i.textTransform.uppercase)}if("clean"===e&&(n.className="",n.style.cssText=""),"extend"===e){let e=!1;this.hasClass(n,i.extend[t])&&(e=!0),e?this.removeClass(n,i.extend[t]):this.addClass(n,i.extend[t])}this.cleanChildrenToggle(e,t,n,i),this.cleanUnusedSpan(n)}}})),c)return;d||""===n.toString().trim()?this.updateSelectionToggle(e,t,i,l):this.replaceSelectionToggle(e,t,i,n,l)}}updateSelectionToggle(e,t,i,n){if("fontWeight"===e){let e=!1;this.hasClass(n,i.fontWeight.defaultBold)&&(e=!0),this.removeClass(n,i.fontWeight.thin),this.removeClass(n,i.fontWeight.extralight),this.removeClass(n,i.fontWeight.light),this.removeClass(n,i.fontWeight.normal),this.removeClass(n,i.fontWeight.medium),this.removeClass(n,i.fontWeight.semibold),this.removeClass(n,i.fontWeight.bold),this.removeClass(n,i.fontWeight.extrabold),this.removeClass(n,i.fontWeight.black),e?this.addClass(n,i.fontWeight.defaultNormal):this.addClass(n,i.fontWeight.defaultBold)}if("fontStyle"===e){let e=!1;this.hasClass(n,i.fontStyle.italic)&&(e=!0),this.removeClass(n,i.fontStyle.italic),this.removeClass(n,i.fontStyle.normal),e?this.addClass(n,i.fontStyle.normal):this.addClass(n,i.fontStyle.italic)}if("textUnderline"===e){let e=!1;this.hasClass(n,i.textDecoration.underline)&&(e=!0),this.removeClass(n,i.textDecoration.underline),this.removeClass(n,i.textDecoration.linethrough),this.removeClass(n,i.textDecoration.normal),e?this.addClass(n,i.textDecoration.normal):this.addClass(n,i.textDecoration.underline)}if("textLinethrough"===e){let e=!1;this.hasClass(n,i.textDecoration.linethrough)&&(e=!0),this.removeClass(n,i.textDecoration.underline),this.removeClass(n,i.textDecoration.linethrough),this.removeClass(n,i.textDecoration.normal),e?this.addClass(n,i.textDecoration.normal):this.addClass(n,i.textDecoration.linethrough)}if("textTransform"===e){let e="";this.hasClass(n,i.textTransform.uppercase)?e="uppercase":this.hasClass(n,i.textTransform.lowercase)?e="lowercase":this.hasClass(n,i.textTransform.capitalize)?e="capitalize":this.hasClass(n,i.textTransform.normal)&&(e="normal"),this.removeClass(n,i.textTransform.uppercase),this.removeClass(n,i.textTransform.lowercase),this.removeClass(n,i.textTransform.capitalize),this.removeClass(n,i.textTransform.normal),""===e?this.addClass(n,i.textTransform.uppercase):"uppercase"===e?this.addClass(n,i.textTransform.lowercase):"lowercase"===e?this.addClass(n,i.textTransform.capitalize):"capitalize"===e?this.addClass(n,i.textTransform.normal):"normal"===e&&this.addClass(n,i.textTransform.uppercase)}if("clean"===e&&(n.className="",n.style.cssText=""),"extend"===e){let e=!1;this.hasClass(n,i.extend[t])&&(e=!0),e?this.removeClass(n,i.extend[t]):this.addClass(n,i.extend[t])}return this.cleanChildrenToggle(e,t,n,i),this.cleanUnusedSpan(n),n}replaceSelectionToggle(e,t,i,n,o){const s=n.getRangeAt(0),a=s.extractContents(),r=document.createElement("span");if("fontWeight"===e){let e=!1;o.closest(`.${i.fontWeight.defaultBold}`)&&(e=!0,this.hasClass(o,i.fontWeight.defaultNormal)&&(e=!1)),e?this.addClass(r,i.fontWeight.defaultNormal):this.addClass(r,i.fontWeight.defaultBold)}if("fontStyle"===e){let e=!1;o.closest(`.${i.fontStyle.italic}`)&&(e=!0,this.hasClass(o,i.fontStyle.normal)&&(e=!1)),e?this.addClass(r,i.fontStyle.normal):this.addClass(r,i.fontStyle.italic)}if("textUnderline"===e){let e=!1;o.closest(`.${i.textDecoration.underline}`)&&(e=!0),e||this.addClass(r,i.textDecoration.underline)}if("textLinethrough"===e){let e=!1;o.closest(`.${i.textDecoration.linethrough}`)&&(e=!0),e||this.addClass(r,i.textDecoration.linethrough)}if("textTransform"===e){let e="";o.closest(`.${i.textTransform.uppercase}`)?e="uppercase":o.closest(`.${i.textTransform.lowercase}`)?e="lowercase":o.closest(`.${i.textTransform.capitalize}`)?e="capitalize":o.closest(`.${i.textTransform.normal}`)&&(e="normal"),""===e?this.addClass(r,i.textTransform.uppercase):"uppercase"===e?this.addClass(r,i.textTransform.lowercase):"lowercase"===e?this.addClass(r,i.textTransform.capitalize):"capitalize"===e?this.addClass(r,i.textTransform.normal):"normal"===e&&this.addClass(r,i.textTransform.uppercase)}if("extend"===e){let e=!1;o.closest(`.${i.extend[t]}`)&&(e=!0),e||this.addClass(r,i.extend[t])}return r.appendChild(a),this.cleanChildrenToggle(e,t,r,i),this.cleanUnusedSpan(r),s.insertNode(r),n.selectAllChildren(r),r}cleanChildrenToggle(e,t,i,n){if(!i.hasChildNodes())return;"fontWeight"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.fontWeight.thin),this.removeClass(e,n.fontWeight.extralight),this.removeClass(e,n.fontWeight.light),this.removeClass(e,n.fontWeight.normal),this.removeClass(e,n.fontWeight.medium),this.removeClass(e,n.fontWeight.semibold),this.removeClass(e,n.fontWeight.bold),this.removeClass(e,n.fontWeight.extrabold),this.removeClass(e,n.fontWeight.black)})),"fontStyle"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.fontStyle.italic),this.removeClass(e,n.fontStyle.normal)})),"textUnderline"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.textDecoration.underline),this.removeClass(e,n.textDecoration.linethrough),this.removeClass(e,n.textDecoration.normal)})),"textLinethrough"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.textDecoration.underline),this.removeClass(e,n.textDecoration.linethrough),this.removeClass(e,n.textDecoration.normal)})),"textTransform"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.textTransform.uppercase),this.removeClass(e,n.textTransform.lowercase),this.removeClass(e,n.textTransform.capitalize),this.removeClass(e,n.textTransform.normal)})),"clean"===e&&Array.from(i.children).map((e=>{e.className="",e.style.cssText=""})),"extend"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.extend[t])}));const o=Array.from(i.children).map((i=>this.cleanChildrenToggle(e,t,i,n)));o&&o.length}getSelection(){return window&&window.getSelection?window.getSelection():document&&document.getSelection?document.getSelection():document&&document.selection?document.selection.createRange().text:null}cleanChildren(e,t){if(!t.hasChildNodes())return;const i=Array.from(t.children).filter((t=>void 0!==t.style[e]&&""!==t.style[e.style]));i&&i.length>0&&i.forEach((t=>{t.style[e]="",""!==t.getAttribute("style")&&null!==t.style||t.removeAttribute("style")}));const n=Array.from(t.children).map((t=>this.cleanChildren(e,t)));n&&n.length}addCssClass(e,t,i){this.removeCssClasses(e,i),this.addClass(e,t)}removeCssClasses(e,t){for(let i=0;i<Object.keys(t).length;i++){const n=Object.values(t)[i];this.removeClass(e,n)}}removeEmptyStyle(e){if(!e.hasChildNodes())return;const t=Array.from(e.children).filter((e=>e.getAttribute("style")));t&&t.length>0&&t.forEach((e=>{""!==e.getAttribute("style").trim()&&null!==e.style||e.removeAttribute("style")}));const i=Array.from(e.children).map((e=>this.removeEmptyStyle(e)));i&&i.length}cleanClassSize(e,t){if(!e.hasChildNodes())return;const i=Array.from(e.children).filter((e=>this.hasClass(e,t)));i&&i.length>0&&i.forEach((e=>{this.removeClass(e,t)}));const n=Array.from(e.children).map((e=>this.cleanClassSize(e,t)));n&&n.length}removeFormat(){const e=this.getSelection();if(!e)return;const t=e.anchorNode;if(!t)return;const i=t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE?t:t.parentElement;i&&i.innerText===e.toString()||""===e.toString().trim()?this.cleanElement(i):this.cleanSelection(e)}cleanElement(e){e.style.fontWeight="",e.style.fontStyle="",e.style.textDecoration="",e.style.textTransform="",e.style.fontFamily="",e.style.fontSize="",e.style.color="",e.style.backgroundColor="",e.classList.forEach((t=>{-1!==t.indexOf("size-")&&this.removeClass(e,t)})),e.querySelectorAll("*").forEach((e=>{e.style.fontWeight="",e.style.fontStyle="",e.style.textDecoration="",e.style.textTransform="",e.style.fontFamily="",e.style.fontSize="",e.style.color="",e.style.backgroundColor="",e.classList.forEach((t=>{-1!==t.indexOf("size-")&&this.removeClass(e,t)}))})),this.cleanUnusedSpan(e)}cleanSelection(e){const t=e.getRangeAt(0),i=t.extractContents(),n=document.createElement("span");n.appendChild(i),t.insertNode(n),e.selectAllChildren(n),this.cleanElement(n)}cleanUnusedSpan(e){let t=e.querySelectorAll("span");const i=Array.prototype.filter;let n=i.call(t,(e=>0===e.attributes.length));n&&n.length>0&&n.forEach((e=>{e.outerHTML=e.innerHTML})),t=e.querySelectorAll("span"),i.call(t,(e=>{""===e.innerHTML&&e.parentNode.removeChild(e)})),t=e.querySelectorAll("span"),n=i.call(t,(e=>0===e.attributes.length)),n&&n.length>0&&this.cleanUnusedSpan(e)}contentReformat(e,t){this.replaceTag(e,"b",t.fontWeight.defaultBold),this.replaceTag(e,"i",t.fontStyle.italic),this.replaceTag(e,"u",t.textDecoration.underline),this.replaceTag(e,"strike",t.textDecoration.linethrough),this.replaceInline(e,"font-weight","normal",t.fontWeight.defaultBold),this.replaceInline(e,"font-weight","bold",t.fontWeight.defaultBold),this.replaceInline(e,"font-weight","600",t.fontWeight.semibold),this.replaceInline(e,"text-align","left",t.textAlign.left),this.replaceInline(e,"text-align","right",t.textAlign.right),this.replaceInline(e,"text-align","center",t.textAlign.center),this.replaceInline(e,"text-align","justify",t.textAlign.justify),this.replaceInline(e,"display","flex",t.display.flex),this.replaceInline(e,"justiify-content","flex-start",t.justifyContent.start),this.replaceInline(e,"justiify-content","flex-end",t.justifyContent.end),this.replaceInline(e,"justiify-content","center",t.justifyContent.center),this.replaceInline(e,"justiify-content","space-between",t.justifyContent.between),this.replaceInline(e,"flex-direction","column",t.flexDirection.column),this.replaceInline(e,"flex-direction","row",t.flexDirection.row),this.replaceInline(e,"align-items","flex-start",t.alignItems.start),this.replaceInline(e,"align-items","flex-end",t.alignItems.end),this.replaceInline(e,"align-items","center",t.alignItems.center),this.replaceInline(e,"text-transform","uppercase",t.textTransform.uppercase),this.replaceInline(e,"text-transform","lowercase",t.textTransform.lowercase),this.replaceInline(e,"text-transform","none",t.textTransform.normal),this.replaceInline(e,"line-height","1",t.leading.leading_10),this.replaceInline(e,"line-height","1.1",t.leading.leading_11),this.replaceInline(e,"line-height","1.2",t.leading.leading_12),this.replaceInline(e,"line-height","1.25",t.leading.leading_125),this.replaceInline(e,"line-height","1.3",t.leading.leading_13),this.replaceInline(e,"line-height","1.375",t.leading.leading_1375),this.replaceInline(e,"line-height","1.4",t.leading.leading_14),this.replaceInline(e,"line-height","1.5",t.leading.leading_15),this.replaceInline(e,"line-height","1.6",t.leading.leading_16),this.replaceInline(e,"line-height","1.625",t.leading.leading_1625),this.replaceInline(e,"line-height","1.7",t.leading.leading_17),this.replaceInline(e,"line-height","1.8",t.leading.leading_18),this.replaceInline(e,"line-height","1.9",t.leading.leading_19),this.replaceInline(e,"line-height","2",t.leading.leading_20),this.replaceInline(e,"line-height","2.1",t.leading.leading_21),this.replaceInline(e,"line-height","2.2",t.leading.leading_22)}replaceTag(e,t,i){let n=e.querySelectorAll(t);let o=Array.prototype.filter.call(n,(e=>0===e.attributes.length));o&&o.length>0&&o.forEach((e=>{const t=document.createElement("span");t.setAttribute("class",i),t.innerHTML=e.innerHTML,e.outerHTML=t.outerHTML}))}replaceInline(e,t,i,n){e.querySelectorAll("*").forEach((e=>{"justiify-content"===t?e.style.justifyContent===`${i}`&&(this.addClass(e,n),e.style.justifyContent=""):e.style[t]===`${i}`&&(this.addClass(e,n),e.style[t]="")}))}}var oi={exports:{}},si={},ai={exports:{}},ri={},li={};function di(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function ci(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function ui(e,t){this.__indent_cache=new ci(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new di(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}di.prototype.clone_empty=function(){var e=new di(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},di.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},di.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},di.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},di.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},di.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},di.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},di.prototype.is_empty=function(){return 0===this.__items.length},di.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},di.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},di.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},di.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},di.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},di.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},di.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},ci.prototype.get_indent_size=function(e,t){var i=this.__base_string_length;return t=t||0,e<0&&(i=0),i+=e*this.__indent_size,i+=t},ci.prototype.get_indent_string=function(e,t){var i=this.__base_string;return t=t||0,e<0&&(e=0,i=""),t+=e*this.__indent_size,this.__ensure_cache(t),i+=this.__cache[t]},ci.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},ci.prototype.__add_column=function(){var e=this.__cache.length,t=0,i="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,i=new Array(t+1).join(this.__indent_string)),e&&(i+=new Array(e+1).join(" ")),this.__cache.push(i)},ui.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},ui.prototype.get_line_number=function(){return this.__lines.length},ui.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},ui.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},ui.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},ui.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},ui.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join("\n");return"\n"!==e&&(i=i.replace(/[\n]/g,e)),i},ui.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},ui.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},ui.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},ui.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},ui.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},ui.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},ui.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},ui.prototype.just_added_newline=function(){return this.current_line.is_empty()},ui.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},ui.prototype.ensure_empty_line_above=function(e,t){for(var i=this.__lines.length-2;i>=0;){var n=this.__lines[i];if(n.is_empty())break;if(0!==n.item(0).indexOf(e)&&n.item(-1)!==t){this.__lines.splice(i+1,0,new di(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}},li.Output=ui;var pi={};pi.Token=function(e,t,i,n){this.type=e,this.text=t,this.comments_before=null,this.newlines=i||0,this.whitespace_before=n||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null};var hi={};!function(e){var t="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",i="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",n="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",o="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+i+"])";e.identifier=new RegExp(o+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),e.identifierStart=new RegExp(o),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+t+i+n+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")}(hi);var gi={},fi={};function mi(e,t){this.raw_options=vi(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function vi(e,t){var i,n={};for(i in e=bi(e))i!==t&&(n[i]=e[i]);if(t&&e[t])for(i in e[t])n[i]=e[t][i];return n}function bi(e){var t,i={};for(t in e){i[t.replace(/-/g,"_")]=e[t]}return i}mi.prototype._get_array=function(e,t){var i=this.raw_options[e],n=t||[];return"object"==typeof i?null!==i&&"function"==typeof i.concat&&(n=i.concat()):"string"==typeof i&&(n=i.split(/[^a-zA-Z0-9_\/\-]+/)),n},mi.prototype._get_boolean=function(e,t){var i=this.raw_options[e];return void 0===i?!!t:!!i},mi.prototype._get_characters=function(e,t){var i=this.raw_options[e],n=t||"";return"string"==typeof i&&(n=i.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),n},mi.prototype._get_number=function(e,t){var i=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var n=parseInt(i,10);return isNaN(n)&&(n=t),n},mi.prototype._get_selection=function(e,t,i){var n=this._get_selection_list(e,t,i);if(1!==n.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n[0]},mi.prototype._get_selection_list=function(e,t,i){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(i=i||[t[0]],!this._is_valid_selection(i,t))throw new Error("Invalid Default Value!");var n=this._get_array(e,i);if(!this._is_valid_selection(n,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n},mi.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},fi.Options=mi,fi.normalizeOpts=bi,fi.mergeOpts=vi;var yi=fi.Options,_i=["before-newline","after-newline","preserve-newline"];function xi(e){yi.call(this,e,"js");var t=this.raw_options.brace_style||null;"expand-strict"===t?this.raw_options.brace_style="expand":"collapse-preserve-inline"===t?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var n=0;n<i.length;n++)"preserve-inline"===i[n]?this.brace_preserve_inline=!0:this.brace_style=i[n];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",_i),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}xi.prototype=new yi,gi.Options=xi;var wi={},Si={},Ci=RegExp.prototype.hasOwnProperty("sticky");function ki(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}ki.prototype.restart=function(){this.__position=0},ki.prototype.back=function(){this.__position>0&&(this.__position-=1)},ki.prototype.hasNext=function(){return this.__position<this.__input_length},ki.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},ki.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},ki.prototype.__match=function(e,t){e.lastIndex=t;var i=e.exec(this.__input);return!i||Ci&&e.sticky||i.index!==t&&(i=null),i},ki.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},ki.prototype.testChar=function(e,t){var i=this.peek(t);return e.lastIndex=0,null!==i&&e.test(i)},ki.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},ki.prototype.read=function(e,t,i){var n,o="";return e&&(n=this.match(e))&&(o+=n[0]),!t||!n&&e||(o+=this.readUntil(t,i)),o},ki.prototype.readUntil=function(e,t){var i,n=this.__position;e.lastIndex=this.__position;var o=e.exec(this.__input);return o?(n=o.index,t&&(n+=o[0].length)):n=this.__input_length,i=this.__input.substring(this.__position,n),this.__position=n,i},ki.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},ki.prototype.get_regexp=function(e,t){var i=null,n="g";return t&&Ci&&(n="y"),"string"==typeof e&&""!==e?i=new RegExp(e,n):e&&(i=new RegExp(e.source,n)),i},ki.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},ki.prototype.peekUntilAfter=function(e){var t=this.__position,i=this.readUntilAfter(e);return this.__position=t,i},ki.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},Si.InputScanner=ki;var Ei={},Ai={};function qi(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}qi.prototype.restart=function(){this.__position=0},qi.prototype.isEmpty=function(){return 0===this.__tokens_length},qi.prototype.hasNext=function(){return this.__position<this.__tokens_length},qi.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},qi.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},qi.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},Ai.TokenStream=qi;var Ti={},Li={};function Mi(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}Mi.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},Mi.prototype.read_match=function(){return this._input.match(this._match_pattern)},Mi.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},Mi.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},Mi.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},Mi.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},Mi.prototype._create=function(){return new Mi(this._input,this)},Mi.prototype._update=function(){},Li.Pattern=Mi;var Oi=Li.Pattern;function Ri(e,t){Oi.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Ri.prototype=new Oi,Ri.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},Ri.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},Ri.prototype.matching=function(e,t){var i=this._create();return i.__set_whitespace_patterns(e,t),i._update(),i},Ri.prototype._create=function(){return new Ri(this._input,this)},Ri.prototype.__split=function(e,t){e.lastIndex=0;for(var i=0,n=[],o=e.exec(t);o;)n.push(t.substring(i,o.index)),i=o.index+o[0].length,o=e.exec(t);return i<t.length?n.push(t.substring(i,t.length)):n.push(""),n},Ti.WhitespacePattern=Ri;var Ni=Si.InputScanner,Bi=pi.Token,Ii=Ai.TokenStream,Di=Ti.WhitespacePattern,$i={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Pi=function(e,t){this._input=new Ni(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new Di(this._input)};Pi.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new Ii,this._reset();for(var t=new Bi($i.START,""),i=null,n=[],o=new Ii;t.type!==$i.EOF;){for(e=this._get_next_token(t,i);this._is_comment(e);)o.add(e),e=this._get_next_token(t,i);o.isEmpty()||(e.comments_before=o,o=new Ii),e.parent=i,this._is_opening(e)?(n.push(i),i=e):i&&this._is_closing(e,i)&&(e.opened=i,i.closed=e,i=n.pop(),e.parent=i),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},Pi.prototype._is_first_token=function(){return this.__tokens.isEmpty()},Pi.prototype._reset=function(){},Pi.prototype._get_next_token=function(e,t){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token($i.RAW,i):this._create_token($i.EOF,"")},Pi.prototype._is_comment=function(e){return!1},Pi.prototype._is_opening=function(e){return!1},Pi.prototype._is_closing=function(e,t){return!1},Pi.prototype._create_token=function(e,t){return new Bi(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},Pi.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},Ei.Tokenizer=Pi,Ei.TOKEN=$i;var Hi={};function zi(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}zi.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(e);i;)t[i[1]]=i[2],i=this.__directive_pattern.exec(e);return t},zi.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},Hi.Directives=zi;var Fi={},ji=Li.Pattern,Ui={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function Wi(e,t){ji.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},Ui),this._excluded=Object.assign({},Ui),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var i=new ji(e);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}Wi.prototype=new ji,Wi.prototype._create=function(){return new Wi(this._input,this)},Wi.prototype._update=function(){this.__set_templated_pattern()},Wi.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},Wi.prototype.read_options=function(e){var t=this._create();for(var i in Ui)t._disabled[i]=-1===e.templating.indexOf(i);return t._update(),t},Wi.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},Wi.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},Wi.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},Wi.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var i=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==i||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==i||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=(e=(e=e||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return e},Fi.TemplatablePattern=Wi;var Gi=Si.InputScanner,Vi=Ei.Tokenizer,Yi=Ei.TOKEN,Xi=Hi.Directives,Ki=hi,Zi=Li.Pattern,Qi=Fi.TemplatablePattern;function Ji(e,t){return-1!==t.indexOf(e)}var en={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:Yi.START,RAW:Yi.RAW,EOF:Yi.EOF},tn=new Xi(/\/\*/,/\*\//),nn=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,on=/[0-9]/,sn=/[^\d\.]/,an=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rn=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";rn=(rn="\\?\\.(?!\\d) "+(rn=rn.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"))).replace(/ /g,"|");var ln,dn=new RegExp(rn),cn="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),un=cn.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),pn=new RegExp("^(?:"+un.join("|")+")$"),hn=function(e,t){Vi.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new Zi(this._input),n=new Qi(this._input).read_options(this._options);this.__patterns={template:n,identifier:n.starting_with(Ki.identifier).matching(Ki.identifierMatch),number:i.matching(nn),punct:i.matching(dn),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(Ki.lineBreak),shebang:i.starting_with(/#!/).until_after(Ki.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:n.until(/['\\\n\r\u2028\u2029]/),double_quote:n.until(/["\\\n\r\u2028\u2029]/),template_text:n.until(/[`\\$]/),template_expression:n.until(/[`}\\]/)}};(hn.prototype=new Vi)._is_comment=function(e){return e.type===en.COMMENT||e.type===en.BLOCK_COMMENT||e.type===en.UNKNOWN},hn.prototype._is_opening=function(e){return e.type===en.START_BLOCK||e.type===en.START_EXPR},hn.prototype._is_closing=function(e,t){return(e.type===en.END_BLOCK||e.type===en.END_EXPR)&&t&&("]"===e.text&&"["===t.text||")"===e.text&&"("===t.text||"}"===e.text&&"{"===t.text)},hn.prototype._reset=function(){ln=!1},hn.prototype._get_next_token=function(e,t){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(en.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_non_javascript(n))||this._read_string(n))||this._read_word(e))||this._read_singles(n))||this._read_comment(n))||this._read_regexp(n,e))||this._read_xml(n,e))||this._read_punctuation())||this._create_token(en.UNKNOWN,this._input.next())},hn.prototype._read_word=function(e){var t;return""!==(t=this.__patterns.identifier.read())?(t=t.replace(Ki.allLineBreaks,"\n"),e.type!==en.DOT&&(e.type!==en.RESERVED||"set"!==e.text&&"get"!==e.text)&&pn.test(t)?"in"===t||"of"===t?this._create_token(en.OPERATOR,t):this._create_token(en.RESERVED,t):this._create_token(en.WORD,t)):""!==(t=this.__patterns.number.read())?this._create_token(en.WORD,t):void 0},hn.prototype._read_singles=function(e){var t=null;return"("===e||"["===e?t=this._create_token(en.START_EXPR,e):")"===e||"]"===e?t=this._create_token(en.END_EXPR,e):"{"===e?t=this._create_token(en.START_BLOCK,e):"}"===e?t=this._create_token(en.END_BLOCK,e):";"===e?t=this._create_token(en.SEMICOLON,e):"."===e&&sn.test(this._input.peek(1))?t=this._create_token(en.DOT,e):","===e&&(t=this._create_token(en.COMMA,e)),t&&this._input.next(),t},hn.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(""!==e)return"="===e?this._create_token(en.EQUALS,e):"?."===e?this._create_token(en.DOT,e):this._create_token(en.OPERATOR,e)},hn.prototype._read_non_javascript=function(e){var t="";if("#"===e){if(this._is_first_token()&&(t=this.__patterns.shebang.read()))return this._create_token(en.UNKNOWN,t.trim()+"\n");if(t=this.__patterns.include.read())return this._create_token(en.UNKNOWN,t.trim()+"\n");e=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(on)){do{i+=e=this._input.next()}while(this._input.hasNext()&&"#"!==e&&"="!==e);return"#"===e||("["===this._input.peek()&&"]"===this._input.peek(1)?(i+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(i+="{}",this._input.next(),this._input.next())),this._create_token(en.WORD,i)}this._input.back()}else if("<"===e&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(Ki.newline);)t+=this._input.next();return ln=!0,this._create_token(en.COMMENT,t)}}else if(ln&&"-"===e&&(t=this.__patterns.html_comment_end.read()))return ln=!1,this._create_token(en.COMMENT,t);return null},hn.prototype._read_comment=function(e){var t=null;if("/"===e){var i="";if("*"===this._input.peek(1)){i=this.__patterns.block_comment.read();var n=tn.get_directives(i);n&&"start"===n.ignore&&(i+=tn.readIgnored(this._input)),i=i.replace(Ki.allLineBreaks,"\n"),(t=this._create_token(en.BLOCK_COMMENT,i)).directives=n}else"/"===this._input.peek(1)&&(i=this.__patterns.comment.read(),t=this._create_token(en.COMMENT,i))}return t},hn.prototype._read_string=function(e){if("`"===e||"'"===e||'"'===e){var t=this._input.next();return this.has_char_escapes=!1,t+="`"===e?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=function(e){var t="",i=0,n=new Gi(e),o=null;for(;n.hasNext();)if((o=n.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=o[0]),"\\"===n.peek()){if(n.next(),"x"===n.peek())o=n.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==n.peek()){t+="\\",n.hasNext()&&(t+=n.next());continue}o=n.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return e;if((i=parseInt(o[1],16))>126&&i<=255&&0===o[0].indexOf("x"))return e;if(i>=0&&i<32){t+="\\"+o[0];continue}t+=34===i||39===i||92===i?"\\"+String.fromCharCode(i):String.fromCharCode(i)}return t}(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(Ki.allLineBreaks,"\n"),this._create_token(en.STRING,t)}return null},hn.prototype._allow_regexp_or_xml=function(e){return e.type===en.RESERVED&&Ji(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===en.END_EXPR&&")"===e.text&&e.opened.previous.type===en.RESERVED&&Ji(e.opened.previous.text,["if","while","for"])||Ji(e.type,[en.COMMENT,en.START_EXPR,en.START_BLOCK,en.START,en.END_BLOCK,en.OPERATOR,en.EQUALS,en.EOF,en.SEMICOLON,en.COMMA])},hn.prototype._read_regexp=function(e,t){if("/"===e&&this._allow_regexp_or_xml(t)){for(var i=this._input.next(),n=!1,o=!1;this._input.hasNext()&&(n||o||this._input.peek()!==e)&&!this._input.testChar(Ki.newline);)i+=this._input.peek(),n?n=!1:(n="\\"===this._input.peek(),"["===this._input.peek()?o=!0:"]"===this._input.peek()&&(o=!1)),this._input.next();return this._input.peek()===e&&(i+=this._input.next(),i+=this._input.read(Ki.identifier)),this._create_token(en.STRING,i)}return null},hn.prototype._read_xml=function(e,t){if(this._options.e4x&&"<"===e&&this._allow_regexp_or_xml(t)){var i="",n=this.__patterns.xml.read_match();if(n){for(var o=n[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=0===o.indexOf("{"),a=0;n;){var r=!!n[1],l=n[2];if(!(!!n[n.length-1]||"![CDATA["===l.slice(0,8))&&(l===o||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(r?--a:++a),i+=n[0],a<=0)break;n=this.__patterns.xml.read_match()}return n||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(Ki.allLineBreaks,"\n"),this._create_token(en.STRING,i)}}return null},hn.prototype._read_string_recursive=function(e,t,i){var n,o;"'"===e?o=this.__patterns.single_quote:'"'===e?o=this.__patterns.double_quote:"`"===e?o=this.__patterns.template_text:"}"===e&&(o=this.__patterns.template_expression);for(var s=o.read(),a="";this._input.hasNext();){if((a=this._input.next())===e||!t&&Ki.newline.test(a)){this._input.back();break}"\\"===a&&this._input.hasNext()?("x"===(n=this._input.peek())||"u"===n?this.has_char_escapes=!0:"\r"===n&&"\n"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):i&&("${"===i&&"$"===a&&"{"===this._input.peek()&&(a+=this._input.next()),i===a&&(a+="`"===e?this._read_string_recursive("}",t,"`"):this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(a+=this._input.next()))),s+=a+=o.read()}return s},wi.Tokenizer=hn,wi.TOKEN=en,wi.positionable_operators=an.slice(),wi.line_starters=cn.slice();var gn=li.Output,fn=pi.Token,mn=hi,vn=gi.Options,bn=wi.Tokenizer,yn=wi.line_starters,_n=wi.positionable_operators,xn=wi.TOKEN;function wn(e,t){return-1!==t.indexOf(e)}function Sn(e,t){return e&&e.type===xn.RESERVED&&e.text===t}function Cn(e,t){return e&&e.type===xn.RESERVED&&wn(e.text,t)}var kn=["case","return","do","if","throw","else","await","break","continue","async"],En=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].replace(/-/g,"_")]=e[i];return t}(["before-newline","after-newline","preserve-newline"]),An=[En.before_newline,En.preserve_newline],qn="BlockStatement",Tn="Statement",Ln="ObjectLiteral",Mn="ArrayLiteral",On="ForInitializer",Rn="Conditional",Nn="Expression";function Bn(e,t){t.multiline_frame||t.mode===On||t.mode===Rn||e.remove_indent(t.start_line_index)}function In(e){return e===Mn}function Dn(e){return wn(e,[Nn,On,Rn])}function $n(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new vn(t)}$n.prototype.create_flags=function(e,t){var i=0;return e&&(i=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>i&&(i=e.line_indent_level)),{mode:t,parent:e,last_token:e?e.last_token:new fn(xn.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,alignment:0,line_indent_level:e?e.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0}},$n.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new gn(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(qn);var i=new bn(e,this._options);return this._tokens=i.tokenize(),e},$n.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._reset(this._source_text),t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&mn.lineBreak.test(e||"")&&(t=e.match(mn.lineBreak)[0]));for(var i=this._tokens.next();i;)this.handle_token(i),this._last_last_text=this._flags.last_token.text,this._flags.last_token=i,i=this._tokens.next();return this._output.get_code(t)},$n.prototype.handle_token=function(e,t){e.type===xn.START_EXPR?this.handle_start_expr(e):e.type===xn.END_EXPR?this.handle_end_expr(e):e.type===xn.START_BLOCK?this.handle_start_block(e):e.type===xn.END_BLOCK?this.handle_end_block(e):e.type===xn.WORD||e.type===xn.RESERVED?this.handle_word(e):e.type===xn.SEMICOLON?this.handle_semicolon(e):e.type===xn.STRING?this.handle_string(e):e.type===xn.EQUALS?this.handle_equals(e):e.type===xn.OPERATOR?this.handle_operator(e):e.type===xn.COMMA?this.handle_comma(e):e.type===xn.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===xn.COMMENT?this.handle_comment(e,t):e.type===xn.DOT?this.handle_dot(e):e.type===xn.EOF?this.handle_eof(e):(e.type,xn.UNKNOWN,this.handle_unknown(e,t))},$n.prototype.handle_whitespace_and_comments=function(e,t){var i=e.newlines,n=this._options.keep_array_indentation&&In(this._flags.mode);if(e.comments_before)for(var o=e.comments_before.next();o;)this.handle_whitespace_and_comments(o,t),this.handle_token(o,t),o=e.comments_before.next();if(n)for(var s=0;s<i;s+=1)this.print_newline(s>0,t);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,t);for(var a=1;a<i;a+=1)this.print_newline(!0,t)}};var Pn=["async","break","continue","return","throw","yield"];$n.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=void 0!==t&&t,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&e.newlines||t;if(wn(this._flags.last_token.text,_n)||wn(e.text,_n)){var n=wn(this._flags.last_token.text,_n)&&wn(this._options.operator_position,An)||wn(e.text,_n);i=i&&n}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(Cn(this._flags.last_token,Pn))return;this._output.set_wrap_point()}}},$n.prototype.print_newline=function(e,t){if(!t&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==xn.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var i=this._tokens.peek();!(this._flags.mode!==Tn||this._flags.if_block&&Sn(i,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)},$n.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&("["===e.text||In(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},$n.prototype.print_token=function(e){if(this._output.raw)this._output.add_raw_token(e);else{if(this._options.comma_first&&e.previous&&e.previous.type===xn.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},$n.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},$n.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},$n.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},$n.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Tn&&Bn(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},$n.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ln&&this._flags.mode===Tn&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||Cn(this._flags.last_token,["get","set"]))},$n.prototype.start_of_statement=function(e){var t=!1;return!!(t=(t=(t=(t=(t=(t=(t=t||Cn(this._flags.last_token,["var","let","const"])&&e.type===xn.WORD)||Sn(this._flags.last_token,"do"))||!(this._flags.parent.mode===Ln&&this._flags.mode===Tn)&&Cn(this._flags.last_token,Pn)&&!e.newlines)||Sn(this._flags.last_token,"else")&&!(Sn(e,"if")&&!e.comments_before))||this._flags.last_token.type===xn.END_EXPR&&(this._previous_flags.mode===On||this._previous_flags.mode===Rn))||this._flags.last_token.type===xn.WORD&&this._flags.mode===qn&&!this._flags.in_case&&!("--"===e.text||"++"===e.text)&&"function"!==this._last_last_text&&e.type!==xn.WORD&&e.type!==xn.RESERVED)||this._flags.mode===Ln&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||Cn(this._flags.last_token,["get","set"])))&&(this.set_mode(Tn),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,Cn(e,["do","for","if","while"])),!0)},$n.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=Nn;if("["===e.text){if(this._flags.last_token.type===xn.WORD||")"===this._flags.last_token.text)return Cn(this._flags.last_token,yn)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));t=Mn,In(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),wn(this._flags.last_token.type,[xn.START_EXPR,xn.END_EXPR,xn.WORD,xn.OPERATOR,xn.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===xn.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,t=On):wn(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=Rn):wn(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===e.whitespace_before?this._output.space_before_token=!1:(wn(this._flags.last_token.text,yn)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===xn.EQUALS||this._flags.last_token.type===xn.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===xn.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var n=this._tokens.peek(-4);Cn(i,["async","function"])||"*"===i.text&&Cn(n,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ln&&("{"!==i.text&&","!==i.text&&("*"!==i.text||"{"!==n.text&&","!==n.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===xn.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(wn(this._last_last_text,["function","yield"])||this._flags.mode===Ln&&wn(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===xn.START_BLOCK?this.print_newline():this._flags.last_token.type!==xn.END_EXPR&&this._flags.last_token.type!==xn.START_EXPR&&this._flags.last_token.type!==xn.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==xn.COMMA||this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},$n.prototype.handle_end_expr=function(e){for(;this._flags.mode===Tn;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,"]"===e.text&&In(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==xn.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(e),this.restore_mode(),Bn(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Rn&&(this._previous_flags.mode=Nn,this._flags.do_block=!1,this._flags.do_while=!1)},$n.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),i=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===xn.END_EXPR?(this.set_mode(qn),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(qn):i&&(wn(i.text,[":",","])&&wn(t.type,[xn.STRING,xn.WORD,xn.RESERVED])||wn(t.text,["get","set","..."])&&wn(i.type,[xn.WORD,xn.RESERVED]))?wn(this._last_last_text,["class","interface"])?this.set_mode(qn):this.set_mode(Ln):this._flags.last_token.type===xn.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(qn):wn(this._flags.last_token.type,[xn.EQUALS,xn.START_EXPR,xn.COMMA,xn.OPERATOR])||Cn(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ln):this.set_mode(qn);var n=!t.comments_before&&"}"===t.text,o=n&&"function"===this._flags.last_word&&this._flags.last_token.type===xn.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do{if(s+=1,(a=this._tokens.peek(s-1)).newlines){this._flags.inline_frame=!1;break}}while(a.type!==xn.EOF&&(a.type!==xn.END_BLOCK||a.opened!==e))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==xn.OPERATOR&&(o||this._flags.last_token.type===xn.EQUALS||Cn(this._flags.last_token,kn)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!In(this._previous_flags.mode)||this._flags.last_token.type!==xn.START_EXPR&&this._flags.last_token.type!==xn.COMMA||((this._flags.last_token.type===xn.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===xn.COMMA||this._flags.last_token.type===xn.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==xn.OPERATOR&&this._flags.last_token.type!==xn.START_EXPR&&(this._flags.last_token.type!==xn.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(e),this.indent(),n||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},$n.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===Tn;)this.restore_mode();var t=this._flags.last_token.type===xn.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:"expand"===this._options.brace_style?t||this.print_newline():t||(In(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)},$n.prototype.handle_word=function(e){if(e.type===xn.RESERVED)if(wn(e.text,["set","get"])&&this._flags.mode!==Ln)e.type=xn.WORD;else if("import"===e.text&&"("===this._tokens.peek().text)e.type=xn.WORD;else if(wn(e.text,["as","from"])&&!this._flags.import_block)e.type=xn.WORD;else if(this._flags.mode===Ln){":"===this._tokens.peek().text&&(e.type=xn.WORD)}if(this.start_of_statement(e)?Cn(this._flags.last_token,["var","let","const"])&&e.type===xn.WORD&&(this._flags.declaration_statement=!0):!e.newlines||Dn(this._flags.mode)||this._flags.last_token.type===xn.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===xn.EQUALS||!this._options.preserve_newlines&&Cn(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(e):(this.handle_whitespace_and_comments(e),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(Sn(e,"while"))return this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&Sn(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Tn;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&Cn(e,["case","default"]))return this.print_newline(),this._flags.last_token.type!==xn.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),void(this._flags.in_case=!0);if(this._flags.last_token.type!==xn.COMMA&&this._flags.last_token.type!==xn.START_EXPR&&this._flags.last_token.type!==xn.EQUALS&&this._flags.last_token.type!==xn.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e),Sn(e,"function"))return(wn(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!wn(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==xn.OPERATOR)&&(this._output.just_added_blankline()||e.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===xn.RESERVED||this._flags.last_token.type===xn.WORD?Cn(this._flags.last_token,["get","set","new","export"])||Cn(this._flags.last_token,Pn)||Sn(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===xn.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!Dn(this._flags.mode)&&!In(this._flags.mode))&&this.print_newline(),this.print_token(e),void(this._flags.last_word=e.text);var t="NONE";(this._flags.last_token.type===xn.END_BLOCK?this._previous_flags.inline_frame?t="SPACE":Cn(e,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines?t="NEWLINE":(t="SPACE",this._output.space_before_token=!0):t="NEWLINE":this._flags.last_token.type===xn.SEMICOLON&&this._flags.mode===qn?t="NEWLINE":this._flags.last_token.type===xn.SEMICOLON&&Dn(this._flags.mode)?t="SPACE":this._flags.last_token.type===xn.STRING?t="NEWLINE":this._flags.last_token.type===xn.RESERVED||this._flags.last_token.type===xn.WORD||"*"===this._flags.last_token.text&&(wn(this._last_last_text,["function","yield"])||this._flags.mode===Ln&&wn(this._last_last_text,["{",","]))?t="SPACE":this._flags.last_token.type===xn.START_BLOCK?t=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===xn.END_EXPR&&(this._output.space_before_token=!0,t="NEWLINE"),Cn(e,yn)&&")"!==this._flags.last_token.text&&(t=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),Cn(e,["else","catch","finally"]))?(this._flags.last_token.type!==xn.END_BLOCK||this._previous_flags.mode!==qn||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===t?Cn(this._flags.last_token,kn)||"declare"===this._flags.last_token.text&&Cn(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==xn.END_EXPR?this._flags.last_token.type===xn.START_EXPR&&Cn(e,["var","let","const"])||":"===this._flags.last_token.text||(Sn(e,"if")&&Sn(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):Cn(e,yn)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&In(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===t&&(this._output.space_before_token=!0);!e.previous||e.previous.type!==xn.WORD&&e.previous.type!==xn.RESERVED||(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===xn.RESERVED&&("do"===e.text?this._flags.do_block=!0:"if"===e.text?this._flags.if_block=!0:"import"===e.text?this._flags.import_block=!0:this._flags.import_block&&Sn(e,"from")&&(this._flags.import_block=!1))},$n.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();!(this._flags.mode!==Tn||this._flags.if_block&&Sn(t,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)},$n.prototype.handle_string=function(e){(!e.text.startsWith("`")||0!==e.newlines||""!==e.whitespace_before||")"!==e.previous.text&&this._flags.last_token.type!==xn.WORD)&&(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===xn.RESERVED||this._flags.last_token.type===xn.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===xn.COMMA||this._flags.last_token.type===xn.START_EXPR||this._flags.last_token.type===xn.EQUALS||this._flags.last_token.type===xn.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):!e.text.startsWith("`")||this._flags.last_token.type!==xn.END_EXPR||"]"!==e.previous.text&&")"!==e.previous.text||0!==e.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(e)},$n.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0},$n.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(Dn(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===Ln||this._flags.mode===Tn&&this._flags.parent.mode===Ln?(this._flags.mode===Tn&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)},$n.prototype.handle_operator=function(e){var t="*"===e.text&&(Cn(this._flags.last_token,["function","yield"])||wn(this._flags.last_token.type,[xn.START_BLOCK,xn.COMMA,xn.END_BLOCK,xn.SEMICOLON])),i=wn(e.text,["-","+"])&&(wn(this._flags.last_token.type,[xn.START_BLOCK,xn.START_EXPR,xn.EQUALS,xn.OPERATOR])||wn(this._flags.last_token.text,yn)||","===this._flags.last_token.text);if(this.start_of_statement(e));else{var n=!t;this.handle_whitespace_and_comments(e,n)}if(Cn(this._flags.last_token,kn))return this._output.space_before_token=!0,void this.print_token(e);if("*"!==e.text||this._flags.last_token.type!==xn.DOT)if("::"!==e.text){if(this._flags.last_token.type===xn.OPERATOR&&wn(this._options.operator_position,An)&&this.allow_wrap_or_preserved_newline(e),":"===e.text&&this._flags.in_case)return this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==xn.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var o=!0,s=!0,a=!1;if(":"===e.text?0===this._flags.ternary_depth?o=!1:(this._flags.ternary_depth-=1,a=!0):"?"===e.text&&(this._flags.ternary_depth+=1),!i&&!t&&this._options.preserve_newlines&&wn(e.text,_n)){var r=":"===e.text,l=r&&a,d=r&&!a;switch(this._options.operator_position){case En.before_newline:return this._output.space_before_token=!d,this.print_token(e),r&&!l||this.allow_wrap_or_preserved_newline(e),void(this._output.space_before_token=!0);case En.after_newline:return this._output.space_before_token=!0,!r||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),void(this._output.space_before_token=!0);case En.preserve_newline:return d||this.allow_wrap_or_preserved_newline(e),o=!(this._output.just_added_newline()||d),this._output.space_before_token=o,this.print_token(e),void(this._output.space_before_token=!0)}}if(t){this.allow_wrap_or_preserved_newline(e),o=!1;var c=this._tokens.peek();s=c&&wn(c.type,[xn.WORD,xn.RESERVED])}else"..."===e.text?(this.allow_wrap_or_preserved_newline(e),o=this._flags.last_token.type===xn.START_BLOCK,s=!1):(wn(e.text,["--","++","!","~"])||i)&&(this._flags.last_token.type!==xn.COMMA&&this._flags.last_token.type!==xn.START_EXPR||this.allow_wrap_or_preserved_newline(e),o=!1,s=!1,!e.newlines||"--"!==e.text&&"++"!==e.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&Dn(this._flags.mode)&&(o=!0),this._flags.last_token.type===xn.RESERVED?o=!0:this._flags.last_token.type===xn.END_EXPR?o=!("]"===this._flags.last_token.text&&("--"===e.text||"++"===e.text)):this._flags.last_token.type===xn.OPERATOR&&(o=wn(e.text,["--","-","++","+"])&&wn(this._flags.last_token.text,["--","-","++","+"]),wn(e.text,["+","-"])&&wn(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode!==qn||this._flags.inline_frame)&&this._flags.mode!==Tn||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||o,this.print_token(e),this._output.space_before_token=s}else this.print_token(e);else this.print_token(e)},$n.prototype.handle_block_comment=function(e,t){return this._output.raw?(this._output.add_raw_token(e),void(e.directives&&"end"===e.directives.preserve&&(this._output.raw=this._options.test_output_raw))):e.directives?(this.print_newline(!1,t),this.print_token(e),"start"===e.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):mn.newline.test(e.text)||e.newlines?void this.print_block_commment(e,t):(this._output.space_before_token=!0,this.print_token(e),void(this._output.space_before_token=!0))},$n.prototype.print_block_commment=function(e,t){var i,n=function(e){for(var t=[],i=(e=e.replace(mn.allLineBreaks,"\n")).indexOf("\n");-1!==i;)t.push(e.substring(0,i)),i=(e=e.substring(i+1)).indexOf("\n");return e.length&&t.push(e),t}(e.text),o=!1,s=!1,a=e.whitespace_before,r=a.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(n[0]),this.print_newline(!1,t),n.length>1){for(o=function(e,t){for(var i=0;i<e.length;i++)if(e[i].trim().charAt(0)!==t)return!1;return!0}(n=n.slice(1),"*"),s=function(e,t){for(var i,n=0,o=e.length;n<o;n++)if((i=e[n])&&0!==i.indexOf(t))return!1;return!0}(n,a),o&&(this._flags.alignment=1),i=0;i<n.length;i++)o?(this.print_token_line_indentation(e),this._output.add_token(n[i].replace(/^\s+/g,""))):s&&n[i]?(this.print_token_line_indentation(e),this._output.add_token(n[i].substring(r))):(this._output.current_line.set_indent(-1),this._output.add_token(n[i])),this.print_newline(!1,t);this._flags.alignment=0}},$n.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)},$n.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),Cn(this._flags.last_token,kn)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)},$n.prototype.handle_unknown=function(e,t){this.print_token(e),"\n"===e.text[e.text.length-1]&&this.print_newline(!1,t)},$n.prototype.handle_eof=function(e){for(;this._flags.mode===Tn;)this.restore_mode();this.handle_whitespace_and_comments(e)},ri.Beautifier=$n;var Hn=ri.Beautifier,zn=gi.Options;ai.exports=function(e,t){return new Hn(e,t).beautify()},ai.exports.defaultOptions=function(){return new zn};var Fn={exports:{}},jn={},Un={},Wn=fi.Options;function Gn(e){Wn.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var n=0;n<i.length;n++)"expand"!==i[n]?this.brace_style="collapse":this.brace_style=i[n]}Gn.prototype=new Wn,Un.Options=Gn;var Vn=Un.Options,Yn=li.Output,Xn=Si.InputScanner,Kn=new(0,Hi.Directives)(/\/\*/,/\*\//),Zn=/\r\n|[\r\n]/,Qn=/\r\n|[\r\n]/g,Jn=/\s/,eo=/(?:\s|\n)+/g,to=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,io=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function no(e,t){this._source_text=e||"",this._options=new Vn(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}no.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},no.prototype.eatWhitespace=function(e){for(var t=Jn.test(this._input.peek()),i=0;Jn.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===i||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return t},no.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,i=this._input.peek(t);i;){if("{"===i)return!0;if("("===i)e+=1;else if(")"===i){if(0===e)return!1;e-=1}else if(";"===i||"}"===i)return!1;t++,i=this._input.peek(t)}return!1},no.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},no.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},no.prototype.indent=function(){this._indentLevel++},no.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},no.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&Zn.test(e||"")&&(t=e.match(Zn)[0]));var i=(e=e.replace(Qn,"\n")).match(/^[\t ]*/)[0];this._output=new Yn(this._options,i),this._input=new Xn(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var n,o,s=0,a=!1,r=!1,l=!1,d=!1,c=!1,u=this._ch;n=""!==this._input.read(eo),o=u,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var p=this._input.read(to),h=Kn.get_directives(p);h&&"start"===h.ignore&&(p+=Kn.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(io)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(n),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var g=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);g.match(/[ :]$/)&&(g=this.eatString(": ").replace(/\s$/,""),this.print_string(g),this._output.space_before_token=!0),"extend"===(g=g.replace(/\s$/,""))?d=!0:"import"===g&&(c=!0),g in this.NESTED_AT_RULE?(this._nestedLevel+=1,g in this.CONDITIONAL_GROUP_RULE&&(l=!0)):a||0!==s||-1===g.indexOf(":")||(r=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(r&&(r=!1,this.outdent()),l?(l=!1,a=this._indentLevel>=this._nestedLevel):a=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&a&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===o&&this._output.trim(!0),c=!1,d=!1,r&&(this.outdent(),r=!1),this.print_string(this._ch),a=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!a&&!l||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||d||0!==s?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),r||(r=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===s?(r&&(this.outdent(),r=!1),d=!1,c=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),s++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),s&&(s--,this.outdent()))):(this.preserveSingleSpace(n),this.print_string(this._ch),this.eatWhitespace(),s++,this.indent()):")"===this._ch?(s&&(s--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||r||0!==s||c||d?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||r||0!==s?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(n),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),Jn.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(n),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Jn.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},jn.Beautifier=no;var oo=jn.Beautifier,so=Un.Options;Fn.exports=function(e,t){return new oo(e,t).beautify()},Fn.exports.defaultOptions=function(){return new so};var ao={exports:{}},ro={},lo={},co=fi.Options;function uo(e){co.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}uo.prototype=new co,lo.Options=uo;var po={},ho=Ei.Tokenizer,go=Ei.TOKEN,fo=Hi.Directives,mo=Fi.TemplatablePattern,vo=Li.Pattern,bo={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:go.START,RAW:go.RAW,EOF:go.EOF},yo=new fo(/<\!--/,/-->/),_o=function(e,t){ho.call(this,e,t),this._current_tag_name="";var i=new mo(this._input).read_options(this._options),n=new vo(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),handlebars_open:n.until(/[\n\r\t }]/),handlebars_raw_close:n.until(/}}/),comment:n.starting_with(/<!--/).until_after(/-->/),cdata:n.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:n.starting_with(/<!\[/).until_after(/]>/),processing:n.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var o=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=n.matching(o).until_after(o)}};(_o.prototype=new ho)._is_comment=function(e){return!1},_o.prototype._is_opening=function(e){return e.type===bo.TAG_OPEN},_o.prototype._is_closing=function(e,t){return e.type===bo.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},_o.prototype._reset=function(){this._current_tag_name=""},_o.prototype._get_next_token=function(e,t){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(bo.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_open_handlebars(n,t))||this._read_attribute(n,e,t))||this._read_close(n,t))||this._read_raw_content(n,e,t))||this._read_content_word(n))||this._read_comment_or_cdata(n))||this._read_processing(n))||this._read_open(n,t))||this._create_token(bo.UNKNOWN,this._input.next())},_o.prototype._read_comment_or_cdata=function(e){var t=null,i=null,n=null;"<"===e&&("!"===this._input.peek(1)&&((i=this.__patterns.comment.read())?(n=yo.get_directives(i))&&"start"===n.ignore&&(i+=yo.readIgnored(this._input)):i=this.__patterns.cdata.read()),i&&((t=this._create_token(bo.COMMENT,i)).directives=n));return t},_o.prototype._read_processing=function(e){var t=null,i=null;if("<"===e){var n=this._input.peek(1);"!"!==n&&"?"!==n||(i=(i=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),i&&((t=this._create_token(bo.COMMENT,i)).directives=null)}return t},_o.prototype._read_open=function(e,t){var i=null,n=null;return t||"<"===e&&(i=this._input.next(),"/"===this._input.peek()&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),n=this._create_token(bo.TAG_OPEN,i)),n},_o.prototype._read_open_handlebars=function(e,t){var i=null,n=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(i=(i=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),n=this._create_token(bo.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),n=this._create_token(bo.TAG_OPEN,i))),n},_o.prototype._read_close=function(e,t){var i=null,n=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(i=this._input.next(),"/"===e&&(i+=this._input.next()),n=this._create_token(bo.TAG_CLOSE,i)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),n=this._create_token(bo.TAG_CLOSE,"}}"))),n},_o.prototype._read_attribute=function(e,t,i){var n=null,o="";if(i&&"<"===i.text[0])if("="===e)n=this._create_token(bo.EQUALS,this._input.next());else if('"'===e||"'"===e){var s=this._input.next();s+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),n=this._create_token(bo.VALUE,s)}else(o=this.__patterns.attribute.read())&&(n=t.type===bo.EQUALS?this._create_token(bo.VALUE,o):this._create_token(bo.ATTRIBUTE,o));return n},_o.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},_o.prototype._read_raw_content=function(e,t,i){var n="";if(i&&"{"===i.text[0])n=this.__patterns.handlebars_raw_close.read();else if(t.type===bo.TAG_CLOSE&&"<"===t.opened.text[0]&&"/"!==t.text[0]){var o=t.opened.text.substr(1).toLowerCase();if("script"===o||"style"===o){var s=this._read_comment_or_cdata(e);if(s)return s.type=bo.TEXT,s;n=this._input.readUntil(new RegExp("</"+o+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(o)&&(n=this._input.readUntil(new RegExp("</"+o+"[\\n\\r\\t ]*?>","ig")))}return n?this._create_token(bo.TEXT,n):null},_o.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(bo.TEXT,t)},po.Tokenizer=_o,po.TOKEN=bo;var xo=lo.Options,wo=li.Output,So=po.Tokenizer,Co=po.TOKEN,ko=/\r\n|[\r\n]/,Eo=/\r\n|[\r\n]/g,Ao=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new wo(e,t)};Ao.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},Ao.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},Ao.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},Ao.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},Ao.prototype.print_preserved_newlines=function(e){var t=0;e.type!==Co.TEXT&&e.previous.type!==Co.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var i=0;i<t;i++)this.print_newline(i>0);return 0!==t},Ao.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines)&&(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0)},Ao.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},Ao.prototype.print_newline=function(e){this._output.add_new_line(e)},Ao.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},Ao.prototype.indent=function(){this.indent_level++},Ao.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)};var qo=function(e,t){var i=null,n=null;return t.closed?("script"===e?i="text/javascript":"style"===e&&(i="text/css"),(i=function(e){for(var t=null,i=e.next;i.type!==Co.EOF&&e.closed!==i;){if(i.type===Co.ATTRIBUTE&&"type"===i.text){i.next&&i.next.type===Co.EQUALS&&i.next.next&&i.next.next.type===Co.VALUE&&(t=i.next.next.text);break}i=i.next}return t}(t)||i).search("text/css")>-1?n="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?n="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?n="html":i.search(/test\/null/)>-1&&(n="null"),n):null};function To(e,t){return-1!==t.indexOf(e)}function Lo(e,t,i){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=i||0,this.parser_token=t||null}function Mo(e){this._printer=e,this._current_frame=null}function Oo(e,t,i,n){this._source_text=e||"",t=t||{},this._js_beautify=i,this._css_beautify=n,this._tag_stack=null;var o=new xo(t,"html");this._options=o,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}Mo.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},Mo.prototype.record_tag=function(e){var t=new Lo(this._current_frame,e,this._printer.indent_level);this._current_frame=t},Mo.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},Mo.prototype._get_frame=function(e,t){for(var i=this._current_frame;i&&-1===e.indexOf(i.tag);){if(t&&-1!==t.indexOf(i.tag)){i=null;break}i=i.parent}return i},Mo.prototype.try_pop=function(e,t){var i=this._get_frame([e],t);return this._try_pop_frame(i)},Mo.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},Oo.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&ko.test(e)&&(t=e.match(ko)[0]));var i=(e=e.replace(Eo,"\n")).match(/^[\t ]*/)[0],n={text:"",type:""},o=new Ro,s=new Ao(this._options,i),a=new So(e,this._options).tokenize();this._tag_stack=new Mo(s);for(var r=null,l=a.next();l.type!==Co.EOF;)l.type===Co.TAG_OPEN||l.type===Co.COMMENT?o=r=this._handle_tag_open(s,l,o,n):l.type===Co.ATTRIBUTE||l.type===Co.EQUALS||l.type===Co.VALUE||l.type===Co.TEXT&&!o.tag_complete?r=this._handle_inside_tag(s,l,o,a):l.type===Co.TAG_CLOSE?r=this._handle_tag_close(s,l,o):l.type===Co.TEXT?r=this._handle_text(s,l,o):s.add_raw_token(l),n=r,l=a.next();return s._output.get_code(t)},Oo.prototype._handle_tag_close=function(e,t,i){var n={text:t.text,type:t.type};return e.alignment_size=0,i.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),i.is_unformatted?e.add_raw_token(t):("<"===i.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!i.indent_content||i.is_unformatted||i.is_content_unformatted||(e.indent(),i.indent_content=!1),i.is_inline_element||i.is_unformatted||i.is_content_unformatted||e.set_wrap_point(),n},Oo.prototype._handle_inside_tag=function(e,t,i,n){var o=i.has_wrapped_attrs,s={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),i.is_unformatted)e.add_raw_token(t);else if("{"===i.tag_start_char&&t.type===Co.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===Co.ATTRIBUTE?(e.set_space_before_token(!0),i.attr_count+=1):(t.type===Co.EQUALS||t.type===Co.VALUE&&t.previous.type===Co.EQUALS)&&e.set_space_before_token(!1),t.type===Co.ATTRIBUTE&&"<"===i.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),o=o||0!==t.newlines),this._is_wrap_attributes_force)){var a=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===i.attr_count){var r,l=!0,d=0;do{if((r=n.peek(d)).type===Co.ATTRIBUTE){l=!1;break}d+=1}while(d<4&&r.type!==Co.EOF&&r.type!==Co.TAG_CLOSE);a=!l}a&&(e.print_newline(!1),o=!0)}e.print_token(t),o=o||e.previous_token_wrapped(),i.has_wrapped_attrs=o}return s},Oo.prototype._handle_text=function(e,t,i){var n={text:t.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(e,t,i):i.is_unformatted||i.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),n},Oo.prototype._print_custom_beatifier_text=function(e,t,i){var n=this;if(""!==t.text){var o,s=t.text,a=1,r="",l="";"javascript"===i.custom_beautifier_name&&"function"==typeof this._js_beautify?o=this._js_beautify:"css"===i.custom_beautifier_name&&"function"==typeof this._css_beautify?o=this._css_beautify:"html"===i.custom_beautifier_name&&(o=function(e,t){return new Oo(e,t,n._js_beautify,n._css_beautify).beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-e.indent_level);var d=e.get_full_indent(a);if(s=s.replace(/\n[ \t]*$/,""),"html"!==i.custom_beautifier_name&&"<"===s[0]&&s.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(s);if(!c)return void e.add_raw_token(t);r=d+c[1]+"\n",s=c[4],c[5]&&(l=d+c[5]),s=s.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/))&&(t.whitespace_before=c[0])}if(s)if(o){var u=function(){this.eol="\n"};u.prototype=this._options.raw_options,s=o(d+s,new u)}else{var p=t.whitespace_before;p&&(s=s.replace(new RegExp("\n("+p+")?","g"),"\n")),s=d+s.replace(/\n/g,"\n"+d)}r&&(s=s?r+s+"\n"+l:r+l),e.print_newline(!1),s&&(t.text=s,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},Oo.prototype._handle_tag_open=function(e,t,i,n){var o=this._get_tag_open_token(t);return!i.is_unformatted&&!i.is_content_unformatted||i.is_empty_element||t.type!==Co.TAG_OPEN||0!==t.text.indexOf("</")?(e.traverse_whitespace(t),this._set_tag_position(e,t,o,i,n),o.is_inline_element||e.set_wrap_point(),e.print_token(t)):(e.add_raw_token(t),o.start_tag_token=this._tag_stack.try_pop(o.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(o.alignment_size=t.text.length+1),o.tag_complete||o.is_unformatted||(e.alignment_size=o.alignment_size),o};var Ro=function(e,t){var i;(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t)?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(i=t.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"","{{#>"===t.text&&">"===this.tag_check&&null!==t.next&&(this.tag_check=t.next.text)),this.tag_check=this.tag_check.toLowerCase(),t.type===Co.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};Oo.prototype._get_tag_open_token=function(e){var t=new Ro(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||To(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&To(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&To(t.tag_check,this._options.content_unformatted),t.is_inline_element=To(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},Oo.prototype._set_tag_position=function(e,t,i,n,o){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(i),"script"!==i.tag_name&&"style"!==i.tag_name||i.is_unformatted||i.is_content_unformatted||(i.custom_beautifier_name=qo(i.tag_check,t)))),To(i.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),i.is_empty_element){if("{"===i.tag_start_char&&"else"===i.tag_check)this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1);"!--"===i.tag_name&&o.type===Co.TAG_CLOSE&&n.is_end_tag&&-1===i.text.indexOf("\n")||(i.is_inline_element||i.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,i))}else if(i.is_end_tag){var s=!1;s=(s=i.start_tag_token&&i.start_tag_token.multiline_content)||!i.is_inline_element&&!(n.is_inline_element||n.is_unformatted)&&!(o.type===Co.TAG_CLOSE&&i.start_tag_token===n)&&"TK_CONTENT"!==o.type,(i.is_content_unformatted||i.is_unformatted)&&(s=!1),s&&e.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,"<"===i.tag_start_char&&("html"===i.tag_name?i.indent_content=this._options.indent_inner_html:"head"===i.tag_name?i.indent_content=this._options.indent_head_inner_html:"body"===i.tag_name&&(i.indent_content=this._options.indent_body_inner_html)),i.is_inline_element||i.is_unformatted||"TK_CONTENT"===o.type&&!i.is_content_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,i)},Oo.prototype._calcluate_parent_multiline=function(e,t){!t.parent||!e._output.just_added_newline()||(t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element||(t.parent.multiline_content=!0)};var No=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],Bo=["a","audio","del","ins","map","noscript","video"];Oo.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent){if("body"===e.tag_name)t=t||this._tag_stack.try_pop("head");else if("li"===e.tag_name)t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===e.tag_name||"dt"===e.tag_name)t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===e.parent.tag_name&&-1!==No.indexOf(e.tag_name)){var i=e.parent.parent;i&&-1!==Bo.indexOf(i.tag_name)||(t=t||this._tag_stack.try_pop("p"))}else"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}},ro.Beautifier=Oo;var Io=ro.Beautifier,Do=lo.Options;ao.exports=function(e,t,i,n){return new Io(e,t,i,n).beautify()},ao.exports.defaultOptions=function(){return new Do};var $o=ai.exports,Po=Fn.exports,Ho=ao.exports;function zo(e,t,i,n){return Ho(e,t,i=i||$o,n=n||Po)}zo.defaultOptions=Ho.defaultOptions,si.js=$o,si.css=Po,si.html=zo,function(e){!function(e){var t=si;t.js_beautify=t.js,t.css_beautify=t.css,t.html_beautify=t.html,e.exports=function(e,t,i){var n=function(t,i){return e.js_beautify(t,i)};return n.js=e.js_beautify,n.css=t.css_beautify,n.html=i.html_beautify,n.js_beautify=e.js_beautify,n.css_beautify=t.css_beautify,n.html_beautify=i.html_beautify,n}(t,t,t)}(e)}(oi);var Fo=oi.exports;const jo=new ni;let Uo={};class Wo{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;let n=i.querySelector(".viewhtml");if(!n){const e=`<div class="is-modal viewhtml">\n                <div class="is-modal-content">\n                    <textarea class="tabSupport" style="width:100%;height:calc(100% - 50px);border:none;margin:0;box-sizing:border-box;"></textarea>\n                    <button title="${t.out("Enlarge")}" class="input-html-larger" style="width:35px;height:35px;position:absolute;right:20px;top:0;background:transparent;"><svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#ion-arrow-expand"></use></svg></button>\n                    <div class="is-modal-footer" style="border-top:1px solid ${this.builder.styleSeparatorColor};width:100%;height:50px;position:absolute;left:0;bottom:0;overflow:hidden;text-align:right">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n            \n            <div class="is-modal viewhtmlformatted">\n                <div class="is-modal-content">\n                    <iframe id="ifrHtmlFormatted" style="width:100%;height:100%;border:none;margin:0;box-sizing:border-box;" src="about:blank"></iframe>\n                    <textarea style="position:absolute;display:none;"></textarea>\n                    <button title=" out('Enlarge') + '" class="input-html-larger" style="width:35px;height:35px;position:absolute;right:20px;top:0;background:transparent;"><svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#ion-arrow-expand"></use></svg></button>\n                    <div class="is-modal-footer" style="border-top:1px solid ${this.builder.styleSeparatorColor};display:none">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal viewhtmllarger">\n                <div class="is-modal-content">\n                    <iframe id="ifrHtml" style="width:100%;height:100%;border: none;" src="about:blank"></iframe>\n                </div>\n            </div>\n\n            <div class="is-modal viewhtmlnormal">\n                <div class="is-modal-content">\n                    <button title="${t.out("Enlarge")}" class="input-html-larger" style="width:35px;height:35px;position:absolute;right:20px;top:0;background:transparent;"><svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#ion-arrow-expand"></use></svg></button>\n                    <iframe id="ifrHtml" style="width:100%;height:100%;border: none;" src="about:blank"></iframe>\n                </div>\n            </div>\n            \n            `;jo.appendHtml(i,e),n=i.querySelector(".viewhtml");let o=i.querySelector(".viewhtmlformatted"),s=i.querySelector(".viewhtmlnormal"),a=n.querySelector(".input-html-larger");jo.addEventListener(a,"click",(()=>{let e=n.querySelector("textarea");e.setAttribute("data-source-active","1"),e.setAttribute("data-source-ok",".viewhtml .input-ok"),e.setAttribute("data-source-cancel",".viewhtml .input-cancel"),this.viewHtmlLarger()})),a=o.querySelector(".input-html-larger"),jo.addEventListener(a,"click",(()=>{jo.hasClass(o,"is-modal-full")?jo.removeClass(o,"is-modal-full"):jo.addClass(o,"is-modal-full")})),a=s.querySelector(".input-html-larger"),jo.addEventListener(a,"click",(()=>{jo.hasClass(s,"is-modal-full")?jo.removeClass(s,"is-modal-full"):jo.addClass(s,"is-modal-full")}))}}viewHtmlNormal(){const e=this.builder.util,t=this.builder.builderStuff.querySelector(".viewhtmlnormal");e.showModal(t,!0,null,!1),t.querySelector("iframe").outerHTML='<iframe id="ifrHtml" style="width:100%;height:100%;border: none;" src="about:blank"></iframe>';var i=t.querySelector("iframe").contentWindow.document;i.open(),i.write(this.getIframeHtml()),i.close()}viewHtmlLarger(){const e=this.builder.util,t=this.builder.builderStuff.querySelector(".viewhtmllarger");t.querySelector("iframe").outerHTML='<iframe id="ifrHtml" style="width:100%;height:100%;border: none;" src="about:blank"></iframe>';var i=t.querySelector("iframe").contentWindow.document;i.open(),i.write(this.getIframeHtml()),i.close(),e.showModal(t,!0,null,!1)}view(e,t){const i=this.builder.util,n=this.builder.builderStuff;let o;if(o=this.builder.opts.htmlSyntaxHighlighting?n.querySelector(".viewhtmlformatted"):n.querySelector(".viewhtml"),o.querySelector(".is-modal-footer").innerHTML=`<button title="${i.out("Cancel")}" class="input-cancel classic-secondary">${i.out("Cancel")}</button>\n            <button title="${i.out("Ok")}" class="input-ok classic-primary">${i.out("Ok")}</button>`,i.showModal(o,!0),"cell"===e){const e=i.cellSelected();if(!e)return;let t=o.querySelector("textarea");this.builder.cleanHtmlFormatting=!0,t.value=this.readHtml(e,!0),this.builder.cleanHtmlFormatting=!1}if("row"===e){const e=i.cellSelected();if(!e)return;const t=e.parentNode;let s=o.querySelector("textarea");this.builder.cleanHtmlFormatting=!0,s.value=this.readHtml(t,!0),this.builder.cleanHtmlFormatting=!1,jo.removeClass(t,"row-outline");let a=n.querySelector(".is-column-tool");jo.removeClass(a,"active")}if("full"===e){if(t);else{const e=document.querySelectorAll(this.builder.opts.container);if(e.length>1){const n=i.cellSelected();t=n?n.parentNode.parentNode:e[0]}else t=e[0];if(""!==this.builder.opts.page){const e=document.querySelector(this.builder.opts.page);e&&(t=e)}}let e=o.querySelector("textarea");this.builder.cleanHtmlFormatting=!0,e.value=this.readHtml(t,!0),this.builder.cleanHtmlFormatting=!1}let s=o.querySelector(".input-ok");if(jo.addEventListener(s,"click",(()=>{this.builder.uo.saveForUndo();var n=o.querySelector("textarea").value;if(n=this.fromViewToActual(n),"cell"===e){i.cellSelected().innerHTML=n;let e=document.querySelector(".builder-active");e&&this.builder.applyBehaviorOn(e),this.builder.opts.onChange(),this.builder.opts.onRender()}if("row"===e){i.cellSelected().parentNode.innerHTML=n;let e=document.querySelector(".builder-active");e&&this.builder.applyBehaviorOn(e),this.builder.opts.onChange(),this.builder.opts.onRender()}if("full"===e){t.innerHTML="";var s=document.createRange();s.setStart(t,0),t.appendChild(s.createContextualFragment(n));let e=document.querySelector(".builder-active");e&&this.builder.applyBehaviorOn(e),this.builder.opts.onChange(),this.builder.opts.onRender(),i.clearActiveCell()}i.clearControls(),i.hideModal(o)})),s=o.querySelector(".input-cancel"),jo.addEventListener(s,"click",(()=>{i.hideModal(o)})),this.builder.opts.htmlSyntaxHighlighting){let e=o.querySelector("textarea");e.setAttribute("data-source-active","1"),e.setAttribute("data-source-ok",".viewhtmlformatted .input-ok"),e.setAttribute("data-source-cancel",".viewhtmlformatted .input-cancel"),o.querySelector("iframe").outerHTML='<iframe id="ifrHtmlFormatted" style="width:100%;height:100%;border: none;" src="about:blank"></iframe>';var a=o.querySelector("iframe").contentWindow.document;a.open(),a.write(this.getIframeHtml()),a.close()}n.querySelector(".is-pop.columnmore").style.display="",n.querySelector(".is-pop.rowmore").style.display=""}fromViewToActual(e){for(var t in Uo)e=e.replace(t,Uo[t]);return e}readHtml(e,t,i){if(this.builder.opts.absolutePath){let t=e.querySelectorAll("a");Array.prototype.forEach.call(t,(e=>{let t=e.href;e.setAttribute("href",t)}));let i=e.querySelectorAll("img");Array.prototype.forEach.call(i,(e=>{let t=e.src;e.setAttribute("src",t)}))}if(this.builder.cleanHtmlFormatting&&this.builder.useCssClasses){let t=e.querySelectorAll(`.${this.builder.cssClasses.fontWeight.defaultNormal}`);Array.prototype.forEach.call(t,(e=>{let t=!1;e.closest(`.${this.builder.cssClasses.fontWeight.defaultBold}`)&&(t=!0),t||jo.removeClass(e,this.builder.cssClasses.fontWeight.defaultNormal)})),t=e.querySelectorAll(`.${this.builder.cssClasses.fontStyle.normal}`),Array.prototype.forEach.call(t,(e=>{let t=!1;e.closest(`.${this.builder.cssClasses.fontStyle.italic}`)&&(t=!0),t||jo.removeClass(e,this.builder.cssClasses.fontStyle.normal)})),t=e.querySelectorAll(`.${this.builder.cssClasses.textDecoration.normal}`),Array.prototype.forEach.call(t,(e=>{let t=!1;e.closest("a")||(e.closest(`.${this.builder.cssClasses.textDecoration.underline},.${this.builder.cssClasses.textDecoration.linethrough}`)&&(t=!0),t||jo.removeClass(e,this.builder.cssClasses.textDecoration.normal))})),t=e.querySelectorAll(`.${this.builder.cssClasses.textTransform.normal}`),Array.prototype.forEach.call(t,(e=>{let t=!1;e.closest(`.${this.builder.cssClasses.textTransform.uppercase},.${this.builder.cssClasses.textTransform.lowercase},.${this.builder.cssClasses.textTransform.capitalize}`)&&(t=!0),t||jo.removeClass(e,this.builder.cssClasses.textTransform.normal)})),t=e.querySelectorAll(`.${this.builder.cssClasses.extend.unset}`),Array.prototype.forEach.call(t,(e=>{jo.removeClass(e,this.builder.cssClasses.extend.unset)}))}const n=this.builder.util,o=this.builder.builderStuff;let s=o.querySelector("#tmp_content");s&&o.removeChild(s),s=o.querySelector("#tmp_buildercontent"),s&&o.removeChild(s);let a='<div id="tmp_content" style="position:absolute;top:0;left:0;width:1px;height:1px;overflow:hidden;visibility:hidden;"></div>\n            <div id="tmp_buildercontent" style="position:absolute;top:0;left:0;width:1px;height:1px;overflow:hidden;visibility:hidden;"></div>';jo.appendHtml(o,a);let r=o.querySelector("#tmp_content");r.innerHTML=e.innerHTML;let l=r.querySelectorAll("[data-html]");Array.prototype.forEach.call(l,(e=>{let t=1,i=e.querySelectorAll("[data-subblock]");Array.prototype.forEach.call(i,(i=>{let n=i.innerHTML;e.setAttribute("data-html-"+t,encodeURIComponent(n)),t++}))})),l=r.querySelectorAll("[data-html]"),Array.prototype.forEach.call(l,(e=>{let t=decodeURIComponent(e.getAttribute("data-html"));t=t.replace(/{id}/g,n.makeId()),e.innerHTML=t;let i=e.querySelectorAll("[data-subblock]");var o=1;Array.prototype.forEach.call(i,(t=>{t.innerHTML=void 0===e.getAttribute("data-html-"+o)?"":decodeURIComponent(e.getAttribute("data-html-"+o)),o++}))})),t&&(Uo={},l=r.querySelectorAll("[data-html]"),Array.prototype.forEach.call(l,(e=>{let t=n.makeId();Uo[t]=e.getAttribute("data-html"),e.setAttribute("data-html",t);for(let i=1;i<=20;i++)void 0!==e.getAttribute("data-html-"+i)&&(t=n.makeId(),Uo[t]=e.getAttribute("data-html-"+i),e.getAttribute("data-html-"+i,t));void 0!==e.getAttribute("data-settings")&&(t=n.makeId(),Uo[t]=e.getAttribute("data-settings"),e.getAttribute("data-settings",t))})));let d=r.querySelectorAll(".is-builder");Array.prototype.forEach.call(d,(e=>{e.style.transform="",e.style.WebkitTransform="",e.style.MozTransform="",e.removeAttribute("data-sort"),jo.removeClass(e,"builder-active")}));let c=r.querySelectorAll(".sortable-chosen");jo.removeClasses(c,"sortable-chosen"),c=r.querySelectorAll(".sortable-ghost"),jo.removeClasses(c,"sortable-ghost"),c=r.querySelectorAll(".elm-active"),jo.removeClasses(c,"elm-active"),c=r.querySelectorAll(".elm-inspected"),jo.removeClasses(c,"elm-inspected"),c=r.querySelectorAll(".cell-active"),jo.removeClasses(c,"cell-active"),c=r.querySelectorAll(".row-active"),jo.removeClasses(c,"row-active"),c=r.querySelectorAll(".row-outline"),jo.removeClasses(c,"row-outline"),c=r.querySelectorAll(".is-builder"),jo.removeClasses(c,"is-builder"),c=r.querySelectorAll(".row-outline"),jo.removeClasses(c,"row-outline"),c=r.querySelectorAll("[data-click]"),jo.removeAttributes(c,"data-click"),c=r.querySelectorAll("[contenteditable]"),jo.removeAttributes(c,"contenteditable"),c=r.querySelectorAll("[draggridoutline]"),jo.removeAttributes(c,"draggridoutline"),c=r.querySelectorAll("[between-blocks-left]"),jo.removeAttributes(c,"between-blocks-left"),c=r.querySelectorAll("[between-blocks-center]"),jo.removeAttributes(c,"between-blocks-center"),c=r.querySelectorAll("[hideelementhighlight]"),jo.removeAttributes(c,"hideelementhighlight"),c=r.querySelectorAll("[data-module-active]"),jo.removeAttributes(c,"data-module-active"),c=r.querySelectorAll("[draggable]"),jo.removeAttributes(c,"draggable"),c=r.querySelectorAll("[data-animated]"),jo.removeAttributes(c,"data-animated"),c=r.querySelectorAll("[data-saveforundo]"),jo.removeAttributes(c,"data-saveforundo"),c=r.querySelectorAll("[hidesnippetaddtool]"),jo.removeAttributes(c,"hidesnippetaddtool"),c=r.querySelectorAll("[gray]"),jo.removeAttributes(c,"gray"),c=r.querySelectorAll("[rowoutline]"),jo.removeAttributes(c,"rowoutline"),c=r.querySelectorAll("[grayoutline]"),jo.removeAttributes(c,"grayoutline"),c=r.querySelectorAll("[hideoutline]"),jo.removeAttributes(c,"hideoutline"),c=r.querySelectorAll("[leftrowtool]"),jo.removeAttributes(c,"leftrowtool"),c=r.querySelectorAll("[minimal]"),jo.removeAttributes(c,"minimal"),c=r.querySelectorAll("[clean]"),jo.removeAttributes(c,"clean"),c=r.querySelectorAll("[grideditor]"),jo.removeAttributes(c,"grideditor"),c=r.querySelectorAll("[gridoutline]"),jo.removeAttributes(c,"gridoutline"),jo.removeElements(r.querySelectorAll(".is-row-tool")),jo.removeElements(r.querySelectorAll(".is-rowadd-tool")),jo.removeElements(r.querySelectorAll(".ovl")),jo.removeElements(r.querySelectorAll(".row-add-initial")),c=r.querySelectorAll(".aos-init"),jo.removeClasses(c,"aos-init"),c=r.querySelectorAll(".aos-animate"),jo.removeClasses(c,"aos-animate"),c=r.querySelectorAll(".skrollable"),jo.removeClasses(c,"skrollable"),c=r.querySelectorAll(".skrollable-after"),jo.removeClasses(c,"skrollable-after"),c=r.querySelectorAll(".skrollable-before"),jo.removeClasses(c,"skrollable-before"),c=r.querySelectorAll(".skrollable-between"),jo.removeClasses(c,"skrollable-between");let u=r.querySelectorAll('[class=""]');Array.prototype.forEach.call(u,(e=>{e.removeAttribute("class")}));let p=r.querySelectorAll('[style=""]');Array.prototype.forEach.call(p,(e=>{e.removeAttribute("style")})),jo.removeEmptyStyle(r),c=r.querySelectorAll("[data-keep]"),jo.removeAttributes(c,"data-keep");let h=r.querySelectorAll("a");if(Array.prototype.forEach.call(h,(e=>{"inline-block"===e.style.display&&1===e.parentNode.childElementCount&&"span"===e.parentNode.tagName.toLowerCase()&&(e.parentNode.outerHTML=e.parentNode.innerHTML)})),a="",i){let e=r.querySelectorAll(".is-dummy");jo.removeElements(e),e=r.querySelectorAll(".is-animated"),Array.prototype.forEach.call(e,(e=>{jo.removeClass(e,"animated"),jo.removeClass(e,"pulse"),jo.removeClass(e,"bounceIn"),jo.removeClass(e,"fadeIn"),jo.removeClass(e,"fadeOut"),jo.removeClass(e,"fadeInDown"),jo.removeClass(e,"fadeInLeft"),jo.removeClass(e,"fadeInRight"),jo.removeClass(e,"fadeInUp"),jo.removeClass(e,"flipInX"),jo.removeClass(e,"flipInY"),jo.removeClass(e,"slideInUp"),jo.removeClass(e,"slideInDown"),jo.removeClass(e,"slideInLeft"),jo.removeClass(e,"slideInRight"),jo.removeClass(e,"zoomIn"),e.style.animationDelay=""})),e=r.querySelectorAll(".is-appeared"),Array.prototype.forEach.call(e,(e=>{jo.removeClass(e,"is-appeared")})),e=r.querySelectorAll(".box-active"),Array.prototype.forEach.call(e,(e=>{jo.removeClass(e,"box-active")})),e=r.querySelectorAll(".section-active"),Array.prototype.forEach.call(e,(e=>{jo.removeClass(e,"section-active")})),e=r.querySelectorAll(".is-section-tool"),jo.removeElements(e);var g="",f="",m="";jo.elementChildren(r).forEach((e=>{let t=e;if(jo.hasClass(t,"is-section")){var i="";t.getAttribute("class")&&(i=' class="'+t.getAttribute("class")+'"');var n=t.cloneNode(!0),o=n.outerHTML;a+=o,-1===i.indexOf("is-static")?g+=o+"\n\n":f+=o+"\n\n"}else o=(n=t.cloneNode(!0)).outerHTML,a+=o,m+=o})),""!==f&&(f="\x3c!---FOOTER---\x3e\n"+f),""!==m&&(m="\x3c!---OTHERS---\x3e\n"+m);let t=document.querySelector("[data-contentbox"),i=!1;t&&(i=t.settings.disableStaticSection),i||(a=g+f+m)}else a=r.innerHTML.trim(),a=a.replace(/<font/g,"<span").replace(/<\/font/g,"</span");return s=o.querySelector("#tmp_content"),s&&o.removeChild(s),s=o.querySelector("#tmp_buildercontent"),s&&o.removeChild(s),(0,Fo.html)(a)}getIframeHtml(){return`\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title>Fonts</title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">  \n            <link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.css" rel="stylesheet" type="text/css" />\n            \n            <style>\n                html, body {height:100%}\n                body {margin:0;overflow:hidden;}\n                \n                button {\n                    width: 51px;\n                    height: 45px;\n                    line-height:1;\n                    display: inline-block;\n                    box-sizing:border-box;\n                    margin: 0;\n                    padding: 0;\n                    cursor: pointer;\n                    background-color: ${this.builder.styleModalBackground};\n                    color: ${this.builder.styleModalColor}; \n                    border: 1px solid transparent;\n                    font-family: sans-serif;\n                    letter-spacing: 1px;\n                    font-size:12px;\n                    font-weight:normal;\n                    // text-transform:uppercase;\n                    text-align:center;  \n                    position:relative;\n                    border-radius: 0;\n                    transition: all ease 0.3s;    \n                    user-select: none;\n                    -moz-user-select: none;\n                    -khtml-user-select: none;\n                    -webkit-user-select: none;\n                    -o-user-select: none;              \n                    }\n                button.classic-primary {display:inline-block;width:auto;height:50px;padding-left:30px;padding-right:30px;min-width:135px;\n                    background-color: ${this.builder.styleButtonClassicBackground};\n                    color: ${this.builder.styleButtonClassicColor}; \n                }\n                button.classic-secondary {display:inline-block;width:auto;height:50px;padding-left:30px;padding-right:30px;\n                    background:transparent;\n                }\n                button.classic-primary:hover {\n                    background-color: ${this.builder.styleButtonClassicBackgroundHover}; \n                }\n                button:focus {outline:none;}\n                textarea {font-family: courier, monospace;font-size: 17px;line-height: 2;letter-spacing: 1px;padding:8px 16px;box-sizing:border-box;border:1px solid rgb(199, 199, 199);}\n                textarea:focus {outline:none}  \n                \n                #code {display:none;}\n                .CodeMirror {\n                    font-family: courier, monospace;\n                    font-size: 15px;\n                    line-height:1.9;\n                    width:100%;height:100%;\n                }\n\n                /* adjustment => for colored & dark */\n                .colored .CodeMirror{\n                    background:#f5f5f5;\n                }\n                .colored .CodeMirror-gutters{\n                    background:#ececec;\n                }\n\n                .colored-dark .CodeMirror{\n                    background:#f5f5f5;\n                }\n                .colored-dark .CodeMirror-gutters{\n                    background:#ececec;\n                }\n\n                .dark .CodeMirror{\n                    background:#f5f5f5;\n                }\n                .dark .CodeMirror-gutters{\n                    background:#ececec;\n                }\n\n                /* base16-light => not used */\n                .cm-s-base16-light.CodeMirror{\n                    background:#eaeaea;//#f5f5f5;\n                    color:#202020\n                }\n                .cm-s-base16-light div.CodeMirror-selected{background:#e0e0e0}.cm-s-base16-light .CodeMirror-line::selection,.cm-s-base16-light .CodeMirror-line>span::selection,.cm-s-base16-light .CodeMirror-line>span>span::selection{background:#e0e0e0}.cm-s-base16-light .CodeMirror-line::-moz-selection,.cm-s-base16-light .CodeMirror-line>span::-moz-selection,.cm-s-base16-light .CodeMirror-line>span>span::-moz-selection{background:#e0e0e0}\n                .cm-s-base16-light .CodeMirror-gutters{\n                    background:#dcdcdc; //#f5f5f5;\n                    border-right:0\n                }\n                .cm-s-base16-light .CodeMirror-guttermarker{color:#ac4142}.cm-s-base16-light .CodeMirror-guttermarker-subtle{color:#b0b0b0}\n                .cm-s-base16-light .CodeMirror-linenumber{\n                    color:#989898;//#b0b0b0\n                }\n                .cm-s-base16-light .CodeMirror-cursor{border-left:1px solid #505050}.cm-s-base16-light span.cm-comment{color:#8f5536}.cm-s-base16-light span.cm-atom{color:#aa759f}.cm-s-base16-light span.cm-number{color:#aa759f}.cm-s-base16-light span.cm-attribute,.cm-s-base16-light span.cm-property{color:#90a959}.cm-s-base16-light span.cm-keyword{color:#ac4142}\n                .cm-s-base16-light span.cm-string{color:#c37f20}\n                .cm-s-base16-light span.cm-variable{color:#90a959}.cm-s-base16-light span.cm-variable-2{color:#6a9fb5}.cm-s-base16-light span.cm-def{color:#d28445}.cm-s-base16-light span.cm-bracket{color:#202020}.cm-s-base16-light span.cm-tag{color:#ac4142}.cm-s-base16-light span.cm-link{color:#aa759f}.cm-s-base16-light span.cm-error{background:#ac4142;color:#505050}.cm-s-base16-light .CodeMirror-activeline-background{background:#dddcdc}.cm-s-base16-light .CodeMirror-matchingbracket{color:#f5f5f5!important;background-color:#6a9fb5!important}\n\n                /* Port of TextMate's Blackboard theme => not used */\n\n                .cm-s-blackboard.CodeMirror { background: #262626; color: #F8F8F8; } \n                .cm-s-blackboard div.CodeMirror-selected { background: #253B76; }\n                .cm-s-blackboard .CodeMirror-line::selection, .cm-s-blackboard .CodeMirror-line > span::selection, .cm-s-blackboard .CodeMirror-line > span > span::selection { background: rgba(37, 59, 118, .99); }\n                .cm-s-blackboard .CodeMirror-line::-moz-selection, .cm-s-blackboard .CodeMirror-line > span::-moz-selection, .cm-s-blackboard .CodeMirror-line > span > span::-moz-selection { background: rgba(37, 59, 118, .99); }\n                .cm-s-blackboard .CodeMirror-gutters { background: #323232; border-right: 0; }\n                .cm-s-blackboard .CodeMirror-guttermarker { color: #FBDE2D; }\n                .cm-s-blackboard .CodeMirror-guttermarker-subtle { color: #888; }\n                .cm-s-blackboard .CodeMirror-linenumber { color: #888; }\n                .cm-s-blackboard .CodeMirror-cursor { border-left: 1px solid #A7A7A7; }\n\n                .cm-s-blackboard .cm-keyword { color: #FBDE2D; }\n                .cm-s-blackboard .cm-atom { color: #D8FA3C; }\n                .cm-s-blackboard .cm-number { color: #D8FA3C; }\n                .cm-s-blackboard .cm-def { color: #8DA6CE; }\n                .cm-s-blackboard .cm-variable { color: #FF6400; }\n                .cm-s-blackboard .cm-operator { color: #FBDE2D; }\n                .cm-s-blackboard .cm-comment { color: #AEAEAE; }\n                .cm-s-blackboard .cm-string { color: #61CE3C; }\n                .cm-s-blackboard .cm-string-2 { color: #61CE3C; }\n                .cm-s-blackboard .cm-meta { color: #D8FA3C; }\n                .cm-s-blackboard .cm-builtin { color: #8DA6CE; }\n                .cm-s-blackboard .cm-tag { color: #8DA6CE; }\n                .cm-s-blackboard .cm-attribute { color: #8DA6CE; }\n                .cm-s-blackboard .cm-header { color: #FF6400; }\n                .cm-s-blackboard .cm-hr { color: #AEAEAE; }\n                .cm-s-blackboard .cm-link { color: #8DA6CE; }\n                .cm-s-blackboard .cm-error { background: #9D1E15; color: #F8F8F8; }\n\n                .cm-s-blackboard .CodeMirror-activeline-background { background: #3C3636; }\n                .cm-s-blackboard .CodeMirror-matchingbracket { outline:1px solid grey;color:white !important; }\n\n                        \n                /* Scrollbar for modal */\n\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgba(255, 255, 255, 0.3);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n            </style>\n        </head>\n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n        <div style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;border-bottom:50px solid transparent;box-sizing: border-box;">\n            <textarea id="code"></textarea> \n        </div>\n        <div style="width:100%;height:50px;position:absolute;left:0;border-top:1px solid ${this.builder.styleSeparatorColor};bottom:0;overflow:hidden;text-align:right">\n            <button title="${this.builder.out("Cancel")}" class="input-cancel classic-secondary">${this.builder.out("Cancel")}</button>\n            <button title="${this.builder.out("Ok")}" class="input-ok classic-primary">${this.builder.out("Ok")}</button>\n        </div>\n        \n        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.js" type="text/javascript"><\/script>\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/mode/xml/xml.js" type="text/javascript"><\/script>\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/mode/javascript/javascript.js" type="text/javascript"><\/script>\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/mode/css/css.js" type="text/javascript"><\/script>\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/mode/htmlmixed/htmlmixed.js" type="text/javascript"><\/script>\n        <script type="text/javascript">\n        \n            var source = parent.document.querySelector('textarea[data-source-active]');\n            var selectorOk = source.getAttribute('data-source-ok');\n            var selectorCancel = source.getAttribute('data-source-cancel');\n        \n            var html = source.value;\n            var myTextArea = document.querySelector('#code');\n            myTextArea.value = html;\n\n            var htmlEditor = CodeMirror.fromTextArea(myTextArea, {\n                value: html,\n                mode: "htmlmixed",\n                lineWrapping: true,\n                lineNumbers: true,\n                tabMode: "indent",\n            });\n\n            ${this.builder.styleDark?'htmlEditor.setOption("theme", "blackboard");':""}\n            /*\n            ${this.builder.styleDark?'htmlEditor.setOption("theme", "base16-light");':""}\n            \n            ${this.builder.styleColored?'htmlEditor.setOption("theme", "blackboard");':""}\n            */\n\n            htmlEditor.on("change", function (cm, change) {\n                myTextArea.value = cm.getValue();\n            });\n        \n            let elm = document.querySelector('.input-ok');\n            elm.addEventListener('click', function(e){\n        \n                myTextArea.value = htmlEditor.getValue();\n        \n                var html = myTextArea.value;\n                source.value = html;\n\n                source.removeAttribute('data-source-active');\n                source.removeAttribute('data-source-ok');\n                source.removeAttribute('data-source-cancel');\n        \n                var modal = parent.document.querySelector('.viewhtmllarger');\n                if(modal.className.indexOf('active')!==-1) {\n                    modal.className = modal.className.replace('active', '');\n                } else {\n                    modal = parent.document.querySelector('.viewhtmlformatted');\n                    modal.className = modal.className.replace('active', '');\n                }\n        \n                modal = parent.document.querySelector('.viewhtmlnormal');\n                if(modal.className.indexOf('active')!==-1) {\n                    modal.className = modal.className.replace('active', '');\n                }\n\n                parent.document.querySelector(selectorOk).click();\n            });\n        \n            elm = document.querySelector('.input-cancel');\n            elm.addEventListener('click', function(e){\n                source.removeAttribute('data-source-active');\n                source.removeAttribute('data-source-ok');\n                source.removeAttribute('data-source-cancel');\n        \n                var modal = parent.document.querySelector('.viewhtmllarger');\n                if(modal.className.indexOf('active')!==-1) {\n                    modal.className = modal.className.replace('active', '');\n                } else {\n                    modal = parent.document.querySelector('.viewhtmlformatted');\n                    modal.className = modal.className.replace('active', '');\n                }\n        \n                modal = parent.document.querySelector('.viewhtmlnormal');\n                if(modal.className.indexOf('active')!==-1) {\n                    modal.className = modal.className.replace('active', '');\n                }\n\n                parent.document.querySelector(selectorCancel).click();\n            });\n        \n        <\/script>\n        \n        </body>\n        </html>\n        \n        `}}const Go=new ni;class Vo{constructor(e){this.builder=e,this.undoList=[]}readStyles(){if(this.builder.opts.undoContainerOnly)return"";let e,t,i="",n=document.getElementsByTagName("link");for(e=0;e<n.length;e++)t=n[e].href.toLowerCase(),-1!==t.indexOf("basetype-")&&(i+=n[e].outerHTML);for(n=document.getElementsByTagName("link"),e=0;e<n.length;e++)t=n[e].href.toLowerCase(),-1!==t.indexOf("basetype-")||-1!==t.indexOf("type-")&&(i+=n[e].outerHTML);return i}writeStyles(e){if(this.builder.opts.undoContainerOnly)return;let t,i,n=document.getElementsByTagName("link");for(t=0;t<n.length;t++)i=n[t].href.toLowerCase(),(-1!==i.indexOf("basetype-")||-1!==i.indexOf("type-"))&&n[t].parentNode.removeChild(n[t]);let o=document.getElementsByTagName("head")[0];Go.appendHtml(o,e)}readHtml(){const e=new Wo(this.builder);if(""===this.builder.opts.page||this.builder.opts.undoContainerOnly){const t=document.querySelectorAll(this.builder.opts.container);let i="";return Array.prototype.forEach.call(t,(t=>{i+=e.readHtml(t,!1)+"####|####"})),i=i.substr(0,i.length-9),i}{let t=document.querySelector(this.builder.opts.page);return e.readHtml(t,!1)}}writeHtml(e){if(""===this.builder.opts.page||this.builder.opts.undoContainerOnly){const t=document.querySelectorAll(this.builder.opts.container);let i=0;Array.prototype.forEach.call(t,(t=>{var n=document.createRange();t.innerHTML="",t.appendChild(n.createContextualFragment(e.split("####|####")[i])),i++}))}else{let i=document.querySelector(this.builder.opts.page);var t=document.createRange();i.innerHTML="",i.appendChild(t.createContextualFragment(e))}}saveForUndo(e){if(this.builder.undoRedoStyles){if(this.undoList[120]){let t=this.undoList[120][0].split("###$###")[1];if(this.builder.saveForUndoCheck&&t===this.readHtml())return void(this.builder.saveForUndoCheck=!0===e)}}else if(this.undoList[120]){let t=this.undoList[120][0];if(this.builder.saveForUndoCheck&&t===this.readHtml())return void(this.builder.saveForUndoCheck=!0===e)}if(this.builder.saveForUndoCheck=!0===e,this.undoList[140]=this.undoList[139],this.undoList[139]=this.undoList[138],this.undoList[138]=this.undoList[137],this.undoList[137]=this.undoList[136],this.undoList[136]=this.undoList[135],this.undoList[135]=this.undoList[134],this.undoList[134]=this.undoList[133],this.undoList[133]=this.undoList[132],this.undoList[132]=this.undoList[131],this.undoList[131]=this.undoList[130],this.undoList[130]=this.undoList[129],this.undoList[129]=this.undoList[128],this.undoList[128]=this.undoList[127],this.undoList[127]=this.undoList[126],this.undoList[126]=this.undoList[125],this.undoList[125]=this.undoList[124],this.undoList[124]=this.undoList[123],this.undoList[123]=this.undoList[122],this.undoList[122]=this.undoList[121],this.undoList[121]=this.undoList[120],this.builder.undoRedoStyles){let e=" "+this.readStyles()+"###$###"+this.readHtml();this.undoList[120]=[e,null]}else this.undoList[120]=[this.readHtml(),null]}doUndo(){if(!this.undoList[120])return;if(!0===this.builder.undoRedoInProcess)return;if(this.builder.undoRedoInProcess=!0,this.undoList[99]=this.undoList[100],this.undoList[100]=this.undoList[101],this.undoList[101]=this.undoList[102],this.undoList[102]=this.undoList[103],this.undoList[103]=this.undoList[104],this.undoList[104]=this.undoList[105],this.undoList[105]=this.undoList[106],this.undoList[106]=this.undoList[107],this.undoList[107]=this.undoList[108],this.undoList[108]=this.undoList[109],this.undoList[109]=this.undoList[110],this.undoList[110]=this.undoList[111],this.undoList[111]=this.undoList[112],this.undoList[112]=this.undoList[113],this.undoList[113]=this.undoList[114],this.undoList[114]=this.undoList[115],this.undoList[115]=this.undoList[116],this.undoList[116]=this.undoList[117],this.undoList[117]=this.undoList[118],this.undoList[118]=this.undoList[119],this.builder.undoRedoStyles){let e=this.readStyles(),t=this.readHtml(),i=" "+e+"###$###"+t;this.undoList[119]=[i,null],i=this.undoList[120][0],e=i.split("###$###")[0].trim(),t=i.split("###$###")[1],this.writeStyles(e),this.writeHtml(t)}else{this.undoList[119]=[this.readHtml(),null];let e=this.undoList[120][0];this.writeHtml(e)}this.builder.applyBehavior(),this.builder.opts.onChange(),this.undoList[120]=this.undoList[121],this.undoList[121]=this.undoList[122],this.undoList[122]=this.undoList[123],this.undoList[123]=this.undoList[124],this.undoList[124]=this.undoList[125],this.undoList[125]=this.undoList[126],this.undoList[126]=this.undoList[127],this.undoList[127]=this.undoList[128],this.undoList[128]=this.undoList[129],this.undoList[129]=this.undoList[130],this.undoList[130]=this.undoList[131],this.undoList[131]=this.undoList[132],this.undoList[132]=this.undoList[133],this.undoList[133]=this.undoList[134],this.undoList[134]=this.undoList[135],this.undoList[135]=this.undoList[136],this.undoList[136]=this.undoList[137],this.undoList[137]=this.undoList[138],this.undoList[138]=this.undoList[139],this.undoList[139]=this.undoList[140],this.undoList[140]=this.undoList[141];const e=new ii(this.builder);e.clearActiveCell(),e.clearAfterUndoRedo();let t=document.querySelector("[data-saveforundo]");if(t){let e=document.querySelector(".is-side.elementstyles");Go.addClass(e,"active"),setTimeout((()=>{t.click()}),700)}else{let e=document.querySelector(".is-side.elementstyles");Go.removeClass(e,"active")}this.builder.opts.onUndo&&this.builder.opts.onUndo(),this.builder.undoRedoInProcess=!1}doRedo(){if(!this.undoList[119])return;if(!0===this.builder.undoRedoInProcess)return;if(this.builder.undoRedoInProcess=!0,this.undoList[141]=this.undoList[140],this.undoList[140]=this.undoList[139],this.undoList[139]=this.undoList[138],this.undoList[138]=this.undoList[137],this.undoList[137]=this.undoList[136],this.undoList[136]=this.undoList[135],this.undoList[135]=this.undoList[134],this.undoList[134]=this.undoList[133],this.undoList[133]=this.undoList[132],this.undoList[132]=this.undoList[131],this.undoList[131]=this.undoList[130],this.undoList[130]=this.undoList[129],this.undoList[129]=this.undoList[128],this.undoList[128]=this.undoList[127],this.undoList[127]=this.undoList[126],this.undoList[126]=this.undoList[125],this.undoList[125]=this.undoList[124],this.undoList[124]=this.undoList[123],this.undoList[123]=this.undoList[122],this.undoList[122]=this.undoList[121],this.undoList[121]=this.undoList[120],this.builder.undoRedoStyles){let e=this.readStyles(),t=this.readHtml(),i=" "+e+"###$###"+t;this.undoList[120]=[i,null],i=this.undoList[119][0],e=i.split("###$###")[0].trim(),t=i.split("###$###")[1],this.writeStyles(e),this.writeHtml(t)}else{this.undoList[120]=[this.readHtml(),null];let e=this.undoList[119][0];this.writeHtml(e)}this.builder.applyBehavior(),this.builder.opts.onChange(),this.undoList[119]=this.undoList[118],this.undoList[118]=this.undoList[117],this.undoList[117]=this.undoList[116],this.undoList[116]=this.undoList[115],this.undoList[115]=this.undoList[114],this.undoList[114]=this.undoList[113],this.undoList[113]=this.undoList[112],this.undoList[112]=this.undoList[111],this.undoList[111]=this.undoList[110],this.undoList[110]=this.undoList[109],this.undoList[109]=this.undoList[108],this.undoList[108]=this.undoList[107],this.undoList[107]=this.undoList[106],this.undoList[106]=this.undoList[105],this.undoList[105]=this.undoList[104],this.undoList[104]=this.undoList[103],this.undoList[103]=this.undoList[102],this.undoList[102]=this.undoList[101],this.undoList[101]=this.undoList[100],this.undoList[100]=this.undoList[99],this.undoList[99]=null;const e=new ii(this.builder);e.clearActiveCell(),e.clearAfterUndoRedo();let t=document.querySelector("[data-saveforundo]");if(t){let e=document.querySelector(".is-side.elementstyles");Go.addClass(e,"active"),setTimeout((()=>{t.click()}),700)}else{let e=document.querySelector(".is-side.elementstyles");Go.removeClass(e,"active")}this.builder.opts.onRedo&&this.builder.opts.onRedo(),this.builder.undoRedoInProcess=!1}}const Yo=new ii,Xo=new ni,Ko=()=>{const e=Yo.builderStuff();Xo.appendHtml(e,'<svg width="0" height="0" style="position:absolute;display:none;">\n        <defs>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-left"><path d="M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-right"><path d="M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-plus-outline"><path d="M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7S150.9 65.3 256 65.3 446.7 150.9 446.7 256 361.1 446.7 256 446.7z"></path><path d="M264.1 128h-16.8v119.9H128v16.8h119.3V384h16.8V264.7H384v-16.8H264.1z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-image"><path d="M368 224c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48z"></path><path d="M452 64H60c-15.6 0-28 12.7-28 28.3v327.4c0 15.6 12.4 28.3 28 28.3h392c15.6 0 28-12.7 28-28.3V92.3c0-15.6-12.4-28.3-28-28.3zM348.9 261.7c-3-3.5-7.6-6.2-12.8-6.2-5.1 0-8.7 2.4-12.8 5.7L304.6 277c-3.9 2.8-7 4.7-11.5 4.7-4.3 0-8.2-1.6-11-4.1-1-.9-2.8-2.6-4.3-4.1L224 215.3c-4-4.6-10-7.5-16.7-7.5-6.7 0-12.9 3.3-16.8 7.8L64 368.2V107.7c1-6.8 6.3-11.7 13.1-11.7h357.7c6.9 0 12.5 5.1 12.9 12l.3 260.4-99.1-106.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-photos-outline"><path d="M96 128v320h384V128H96zm368 304H112V144h352v288z"></path><path d="M32 64v320h48v-16H48V80h352v32h16V64z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-settings-strong"><path d="M32 376h283.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32h-91.35c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32M32 240h91.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32H196.65c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32M32 104h283.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32h-91.35c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-settings"><path d="M352 104c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM352 376c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM160 240c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM207.32 248H480v16H207.32c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM112 256c0 2.727.24 5.396.68 8H32v-16h80.68a47.955 47.955 0 0 0-.68 8zM399.32 384H480v16h-80.68c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM304 392c0 2.727.24 5.396.68 8H32v-16h272.68a47.955 47.955 0 0 0-.68 8zM399.32 112H480v16h-80.68c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM304.68 112c-.439 2.604-.68 5.273-.68 8s.24 5.396.68 8H32v-16h272.68z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-options"><path d="M32 384h272v32H32zM400 384h80v32h-80zM384 447.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path><g><path d="M32 240h80v32H32zM208 240h272v32H208zM192 303.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path></g><g><path d="M32 96h272v32H32zM400 96h80v32h-80zM384 159.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-list-number"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-1043.45,1024 C-1039.25,946.283 -1023.18,878.648 -995.249,821.096 C-967.313,763.544 -912.806,711.242 -831.728,664.192 L-710.742,594.247 C-656.55,562.74 -618.532,535.854 -596.687,513.589 C-562.24,478.722 -545.016,438.813 -545.016,393.863 C-545.016,341.352 -560.769,299.658 -592.276,268.781 C-623.783,237.904 -665.792,222.466 -718.304,222.466 C-796.02,222.466 -849.792,251.873 -879.619,310.685 C-895.582,342.192 -904.404,385.882 -906.084,441.754 L-1021.4,441.754 C-1020.14,363.197 -1005.65,299.133 -977.92,249.562 C-928.769,162.183 -842.02,118.494 -717.673,118.494 C-614.331,118.494 -538.82,146.43 -491.139,202.302 C-443.459,258.174 -419.619,320.347 -419.619,388.822 C-419.619,461.078 -445.034,522.831 -495.865,574.082 C-525.272,603.909 -577.993,640.037 -654.03,682.466 L-740.358,730.356 C-781.527,753.041 -813.874,774.676 -837.399,795.26 C-879.408,831.808 -905.874,872.347 -916.797,916.877 L-424.03,916.877 L-424.03,1024 L-1043.45,1024 Z "  /><path d="M-922.391,-764.384 L-922.391,-851.343 C-840.474,-859.324 -783.341,-872.662 -750.994,-891.356 C-718.647,-910.05 -694.492,-954.265 -678.529,-1024 L-589.049,-1024 L-589.049,-125.425 L-710.035,-125.425 L-710.035,-764.384 L-922.391,-764.384 Z "  /><path d="M-198.618,-510.942 L-198.618,-667.156 L1004.57,-667.156 L1004.57,-510.942 L-198.618,-510.942 Z "  /><path d="M-198.618,78.1071 L-198.618,-78.1071 L1004.57,-78.1071 L1004.57,78.1071 L-198.618,78.1071 Z "  /><path d="M-179.185,649.354 L-179.185,493.14 L1024,493.14 L1024,649.354 L-179.185,649.354 Z "  /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-list-bullet"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-379.801,-514.33 L-379.801,-670.545 L914.662,-670.545 L914.662,-514.33 L-379.801,-514.33 Z "  /><path d="M-379.801,78.1071 L-379.801,-78.1071 L914.662,-78.1071 L914.662,78.1071 L-379.801,78.1071 Z "  /><path d="M-379.801,670.545 L-379.801,514.33 L914.662,514.33 L914.662,670.545 L-379.801,670.545 Z "  /><path d="M-929.642,-469.441 L-929.642,-715.434 L-669.092,-715.434 L-669.092,-469.441 L-929.642,-469.441 Z "  /><path d="M-929.642,127.109 L-929.642,-118.885 L-669.092,-118.885 L-669.092,127.109 L-929.642,127.109 Z "  /><path d="M-929.642,715.434 L-929.642,469.441 L-669.092,469.441 L-669.092,715.434 L-929.642,715.434 Z "  /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-clean">\n                <g transform="matrix(1,0,0,1,1024.0,1024.0)">\n                    <path d="M75.0013,893.849 L-1030.73,900.993 L-32.1518,-880.838 L1009.54,-880.838 L75.0013,893.849 Z " fill="currentColor" />\n                    <path d="M-30.8571,780.685 L-845.2,787.828 L-508.893,193.749 L305.26,194.963 L-30.8571,780.685 Z " fill="#ffffff" fill-opacity="1.00" />\n                </g>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-location"><path d="M256 64c-65.9 0-119.3 53.7-119.3 120 0 114.6 119.3 264 119.3 264s119.3-149.4 119.3-264c0-66.3-53.4-120-119.3-120zm0 178.2c-31.2 0-56.4-25.4-56.4-56.7 0-31.3 25.3-56.8 56.4-56.8 31.2 0 56.4 25.4 56.4 56.8 0 31.3-25.2 56.7-56.4 56.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-film-outline"><path d="M0 360h400v-336h-400v336zM72 40v48h-56v-48h56zM72 104v48h-56v-48h56zM72 168v48h-56v-48h56zM72 232v48h-56v-48h56zM72 296v48h-56v-48h56zM312 40v144h-224v-144h224zM312 200v144h-224v-144h224zM384 40v48h-56v-48h56zM384 104v48h-56v-48h56zM384 168v48h-56v-48\n                h56zM384 232v48h-56v-48h56zM384 296v48h-56v-48h56z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-social-youtube-outline"><path d="M265 96c65.3 0 118.7 1.1 168.1 3.3h1.4c23.1 0 42 22 42 49.1v1.1l.1 1.1c2.3 34 3.4 69.3 3.4 104.9.1 35.6-1.1 70.9-3.4 104.9l-.1 1.1v1.1c0 13.8-4.7 26.6-13.4 36.1-7.8 8.6-18 13.4-28.6 13.4h-1.6c-52.9 2.5-108.8 3.8-166.4 3.8h-10.6.1-10.9c-57.8 0-113.7-1.3-166.2-3.7h-1.6c-10.6 0-20.7-4.8-28.5-13.4-8.6-9.5-13.4-22.3-13.4-36.1v-1.1l-.1-1.1c-2.4-34.1-3.5-69.4-3.3-104.7v-.2c-.1-35.3 1-70.5 3.3-104.6l.1-1.1v-1.1c0-27.2 18.8-49.3 41.9-49.3h1.4c49.5-2.3 102.9-3.3 168.2-3.3H265m0-32.2h-18c-57.6 0-114.2.8-169.6 3.3-40.8 0-73.9 36.3-73.9 81.3C1 184.4-.1 220 0 255.7c-.1 35.7.9 71.3 3.4 107 0 45 33.1 81.6 73.9 81.6 54.8 2.6 110.7 3.8 167.8 3.8h21.6c57.1 0 113-1.2 167.9-3.8 40.9 0 74-36.6 74-81.6 2.4-35.7 3.5-71.4 3.4-107.1.1-35.7-1-71.3-3.4-107.1 0-45-33.1-81.1-74-81.1C379.2 64.8 322.7 64 265 64z"></path><path d="M207 353.8V157.4l145 98.2-145 98.2z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-play"><path d="M128 96v320l256-160L128 96z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-full"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-770.219,-115.563 L-770.219,-271.777 L770.219,-271.777 L770.219,-115.563 L-770.219,-115.563 Z " /><path d="M-770.219,303.503 L-770.219,147.288 L770.219,147.288 L770.219,303.503 L-770.219,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-center"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-552.286,-107.697 L-552.286,-263.911 L552.286,-263.911 L552.286,-107.697 L-552.286,-107.697 Z " /><path d="M-467.355,319.234 L-467.355,163.02 L466.34,163.02 L466.34,319.234 L-467.355,319.234 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-left"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-770.219,-115.563 L-770.219,-271.777 L482.839,-271.777 L482.839,-115.563 L-770.219,-115.563 Z " /><path d="M-770.219,303.503 L-770.219,147.288 L122.787,147.288 L122.787,303.503 L-770.219,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-right"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-483.346,-118.081 L-483.346,-274.295 L769.712,-274.295 L769.712,-118.081 L-483.346,-118.081 Z " /><path d="M-123.871,303.503 L-123.871,147.288 L769.136,147.288 L769.136,303.503 L-123.871,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-indent"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-829.04,-514.33 L-829.04,-670.545 L808.959,-670.545 L808.959,-514.33 L-829.04,-514.33 Z " /><path d="M-829.04,670.545 L-829.04,514.33 L808.959,514.33 L808.959,670.545 L-829.04,670.545 Z " /><path d="M-254.279,-110.244 L-254.279,-266.458 L808.959,-266.458 L808.959,-110.244 L-254.279,-110.244 Z " /><path d="M-254.279,266.458 L-254.279,110.244 L808.959,110.244 L808.959,266.458 L-254.279,266.458 Z " /><path d="M-829.04,-195.117 L-490.958,-1.03508e-14 L-829.04,195.117 L-829.04,-195.117 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-outdent"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-829.04,-514.33 L-829.04,-670.545 L808.959,-670.545 L808.959,-514.33 L-829.04,-514.33 Z " /><path d="M-829.04,670.545 L-829.04,514.33 L808.959,514.33 L808.959,670.545 L-829.04,670.545 Z " /><path d="M-829.04,-110.244 L-829.04,-266.458 L234.198,-266.458 L234.198,-110.244 L-829.04,-110.244 Z " /><path d="M-829.04,266.458 L-829.04,110.244 L234.198,110.244 L234.198,266.458 L-829.04,266.458 Z " /><path d="M808.959,-195.117 L470.877,-1.03508e-14 L808.959,195.117 L808.959,-195.117 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-table"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-660.783,660.783 L660.783,660.783 L660.783,-660.783 L-660.783,-660.783 L-660.783,660.783 Z " fill="none" stroke-width="75.82" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /><path d="M-37.9645,698.933 L37.9645,698.933 L37.9645,-698.569 L-37.9645,-698.569 L-37.9645,698.933 Z " fill="currentColor" fill-opacity="1.00" stroke-width="0.25" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /><path d="M-698.933,-37.7825 L-698.933,38.1465 L698.569,38.1465 L698.569,-37.7825 L-698.933,-37.7825 Z " fill="currentColor" fill-opacity="1.00" stroke-width="0.25" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-happy"><path d="M256 48C140.563 48 48 141.6 48 256s92.563 208 208 208 208-93.6 208-208S370.401 48 256 48zm0 374.4c-91.518 0-166.404-74.883-166.404-166.4 0-91.518 74.887-166.4 166.404-166.4S422.404 164.482 422.404 256 347.518 422.4 256 422.4zm72.8-187.2c17.683 0 31.201-13.518 31.201-31.2s-13.519-31.2-31.201-31.2c-17.682 0-31.2 13.518-31.2 31.2s13.518 31.2 31.2 31.2zm-145.6 0c17.682 0 31.2-13.518 31.2-31.2s-13.519-31.2-31.2-31.2c-17.683 0-31.201 13.518-31.201 31.2s13.519 31.2 31.201 31.2zM256 370.4c48.883 0 89.436-30.164 106.081-72.801H149.919C166.564 340.236 207.117 370.4 256 370.4z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-create"><path d="M64 368v80h80l235.727-235.729-79.999-79.998L64 368zm377.602-217.602c8.531-8.531 8.531-21.334 0-29.865l-50.135-50.135c-8.531-8.531-21.334-8.531-29.865 0l-39.468 39.469 79.999 79.998 39.469-39.467z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-minus-empty"><path d="M384 265H128v-17h256v17z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-eye"><path d="M256 128c-81.9 0-145.7 48.8-224 128 67.4 67.7 124 128 224 128 99.9 0 173.4-76.4 224-126.6C428.2 198.6 354.8 128 256 128zm0 219.3c-49.4 0-89.6-41-89.6-91.3 0-50.4 40.2-91.3 89.6-91.3s89.6 41 89.6 91.3c0 50.4-40.2 91.3-89.6 91.3z"></path><path d="M256 224c0-7.9 2.9-15.1 7.6-20.7-2.5-.4-5-.6-7.6-.6-28.8 0-52.3 23.9-52.3 53.3s23.5 53.3 52.3 53.3 52.3-23.9 52.3-53.3c0-2.3-.2-4.6-.4-6.9-5.5 4.3-12.3 6.9-19.8 6.9-17.8 0-32.1-14.3-32.1-32z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-reply"><path d="M448 400s-36.8-208-224-208v-80L64 256l160 134.4v-92.3c101.6 0 171 8.9 224 101.9z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-redo"><path d="M64 400h10.3l19.2-31.2c20.5-32.7 44.9-62.8 75.8-76.6 24.4-10.9 46.7-18.9 86.7-20V352l192-128L256 96v80.3c-63 2.8-108.1 20.7-143.3 56.2C60.4 285.2 64 351.5 64 368.2c.1 8.9 0 21.7 0 31.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-wrench"><path d="M461.9 114.9l-56.5 56.7-55.1-10-9.9-55.1 56.5-56.7c-12.7-12.7-30.8-18.5-44.2-17.8-13.5.7-42.3 8.3-64.6 32-21.6 22.8-44.3 65.3-24.2 112.5 2.4 5.7 5.1 13.2-2.9 21.2-8.1 8-215 202.8-215 202.8-19.4 16.7-18 47.6-.1 65.6 18.2 17.9 48.9 19 65.6-.3 0 0 193.2-205.8 202.7-215.1 8.5-8.3 16.1-5.5 21.2-2.9 35.6 18.4 86.3 2.4 112.6-23.9 26.3-26.3 31.1-51.7 31.9-64.7.8-12.9-3.7-30-18-44.3zM91.3 443.2c-6.3 6.2-16.5 6.2-22.7 0-6.2-6.3-6.2-16.5 0-22.7 6.3-6.2 16.5-6.2 22.7 0 6.2 6.3 6.2 16.5 0 22.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-more"><path d="M113.7 304C86.2 304 64 282.6 64 256c0-26.5 22.2-48 49.7-48 27.6 0 49.8 21.5 49.8 48 0 26.6-22.2 48-49.8 48zM256 304c-27.5 0-49.8-21.4-49.8-48 0-26.5 22.3-48 49.8-48 27.5 0 49.7 21.5 49.7 48 0 26.6-22.2 48-49.7 48zM398.2 304c-27.5 0-49.8-21.4-49.8-48 0-26.5 22.2-48 49.8-48 27.5 0 49.8 21.5 49.8 48 0 26.6-22.2 48-49.8 48z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-code-working"><circle cx="184.166" cy="256.166" r="24"></circle><circle cx="256.166" cy="256.166" r="24"></circle><circle cx="328.166" cy="256.166" r="24"></circle><g><path d="M168 392a23.929 23.929 0 0 1-16.971-7.029l-112-112c-9.373-9.373-9.373-24.569 0-33.941l112-112c9.373-9.372 24.568-9.372 33.941 0 9.371 9.372 9.371 24.568 0 33.941L89.941 256l95.029 95.029c9.371 9.372 9.371 24.568 0 33.941A23.925 23.925 0 0 1 168 392zM344 392a23.929 23.929 0 0 0 16.971-7.029l112-112c9.373-9.373 9.373-24.569 0-33.941l-112-112c-9.373-9.372-24.568-9.372-33.941 0-9.371 9.372-9.371 24.568 0 33.941L422.059 256l-95.029 95.029c-9.371 9.372-9.371 24.568 0 33.941A23.925 23.925 0 0 0 344 392z"></path></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-gear"><path d="M416.349 256.046c-.001-21.013 13.143-38.948 31.651-46.062a196.302 196.302 0 0 0-23.664-57.139 49.423 49.423 0 0 1-20.082 4.254c-12.621 0-25.238-4.811-34.871-14.442-14.863-14.863-18.248-36.846-10.18-54.97A196.274 196.274 0 0 0 302.074 64C294.971 82.529 277.027 95.69 256 95.69c-21.025 0-38.969-13.161-46.073-31.69a196.243 196.243 0 0 0-57.128 23.688c8.068 18.122 4.683 40.104-10.181 54.97-9.631 9.631-22.25 14.443-34.871 14.443a49.429 49.429 0 0 1-20.083-4.255A196.273 196.273 0 0 0 64 209.984c18.509 7.112 31.652 25.049 31.652 46.062 0 21.008-13.132 38.936-31.63 46.054a196.318 196.318 0 0 0 23.692 57.128 49.428 49.428 0 0 1 20.032-4.232c12.622 0 25.239 4.812 34.871 14.443 14.841 14.841 18.239 36.781 10.215 54.889a196.257 196.257 0 0 0 57.13 23.673c7.128-18.479 25.046-31.596 46.038-31.596 20.992 0 38.91 13.115 46.037 31.596a196.234 196.234 0 0 0 57.132-23.675c-8.023-18.106-4.626-40.046 10.216-54.887 9.629-9.632 22.248-14.444 34.868-14.444 6.836 0 13.67 1.411 20.033 4.233a196.318 196.318 0 0 0 23.692-57.128c-18.498-7.119-31.629-25.048-31.629-46.054zM256.9 335.9c-44.3 0-80-35.9-80-80 0-44.101 35.7-80 80-80 44.299 0 80 35.899 80 80 0 44.1-35.701 80-80 80z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-arrow-expand"><path d="M274 209.7l63.9-63.8L288 96h128v128l-49.9-49.9-63.8 63.9zM274 302.3l63.9 63.8L288 416h128V288l-49.9 49.9-63.8-63.9zM238 302.3l-63.9 63.8L224 416H96V288l49.9 49.9 63.8-63.9zM238 209.7l-63.9-63.8L224 96H96v128l49.9-49.9 63.8 63.9z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-expand"><path d="M396.795 396.8H320V448h128V320h-51.205zM396.8 115.205V192H448V64H320v51.205zM115.205 115.2H192V64H64v128h51.205zM115.2 396.795V320H64v128h128v-51.205z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-arrow-move"><path d="M480 256l-96-96v76H276V128h76l-96-96-96 96h76v108H128v-76l-96 96 96 96v-76h108v108h-76l96 96 96-96h-76.2l-.4-108.5 108.6.3V352z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-drag"><path d="M0 144h512v32H0zM0 240h512v32H0zM0 336h512v32H0z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-link"><path d="M74.6 256c0-38.3 31.1-69.4 69.4-69.4h88V144h-88c-61.8 0-112 50.2-112 112s50.2 112 112 112h88v-42.6h-88c-38.3 0-69.4-31.1-69.4-69.4zm85.4 22h192v-44H160v44zm208-134h-88v42.6h88c38.3 0 69.4 31.1 69.4 69.4s-31.1 69.4-69.4 69.4h-88V368h88c61.8 0 112-50.2 112-112s-50.2-112-112-112z"/></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-contrast"><path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32zm135.8 359.8C355.5 428 307 448 256 448V64c51 0 99.5 20 135.8 56.2C428 156.5 448 204.7 448 256c0 51.3-20 99.5-56.2 135.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-plus-empty"><path d="M384 265H264v119h-17V265H128v-17h119V128h17v120h120v17z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-up"><path d="M349.7 189.8c-3.1 3.1-8 3-11.3 0L264 123.4V408c0 4.4-3.6 8-8 8s-8-3.6-8-8V123.4l-74.4 66.3c-3.4 2.9-8.1 3.2-11.2.1-3.1-3.1-3.3-8.5-.1-11.4 0 0 87-79.2 88-80s2.8-2.4 5.7-2.4 4.9 1.6 5.7 2.4 88 80 88 80c1.5 1.5 2.3 3.6 2.3 5.7s-.8 4.1-2.3 5.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-down"><path d="M349.7 322.2c-3.1-3.1-8-3-11.3 0L264 388.6V104c0-4.4-3.6-8-8-8s-8 3.6-8 8v284.6l-74.4-66.3c-3.4-2.9-8.1-3.2-11.2-.1-3.1 3.1-3.3 8.5-.1 11.4 0 0 87 79.2 88 80s2.8 2.4 5.7 2.4 4.9-1.6 5.7-2.4 88-80 88-80c1.5-1.5 2.3-3.6 2.3-5.7s-.8-4.1-2.3-5.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-left"><path d="M189.8 349.7c3.1-3.1 3-8 0-11.3L123.4 264H408c4.4 0 8-3.6 8-8s-3.6-8-8-8H123.4l66.3-74.4c2.9-3.4 3.2-8.1.1-11.2-3.1-3.1-8.5-3.3-11.4-.1 0 0-79.2 87-80 88S96 253.1 96 256s1.6 4.9 2.4 5.7 80 88 80 88c1.5 1.5 3.6 2.3 5.7 2.3s4.1-.8 5.7-2.3z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-right"><path d="M322.2 349.7c-3.1-3.1-3-8 0-11.3l66.4-74.4H104c-4.4 0-8-3.6-8-8s3.6-8 8-8h284.6l-66.3-74.4c-2.9-3.4-3.2-8.1-.1-11.2 3.1-3.1 8.5-3.3 11.4-.1 0 0 79.2 87 80 88s2.4 2.8 2.4 5.7-1.6 4.9-2.4 5.7-80 88-80 88c-1.5 1.5-3.6 2.3-5.7 2.3s-4.1-.8-5.7-2.3z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-close-empty"><path d="M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-more-vertical"><path d="M296 136c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0 240c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0-120c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-quote"><path d="M192 64c-40.646 0-72.483 11.229-94.627 33.373C75.229 119.517 64 151.354 64 192v256h160V192h-96c0-23.056 4.922-39.666 14.627-49.373C152.334 132.922 168.944 128 192 128M416 64c-40.646 0-72.483 11.229-94.627 33.373C299.229 119.517 288 151.354 288 192v256h160V192h-96c0-23.056 4.922-39.666 14.627-49.373C376.334 132.922 392.944 128 416 128"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-code"><path d="M168 392a23.929 23.929 0 0 1-16.971-7.029l-112-112c-9.373-9.373-9.373-24.569 0-33.941l112-112c9.373-9.372 24.568-9.372 33.941 0 9.371 9.372 9.371 24.568 0 33.941L89.941 256l95.029 95.029c9.371 9.373 9.371 24.568 0 33.941A23.925 23.925 0 0 1 168 392zM344 392a23.929 23.929 0 0 0 16.971-7.029l112-112c9.373-9.373 9.373-24.569 0-33.941l-112-112c-9.373-9.372-24.568-9.372-33.941 0-9.371 9.372-9.371 24.568 0 33.941L422.059 256l-95.029 95.029c-9.371 9.373-9.371 24.568 0 33.941A23.925 23.925 0 0 0 344 392z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-camera"><path d="M430.4 147h-67.5l-40.4-40.8s-.2-.2-.3-.2l-.2-.2c-6-6-14.1-9.8-23.3-9.8h-84c-9.8 0-18.5 4.2-24.6 10.9v.1l-39.5 40h-69C63 147 48 161.6 48 180.2v202.1c0 18.6 15 33.7 33.6 33.7h348.8c18.5 0 33.6-15.1 33.6-33.7V180.2c0-18.6-15.1-33.2-33.6-33.2zM256 365.5c-50.9 0-92.4-41.6-92.4-92.6 0-51.1 41.5-92.6 92.4-92.6 51 0 92.4 41.5 92.4 92.6 0 51-41.4 92.6-92.4 92.6zm168.1-165c-7.7 0-14-6.3-14-14.1s6.3-14.1 14-14.1 14 6.3 14 14.1-6.3 14.1-14 14.1z"></path><path d="M256 202.9c-38.6 0-69.8 31.3-69.8 70 0 38.6 31.2 70 69.8 70 38.5 0 69.8-31.3 69.8-70s-31.3-70-69.8-70z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-move"><path d="M475.9 246.2l-79.4-79.4c-5.4-5.4-14.2-5.4-19.6 0l-.2.2c-5.4 5.4-5.4 14.2 0 19.6l54.9 54.9-161.8.5.5-161.8 54.9 54.9c5.4 5.4 14.2 5.4 19.6 0l.2-.2c5.4-5.4 5.4-14.2 0-19.6l-79.4-79.4c-5.4-5.4-14.2-5.4-19.6 0l-79.4 79.4c-5.4 5.4-5.4 14.2 0 19.6l.2.2c5.4 5.4 14.2 5.4 19.6 0l54.9-54.9.5 161.8-161.8-.5 54.9-54.9c5.4-5.4 5.4-14.2 0-19.6l-.2-.2c-5.4-5.4-14.2-5.4-19.6 0l-79.4 79.4c-5.4 5.4-5.4 14.2 0 19.6l79.4 79.4c5.4 5.4 14.2 5.4 19.6 0l.2-.2c5.4-5.4 5.4-14.2 0-19.6L80 270.5l161.8-.5-.5 161.8-54.9-54.9c-5.4-5.4-14.2-5.4-19.6 0l-.2.2c-5.4 5.4-5.4 14.2 0 19.6l79.4 79.4c5.4 5.4 14.2 5.4 19.6 0l79.4-79.4c5.4-5.4 5.4-14.2 0-19.6l-.2-.2c-5.4-5.4-14.2-5.4-19.6 0l-54.9 54.9-.5-161.8 161.8.5-54.9 54.9c-5.4 5.4-5.4 14.2 0 19.6l.2.2c5.4 5.4 14.2 5.4 19.6 0l79.4-79.4c5.5-5.4 5.5-14.2 0-19.6z"/></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-ok">\n                <rect x="0" y="0" width="2048.00" height="2048.00" fill="none" />\n                <g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)">\n                <path d="M330.323,493.628 L330.323,398.406 L-330.323,398.406 L-330.323,493.628 L330.323,493.628 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M230.718,468.568 L328.59,468.568 L328.59,-599.718 L230.718,-599.718 L230.718,468.568 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M-300.714,376.053 L-373.748,449.088 L-68.5805,754.255 L4.45387,681.221 L-300.714,376.053 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M-9.9476e-14,216.241 L-73.0344,143.207 L-378.202,448.375 L-305.168,521.409 L-9.9476e-14,216.241 Z " fill="currentColor" fill-opacity="1.00" />\n                </g>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-grid"><path d="M160 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path><g><path d="M160 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path></g><g><path d="M160 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-gear-b"><path d="M448 294.4v-76.8h-42.8c-3.4-14.4-8.9-28-16.1-40.5l29.8-29.7-54.3-54.3-29.1 29.1c-12.6-7.7-26.4-13.5-41.1-17.3V64h-76.8v40.9c-14.7 3.8-28.5 9.7-41.1 17.3l-29.1-29.1-54.3 54.3 29.8 29.7c-7.2 12.5-12.6 26.1-16.1 40.5H64v76.8h44.1c3.8 13.7 9.5 26.6 16.7 38.6l-31.7 31.7 54.3 54.3 32.3-32.3c11.7 6.8 24.5 11.9 37.9 15.4v46h76.8v-46c13.5-3.5 26.2-8.6 37.9-15.4l32.3 32.3 54.3-54.3-31.6-31.7c7.2-11.9 12.9-24.8 16.7-38.6h44zm-192 15.4c-29.7 0-53.7-24.1-53.7-53.8s24-53.8 53.7-53.8 53.8 24.1 53.8 53.8-24.1 53.8-53.8 53.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-grid-view-outline"><path d="M448 192v-16H336V64h-16v112H192V64h-16v112H64v16h112v128H64v16h112v112h16V336h128v112h16V336h112v-16H336V192h112zM320 320H192V192h128v128z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-increase"><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M852.574,595.004 L852.574,507.837 L-852.574,507.837 L-852.574,595.004 L852.574,595.004 Z " /><path d="M852.574,224.232 L852.574,137.066 L-852.574,137.066 L-852.574,224.232 L852.574,224.232 Z " /><path d="M852.574,-134.971 L852.574,-222.138 L-852.574,-222.138 L-852.574,-134.971 L852.574,-134.971 Z " /><path d="M852.574,-505.743 L852.574,-592.909 L-852.574,-592.909 L-852.574,-505.743 L852.574,-505.743 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-decrease"><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M509.832,595.004 L509.832,507.837 L-509.832,507.837 L-509.832,595.004 L509.832,595.004 Z " /><path d="M509.832,224.232 L509.832,137.066 L-509.832,137.066 L-509.832,224.232 L509.832,224.232 Z " /><path d="M509.832,-136.947 L509.832,-224.113 L-509.832,-224.113 L-509.832,-136.947 L509.832,-136.947 Z " /><path d="M509.832,-505.743 L509.832,-592.909 L-509.832,-592.909 L-509.832,-505.743 L509.832,-505.743 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-strike">\n                <g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)">\n                <path d="M298.298,-653.766 C292.151,-624.873 284.005,-605.663 273.862,-596.135 C263.719,-586.607 250.656,-581.842 234.673,-581.842 C220.535,-581.842 196.253,-589.526 161.828,-604.895 C87.4454,-637.475 17.0588,-653.766 -49.3321,-653.766 C-155.68,-653.766 -243.28,-621.339 -312.129,-556.485 C-380.979,-491.631 -415.404,-414.328 -415.404,-324.578 C-415.404,-272.94 -403.724,-225.606 -380.364,-182.575 C-357.005,-139.544 -322.733,-100.201 -277.551,-64.5467 C-232.368,-28.8923 -156.295,18.903 -49.3321,78.8392 C57.631,138.775 123.1,177.964 147.074,196.406 C182.729,223.455 209.008,252.654 225.913,284.005 C242.819,315.357 251.271,346.401 251.271,377.137 C251.271,432.463 228.987,480.412 184.419,520.984 C139.851,561.556 79.1465,581.842 2.30524,581.842 C-64.0856,581.842 -125.098,567.089 -180.731,537.582 C-236.364,508.075 -277.704,471.037 -304.753,426.469 C-331.801,381.901 -353.316,314.742 -369.299,224.991 L-403.417,224.991 L-403.417,653.766 L-369.299,653.766 C-364.996,624.873 -358.388,605.817 -349.474,596.596 C-340.561,587.375 -328.42,582.764 -313.051,582.764 C-297.068,582.764 -259.109,592.446 -199.173,611.81 C-139.236,631.174 -99.74,642.393 -80.6834,645.467 C-48.7174,651 -14.5998,653.766 21.6692,653.766 C137.239,653.766 231.753,619.495 305.214,550.952 C378.674,482.41 415.404,400.804 415.404,306.136 C415.404,256.343 403.878,208.701 380.826,163.211 C357.773,117.721 324.885,78.2244 282.161,44.7216 C239.438,11.2188 159.676,-36.8838 42.8774,-99.5863 C-100.355,-176.428 -191.027,-237.901 -229.141,-284.005 C-255.574,-315.357 -268.791,-350.089 -268.791,-388.202 C-268.791,-437.995 -247.89,-482.41 -206.088,-521.445 C-164.287,-560.48 -111.42,-579.998 -47.4879,-579.998 C9.06727,-579.998 63.7783,-565.552 116.645,-536.66 C169.512,-507.767 210.238,-468.732 238.823,-419.554 C267.408,-370.375 287.233,-304.292 298.298,-221.303 L332.415,-221.303 L332.415,-653.766 L298.298,-653.766 Z " fill="currentColor" fill-opacity="1.00" /><path d="M-530.954,-41.4477 L-530.954,41.4477 L530.954,41.4477 L530.954,-41.4477 L-530.954,-41.4477 Z " fill="currentColor" fill-opacity="1.00" /></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-undo"><path d="M447.9 368.2c0-16.8 3.6-83.1-48.7-135.7-35.2-35.4-80.3-53.4-143.3-56.2V96L64 224l192 128v-79.8c40 1.1 62.4 9.1 86.7 20 30.9 13.8 55.3 44 75.8 76.6l19.2 31.2H448c0-10.1-.1-22.9-.1-31.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-redo"><path d="M64 400h10.3l19.2-31.2c20.5-32.7 44.9-62.8 75.8-76.6 24.4-10.9 46.7-18.9 86.7-20V352l192-128L256 96v80.3c-63 2.8-108.1 20.7-143.3 56.2C60.4 285.2 64 351.5 64 368.2c.1 8.9 0 21.7 0 31.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-arrow-dropdown"><path d="M128 192l128 128 128-128z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-social-twitter"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path></symbol>\n            <symbol viewBox="0 0 24 24" id="icon-zoom-in" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <circle cx="10" cy="10" r="7"></circle>\n                <line x1="7" y1="10" x2="13" y2="10"></line>\n                <line x1="10" y1="7" x2="10" y2="13"></line>\n                <line x1="21" y1="21" x2="15" y2="15"></line>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-contract"><path d="M64 371.2h76.795V448H192V320H64v51.2zm76.795-230.4H64V192h128V64h-51.205v76.8zM320 448h51.2v-76.8H448V320H320v128zm51.2-307.2V64H320v128h128v-51.2h-76.8z"></path></symbol>\n            \n            <symbol viewBox="0 0 24 24" id="icon-lock-off" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="3" y1="3" x2="21" y2="21" />\n                <path d="M19 19a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2h4m4 0h2a2 2 0 0 1 2 2v2" />\n                <circle cx="12" cy="16" r="1" />\n                <path d="M8 11v-3m.712 -3.278a4 4 0 0 1 7.288 2.278v4" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-lock" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <rect x="5" y="11" width="14" height="10" rx="2" />\n                <circle cx="12" cy="16" r="1" />\n                <path d="M8 11v-4a4 4 0 0 1 8 0v4" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-code" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z"/>\n                <polyline points="7 8 3 12 7 16" />\n                <polyline points="17 8 21 12 17 16" />\n                <line x1="14" y1="4" x2="10" y2="20" />\n            </symbol>\n\n            </defs>\n        </svg>')};class Zo{constructor(e){this.builder=e;const t=this.builder.util;this.util=t}getSnippetsHtml(){const e=this.util,t=this.builder.opts.snippetUrl,i=this.builder.opts.snippetPath;let n="[";for(let t=0;t<this.builder.opts.snippetCategories.length;t++)n+=`[${this.builder.opts.snippetCategories[t][0]},'${e.out(this.builder.opts.snippetCategories[t][1])}'],`;n+="]";const o=this.builder.opts.defaultSnippetCategory;return`\n        <!DOCTYPE HTML>\n        <html>\n        \n        <head>\n            <meta charset="utf-8">\n            <title></title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">\n            <script src="${t}" type="text/javascript"><\/script>\n            <style>\n                body {\n                    // background: #fff;\n                    background: ${this.builder.styleSnippetBackground};\n                    margin: 0;\n                }\n                /*\n                body.dark {\n                    background: #111;\n                }\n                .dark .is-categories {\n                    background: #333;\n                }\n                .dark .is-category-list a {\n                    background: #333;\n                    color: #fff;\n                }\n                .dark .is-category-list a.active {\n                    background: #525252;\n                    color: #fff;\n                }\n                .dark .is-category-list a:hover {\n                    color: #fff;\n                }\n                .dark .is-design-list>div img {\n                    opacity: 0.93;\n                }\n                .dark .is-more-categories {\n                    background: #333;\n                }\n                .dark .is-more-categories a {\n                    background: #333;\n                    color: #fff;\n                }\n                .dark .is-more-categories a:hover {\n                    background: #4c4c4c;\n                }\n                .dark .is-more-categories a.active {\n                    background: #4c4c4c;\n                }\n                */\n\n                \n                .dark .is-design-list>div {\n                    outline: transparent 1px solid;\n                }\n\n                \n                        \n                /* Scrollbar for modal */\n\n                /* Darker color, because background for snippet thumbnails is always light. */\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(78 78 78 / 62%) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(78 78 78 / 62%);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n        \n                svg {\n                    fill: ${this.builder.styleSnippetColor};\n                }\n\n                .is-design-list {\n                    position: fixed;\n                    top: 0px;\n                    left: 0px;\n                    border-top: transparent 68px solid;\n                    width: 100%;\n                    height: 100%;\n                    overflow-y: auto;\n                    padding: 0px 0px 30px 30px;\n                    box-sizing: border-box;\n                    overflow: auto;\n                }\n        \n                .is-design-list>div {\n                    width: 250px;\n                    min-height:120px;\n                    position:relative;\n                    background: #fff;\n                    // background: ${this.builder.styleToolBackground};\n                    overflow: hidden;\n                    margin: 32px 40px 0 0;\n                    cursor: pointer;\n                    display: inline-block;\n                    outline: #ececec 1px solid;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                }\n        \n                .is-design-list>div img {\n                    box-shadow: none;\n                    opacity: 1;\n                    display: block;\n                    box-sizing: border-box;\n                    transition: all 0.2s ease-in-out;\n                    max-width: 400px;\n                    width: 100%\n                }\n        \n                // .is-design-list>div:hover img {\n                //     opacity: 0.95;\n                // }\n                \n                // .is-design-list>div:hover {\n                //     background: #999;\n                // }\n                .is-overlay {\n                    position:absolute;left:0px;top:0px;width:100%;height:100%;\n                }\n                .is-design-list>div .is-overlay:after {\n                    background: rgba(0, 0, 0, 0.02);\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    transition: all 0.3s ease-in-out;\n                    opacity: 0;\n                }\n                .is-design-list>div:hover .is-overlay:after {\n                    opacity: 0.9;\n                }\n                .dark .is-design-list>div .is-overlay:after {\n                    background: rgb(78 78 78 / 13%);\n                }\n        \n                .is-category-list {\n                    position: relative;\n                    top: 0px;\n                    left: 0px;\n                    width: 100%;\n                    height: 80px;\n                    box-sizing: border-box;\n                    z-index: 1;\n                }\n        \n                .is-category-list>div {\n                    white-space: nowrap;\n                    padding: 0 30px;\n                    box-sizing: border-box;\n                    font-family: sans-serif;\n                    font-size: 10px;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    // background: #f5f5f5;\n                    background: ${this.builder.styleSnippetTabsBackground};\n                    // box-shadow: 0 5px 8px rgb(0 0 0 / 4%);\n                }\n        \n                .is-category-list a {\n                    display: inline-block;\n                    padding: 10px 20px;\n                    // background: #fefefe;\n                    // color: #000;\n                    background: ${this.builder.styleSnippetTabItemBackground};\n                    color: ${this.builder.styleSnippetTabItemColor};\n                    border-radius: 50px;\n        \n                    margin: 0 12px 0 0;\n                    text-decoration: none;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);\n                    transition: box-shadow ease 0.3s;\n                }\n        \n                .is-category-list a:hover {\n                    /*background: #fafafa;*/\n                    background: ${this.builder.styleSnippetTabItemBackgroundHover};\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.06);\n                    // color: #000;\n                    color: ${this.builder.styleSnippetTabItemColor};\n                }\n        \n                .is-category-list a.active {\n                    // background: #f5f5f5;\n                    background: ${this.builder.styleSnippetTabItemBackgroundActive};\n                    // color: #000;\n                    color: ${this.builder.styleSnippetTabItemColor};\n                    box-shadow: none;\n                    cursor: default;\n                }\n        \n                .is-more-categories {\n                    display: none;\n                    position: absolute;\n                    width: 400px;\n                    box-sizing: border-box;\n                    padding: 0;\n                    z-index: 1;\n                    font-family: sans-serif;\n                    font-size: 10px;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                    // background: #fff;\n                    background: ${this.builder.styleSnippetMoreItemBackground};\n                }\n        \n                .is-more-categories a {\n                    width: 200px;\n                    float: left;\n                    display: block;\n                    box-sizing: border-box;\n                    padding: 12px 20px;\n                    // background: #fff;\n                    background: ${this.builder.styleSnippetMoreItemBackground};\n                    text-decoration: none;\n                    // color: #000;\n                    color: ${this.builder.styleSnippetMoreItemColor};\n                    line-height: 1.6;\n                }\n        \n                .is-more-categories a:hover {\n                    // background: #eee;\n                    background: ${this.builder.styleSnippetMoreItemBackgroundHover};\n                }\n        \n                .is-more-categories a.active {\n                    // background: #eee;\n                    background: ${this.builder.styleSnippetMoreItemBackgroundActive};\n                }\n        \n                .is-more-categories.active {\n                    display: block;\n                }\n        \n                /* First Loading */\n                /* .is-category-list {\n                    display: none;\n                }\n        \n                .is-design-list {\n                    display: none;\n                }\n        \n                .pace {\n                    -webkit-pointer-events: none;\n                    pointer-events: none;\n                    -webkit-user-select: none;\n                    -moz-user-select: none;\n                    user-select: none;\n                }\n        \n                .pace-inactive {\n                    display: none;\n                }\n        \n                .pace .pace-progress {\n                    background: #000000;\n                    position: fixed;\n                    z-index: 2000;\n                    top: 0;\n                    right: 100%;\n                    width: 100%;\n                    height: 2px;\n                } */\n        \n                .is-more-categories>a:nth-child(0) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(1) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(2) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(3) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(4) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(5) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(6) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(7) {\n                    display: none\n                }\n        \n                @media all and (max-width: 1212px) {\n                    .is-categories>a:nth-child(7):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(7) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 1070px) {\n                    .is-categories>a:nth-child(6):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(6) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 940px) {\n                    .is-categories>a:nth-child(5):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(5) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 700px) {\n                    .is-categories>a:nth-child(4):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(4) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 555px) {\n                    .is-categories>a:nth-child(3):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(3) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 415px) {\n                    .is-categories>a:nth-child(2):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(2) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 640px) {\n                    .is-more-categories a {\n                        width: 150px;\n                        padding: 10px 5px 10px 15px;\n                        font-size: 10px;\n                    }\n        \n                    .is-more-categories {\n                        left: 0 !important;\n                        width: 100% !important;\n                    }\n                }\n            </style>\n        </head>\n        \n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n            <svg style="display:none">\n                <defs>\n                    <symbol viewBox="0 0 512 512" id="ion-ios-close-empty">\n                        <path d="M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"></path>\n                    </symbol>\n                </defs>\n            </svg>\n        \n            <div class="is-pop-close"\n                style="z-index:10;width:30px;height:30px;position:absolute;top:0px;right:0px;box-sizing:border-box;padding:0;line-height:40px;font-size: 12px;text-align:center;cursor:pointer;">\n                <svg class="is-icon-flex" style="width:30px;height:30px;">\n                    <use xlink:href="#ion-ios-close-empty"></use>\n                </svg>\n            </div>\n        \n            <div class="is-category-list">\n                <div class="is-categories" style="position:fixed;top:0;left:0;right:0;height:68px;padding-top:17px;box-sizing:border-box;">\n                </div>\n            </div>\n\n            <div class="is-more-categories">\n            </div>\n        \n            <div class="is-design-list">\n            </div>\n        \n            <script>\n        \n                var snippetPath = '${i}';\n                var snippetCategories = ${n};\n                var defaultSnippetCategory = ${o};\n\n                ${void 0!==this.builder.slider&&null!==this.builder.slider?`\n                var slider='${this.builder.slider}';`:"var slider=null;"};\n        \n                var numOfCat = snippetCategories.length;\n                if (numOfCat <= 7) {\n                    document.querySelector('.is-more-categories').style.width = '200px';\n                }\n        \n                var categorytabs = document.querySelector('.is-categories');\n                categorytabs.innerHTML = '';\n                let html_catselect = '';\n                for (var i = 0; i < numOfCat; i++) {\n                    if (i < 7) {\n                        html_catselect += '<a href="" data-cat="' + snippetCategories[i][0] + '">' + parent._cb.out(snippetCategories[i][1]) + '</a>';\n                    }\n                }\n                html_catselect += '<a href="" class="more-snippets">' + parent._cb.out('More') + '</a>';\n                categorytabs.innerHTML = html_catselect;\n        \n                var categorymore = document.querySelector('.is-more-categories');\n                html_catselect = '';\n                for (var i = 0; i < numOfCat; i++) {\n                    html_catselect += '<a href="" data-cat="' + snippetCategories[i][0] + '">' + parent._cb.out(snippetCategories[i][1]) + '</a>';\n                }\n                categorymore.innerHTML = html_catselect;\n        \n                // Show/hide "More" button\n                if (numOfCat <= 7) {\n                    var bHasMore = false;\n        \n                    const childNodes = categorymore.childNodes;\n                    let i = childNodes.length;\n                    while (i--) {\n                        if(childNodes[i].style.display === 'block') {\n                            bHasMore = true;\n                        }\n                    }\n                    var more = document.querySelector('.more-snippets');\n                    if (!bHasMore) more.style.display = 'none';\n                    else more.style.display = '';\n                }\n        \n                var elms = categorytabs.querySelectorAll('a[data-cat="' + defaultSnippetCategory + '"]'); //.classList.add('active');\n                Array.prototype.forEach.call(elms, function(elm){\n                    elm.classList.add('active');\n                });\n                elms = categorymore.querySelectorAll('a[data-cat="' + defaultSnippetCategory + '"]'); //.classList.add('active');\n                Array.prototype.forEach.call(elms, function(elm){\n                    elm.classList.add('active');\n                });\n        \n                var snippets = data_basic.snippets; //DATA\n\n                if (slider !== null){\n                    if(slider==='slick') {\n                        //remove glide\n                        const predicate = (item) => (item.type!=='glide');\n                        snippets = snippets.filter(predicate);\n                    } else if(slider==='glide') {\n                        //remove slick\n                        const predicate = (item) => (item.type!=='slick');\n                        snippets = snippets.filter(predicate);\n                    } else if(slider==='all') {\n                        // Do Nothing\n                    } else {\n                        // remove all slider (if incorrect settings)\n                        const predicate = (item) => (item.type!=='glide' && item.type!=='slick');\n                        snippets = snippets.filter(predicate);\n                    }\n\n                } else {\n                    //backward compatible\n\n                    // Hide slider snippet if slick is not included\n                    var bHideSliderSnippet = true;\n                    if(parent.jQuery) {\n                        if(parent.jQuery.fn.slick) {\n                            bHideSliderSnippet = false;\n                        }\n                    }\n            \n                    if(bHideSliderSnippet){\n                        for (let i = 0; i < snippets.length; i++) {\n                            if (snippets[i].thumbnail.indexOf('element-slider.png') != -1||\n                            snippets[i].type === 'slick'||\n                            snippets[i].type === 'glide') {\n                                snippets.splice(i, 1);\n                                break;\n                            }\n                        }\n                    } \n                }\n                \n                var designlist = document.querySelector('.is-design-list');\n                for (let i = 0; i <snippets.length; i++) {\n                    \n                    snippets[i].id = i+1;\n                    var thumb = snippets[i].thumbnail;\n        \n                    thumb = snippetPath + thumb;\n        \n                    if (snippets[i].category === defaultSnippetCategory + '') {\n                        designlist.insertAdjacentHTML('beforeend', '<div data-id="' + snippets[i].id + '" data-cat="' + snippets[i].category + '"><img src="' + thumb + '"><span class="is-overlay"></span></div>');\n                    \n                        var newitem = designlist.querySelector('[data-id="' + snippets[i].id + '"]');\n                        newitem.addEventListener('click', function(e){\n        \n                            var snippetid = e.target.parentNode.getAttribute('data-id');\n                            addSnippet(snippetid);\n        \n                        });\n        \n                    }\n        \n                }\n        \n                var categorylist = document.querySelector('.is-category-list');\n                elms = categorylist.querySelectorAll('a');\n                Array.prototype.forEach.call(elms, function(elm){\n        \n                    elm.addEventListener('click', function(e){\n        \n                        if(elm.classList.contains('active')) {\n                            e.preventDefault();\n                            return false;\n                        }\n        \n                        var cat = elm.getAttribute('data-cat');\n                        if(designlist.querySelectorAll('[data-cat="' + cat + '"]').length === 0) {\n        \n                            for (let i = 0; i <snippets.length; i++) {\n                        \n                                var thumb = snippets[i].thumbnail;\n                                \n                                thumb = snippetPath + thumb;    \n        \n                                if (snippets[i].category === cat) {\n                                    designlist.insertAdjacentHTML('beforeend', '<div data-id="' + snippets[i].id + '" data-cat="' + snippets[i].category + '"><img src="' + thumb + '"><span class="is-overlay"></span></div>');\n                                \n                                    var newitem = designlist.querySelector('[data-id="' + snippets[i].id + '"]');\n                                    newitem.addEventListener('click', function(e){\n                                        \n                                        var snippetid = e.target.parentNode.getAttribute('data-id');\n                                        addSnippet(snippetid);\n        \n                                    });\n                                }\n        \n                            }    \n                        }\n        \n                        if (cat) {\n                            // Hide all, show items from selected category\n                            var categorylist_items = categorylist.querySelectorAll('a');    \n                            Array.prototype.forEach.call(categorylist_items, function(elm){\n                                elm.className = elm.className.replace('active', '');\n                            });\n                            categorymore.className = categorymore.className.replace('active', ''); \n                            var categorymore_items = categorymore.querySelectorAll('a');\n                            Array.prototype.forEach.call(categorymore_items, function(elm){\n                                elm.className = elm.className.replace('active', '');\n                            });\n        \n                            var items = designlist.querySelectorAll('div');\n                            Array.prototype.forEach.call(items, function(elm){\n                                elm.style.display = 'none';\n                            });\n                            Array.prototype.forEach.call(items, function(elm){\n                                var catSplit = elm.getAttribute('data-cat').split(',');\n                                for (var j = 0; j < catSplit.length; j++) {\n                                    if (catSplit[j] == cat) {\n                                        elm.style.display = ''; // TODO: hide & show snippets => animated\n                                    }\n                                }\n                            });\n                            \n                        } else {\n                            // more snipptes\n                            var more = document.querySelector('.more-snippets');\n                            var moreCategories = document.querySelector('.is-more-categories');\n                            if(more.classList.contains('active')) {\n                                more.className = more.className.replace('active', '');\n                                moreCategories.className = moreCategories.className.replace('active', '');\n                            } else {\n                                var _width = moreCategories.offsetWidth;\n                                more.classList.add('active');\n                                moreCategories.classList.add('active');\n                                var top = more.getBoundingClientRect().top;\n                                var left = more.getBoundingClientRect().left;\n                                top = top + 50;\n                                moreCategories.style.top = top + 'px';\n                                moreCategories.style.left = left + 'px';\n                            }\n                        }\n                        elm.classList.add('active');\n        \n                        e.preventDefault();\n                    });\n        \n                });\n        \n                elms = categorymore.querySelectorAll('a');\n                Array.prototype.forEach.call(elms, function(elm){\n        \n                    elm.addEventListener('click', function(e){\n                        \n                        var cat = elm.getAttribute('data-cat');\n                        if(designlist.querySelectorAll('[data-cat="' + cat + '"]').length === 0) {\n        \n                            for (let i = 0; i <snippets.length; i++) {\n                        \n                                var thumb = snippets[i].thumbnail;\n                                \n                                thumb = snippetPath + thumb;\n        \n                                if (snippets[i].category === cat) {\n                      \n                                    designlist.insertAdjacentHTML('beforeend', '<div data-id="' + snippets[i].id + '" data-cat="' + snippets[i].category + '"><img src="' + thumb + '"><span class="is-overlay"></span></div>');\n                                \n                                    var newitem = designlist.querySelector('[data-id="' + snippets[i].id + '"]');\n                                    newitem.addEventListener('click', function(e){\n                                        \n                                        var snippetid = e.target.parentNode.getAttribute('data-id');\n                                        addSnippet(snippetid);\n        \n                                    });\n                                }\n        \n                            }    \n                        }\n        \n                        // Hide all, show items from selected category\n                        Array.prototype.forEach.call(elms, function(elm){\n                            elm.className = elm.className.replace('active', '');\n                        });\n                        categorymore.className = categorymore.className.replace('active', ''); // hide popup\n                        //var categorymore_items = categorymore.querySelectorAll('a');\n                        \n                        var categorylist = document.querySelector('.is-category-list');\n                        var categorylist_items = categorylist.querySelectorAll('a');                \n                        Array.prototype.forEach.call(categorylist_items, function(elm){\n                            elm.className = elm.className.replace('active', '');\n                        });\n                            \n                        var more = document.querySelector('.more-snippets');\n                        more.className = more.className.replace('active', '');\n        \n                        var items = designlist.querySelectorAll('div');\n                        Array.prototype.forEach.call(items, function(elm){\n                            elm.style.display = 'none';\n                        });\n                        Array.prototype.forEach.call(items, function(elm){\n                            var catSplit = elm.getAttribute('data-cat').split(',');\n                            for (var j = 0; j < catSplit.length; j++) {\n                                if (catSplit[j] == cat) {\n                                    elm.style.display = '';\n                                }\n                            }\n                        });\n        \n                        elm.classList.add('active');\n        \n                        e.preventDefault();\n                    });\n        \n                });\n        \n                var close = document.querySelector('.is-pop-close');\n                close.addEventListener('click', function(e){\n                    var modal = parent.document.querySelector('.is-modal.snippets');\n                    removeClass(modal, 'active');\n                });\n        \n                // Add document Click event\n                document.addEventListener('click', function(e){\n                    e = e || window.event;\n                    var target = e.target || e.srcElement;  \n        \n                    if(parentsHasClass(target, 'more-snippets')) return;\n                    if(hasClass(target, 'more-snippets')) return;\n                    \n                    var more = document.querySelector('.more-snippets');\n                    var moreCategories = document.querySelector('.is-more-categories');\n                    \n                    more.className = more.className.replace('active', '');\n                    moreCategories.className = moreCategories.className.replace('active', '');\n                });\n        \n                parent.document.addEventListener('click', function(e){\n                    var more = document.querySelector('.more-snippets');\n                    var moreCategories = document.querySelector('.is-more-categories');\n                    \n                    more.className = more.className.replace('active', '');\n                    moreCategories.className = moreCategories.className.replace('active', '');\n                });\n        \n                function addSnippet(snippetid) {\n                    \n                    // TODO: var framework = parent._cb.opts.framework;\n                    var snippetPathReplace = parent._cb.opts.snippetPathReplace;\n                    var emailMode = parent._cb.opts.emailMode;\n                    \n                    // \n                    for (let i = 0; i <snippets.length; i++) {\n                        if(snippets[i].id + ''=== snippetid) {\n                            \n                            var html = snippets[i].html;\n                            var noedit = snippets[i].noedit;\n                            break;\n                        }\n                    }\n        \n                    var bSnippet;\n                    if (html.indexOf('row clearfix') === -1) {\n                        bSnippet = true; // Just snippet (without row/column grid)\n                    } else {\n                        bSnippet = false; // Snippet is wrapped in row/colum\n                    }\n                    if (emailMode) bSnippet = false;\n\n                    if(bSnippet) {\n                        var quickadd = parent._cb.builderStuff.querySelector('.quickadd');\n                        var mode = quickadd.getAttribute('data-mode');\n                        if(!mode) {\n                            // in case of using viewSnippets() to open the dialog (mode=null) => change to non snippet.\n                            html = '<div class="row clearfix">' +\n                                '<div class="column full">' +\n                                html +\n                                '</div>' +\n                            '</div>';\n                            bSnippet=false;\n                        }\n                    }\n         \n                    // Convert snippet into your defined 12 columns grid   \n                    var rowClass = parent._cb.opts.row; //row\n                    var colClass = parent._cb.opts.cols; //['col s1', 'col s2', 'col s3', 'col s4', 'col s5', 'col s6', 'col s7', 'col s8', 'col s9', 'col s10', 'col s11', 'col s12']\n                    if(rowClass!=='' && colClass.length===12){\n                        html = html.replace(new RegExp('row clearfix', 'g'), rowClass);\n                        html = html.replace(new RegExp('column full', 'g'), colClass[11]);\n                        html = html.replace(new RegExp('column half', 'g'), colClass[5]);\n                        html = html.replace(new RegExp('column third', 'g'), colClass[3]);\n                        html = html.replace(new RegExp('column fourth', 'g'), colClass[2]);\n                        html = html.replace(new RegExp('column fifth', 'g'), colClass[1]);\n                        html = html.replace(new RegExp('column sixth', 'g'), colClass[1]);\n                        html = html.replace(new RegExp('column two-third', 'g'), colClass[7]);\n                        html = html.replace(new RegExp('column two-fourth', 'g'), colClass[8]);\n                        html = html.replace(new RegExp('column two-fifth', 'g'), colClass[9]);\n                        html = html.replace(new RegExp('column two-sixth', 'g'), colClass[9]);\n                    }\n                    \n                    html = html.replace(/{id}/g, makeid()); // Replace {id} with auto generated id (for custom code snippet)\n        \n                    if(parent._cb.opts.onAdd){\n                        html = parent._cb.opts.onAdd(html);\n                    }\n\n                    if(snippetPathReplace.length>0) {\n                        if (snippetPathReplace[0] != '') {\n                            var regex = new RegExp(snippetPathReplace[0], 'g');\n                            html = html.replace(regex, snippetPathReplace[1]);\n\n                            /* for encoded replace, change / to %2F  */\n                            var slash = new RegExp('/', 'g');\n                            var snippetPathReplace_0 = snippetPathReplace[0].replace(slash, '%2F');\n                            var snippetPathReplace_1 = snippetPathReplace[1].replace(slash, '%2F');\n                            regex = new RegExp(snippetPathReplace_0, 'g');\n                            html = html.replace(regex, snippetPathReplace_1);\n                        }\n                    }\n                    \n                    parent._cb.addSnippet(html, bSnippet, noedit);\n        \n                    var modal = parent.document.querySelector('.is-modal.snippets');\n                    removeClass(modal, 'active');\n        \n                }\n        \n                function hasClass(element, classname) {\n                    if(!element) return false;\n                    return element.classList ? element.classList.contains(classname) : new RegExp('\\b'+ classname+'\\b').test(element.className);\n                }\n        \n                function removeClass(element, classname) {\n                    if(!element) return;\n                    if(element.classList.length>0) {\n                        element.className = element.className.replace(classname, '');\n                    }\n                }\n                \n                function parentsHasClass(element, classname) {\n                    while (element) {\n                        if(element.tagName === 'BODY' || element.tagName === 'HTML') return false;\n                        if(!element.classList) return false;\n                        if (element.classList.contains(classname)) {\n                            return true;\n                        }\n                        element = element.parentNode;\n                    }\n                }\n        \n                function makeid() {//http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n                    var text = "";\n                    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n                    for (var i = 0; i < 2; i++)\n                        text += possible.charAt(Math.floor(Math.random() * possible.length));\n        \n                    var text2 = "";\n                    var possible2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";\n                    for (var i = 0; i < 5; i++)\n                        text2 += possible2.charAt(Math.floor(Math.random() * possible2.length));\n        \n                    return text + text2;\n                }\n        \n            <\/script>\n        \n        </textarea>\n        </body>\n        \n        </html>\n        `}}const Qo=new ni,Jo=e=>{const t=e.util,i=e.builderStuff;let n=i.querySelector(".quickadd");if(!n){const o=`<div class="is-pop quickadd arrow-right" style="z-index:10003;">\n        <div class="is-pop-close" style="display:none;z-index:1;width:40px;height:40px;position:absolute;top:0px;right:0px;box-sizing:border-box;padding:0;line-height:40px;font-size: 12px;color:#777;text-align:center;cursor:pointer;"><svg class="is-icon-flex" style="width:40px;height:40px;"><use xlink:href="#ion-ios-close-empty"></use></svg></div>\n        <div class="is-pop-tabs">\n            <div class="is-pop-tab-item" data-value="left">${t.out("Add to Left")}</div>\n            <div class="is-pop-tab-item active" data-value="right">${t.out("Add to Right")}</div>\n        </div>\n        <div style="padding:12px;display:flex;flex-direction:row;flex-flow: wrap;justify-content: center;align-items: center;">\n            <button title="${t.out("Paragraph")}" class="add-paragraph"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#icon-align-full"></use></svg></span>${t.out("Paragraph")}</button>\n            <button title="${t.out("Headline")}" class="add-headline"><span style="font-family:serif;display:block;margin:0 0 8px;font-size:11px;">H</span>${t.out("Headline")}</button>\n            <button title="${t.out("Image")}" class="add-image"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex ion-image" style="width:14px;height:14px;"><use xlink:href="#ion-image"></use></svg></span>${t.out("Image")}</button>\n            <button title="${t.out("List")}" class="add-list"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-list-bullet"></use></svg></span>${t.out("List")}</button>\n            <button title="${t.out("Heading 1")}" class="add-heading1"><span style="font-family:serif;display:block;margin:0 0 8px;">H1</span>${t.out("Heading 1")}</button>\n            <button title="${t.out("Heading 2")}" class="add-heading2"><span style="font-family:serif;display:block;margin:0 0 8px;">H2</span>${t.out("Heading 2")}</button>\n            <button title="${t.out("Heading 3")}" class="add-heading3"><span style="font-family:serif;display:block;margin:0 0 8px;">H3</span>${t.out("Heading 3")}</button>\n            <button title="${t.out("Heading 4")}" class="add-heading4"><span style="font-family:serif;display:block;margin:0 0 8px;">H4</span>${t.out("Heading 4")}</button>\n            <button title="${t.out("Quote")}" class="add-quote"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-quote"></use></svg></span>${t.out("Quote")}</button>\n            <button title="${t.out("Preformatted")}" class="add-preformatted"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-code"></use></svg></span>${t.out("Preformatted")}</button>\n            ${e.opts.emailMode?"":`<button title="${t.out("Button")}" class="add-button"><span style="display:block;margin:0 0 8px;"><span style="display:inline-block;border:#a1a1a1 1px solid;background:#f3f3f3;width:10px;height:4px;"></span></span>${t.out("Button")}</button>`}\n            ${e.opts.emailMode?"":`<button title="${t.out("Two Button")}" class="add-twobutton"><span style="display:block;margin:0 0 8px;"><span style="display:inline-block;border:#a1a1a1 1px solid;background:#f3f3f3;width:10px;height:4px;"></span></span>${t.out("Two Button")}</button>`}\n            <button title="${t.out("Youtube")}" class="add-youtube"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-social-youtube-outline"></use></svg></use></svg></svg></span>${t.out("Youtube")}</button>\n            <button title="${t.out("Video")}" class="add-video"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-ios-play"></use></svg></use></svg></svg></span>${t.out("Video")}</button>\n            <button title="${t.out("Map")}" class="add-map"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-location"></use></svg></use></svg></svg></span>${t.out("Map")}</button>\n            <button title="${t.out("Table")}" class="add-table"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#icon-table"></use></svg></use></svg></svg></span>${t.out("Table")}</button>\n            <button title="${t.out("Icon")}" class="add-icon"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-android-happy"></use></svg></use></svg></svg></span>${t.out("Icon")}</button>\n            <button title="${t.out("Social Links")}" class="add-social"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-social-twitter"></use></svg></use></svg></svg></span>${t.out("Social Links")}</button>\n            <button title="${t.out("HTML/JS")}" class="add-code"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-code"></use></svg></use></svg></svg></span>${t.out("HTML/JS")}</button>\n            <button title="${t.out("Spacer")}" class="add-spacer"><span style="display:block;margin:0 0 8px;"><span style="display:inline-block;background:#eee;width:30px;height:5px;"></span></span>${t.out("Spacer")}</button>\n            <div class="pop-separator"></div>\n            <button title="${t.out("More...")}" class="add-more" style="flex-direction:initial;">${t.out("More...")}</button>\n        </div>\n        </div>\n        \n        <div class="is-modal snippets">\n            <div class="is-modal-content" style="max-width:1250px;height:90%;padding:0;">\n                <iframe style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n            </div>\n        </div>\n        `;Qo.appendHtml(i,o),n=i.querySelector(".quickadd"),document.addEventListener("click",(e=>{var t=(e=e||window.event).target||e.srcElement;if("flex"===n.style.display){let e=Qo.parentsHasClass(t,"quickadd"),i=Qo.parentsHasClass(t,"row-add"),o=Qo.parentsHasClass(t,"is-rowadd-tool"),s=Qo.parentsHasClass(t,"cell-add"),a=Qo.parentsHasClass(t,"elm-add"),r=Qo.parentsHasClass(t,"row-add-initial");if(e||i||o||s||a||r)return;n.style.display=""}}));let s=n.querySelectorAll(".is-pop-tab-item");Array.prototype.forEach.call(s,(e=>{Qo.addEventListener(e,"click",(e=>{let t=n.querySelectorAll(".is-pop-tab-item");Array.prototype.forEach.call(t,(e=>{Qo.removeClass(e,"active")})),Qo.addClass(e.target,"active"),"left"===n.querySelector(".active").getAttribute("data-value")?n.setAttribute("data-mode","cell-left"):n.setAttribute("data-mode","cell-right")}))}));let a=n.querySelector(".add-paragraph");Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent("<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. \n            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, \n            when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>",e)})),a=n.querySelector(".add-headline"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent('<div class="display">\n                <h1>Headline Goes Here</h1>\n                <p>Lorem Ipsum is simply dummy text</p>\n            </div>',e)})),a=n.querySelector(".add-image"),Qo.addEventListener(a,"click",(()=>{const i=n.getAttribute("data-mode");let o=`<img onload="imageLoaded(this)" src="${e.opts.snippetPath}example.png" alt="" />`;e.opts.snippetSampleImage&&(o=`<img onload="imageLoaded(this)" src="${e.opts.snippetSampleImage}" alt="" />`),t.addContent(o,i)})),a=n.querySelector(".add-heading1"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent("<h1>Heading 1 here</h1>",e)})),a=n.querySelector(".add-heading2"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent("<h2>Heading 2 here</h2>",e)})),a=n.querySelector(".add-heading3"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent("<h3>Heading 3 here</h3>",e)})),a=n.querySelector(".add-heading4"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent("<h4>Heading 4 here</h4>",e)})),a=n.querySelector(".add-preformatted"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent("<pre>Lorem Ipsum is simply dummy text of the printing and typesetting industry. \n            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, \n            when an unknown printer took a galley of type and scrambled it to make a type specimen book.</pre>",e)})),a=n.querySelector(".add-list"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent('<ul style="list-style: initial;padding-left: 20px;">\n                <li>Lorem Ipsum is simply dummy text</li>\n                <li>Lorem Ipsum is simply dummy text</li>\n            </ul>',e)})),a=n.querySelector(".add-quote"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent("<blockquote>Lorem Ipsum is simply dummy text</blockquote>",e)})),a=n.querySelector(".add-button"),a&&Qo.addEventListener(a,"click",(()=>{const i=n.getAttribute("data-mode");let o='<div>\n                <a href="#" class="transition-all inline-block cursor-pointer no-underline border-2 border-solid border-transparent ml-1 mr-1 hover:border-transparent rounded bg-gray-200 hover:bg-gray-300 tracking-75 uppercase py-2 size-14 px-8 font-semibold text-gray-600">Read More</a>\n            </div>';e.opts.emailMode&&(o='<div><a href="#" style="margin-top: ;margin-right: ;margin-bottom: ;margin-left: ;display: inline-block; text-decoration: none; transition: all 0.16s ease 0s; border-style: solid; cursor: pointer; background-color: rgb(220, 220, 220); color: rgb(0, 0, 0); border-color: rgb(220, 220, 220); border-width: 2px; border-radius: 0px; padding: 13px 28px; line-height: 21px; text-transform: uppercase; font-weight: 400; font-size: 14px; letter-spacing: 3px;">Read More</a></div>'),t.addContent(o,i)})),a=n.querySelector(".add-twobutton"),a&&Qo.addEventListener(a,"click",(()=>{const i=n.getAttribute("data-mode");let o='<div>\n                <a href="#" class="transition-all inline-block cursor-pointer no-underline border-2 border-solid border-transparent ml-1 mr-1 hover:border-transparent rounded bg-gray-200 hover:bg-gray-300 tracking-75 uppercase py-2 size-14 px-8 font-semibold text-gray-600">Read More</a>\n                <a href="#" class="transition-all inline-block cursor-pointer no-underline border-2 border-solid ml-1 mr-1 rounded tracking-75 uppercase py-2 size-14 px-8 border-current hover:border-transparent hover:text-white font-semibold text-indigo-500 hover:bg-indigo-500">Get Started</a>\n            </div>';e.opts.emailMode&&(o='<div>\n                    <a href="#" style="margin-top: ;margin-right: ;margin-bottom: ;margin-left: ;display: inline-block; text-decoration: none; transition: all 0.16s ease 0s; border-style: solid; cursor: pointer; background-color: rgb(220, 220, 220); color: rgb(0, 0, 0); border-color: rgb(220, 220, 220); border-width: 2px; border-radius: 0px; padding: 13px 28px; line-height: 21px; text-transform: uppercase; font-weight: 400; font-size: 14px; letter-spacing: 3px;">Read More</a> &nbsp;\n                    <a href="#" style="display: inline-block; text-decoration: none; transition: all 0.16s ease 0s; border-style: solid; cursor: pointer; background-color: rgba(0, 0, 0, 0); border-color: rgb(53, 53, 53); border-width: 2px; border-radius: 0px; padding: 13px 28px; line-height: 21px; text-transform: uppercase; font-weight: 600; font-size: 14px; letter-spacing: 3px; color: rgb(53, 53, 53);">Get Started</a>\n                </div>'),t.addContent(o,i)})),a=n.querySelector(".add-spacer"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent('<div class="spacer height-80"></div>',e)})),a=n.querySelector(".add-code"),Qo.addEventListener(a,"click",(()=>{let i='<div class="row clearfix"><div class="column full" data-noedit data-html="'+encodeURIComponent("<h1 id=\"{id}\">Lorem ipsum</h1><p>This is a code block. You can edit this block using the source dialog.</p><script>var docReady = function (fn) {var stateCheck = setInterval(function () {if (document.readyState !== \"complete\") return;clearInterval(stateCheck);try{fn()}catch(e){}}, 1);};docReady(function() {document.querySelector('#{id}').innerHTML ='<b>Hello World..!</b>';});<\/script>")+'"></div></div>',n=e.opts.snippetPathReplace,o=e.opts.row,s=e.opts.cols;if(""!==o&&12===s.length&&(i=i.replace(new RegExp("row clearfix","g"),o),i=i.replace(new RegExp("column full","g"),s[11]),i=i.replace(new RegExp("column half","g"),s[5]),i=i.replace(new RegExp("column third","g"),s[3]),i=i.replace(new RegExp("column fourth","g"),s[2]),i=i.replace(new RegExp("column fifth","g"),s[1]),i=i.replace(new RegExp("column sixth","g"),s[1]),i=i.replace(new RegExp("column two-third","g"),s[7]),i=i.replace(new RegExp("column two-fourth","g"),s[8]),i=i.replace(new RegExp("column two-fifth","g"),s[9]),i=i.replace(new RegExp("column two-sixth","g"),s[9])),i=i.replace(/{id}/g,t.makeId()),e.opts.onAdd&&(i=e.opts.onAdd(i)),n.length>0&&""!==n[0]){let e=new RegExp(n[0],"g");i=i.replace(e,n[1])}e.addSnippet(i,!1,!0)})),a=n.querySelector(".add-table"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent('<table class="default" style="border-collapse:collapse;width:100%;">\n                <thead>\n                <tr>\n                    <td><br></td>\n                    <td><br></td>\n                </tr>\n                </thead>\n                <tr>\n                    <td><br></td>\n                    <td><br></td>\n                </tr>\n            </table>',e)})),a=n.querySelector(".add-icon"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent('<div style="text-align: center;">\n            <i class="icon ion-android-alarm-clock size-80"></i>\n            </div>',e)})),a=n.querySelector(".add-social"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent('<div class="is-social" style="text-align: center;">\n                <a href="https://twitter.com/"><i class="icon ion-social-twitter" style="margin-right: 1em"></i></a>\n                <a href="https://www.facebook.com/"><i class="icon ion-social-facebook" style="margin-right: 1em"></i></a>\n                <a href="mailto:you@example.com"><i class="icon ion-android-drafts"></i></a>\n            </div>',e)})),a=n.querySelector(".add-map"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent('<div class="embed-responsive embed-responsive-16by9">\n            <iframe width="100%" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" class="mg1" src="https://maps.google.com/maps?q=Melbourne,+Victoria,+Australia&amp;hl=en&amp;sll=-7.981898,112.626504&amp;sspn=0.009084,0.016512&amp;oq=melbourne&amp;hnear=Melbourne+Victoria,+Australia&amp;t=m&amp;z=10&amp;output=embed"></iframe>\n            </div>',e)})),a=n.querySelector(".add-youtube"),Qo.addEventListener(a,"click",(()=>{const e=n.getAttribute("data-mode");t.addContent('<div class="embed-responsive embed-responsive-16by9">\n                <iframe width="560" height="315" src="https://www.youtube.com/embed/P5yHEKqx86U?rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>\n            </div>',e)})),a=n.querySelector(".add-video"),Qo.addEventListener(a,"click",(()=>{const i=n.getAttribute("data-mode");let o=`<video style="width: 100%;" loop="" autoplay="">\n                <source src="${e.opts.snippetPath}example.mp4" type="video/mp4"></video>`;e.opts.snippetSampleVideo&&(o=`<video style="width: 100%;" loop="" autoplay="">\n                    <source src="${e.opts.snippetSampleVideo}" type="video/mp4"></video>`),t.addContent(o,i)}));const r=new Zo(e);a=n.querySelector(".add-more"),Qo.addEventListener(a,"click",(()=>{let e=i.querySelector(".snippets");t.showModal(e,!1,null,!1);var o=e.querySelector("iframe").contentWindow.document;""===o.body.innerHTML&&(o.open(),o.write(r.getSnippetsHtml()),o.close()),n.style.display=""}))}return n},es=new ni;class ts{constructor(e){this.builder=e,this.columnTool=new ns(e),this.rowTool=new is(e),this.util=new ii(this.builder)}moveColumnPrevious(){let e=this.columnTool;const t=this.util.cellSelected();t&&t.previousElementSibling&&(this.builder.uo.saveForUndo(),t.parentElement.insertBefore(t,t.previousElementSibling),e.position(t),this.builder.opts.onChange())}moveColumnNext(){let e=this.columnTool,t=this.util;const i=t.cellSelected();if(!i)return;const n=t.cellNext(i);n&&(this.builder.uo.saveForUndo(),i.parentElement.insertBefore(n,i),e.position(i),this.builder.opts.onChange())}moveColumnUp(){let e=this.builder,t=this.columnTool,i=this.util;const n=i.cellSelected();if(!n)return;let o=n.parentNode,s=2;if(o.querySelector(".is-row-overlay")&&(s=3),o.childElementCount-s==1){if(!o.previousElementSibling)return;{let i=4;if(this.builder.maxColumns&&(i=this.builder.maxColumns),o.previousElementSibling.childElementCount>=i+s||o.previousElementSibling.hasAttribute("data-protected"))return this.builder.uo.saveForUndo(),o.parentNode.insertBefore(o,o.previousElementSibling),t.position(n),void this.builder.opts.onChange();{this.builder.uo.saveForUndo();let i=o.previousElementSibling.querySelector(".is-row-tool");o.previousElementSibling.removeChild(i),i=o.previousElementSibling.querySelector(".is-rowadd-tool"),o.previousElementSibling.removeChild(i),o.previousElementSibling.appendChild(n),o.parentNode.removeChild(o);let s=document.querySelector(".builder-active");e.applyBehaviorOn(s),t.position(n),n.click(),this.builder.opts.onChange()}}}else{this.builder.uo.saveForUndo();var a=o.cloneNode(!0);a.innerHTML="",a.appendChild(n),o.parentNode.insertBefore(a,o);let i=document.querySelector(".builder-active");e.applyBehaviorOn(i),t.position(n),n.click(),this.builder.opts.onChange()}o=n.parentNode,i.fixLayout(o,e),o.nextElementSibling&&i.fixLayout(o.nextElementSibling,e)}moveColumnDown(){let e=this.builder,t=this.columnTool,i=this.util;const n=i.cellSelected();if(!n)return;let o=n.parentNode,s=2;if(o.querySelector(".is-row-overlay")&&(s=3),o.childElementCount-s==1){if(!o.nextElementSibling)return;{let i=4;if(this.builder.maxColumns&&(i=this.builder.maxColumns),o.nextElementSibling.childElementCount>=i+s||o.nextElementSibling.hasAttribute("data-protected"))return this.builder.uo.saveForUndo(),o.parentNode.insertBefore(o.nextElementSibling,o),t.position(n),void this.builder.opts.onChange();{this.builder.uo.saveForUndo();let i=o.nextElementSibling.querySelector(".is-row-tool");o.nextElementSibling.removeChild(i),i=o.nextElementSibling.querySelector(".is-rowadd-tool"),o.nextElementSibling.removeChild(i),o.nextElementSibling.appendChild(n),o.parentNode.removeChild(o);let s=document.querySelector(".builder-active");e.applyBehaviorOn(s),t.position(n),n.click(),this.builder.opts.onChange()}}}else{this.builder.uo.saveForUndo();var a=o.cloneNode(!0);a.innerHTML="",a.appendChild(n),es.moveAfter(a,o);let i=document.querySelector(".builder-active");e.applyBehaviorOn(i),t.position(n),n.click(),this.builder.opts.onChange()}o=n.parentNode,i.fixLayout(o,e),o.previousElementSibling&&i.fixLayout(o.previousElementSibling,e)}duplicateColumn(){let e=this.builder,t=this.columnTool,i=this.util;const n=i.cellSelected();if(!n)return;this.builder.uo.saveForUndo();var o=n.cloneNode(!0);es.removeClass(o,"cell-active"),o.removeAttribute("data-click");let s=n.parentNode,a=2;s.querySelector(".is-row-overlay")&&(a=3);let r=4;if(this.builder.maxColumns&&(r=this.builder.maxColumns),s.childElementCount>=r+a)return alert(i.out("You have reached the maximum number of columns")),!1;s.insertBefore(o,n),i.fixLayout(s,e);let l=document.querySelector(".builder-active");e.applyBehaviorOn(l),t.position(n),n.click(),this.builder.opts.onChange()}removeColumn(){let e=this.builder,t=this.columnTool,i=this.util;const n=i.cellSelected();if(!n)return;let o=n.parentNode,s=2;o.querySelector(".is-row-overlay")&&(s=3),t.hide(),i.confirm(i.out("Are you sure you want to delete this block?"),(a=>{a?(this.builder.uo.saveForUndo(),o.childElementCount-s==1?(o.parentNode.removeChild(o),i.checkEmpty()):(o.removeChild(n),i.fixLayout(o,e)),i.clearActiveCell(),this.builder.opts.onChange()):setTimeout((()=>{t.position(n),t.show()}),200)}))}increaseColumn(){let e=this.builder,t=this.columnTool,i=this.util;const n=i.cellSelected();if(!n)return;let o,s=i.cellNext(n);if(s)o=i.cellNext(s),o||(o=n.previousElementSibling);else{if(s=n.previousElementSibling,!s)return;o=s.previousElementSibling}const a=e.opts.row,r=e.opts.cols,l=e.opts.colsizes;if(""!==a&&r.length>0&&l.length>0){if(o)for(let e=0;e<l.length;e++){let i=l[e];for(let e=0;e<i.length;e++)if(3===i[e].length&&es.hasClass(n,i[e][0])&&es.hasClass(s,i[e][1])&&es.hasClass(o,i[e][2])&&e+1!==i.length)return this.builder.uo.saveForUndo(),es.removeClass(n,i[e][0]),es.removeClass(s,i[e][1]),es.removeClass(o,i[e][2]),es.addClass(n,i[e+1][0]),es.addClass(s,i[e+1][1]),es.addClass(o,i[e+1][2]),t.position(n),void this.builder.opts.onChange()}for(let e=0;e<l.length;e++){let i=l[e];for(let e=0;e<i.length;e++)if(2===i[e].length&&es.hasClass(n,i[e][0])&&es.hasClass(s,i[e][1])&&e+1!==i.length)return this.builder.uo.saveForUndo(),es.removeClass(n,i[e][0]),es.removeClass(s,i[e][1]),es.addClass(n,i[e+1][0]),es.addClass(s,i[e+1][1]),t.position(n),void this.builder.opts.onChange()}t.position(n)}else if(""!==a&&r.length>0&&!es.hasClass(n,r[11])){if(es.hasClass(n,r[11]))return;if(es.hasClass(s,r[0]))return;this.builder.uo.saveForUndo(),es.hasClass(n,r[10])?(es.removeClass(n,r[10]),es.addClass(n,r[11])):es.hasClass(n,r[9])?(es.removeClass(n,r[9]),es.addClass(n,r[10])):es.hasClass(n,r[8])?(es.removeClass(n,r[8]),es.addClass(n,r[9])):es.hasClass(n,r[7])?(es.removeClass(n,r[7]),es.addClass(n,r[8])):es.hasClass(n,r[6])?(es.removeClass(n,r[6]),es.addClass(n,r[7])):es.hasClass(n,r[5])?(es.removeClass(n,r[5]),es.addClass(n,r[6])):es.hasClass(n,r[4])?(es.removeClass(n,r[4]),es.addClass(n,r[5])):es.hasClass(n,r[3])?(es.removeClass(n,r[3]),es.addClass(n,r[4])):es.hasClass(n,r[2])?(es.removeClass(n,r[2]),es.addClass(n,r[3])):es.hasClass(n,r[1])?(es.removeClass(n,r[1]),es.addClass(n,r[2])):es.hasClass(n,r[0])&&(es.removeClass(n,r[0]),es.addClass(n,r[1])),es.hasClass(s,r[1])?(es.removeClass(s,r[1]),es.addClass(s,r[0])):es.hasClass(s,r[2])?(es.removeClass(s,r[2]),es.addClass(s,r[1])):es.hasClass(s,r[3])?(es.removeClass(s,r[3]),es.addClass(s,r[2])):es.hasClass(s,r[4])?(es.removeClass(s,r[4]),es.addClass(s,r[3])):es.hasClass(s,r[5])?(es.removeClass(s,r[5]),es.addClass(s,r[4])):es.hasClass(s,r[6])?(es.removeClass(s,r[6]),es.addClass(s,r[5])):es.hasClass(s,r[7])?(es.removeClass(s,r[7]),es.addClass(s,r[6])):es.hasClass(s,r[8])?(es.removeClass(s,r[8]),es.addClass(s,r[7])):es.hasClass(s,r[9])?(es.removeClass(s,r[9]),es.addClass(s,r[8])):es.hasClass(s,r[10])?(es.removeClass(s,r[10]),es.addClass(s,r[9])):es.hasClass(s,r[11])&&(es.removeClass(s,r[11]),es.addClass(s,r[10])),t.position(n),this.builder.opts.onChange()}}decreaseColumn(){let e=this.builder,t=this.columnTool,i=this.util;const n=i.cellSelected();if(!n)return;let o,s=i.cellNext(n);if(s)o=i.cellNext(s),o||(o=n.previousElementSibling);else{if(s=n.previousElementSibling,!s)return;o=s.previousElementSibling}const a=e.opts.row,r=e.opts.cols,l=e.opts.colsizes;if(""!==a&&r.length>0&&l.length>0){if(o)for(let e=0;e<l.length;e++){let i=l[e];for(let e=0;e<i.length;e++)if(3===i[e].length&&es.hasClass(n,i[e][0])&&es.hasClass(s,i[e][1])&&es.hasClass(o,i[e][2])&&0!==e)return this.builder.uo.saveForUndo(),es.removeClass(n,i[e][0]),es.removeClass(s,i[e][1]),es.removeClass(o,i[e][2]),es.addClass(n,i[e-1][0]),es.addClass(s,i[e-1][1]),es.addClass(o,i[e-1][2]),t.position(n),void this.builder.opts.onChange()}for(let e=0;e<l.length;e++){let i=l[e];for(let e=0;e<i.length;e++)if(2===i[e].length&&es.hasClass(n,i[e][0])&&es.hasClass(s,i[e][1])&&0!==e)return this.builder.uo.saveForUndo(),es.removeClass(n,i[e][0]),es.removeClass(s,i[e][1]),es.addClass(n,i[e-1][0]),es.addClass(s,i[e-1][1]),t.position(n),void this.builder.opts.onChange()}t.position(n)}else if(""!==a&&r.length>0&&!es.hasClass(n,r[11])){if(es.hasClass(n,r[0]))return;if(es.hasClass(s,r[11]))return;this.builder.uo.saveForUndo(),es.hasClass(n,r[11])?(es.removeClass(n,r[11]),es.addClass(n,r[10])):es.hasClass(n,r[10])?(es.removeClass(n,r[10]),es.addClass(n,r[9])):es.hasClass(n,r[9])?(es.removeClass(n,r[9]),es.addClass(n,r[8])):es.hasClass(n,r[8])?(es.removeClass(n,r[8]),es.addClass(n,r[7])):es.hasClass(n,r[7])?(es.removeClass(n,r[7]),es.addClass(n,r[6])):es.hasClass(n,r[6])?(es.removeClass(n,r[6]),es.addClass(n,r[5])):es.hasClass(n,r[5])?(es.removeClass(n,r[5]),es.addClass(n,r[4])):es.hasClass(n,r[4])?(es.removeClass(n,r[4]),es.addClass(n,r[3])):es.hasClass(n,r[3])?(es.removeClass(n,r[3]),es.addClass(n,r[2])):es.hasClass(n,r[2])?(es.removeClass(n,r[2]),es.addClass(n,r[1])):es.hasClass(n,r[1])&&(es.removeClass(n,r[1]),es.addClass(n,r[0])),es.hasClass(s,r[0])?(es.removeClass(s,r[0]),es.addClass(s,r[1])):es.hasClass(s,r[1])?(es.removeClass(s,r[1]),es.addClass(s,r[2])):es.hasClass(s,r[2])?(es.removeClass(s,r[2]),es.addClass(s,r[3])):es.hasClass(s,r[3])?(es.removeClass(s,r[3]),es.addClass(s,r[4])):es.hasClass(s,r[4])?(es.removeClass(s,r[4]),es.addClass(s,r[5])):es.hasClass(s,r[5])?(es.removeClass(s,r[5]),es.addClass(s,r[6])):es.hasClass(s,r[6])?(es.removeClass(s,r[6]),es.addClass(s,r[7])):es.hasClass(s,r[7])?(es.removeClass(s,r[7]),es.addClass(s,r[8])):es.hasClass(s,r[8])?(es.removeClass(s,r[8]),es.addClass(s,r[9])):es.hasClass(s,r[9])?(es.removeClass(s,r[9]),es.addClass(s,r[10])):es.hasClass(s,r[10])&&(es.removeClass(s,r[10]),es.addClass(s,r[11])),t.position(n),this.builder.opts.onChange()}}removeRow(){let e=this.util;const t=e.cellSelected();if(!t)return;const i=t.parentNode;es.removeClass(i,"row-outline"),this.columnTool.hide(),e.confirm(e.out("Are you sure you want to delete this block?"),(t=>{const i=e.cellSelected();if(!i)return;const n=i.parentNode;t&&(this.builder.uo.saveForUndo(),n.parentNode.removeChild(n),e.checkEmpty(),this.builder.opts.onChange())}))}moveRowUp(){let e=this.columnTool,t=this.util;const i=t.cellSelected();if(!i)return;let n=i.parentNode;if(es.removeClass(n,"row-outline"),e.hide(),n.previousElementSibling)this.builder.uo.saveForUndo(),n.parentNode.insertBefore(n,n.previousElementSibling),this.rowTool.position(n),this.builder.opts.onChange();else{let e=n.parentNode,i=null;const o=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(o,(o=>{if(o.innerHTML===e.innerHTML&&i)return es.moveAfter(n,i.lastChild),this.rowTool.position(n),t.checkEmpty(),this.builder.opts.onChange(),!1;i=o}))}}moveRowDown(){let e=this.columnTool,t=this.util;const i=t.cellSelected();if(!i)return;let n=i.parentNode;if(es.removeClass(n,"row-outline"),e.hide(),n.nextElementSibling)this.builder.uo.saveForUndo(),n.parentNode.insertBefore(n.nextElementSibling,n),this.rowTool.position(n),this.builder.opts.onChange();else{let e=n.parentNode,i=!1;const o=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(o,(o=>{if(i)return o.insertBefore(n,o.firstChild),this.rowTool.position(n),t.checkEmpty(),this.builder.opts.onChange(),!1;o.innerHTML===e.innerHTML&&(i=!0)}))}}duplicateRow(){let e=this.builder,t=this.columnTool;const i=this.util.cellSelected();if(!i)return;let n=i.parentNode;es.removeClass(n,"row-outline"),t.hide(),this.builder.uo.saveForUndo();const o=n.cloneNode(!0);o.removeChild(o.querySelector(".is-row-tool"));let s=es.elementChildren(o);s.forEach((t=>{t.removeAttribute("data-click"),t.classList.contains("cell-active")&&(e.activeCol=t)})),es.moveAfter(o,n),es.removeClass(n,"row-active"),es.removeClass(n,"row-outline"),s=es.elementChildren(n),s.forEach((e=>{es.removeClass(e,"cell-active")}));let a=document.querySelector(".builder-active");e.applyBehaviorOn(a),this.rowTool.position(o),this.builder.opts.onChange()}refreshColumnTool(e){this.columnTool.position(e)}showColumnTool(){this.columnTool.show()}hideColumnTool(){this.columnTool.hide()}}class is{constructor(e){this.builder=e}position(e){const t=this.builder.builderStuff;let i=e.querySelector(".is-row-tool"),n=t.querySelector(".rowmore");es.addClass(n,"transition1");const o=i.querySelector(".row-more"),s=o.getBoundingClientRect().top+window.pageYOffset,a=o.getBoundingClientRect().left+window.pageXOffset;n.style.top=s-8+"px",es.removeClass(n,"arrow-bottom"),es.removeClass(n,"arrow-left"),es.removeClass(n,"arrow-right"),es.removeClass(n,"center"),es.removeClass(n,"right"),es.removeClass(n,"left"),"right"===this.builder.opts.rowTool?(n.style.left=a-n.offsetWidth-10+"px",es.addClass(n,"arrow-right"),es.addClass(n,"left")):(n.style.left=a+35+"px",es.addClass(n,"arrow-left"),es.addClass(n,"left")),setTimeout((()=>{es.removeClass(n,"transition1")}),300)}}class ns{constructor(e){this.builder=e}position(e){const t=this.builder.builderStuff;this.columnTool=t.querySelector(".is-column-tool"),this.columnMore=t.querySelector(".columnmore"),es.addClass(this.columnMore,"transition1"),setTimeout((()=>{this.columnTool.style.top=e.getBoundingClientRect().top-29+window.pageYOffset+"px",this.columnTool.style.left=e.getBoundingClientRect().left-1+"px";let t=parseInt(this.columnTool.style.top),i=parseInt(this.columnTool.style.left);this.columnMore.style.top=t+35+"px",this.columnMore.style.left=i+19+"px",setTimeout((()=>{es.removeClass(this.columnMore,"transition1")}),300)}),300)}hide(){const e=this.builder.builderStuff;this.columnTool=e.querySelector(".is-column-tool"),es.removeClass(this.columnTool,"active")}show(){const e=this.builder.builderStuff;this.columnTool=e.querySelector(".is-column-tool"),es.addClass(this.columnTool,"active")}}let os,ss,as,rs,ls,ds,cs,us;class ps{constructor(e={}){this.opts=e;const t=document.querySelectorAll(this.opts.selector);Array.prototype.forEach.call(t,(e=>{e.setAttribute("draggable",""),e.addEventListener("touchstart",this.dragStart,!1),e.addEventListener("touchend",this.dragEnd,!1),e.addEventListener("mousedown",this.dragStart,!1),e.addEventListener("mouseup",this.dragEnd,!1)})),document.addEventListener("touchmove",this.drag,!1),document.addEventListener("mousemove",this.drag,!1)}dragStart(e){var t,i;e.target.hasAttribute("draggable")&&(cs=!0,us=e.target.parentElement,us.getAttribute("data-xOffset")?t=us.getAttribute("data-xOffset"):(us.setAttribute("data-xOffset",0),t=0),us.getAttribute("data-yOffset")?i=us.getAttribute("data-yOffset"):(us.setAttribute("data-yOffset",0),i=0),"touchstart"===e.type?(os=e.touches[0].clientX-t,ss=e.touches[0].clientY-i):(os=e.clientX-t,ss=e.clientY-i),us.setAttribute("data-initialX",os),us.setAttribute("data-initialY",ss))}dragEnd(e){e.target.hasAttribute("draggable")&&(as=us.getAttribute("data-currentX"),rs=us.getAttribute("data-currentY"),os=as,ss=rs,us.setAttribute("data-initialX",os),us.setAttribute("data-initialY",ss),cs=!1)}drag(e){if(cs){e.preventDefault();var t=us.getAttribute("data-initialX"),i=us.getAttribute("data-initialY");"touchmove"===e.type?(as=e.touches[0].clientX-t,rs=e.touches[0].clientY-i):(as=e.clientX-t,rs=e.clientY-i),us.style.transform="translate3d("+as+"px, "+rs+"px, 0)",us.setAttribute("data-currentX",as),us.setAttribute("data-currentY",rs),ls=as,ds=rs,us.setAttribute("data-xOffset",ls),us.setAttribute("data-yOffset",ds)}}isTouchSupport(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}}const hs=new ni,gs=new ni;class fs{constructor(e,t={}){this.opts=Object.assign(this,{onChange:function(){}},t);const i=e;let n=i.getAttribute("data-group"),o=document.querySelector('.is-selectbox-options[data-group="'+n+'"]');this.opts.dropdown&&(o=this.opts.dropdown),gs.addEventListener(i,"click",(()=>{if("none"===o.style.display){let e=document.querySelectorAll(".is-selectbox-options");Array.prototype.forEach.call(e,(e=>{e.style.display="none"})),o.style.display="block",gs.elementChildren(o).forEach((e=>{gs.removeClass(e,"selected")}));let t=i.getAttribute("data-value"),n=o.querySelector('[data-value="'+t+'"]');n&&gs.addClass(n,"selected")}else o.style.display="none"}));gs.elementChildren(o).forEach((e=>{gs.addEventListener(e,"click",(()=>{o.style.display="none";let t=e.getAttribute("data-value");i.querySelector("span").innerHTML=e.innerHTML,i.setAttribute("data-value",t),this.opts.onChange(t)}))}))}}
/**!
     * Sortable 1.14.0
     * @author	RubaXa   <trash@rubaxa.org>
     * @author	owenm    <owen23355@gmail.com>
     * @license MIT
     */function ms(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vs(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(i),!0).forEach((function(t){ys(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ms(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function bs(e){return(bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ys(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _s(){return(_s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function xs(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function ws(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Ss=ws(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Cs=ws(/Edge/i),ks=ws(/firefox/i),Es=ws(/safari/i)&&!ws(/chrome/i)&&!ws(/android/i),As=ws(/iP(ad|od|hone)/i),qs=ws(/chrome/i)&&ws(/android/i),Ts={capture:!1,passive:!1};function Ls(e,t,i){e.addEventListener(t,i,!Ss&&Ts)}function Ms(e,t,i){e.removeEventListener(t,i,!Ss&&Ts)}function Os(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Rs(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ns(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&Os(e,t):Os(e,t))||n&&e===i)return e;if(e===i)break}while(e=Rs(e))}return null}var Bs,Is=/\s+/g;function Ds(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(Is," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(Is," ")}}function $s(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function Ps(e,t){var i="";if("string"==typeof e)i=e;else do{var n=$s(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(i)}function Hs(e,t,i){if(e){var n=e.getElementsByTagName(t),o=0,s=n.length;if(i)for(;o<s;o++)i(n[o],o);return n}return[]}function zs(){var e=document.scrollingElement;return e||document.documentElement}function Fs(e,t,i,n,o){if(e.getBoundingClientRect||e===window){var s,a,r,l,d,c,u;if(e!==window&&e.parentNode&&e!==zs()?(a=(s=e.getBoundingClientRect()).top,r=s.left,l=s.bottom,d=s.right,c=s.height,u=s.width):(a=0,r=0,l=window.innerHeight,d=window.innerWidth,c=window.innerHeight,u=window.innerWidth),(t||i)&&e!==window&&(o=o||e.parentNode,!Ss))do{if(o&&o.getBoundingClientRect&&("none"!==$s(o,"transform")||i&&"static"!==$s(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt($s(o,"border-top-width")),r-=p.left+parseInt($s(o,"border-left-width")),l=a+s.height,d=r+s.width;break}}while(o=o.parentNode);if(n&&e!==window){var h=Ps(o||e),g=h&&h.a,f=h&&h.d;h&&(l=(a/=f)+(c/=f),d=(r/=g)+(u/=g))}return{top:a,left:r,bottom:l,right:d,width:u,height:c}}}function js(e,t,i){for(var n=Ys(e,!0),o=Fs(e)[t];n;){var s=Fs(n)[i];if(!("top"===i||"left"===i?o>=s:o<=s))return n;if(n===zs())break;n=Ys(n,!1)}return!1}function Us(e,t,i,n){for(var o=0,s=0,a=e.children;s<a.length;){if("none"!==a[s].style.display&&a[s]!==Za.ghost&&(n||a[s]!==Za.dragged)&&Ns(a[s],i.draggable,e,!1)){if(o===t)return a[s];o++}s++}return null}function Ws(e,t){for(var i=e.lastElementChild;i&&(i===Za.ghost||"none"===$s(i,"display")||t&&!Os(i,t));)i=i.previousElementSibling;return i||null}function Gs(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Za.clone||t&&!Os(e,t)||i++;return i}function Vs(e){var t=0,i=0,n=zs();if(e)do{var o=Ps(e),s=o.a,a=o.d;t+=e.scrollLeft*s,i+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,i]}function Ys(e,t){if(!e||!e.getBoundingClientRect)return zs();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var o=$s(i);if(i.clientWidth<i.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!i.getBoundingClientRect||i===document.body)return zs();if(n||t)return i;n=!0}}}while(i=i.parentNode);return zs()}function Xs(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ks(e,t){return function(){if(!Bs){var i=arguments,n=this;1===i.length?e.call(n,i[0]):e.apply(n,i),Bs=setTimeout((function(){Bs=void 0}),t)}}}function Zs(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function Qs(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}var Js="Sortable"+(new Date).getTime();function ea(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==$s(e,"display")&&e!==Za.ghost){t.push({target:e,rect:Fs(e)});var i=vs({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=Ps(e,!0);n&&(i.top-=n.f,i.left-=n.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var o=!1,s=0;t.forEach((function(e){var t=0,i=e.target,a=i.fromRect,r=Fs(i),l=i.prevFromRect,d=i.prevToRect,c=e.rect,u=Ps(i,!0);u&&(r.top-=u.f,r.left-=u.e),i.toRect=r,i.thisAnimationDuration&&Xs(l,r)&&!Xs(a,r)&&(c.top-r.top)/(c.left-r.left)==(a.top-r.top)/(a.left-r.left)&&(t=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(c,l,d,n.options)),Xs(r,a)||(i.prevFromRect=a,i.prevToRect=r,t||(t=n.options.animation),n.animate(i,c,r,t)),t&&(o=!0,s=Math.max(s,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof i&&i()}),s):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,n){if(n){$s(e,"transition",""),$s(e,"transform","");var o=Ps(this.el),s=o&&o.a,a=o&&o.d,r=(t.left-i.left)/(s||1),l=(t.top-i.top)/(a||1);e.animatingX=!!r,e.animatingY=!!l,$s(e,"transform","translate3d("+r+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),$s(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),$s(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){$s(e,"transition",""),$s(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var ta=[],ia={initializeByDefault:!0},na={mount:function(e){for(var t in ia)ia.hasOwnProperty(t)&&!(t in e)&&(e[t]=ia[t]);ta.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),ta.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var o=e+"Global";ta.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][o]&&t[n.pluginName][o](vs({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](vs({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var o in ta.forEach((function(n){var o=n.pluginName;if(e.options[o]||n.initializeByDefault){var s=new n(e,t,e.options);s.sortable=e,s.options=e.options,e[o]=s,_s(i,s.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);void 0!==s&&(e.options[o]=s)}},getEventProperties:function(e,t){var i={};return ta.forEach((function(n){"function"==typeof n.eventProperties&&_s(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return ta.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(n=o.optionListeners[t].call(e[o.pluginName],i))})),n}};var oa=["evt"],sa=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,o=xs(i,oa);na.pluginEvent.bind(Za)(e,t,vs({dragEl:ra,parentEl:la,ghostEl:da,rootEl:ca,nextEl:ua,lastDownEl:pa,cloneEl:ha,cloneHidden:ga,dragStarted:Aa,putSortable:_a,activeSortable:Za.active,originalEvent:n,oldIndex:fa,oldDraggableIndex:va,newIndex:ma,newDraggableIndex:ba,hideGhostForTarget:Va,unhideGhostForTarget:Ya,cloneNowHidden:function(){ga=!0},cloneNowShown:function(){ga=!1},dispatchSortableEvent:function(e){aa({sortable:t,name:e,originalEvent:n})}},o))};function aa(e){!function(e){var t=e.sortable,i=e.rootEl,n=e.name,o=e.targetEl,s=e.cloneEl,a=e.toEl,r=e.fromEl,l=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,g=e.extraEventProperties;if(t=t||i&&i[Js]){var f,m=t.options,v="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||Ss||Cs?(f=document.createEvent("Event")).initEvent(n,!0,!0):f=new CustomEvent(n,{bubbles:!0,cancelable:!0}),f.to=a||i,f.from=r||i,f.item=o||i,f.clone=s,f.oldIndex=l,f.newIndex=d,f.oldDraggableIndex=c,f.newDraggableIndex=u,f.originalEvent=p,f.pullMode=h?h.lastPutMode:void 0;var b=vs(vs({},g),na.getEventProperties(n,t));for(var y in b)f[y]=b[y];i&&i.dispatchEvent(f),m[v]&&m[v].call(t,f)}}(vs({putSortable:_a,cloneEl:ha,targetEl:ra,rootEl:ca,oldIndex:fa,oldDraggableIndex:va,newIndex:ma,newDraggableIndex:ba},e))}var ra,la,da,ca,ua,pa,ha,ga,fa,ma,va,ba,ya,_a,xa,wa,Sa,Ca,ka,Ea,Aa,qa,Ta,La,Ma,Oa=!1,Ra=!1,Na=[],Ba=!1,Ia=!1,Da=[],$a=!1,Pa=[],Ha="undefined"!=typeof document,za=As,Fa=Cs||Ss?"cssFloat":"float",ja=Ha&&!qs&&!As&&"draggable"in document.createElement("div"),Ua=function(){if(Ha){if(Ss)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Wa=function(e,t){var i=$s(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=Us(e,0,t),s=Us(e,1,t),a=o&&$s(o),r=s&&$s(s),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Fs(o).width,d=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Fs(s).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!s||"both"!==r.clear&&r.clear!==c?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=n&&"none"===i[Fa]||s&&"none"===i[Fa]&&l+d>n)?"vertical":"horizontal"},Ga=function(e){function t(e,i){return function(n,o,s,a){var r=n.options.group.name&&o.options.group.name&&n.options.group.name===o.options.group.name;if(null==e&&(i||r))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,o,s,a),i)(n,o,s,a);var l=(i?n:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},n=e.group;n&&"object"==bs(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},Va=function(){!Ua&&da&&$s(da,"display","none")},Ya=function(){!Ua&&da&&$s(da,"display","")};Ha&&document.addEventListener("click",(function(e){if(Ra)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ra=!1,!1}),!0);var Xa=function(e){if(ra){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,s=e.clientY,Na.some((function(e){var t=e[Js].options.emptyInsertThreshold;if(t&&!Ws(e)){var i=Fs(e),n=o>=i.left-t&&o<=i.right+t,r=s>=i.top-t&&s<=i.bottom+t;return n&&r?a=e:void 0}})),a);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[Js]._onDragOver(i)}}var o,s,a},Ka=function(e){ra&&ra.parentNode[Js]._isOutsideThisEl(e.target)};function Za(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=_s({},t),e[Js]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wa(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Za.supportPointer&&"PointerEvent"in window&&!Es,emptyInsertThreshold:5};for(var n in na.initializePlugins(this,e,i),i)!(n in t)&&(t[n]=i[n]);for(var o in Ga(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&ja,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ls(e,"pointerdown",this._onTapStart):(Ls(e,"mousedown",this._onTapStart),Ls(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ls(e,"dragover",this),Ls(e,"dragenter",this)),Na.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),_s(this,ea())}function Qa(e,t,i,n,o,s,a,r){var l,d,c=e[Js],u=c.options.onMove;return!window.CustomEvent||Ss||Cs?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=o||t,l.relatedRect=s||Fs(t),l.willInsertAfter=r,l.originalEvent=a,e.dispatchEvent(l),u&&(d=u.call(c,l,a)),d}function Ja(e){e.draggable=!1}function er(){$a=!1}function tr(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function ir(e){return setTimeout(e,0)}function nr(e){return clearTimeout(e)}Za.prototype={constructor:Za,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(qa=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ra):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,o=n.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,d=n.filter;if(function(e){Pa.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&Pa.push(n)}}(i),!ra&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Es||!r||"SELECT"!==r.tagName.toUpperCase())&&!((r=Ns(r,n.draggable,i,!1))&&r.animated||pa===r)){if(fa=Gs(r),va=Gs(r,n.draggable),"function"==typeof d){if(d.call(this,e,r,this))return aa({sortable:t,rootEl:l,name:"filter",targetEl:r,toEl:i,fromEl:i}),sa("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(d&&(d=d.split(",").some((function(n){if(n=Ns(l,n.trim(),i,!1))return aa({sortable:t,rootEl:n,name:"filter",targetEl:r,fromEl:i,toEl:i}),sa("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());n.handle&&!Ns(l,n.handle,i,!1)||this._prepareDragStart(e,a,r)}}},_prepareDragStart:function(e,t,i){var n,o=this,s=o.el,a=o.options,r=s.ownerDocument;if(i&&!ra&&i.parentNode===s){var l=Fs(i);if(ca=s,la=(ra=i).parentNode,ua=ra.nextSibling,pa=i,ya=a.group,Za.dragged=ra,xa={target:ra,clientX:(t||e).clientX,clientY:(t||e).clientY},ka=xa.clientX-l.left,Ea=xa.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ra.style["will-change"]="all",n=function(){sa("delayEnded",o,{evt:e}),Za.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!ks&&o.nativeDraggable&&(ra.draggable=!0),o._triggerDragStart(e,t),aa({sortable:o,name:"choose",originalEvent:e}),Ds(ra,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){Hs(ra,e.trim(),Ja)})),Ls(r,"dragover",Xa),Ls(r,"mousemove",Xa),Ls(r,"touchmove",Xa),Ls(r,"mouseup",o._onDrop),Ls(r,"touchend",o._onDrop),Ls(r,"touchcancel",o._onDrop),ks&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ra.draggable=!0),sa("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Cs||Ss))n();else{if(Za.eventCanceled)return void this._onDrop();Ls(r,"mouseup",o._disableDelayedDrag),Ls(r,"touchend",o._disableDelayedDrag),Ls(r,"touchcancel",o._disableDelayedDrag),Ls(r,"mousemove",o._delayedDragTouchMoveHandler),Ls(r,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&Ls(r,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ra&&Ja(ra),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ms(e,"mouseup",this._disableDelayedDrag),Ms(e,"touchend",this._disableDelayedDrag),Ms(e,"touchcancel",this._disableDelayedDrag),Ms(e,"mousemove",this._delayedDragTouchMoveHandler),Ms(e,"touchmove",this._delayedDragTouchMoveHandler),Ms(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Ls(document,"pointermove",this._onTouchMove):Ls(document,t?"touchmove":"mousemove",this._onTouchMove):(Ls(ra,"dragend",this),Ls(ca,"dragstart",this._onDragStart));try{document.selection?ir((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Oa=!1,ca&&ra){sa("dragStarted",this,{evt:t}),this.nativeDraggable&&Ls(document,"dragover",Ka);var i=this.options;!e&&Ds(ra,i.dragClass,!1),Ds(ra,i.ghostClass,!0),Za.active=this,e&&this._appendGhost(),aa({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(wa){this._lastX=wa.clientX,this._lastY=wa.clientY,Va();for(var e=document.elementFromPoint(wa.clientX,wa.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(wa.clientX,wa.clientY))!==t;)t=e;if(ra.parentNode[Js]._isOutsideThisEl(e),t)do{if(t[Js]){if(t[Js]._onDragOver({clientX:wa.clientX,clientY:wa.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ya()}},_onTouchMove:function(e){if(xa){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,o=e.touches?e.touches[0]:e,s=da&&Ps(da,!0),a=da&&s&&s.a,r=da&&s&&s.d,l=za&&Ma&&Vs(Ma),d=(o.clientX-xa.clientX+n.x)/(a||1)+(l?l[0]-Da[0]:0)/(a||1),c=(o.clientY-xa.clientY+n.y)/(r||1)+(l?l[1]-Da[1]:0)/(r||1);if(!Za.active&&!Oa){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(da){s?(s.e+=d-(Sa||0),s.f+=c-(Ca||0)):s={a:1,b:0,c:0,d:1,e:d,f:c};var u="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");$s(da,"webkitTransform",u),$s(da,"mozTransform",u),$s(da,"msTransform",u),$s(da,"transform",u),Sa=d,Ca=c,wa=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!da){var e=this.options.fallbackOnBody?document.body:ca,t=Fs(ra,!0,za,!0,e),i=this.options;if(za){for(Ma=e;"static"===$s(Ma,"position")&&"none"===$s(Ma,"transform")&&Ma!==document;)Ma=Ma.parentNode;Ma!==document.body&&Ma!==document.documentElement?(Ma===document&&(Ma=zs()),t.top+=Ma.scrollTop,t.left+=Ma.scrollLeft):Ma=zs(),Da=Vs(Ma)}Ds(da=ra.cloneNode(!0),i.ghostClass,!1),Ds(da,i.fallbackClass,!0),Ds(da,i.dragClass,!0),$s(da,"transition",""),$s(da,"transform",""),$s(da,"box-sizing","border-box"),$s(da,"margin",0),$s(da,"top",t.top),$s(da,"left",t.left),$s(da,"width",t.width),$s(da,"height",t.height),$s(da,"opacity","0.8"),$s(da,"position",za?"absolute":"fixed"),$s(da,"zIndex","100000"),$s(da,"pointerEvents","none"),Za.ghost=da,e.appendChild(da),$s(da,"transform-origin",ka/parseInt(da.style.width)*100+"% "+Ea/parseInt(da.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,o=i.options;sa("dragStart",this,{evt:e}),Za.eventCanceled?this._onDrop():(sa("setupClone",this),Za.eventCanceled||((ha=Qs(ra)).draggable=!1,ha.style["will-change"]="",this._hideClone(),Ds(ha,this.options.chosenClass,!1),Za.clone=ha),i.cloneId=ir((function(){sa("clone",i),Za.eventCanceled||(i.options.removeCloneOnHide||ca.insertBefore(ha,ra),i._hideClone(),aa({sortable:i,name:"clone"}))})),!t&&Ds(ra,o.dragClass,!0),t?(Ra=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Ms(document,"mouseup",i._onDrop),Ms(document,"touchend",i._onDrop),Ms(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(i,n,ra)),Ls(document,"drop",i),$s(ra,"transform","translateZ(0)")),Oa=!0,i._dragStartId=ir(i._dragStarted.bind(i,t,e)),Ls(document,"selectstart",i),Aa=!0,Es&&$s(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,o,s=this.el,a=e.target,r=this.options,l=r.group,d=Za.active,c=ya===l,u=r.sort,p=_a||d,h=this,g=!1;if(!$a){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Ns(a,r.draggable,s,!0),T("dragOver"),Za.eventCanceled)return g;if(ra.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return M(!1);if(Ra=!1,d&&!r.disabled&&(c?u||(n=la!==ca):_a===this||(this.lastPutMode=ya.checkPull(this,d,ra,e))&&l.checkPut(this,d,ra,e))){if(o="vertical"===this._getDirection(e,a),t=Fs(ra),T("dragOverValid"),Za.eventCanceled)return g;if(n)return la=ca,L(),this._hideClone(),T("revert"),Za.eventCanceled||(ua?ca.insertBefore(ra,ua):ca.appendChild(ra)),M(!0);var f=Ws(s,r.draggable);if(!f||function(e,t,i){var n=Fs(Ws(i.el,i.options.draggable)),o=10;return t?e.clientX>n.right+o||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+o}(e,o,this)&&!f.animated){if(f===ra)return M(!1);if(f&&s===e.target&&(a=f),a&&(i=Fs(a)),!1!==Qa(ca,s,ra,t,a,i,e,!!a))return L(),s.appendChild(ra),la=s,O(),M(!0)}else if(f&&function(e,t,i){var n=Fs(Us(i.el,0,i.options,!0)),o=10;return t?e.clientX<n.left-o||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-o||e.clientY<n.bottom&&e.clientX<n.left}(e,o,this)){var m=Us(s,0,r,!0);if(m===ra)return M(!1);if(i=Fs(a=m),!1!==Qa(ca,s,ra,t,a,i,e,!1))return L(),s.insertBefore(ra,m),la=s,O(),M(!0)}else if(a.parentNode===s){i=Fs(a);var v,b,y,_=ra.parentNode!==s,x=!function(e,t,i){var n=i?e.left:e.top,o=i?e.right:e.bottom,s=i?e.width:e.height,a=i?t.left:t.top,r=i?t.right:t.bottom,l=i?t.width:t.height;return n===a||o===r||n+s/2===a+l/2}(ra.animated&&ra.toRect||t,a.animated&&a.toRect||i,o),w=o?"top":"left",S=js(a,"top","top")||js(ra,"top","top"),C=S?S.scrollTop:void 0;if(qa!==a&&(b=i[w],Ba=!1,Ia=!x&&r.invertSwap||_),0!==(v=function(e,t,i,n,o,s,a,r){var l=n?e.clientY:e.clientX,d=n?i.height:i.width,c=n?i.top:i.left,u=n?i.bottom:i.right,p=!1;if(!a)if(r&&La<d*o){if(!Ba&&(1===Ta?l>c+d*s/2:l<u-d*s/2)&&(Ba=!0),Ba)p=!0;else if(1===Ta?l<c+La:l>u-La)return-Ta}else if(l>c+d*(1-o)/2&&l<u-d*(1-o)/2)return function(e){return Gs(ra)<Gs(e)?1:-1}(t);if((p=p||a)&&(l<c+d*s/2||l>u-d*s/2))return l>c+d/2?1:-1;return 0}(e,a,i,o,x?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,Ia,qa===a))){var k=Gs(ra);do{k-=v,y=la.children[k]}while(y&&("none"===$s(y,"display")||y===da))}if(0===v||y===a)return M(!1);qa=a,Ta=v;var E=a.nextElementSibling,A=!1,q=Qa(ca,s,ra,t,a,i,e,A=1===v);if(!1!==q)return 1!==q&&-1!==q||(A=1===q),$a=!0,setTimeout(er,30),L(),A&&!E?s.appendChild(ra):a.parentNode.insertBefore(ra,A?E:a),S&&Zs(S,0,C-S.scrollTop),la=ra.parentNode,void 0===b||Ia||(La=Math.abs(b-Fs(a)[w])),O(),M(!0)}if(s.contains(ra))return M(!1)}return!1}function T(r,l){sa(r,h,vs({evt:e,isOwner:c,axis:o?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:u,fromSortable:p,target:a,completed:M,onMove:function(i,n){return Qa(ca,s,ra,t,i,Fs(i),e,n)},changed:O},l))}function L(){T("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function M(t){return T("dragOverCompleted",{insertion:t}),t&&(c?d._hideClone():d._showClone(h),h!==p&&(Ds(ra,_a?_a.options.ghostClass:d.options.ghostClass,!1),Ds(ra,r.ghostClass,!0)),_a!==h&&h!==Za.active?_a=h:h===Za.active&&_a&&(_a=null),p===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){T("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===ra&&!ra.animated||a===s&&!a.animated)&&(qa=null),r.dragoverBubble||e.rootEl||a===document||(ra.parentNode[Js]._isOutsideThisEl(e.target),!t&&Xa(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function O(){ma=Gs(ra),ba=Gs(ra,r.draggable),aa({sortable:h,name:"change",toEl:s,newIndex:ma,newDraggableIndex:ba,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ms(document,"mousemove",this._onTouchMove),Ms(document,"touchmove",this._onTouchMove),Ms(document,"pointermove",this._onTouchMove),Ms(document,"dragover",Xa),Ms(document,"mousemove",Xa),Ms(document,"touchmove",Xa)},_offUpEvents:function(){var e=this.el.ownerDocument;Ms(e,"mouseup",this._onDrop),Ms(e,"touchend",this._onDrop),Ms(e,"pointerup",this._onDrop),Ms(e,"touchcancel",this._onDrop),Ms(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;ma=Gs(ra),ba=Gs(ra,i.draggable),sa("drop",this,{evt:e}),la=ra&&ra.parentNode,ma=Gs(ra),ba=Gs(ra,i.draggable),Za.eventCanceled||(Oa=!1,Ia=!1,Ba=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),nr(this.cloneId),nr(this._dragStartId),this.nativeDraggable&&(Ms(document,"drop",this),Ms(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Es&&$s(document.body,"user-select",""),$s(ra,"transform",""),e&&(Aa&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),da&&da.parentNode&&da.parentNode.removeChild(da),(ca===la||_a&&"clone"!==_a.lastPutMode)&&ha&&ha.parentNode&&ha.parentNode.removeChild(ha),ra&&(this.nativeDraggable&&Ms(ra,"dragend",this),Ja(ra),ra.style["will-change"]="",Aa&&!Oa&&Ds(ra,_a?_a.options.ghostClass:this.options.ghostClass,!1),Ds(ra,this.options.chosenClass,!1),aa({sortable:this,name:"unchoose",toEl:la,newIndex:null,newDraggableIndex:null,originalEvent:e}),ca!==la?(ma>=0&&(aa({rootEl:la,name:"add",toEl:la,fromEl:ca,originalEvent:e}),aa({sortable:this,name:"remove",toEl:la,originalEvent:e}),aa({rootEl:la,name:"sort",toEl:la,fromEl:ca,originalEvent:e}),aa({sortable:this,name:"sort",toEl:la,originalEvent:e})),_a&&_a.save()):ma!==fa&&ma>=0&&(aa({sortable:this,name:"update",toEl:la,originalEvent:e}),aa({sortable:this,name:"sort",toEl:la,originalEvent:e})),Za.active&&(null!=ma&&-1!==ma||(ma=fa,ba=va),aa({sortable:this,name:"end",toEl:la,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){sa("nulling",this),ca=ra=la=da=ua=ha=pa=ga=xa=wa=Aa=ma=ba=fa=va=qa=Ta=_a=ya=Za.dragged=Za.ghost=Za.clone=Za.active=null,Pa.forEach((function(e){e.checked=!0})),Pa.length=Sa=Ca=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ra&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,o=i.length,s=this.options;n<o;n++)Ns(e=i[n],s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||tr(e));return t},sort:function(e,t){var i={},n=this.el;this.toArray().forEach((function(e,t){var o=n.children[t];Ns(o,this.options.draggable,n,!1)&&(i[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){i[e]&&(n.removeChild(i[e]),n.appendChild(i[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ns(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=na.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&Ga(i)},destroy:function(){sa("destroy",this);var e=this.el;e[Js]=null,Ms(e,"mousedown",this._onTapStart),Ms(e,"touchstart",this._onTapStart),Ms(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ms(e,"dragover",this),Ms(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Na.splice(Na.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ga){if(sa("hideClone",this),Za.eventCanceled)return;$s(ha,"display","none"),this.options.removeCloneOnHide&&ha.parentNode&&ha.parentNode.removeChild(ha),ga=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ga){if(sa("showClone",this),Za.eventCanceled)return;ra.parentNode!=ca||this.options.group.revertClone?ua?ca.insertBefore(ha,ua):ca.appendChild(ha):ca.insertBefore(ha,ra),this.options.group.revertClone&&this.animate(ra,ha),$s(ha,"display",""),ga=!1}}else this._hideClone()}},Ha&&Ls(document,"touchmove",(function(e){(Za.active||Oa)&&e.cancelable&&e.preventDefault()})),Za.utils={on:Ls,off:Ms,css:$s,find:Hs,is:function(e,t){return!!Ns(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:Ks,closest:Ns,toggleClass:Ds,clone:Qs,index:Gs,nextTick:ir,cancelNextTick:nr,detectDirection:Wa,getChild:Us},Za.get=function(e){return e[Js]},Za.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Za.utils=vs(vs({},Za.utils),e.utils)),na.mount(e)}))},Za.create=function(e,t){return new Za(e,t)},Za.version="1.14.0";var or,sr,ar,rr,lr,dr,cr=[],ur=!1;function pr(){cr.forEach((function(e){clearInterval(e.pid)})),cr=[]}function hr(){clearInterval(dr)}var gr=Ks((function(e,t,i,n){if(t.scroll){var o,s=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,l=t.scrollSpeed,d=zs(),c=!1;sr!==i&&(sr=i,pr(),or=t.scroll,o=t.scrollFn,!0===or&&(or=Ys(i,!0)));var u=0,p=or;do{var h=p,g=Fs(h),f=g.top,m=g.bottom,v=g.left,b=g.right,y=g.width,_=g.height,x=void 0,w=void 0,S=h.scrollWidth,C=h.scrollHeight,k=$s(h),E=h.scrollLeft,A=h.scrollTop;h===d?(x=y<S&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),w=_<C&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(x=y<S&&("auto"===k.overflowX||"scroll"===k.overflowX),w=_<C&&("auto"===k.overflowY||"scroll"===k.overflowY));var q=x&&(Math.abs(b-s)<=r&&E+y<S)-(Math.abs(v-s)<=r&&!!E),T=w&&(Math.abs(m-a)<=r&&A+_<C)-(Math.abs(f-a)<=r&&!!A);if(!cr[u])for(var L=0;L<=u;L++)cr[L]||(cr[L]={});cr[u].vx==q&&cr[u].vy==T&&cr[u].el===h||(cr[u].el=h,cr[u].vx=q,cr[u].vy=T,clearInterval(cr[u].pid),0==q&&0==T||(c=!0,cr[u].pid=setInterval(function(){n&&0===this.layer&&Za.active._onTouchMove(lr);var t=cr[this.layer].vy?cr[this.layer].vy*l:0,i=cr[this.layer].vx?cr[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Za.dragged.parentNode[Js],i,t,e,lr,cr[this.layer].el)||Zs(cr[this.layer].el,i,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==d&&(p=Ys(p,!1)));ur=c}}),30),fr=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(t){var l=i||o;a();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);r(),l&&!l.el.contains(c)&&(s("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function mr(){}function vr(){}mr.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=Us(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:fr},_s(mr,{pluginName:"revertOnSpill"}),vr.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:fr},_s(vr,{pluginName:"removeOnSpill"}),Za.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Ls(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ls(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Ls(document,"touchmove",this._handleFallbackAutoScroll):Ls(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Ms(document,"dragover",this._handleAutoScroll):(Ms(document,"pointermove",this._handleFallbackAutoScroll),Ms(document,"touchmove",this._handleFallbackAutoScroll),Ms(document,"mousemove",this._handleFallbackAutoScroll)),hr(),pr(),clearTimeout(Bs),Bs=void 0},nulling:function(){lr=sr=or=ur=dr=ar=rr=null,cr.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(n,o);if(lr=e,t||this.options.forceAutoScrollFallback||Cs||Ss||Es){gr(e,this.options,s,t);var a=Ys(s,!0);!ur||dr&&n===ar&&o===rr||(dr&&hr(),dr=setInterval((function(){var s=Ys(document.elementFromPoint(n,o),!0);s!==a&&(a=s,pr()),gr(e,i.options,s,t)}),10),ar=n,rr=o)}else{if(!this.options.bubbleScroll||Ys(s,!0)===zs())return void pr();gr(e,this.options,Ys(s,!1),!1)}}},_s(e,{pluginName:"scroll",initializeByDefault:!0})}),Za.mount(vr,mr);const br=new ni,yr=e=>{const t=e.util,i=e.builderStuff;let n="",o=e.opts.sidePanel;if("#divSnippetList"===e.opts.snippetList){const t=`<div id="divSnippetList" class="is-side ${"right"===o?"":" fromleft"} snippetlist scroll-darker">\n            </div>`;br.appendHtml(i,t),e.opts.snippetHandle||(n="display:none;")}else n="display:none;",o="left";let s="",a="",r="";if(e.opts.emailMode){a=e.opts.defaultEmailSnippetCategory;for(let t=0;t<e.opts.emailSnippetCategories.length;t++)r+='<div role="button" tabindex="0" data-value="'+e.opts.emailSnippetCategories[t][0]+'">'+e.opts.emailSnippetCategories[t][1]+"</div>",e.opts.emailSnippetCategories[t][0]===e.opts.defaultEmailSnippetCategory&&(s=e.opts.emailSnippetCategories[t][1])}else{a=e.opts.defaultSnippetCategory;for(let t=0;t<e.opts.snippetCategories.length;t++)r+='<div role="button" tabindex="0" data-value="'+e.opts.snippetCategories[t][0]+'">'+e.opts.snippetCategories[t][1]+"</div>",e.opts.snippetCategories[t][0]===e.opts.defaultSnippetCategory&&(s=e.opts.snippetCategories[t][1])}let l='<div style="position:absolute;top:0;right:0;padding: 0;width:100%;z-index:2;"><div class="is-selectbox snippet-cat" role="button" tabindex="0" data-group="snippet-cat" data-value="'+a+'"><span>'+s+'</span><svg class="is-icon-flex" style="position:absolute;top:13px;right:10px;"><use xlink:href="#ion-android-arrow-dropdown"></use></svg></div><div class="is-selectbox-options" data-group="snippet-cat">'+r+"</div></div>"+("right"===o?'<div id="divSnippetScrollUp" role="button" tabindex="0" style="top:calc(50% - 27px);right:25px;">&#9650;</div><div id="divSnippetScrollDown" role="button" tabindex="0" style="top:calc(50% + 27px);right:25px;">&#9660;</div><div id="divSnippetHandle" role="button" tabindex="0" title="'+t.out("Snippets")+'" data-title="'+t.out("Snippets")+'" style="'+n+'"><svg class="is-icon-flex"><use xlink:href="#ion-ios-arrow-left"></use></svg></div>':'<div id="divSnippetScrollUp" role="button" tabindex="0" style="top:calc(50% - 27px);left:10px;">&#9650;</div><div id="divSnippetScrollDown" role="button" tabindex="0" style="top:calc(50% + 27px);left:10px;">&#9660;</div><div id="divSnippetHandle" role="button" tabindex="0" title="'+t.out("Snippets")+'" data-title="'+t.out("Snippets")+'" style="'+n+'"><svg class="is-icon-flex"><use xlink:href="#ion-ios-arrow-right"></use></svg></div>')+'<div class="is-design-list"></div>',d=document.querySelector(e.opts.snippetList);br.appendHtml(d,l),"#divSnippetList"===e.opts.snippetList&&document.addEventListener("click",(t=>{var i=(t=t||window.event).target||t.srcElement;if("auto"===e.opts.snippetsSidebarDisplay&&br.hasClass(d,"active")){br.parentsHasClass(i,"is-builder")&&function(e){let t=document.querySelector("#divSnippetList");const i=t.querySelector("#divSnippetHandle");br.removeClass(t,"active"),"right"===e.opts.sidePanel?i.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-left"></use></svg>':i.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>'}
/*!
     * Cropper.js v1.5.12
     * https://fengyuanchen.github.io/cropperjs
     *
     * Copyright 2015-present Chen Fengyuan
     * Released under the MIT license
     *
     * Date: 2021-06-12T08:00:17.411Z
     */(e)}}),!1);const c=document.querySelector(".is-design-list");let u=e.opts.snippetPath,p=e.opts.snippetJSON.snippets,h=e.opts.slider;if(null!=h)if("slick"===h){const t=e=>"glide"!==e.type;e.opts.snippetJSON.snippets=p.filter(t)}else if("glide"===h){const t=e=>"slick"!==e.type;e.opts.snippetJSON.snippets=p.filter(t)}else if("all"===h);else{const t=e=>"glide"!==e.type&&"slick"!==e.type;e.opts.snippetJSON.snippets=p.filter(t)}else{var g=!0;if(window.jQuery&&window.jQuery.fn.slick&&(g=!1),g)for(let e=0;e<p.length;e++)if(-1!=p[e].thumbnail.indexOf("element-slider.png")||"slick"===p[e].type||"glide"===p[e].type){p.splice(e,1);break}}let f=1;e.opts.emailMode?e.opts.snippetJSON.snippets.forEach((i=>{i.id=f,i.category===e.opts.defaultEmailSnippetCategory+""&&br.appendHtml(c,'<div class="snippet-item" data-id="'+i.id+'" data-cat="'+i.category+'"><img alt="'+t.out("Snippet")+'" src="'+u+i.thumbnail+'"><span class="is-overlay"></span></div>'),f++})):e.opts.snippetJSON.snippets.forEach((i=>{i.id=f,i.category===e.opts.defaultSnippetCategory+""&&br.appendHtml(c,'<div class="snippet-item" data-id="'+i.id+'" data-cat="'+i.category+'"><img alt="'+t.out("Snippet")+'" src="'+u+i.thumbnail+'"><span class="is-overlay"></span></div>'),f++}));let m;if(new Za(c,{forceFallback:!1,group:{name:"shared",pull:"clone",put:!1},sort:!1,animation:150,onMove:()=>{let e=document.querySelector(".row-add-initial");e&&(e.style.display="none")},onStart:()=>{m=null;const t=document.querySelector(".builder-active");t&&(m=t,br.removeClass(m,"builder-active")),e.uo.saveForUndo();let i=document.querySelector(".is-sidebar-overlay");i&&(i.style.display="none")},onEnd:()=>{let e=document.querySelector(".is-sidebar-overlay");e&&(e.style.display="block"),t.checkEmpty();let i=document.querySelector(".row-add-initial");i&&(i.style.display=""),m&&br.addClass(m,"builder-active")}}),new fs(document.querySelector(".snippet-cat"),{onChange:i=>{let n=i,o=c.querySelectorAll(".snippet-item"),s=!1;Array.prototype.forEach.call(o,(e=>{e.getAttribute("data-cat")===n&&(s=!0)})),s||e.opts.snippetJSON.snippets.forEach((e=>{e.category===n&&br.appendHtml(c,'<div class="snippet-item" data-id="'+e.id+'" data-cat="'+e.category+'"><img alt="'+t.out("Snippet")+'" alt="" src="'+u+e.thumbnail+'"><span class="is-overlay"></span></div>')})),n&&(Array.prototype.forEach.call(o,(e=>{br.addClass(e,"hide")})),Array.prototype.forEach.call(o,(e=>{e.getAttribute("data-cat")===n&&(e.className=e.className.replace(/hide/g,""))})))}}),"#divSnippetList"===e.opts.snippetList){const i=d.querySelector("#divSnippetHandle");br.addEventListener(i,"click",(()=>{_r(e),t.clearActiveCell(),t.clearControls()}));const n=window.innerWidth;e.opts.snippetOpen&&n>=960&&(d.style.cssText="transition: all ease 0.8s;",setTimeout((function(){_r(e)}),100),setTimeout((function(){d.style.cssText=""}),1300))}let v=d.querySelector("#divSnippetScrollUp"),b=d.querySelector("#divSnippetScrollDown");v.style.display="none",b.style.display="none"};function _r(e){let t=document.querySelector("#divSnippetList");const i=t.querySelector("#divSnippetHandle");br.hasClass(t,"active")?(br.removeClass(t,"active"),"right"===e.opts.sidePanel?i.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-left"></use></svg>':i.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>'):(br.addClass(t,"active"),"right"===e.opts.sidePanel?i.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>':i.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-left"></use></svg>')}function xr(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function wr(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(i),!0).forEach((function(t){Er(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xr(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Er(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ar(e){return function(e){if(Array.isArray(e))return qr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qr(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Tr="undefined"!=typeof window&&void 0!==window.document,Lr=Tr?window:{},Mr=!(!Tr||!Lr.document.documentElement)&&"ontouchstart"in Lr.document.documentElement,Or=!!Tr&&"PointerEvent"in Lr,Rr="cropper",Nr="all",Br="crop",Ir="move",Dr="zoom",$r="e",Pr="w",Hr="s",zr="n",Fr="ne",jr="nw",Ur="se",Wr="sw",Gr="".concat(Rr,"-crop"),Vr="".concat(Rr,"-disabled"),Yr="".concat(Rr,"-hidden"),Xr="".concat(Rr,"-hide"),Kr="".concat(Rr,"-invisible"),Zr="".concat(Rr,"-modal"),Qr="".concat(Rr,"-move"),Jr="".concat(Rr,"Action"),el="".concat(Rr,"Preview"),tl="crop",il="move",nl="none",ol="crop",sl="cropend",al="cropmove",rl="cropstart",ll="dblclick",dl=Or?"pointerdown":Mr?"touchstart":"mousedown",cl=Or?"pointermove":Mr?"touchmove":"mousemove",ul=Or?"pointerup pointercancel":Mr?"touchend touchcancel":"mouseup",pl="ready",hl="resize",gl="wheel",fl="zoom",ml="image/jpeg",vl=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,bl=/^data:/,yl=/^data:image\/jpeg;base64,/,_l=/^img|canvas$/i,xl={viewMode:0,dragMode:tl,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},wl=Number.isNaN||Lr.isNaN;function Sl(e){return"number"==typeof e&&!wl(e)}var Cl=function(e){return e>0&&e<1/0};function kl(e){return void 0===e}function El(e){return"object"===Sr(e)&&null!==e}var Al=Object.prototype.hasOwnProperty;function ql(e){if(!El(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&Al.call(i,"isPrototypeOf")}catch(e){return!1}}function Tl(e){return"function"==typeof e}var Ll=Array.prototype.slice;function Ml(e){return Array.from?Array.from(e):Ll.call(e)}function Ol(e,t){return e&&Tl(t)&&(Array.isArray(e)||Sl(e.length)?Ml(e).forEach((function(i,n){t.call(e,i,n,e)})):El(e)&&Object.keys(e).forEach((function(i){t.call(e,e[i],i,e)}))),e}var Rl=Object.assign||function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return El(e)&&i.length>0&&i.forEach((function(t){El(t)&&Object.keys(t).forEach((function(i){e[i]=t[i]}))})),e},Nl=/\.\d*(?:0|9){12}\d*$/;function Bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Nl.test(e)?Math.round(e*t)/t:e}var Il=/^width|height|left|top|marginLeft|marginTop$/;function Dl(e,t){var i=e.style;Ol(t,(function(e,t){Il.test(t)&&Sl(e)&&(e="".concat(e,"px")),i[t]=e}))}function $l(e,t){if(t)if(Sl(e.length))Ol(e,(function(e){$l(e,t)}));else if(e.classList)e.classList.add(t);else{var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function Pl(e,t){t&&(Sl(e.length)?Ol(e,(function(e){Pl(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Hl(e,t,i){t&&(Sl(e.length)?Ol(e,(function(e){Hl(e,t,i)})):i?$l(e,t):Pl(e,t))}var zl=/([a-z\d])([A-Z])/g;function Fl(e){return e.replace(zl,"$1-$2").toLowerCase()}function jl(e,t){return El(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Fl(t)))}function Ul(e,t,i){El(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(Fl(t)),i)}var Wl=/\s\s*/,Gl=function(){var e=!1;if(Tr){var t=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});Lr.addEventListener("test",i,n),Lr.removeEventListener("test",i,n)}return e}();function Vl(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;t.trim().split(Wl).forEach((function(t){if(!Gl){var s=e.listeners;s&&s[t]&&s[t][i]&&(o=s[t][i],delete s[t][i],0===Object.keys(s[t]).length&&delete s[t],0===Object.keys(s).length&&delete e.listeners)}e.removeEventListener(t,o,n)}))}function Yl(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;t.trim().split(Wl).forEach((function(t){if(n.once&&!Gl){var s=e.listeners,a=void 0===s?{}:s;o=function(){delete a[t][i],e.removeEventListener(t,o,n);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];i.apply(e,r)},a[t]||(a[t]={}),a[t][i]&&e.removeEventListener(t,a[t][i],n),a[t][i]=o,e.listeners=a}e.addEventListener(t,o,n)}))}function Xl(e,t,i){var n;return Tl(Event)&&Tl(CustomEvent)?n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}function Kl(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Zl=Lr.location,Ql=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Jl(e){var t=e.match(Ql);return null!==t&&(t[1]!==Zl.protocol||t[2]!==Zl.hostname||t[3]!==Zl.port)}function ed(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function td(e){var t=e.rotate,i=e.scaleX,n=e.scaleY,o=e.translateX,s=e.translateY,a=[];Sl(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),Sl(s)&&0!==s&&a.push("translateY(".concat(s,"px)")),Sl(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),Sl(i)&&1!==i&&a.push("scaleX(".concat(i,")")),Sl(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var r=a.length?a.join(" "):"none";return{WebkitTransform:r,msTransform:r,transform:r}}function id(e,t){var i=e.pageX,n=e.pageY,o={endX:i,endY:n};return t?o:wr({startX:i,startY:n},o)}function nd(e){var t=e.aspectRatio,i=e.height,n=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",s=Cl(n),a=Cl(i);if(s&&a){var r=i*t;"contain"===o&&r>n||"cover"===o&&r<n?i=n/t:n=i*t}else s?i=n/t:a&&(n=i*t);return{width:n,height:i}}function od(e,t,i,n){var o=t.aspectRatio,s=t.naturalWidth,a=t.naturalHeight,r=t.rotate,l=void 0===r?0:r,d=t.scaleX,c=void 0===d?1:d,u=t.scaleY,p=void 0===u?1:u,h=i.aspectRatio,g=i.naturalWidth,f=i.naturalHeight,m=n.fillColor,v=void 0===m?"transparent":m,b=n.imageSmoothingEnabled,y=void 0===b||b,_=n.imageSmoothingQuality,x=void 0===_?"low":_,w=n.maxWidth,S=void 0===w?1/0:w,C=n.maxHeight,k=void 0===C?1/0:C,E=n.minWidth,A=void 0===E?0:E,q=n.minHeight,T=void 0===q?0:q,L=document.createElement("canvas"),M=L.getContext("2d"),O=nd({aspectRatio:h,width:S,height:k}),R=nd({aspectRatio:h,width:A,height:T},"cover"),N=Math.min(O.width,Math.max(R.width,g)),B=Math.min(O.height,Math.max(R.height,f)),I=nd({aspectRatio:o,width:S,height:k}),D=nd({aspectRatio:o,width:A,height:T},"cover"),$=Math.min(I.width,Math.max(D.width,s)),P=Math.min(I.height,Math.max(D.height,a)),H=[-$/2,-P/2,$,P];return L.width=Bl(N),L.height=Bl(B),M.fillStyle=v,M.fillRect(0,0,N,B),M.save(),M.translate(N/2,B/2),M.rotate(l*Math.PI/180),M.scale(c,p),M.imageSmoothingEnabled=y,M.imageSmoothingQuality=x,M.drawImage.apply(M,[e].concat(Ar(H.map((function(e){return Math.floor(Bl(e))}))))),M.restore(),L}var sd=String.fromCharCode;var ad=/^data:.*,/;function rd(e){var t,i=new DataView(e);try{var n,o,s;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,r=2;r+1<a;){if(255===i.getUint8(r)&&225===i.getUint8(r+1)){o=r;break}r+=1}if(o){var l=o+10;if("Exif"===function(e,t,i){var n="";i+=t;for(var o=t;o<i;o+=1)n+=sd(e.getUint8(o));return n}(i,o+4,4)){var d=i.getUint16(l);if(((n=18761===d)||19789===d)&&42===i.getUint16(l+2,n)){var c=i.getUint32(l+4,n);c>=8&&(s=l+c)}}}if(s){var u,p,h=i.getUint16(s,n);for(p=0;p<h;p+=1)if(u=s+12*p+2,274===i.getUint16(u,n)){u+=8,t=i.getUint16(u,n),i.setUint16(u,1,n);break}}}catch(e){t=1}return t}var ld={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,i=this.container,n=this.cropper,o=Number(t.minContainerWidth),s=Number(t.minContainerHeight);$l(n,Yr),Pl(e,Yr);var a={width:Math.max(i.offsetWidth,o>=0?o:200),height:Math.max(i.offsetHeight,s>=0?s:100)};this.containerData=a,Dl(n,{width:a.width,height:a.height}),$l(e,Yr),Pl(n,Yr)},initCanvas:function(){var e=this.containerData,t=this.imageData,i=this.options.viewMode,n=Math.abs(t.rotate)%180==90,o=n?t.naturalHeight:t.naturalWidth,s=n?t.naturalWidth:t.naturalHeight,a=o/s,r=e.width,l=e.height;e.height*a>e.width?3===i?r=e.height*a:l=e.width/a:3===i?l=e.width/a:r=e.height*a;var d={aspectRatio:a,naturalWidth:o,naturalHeight:s,width:r,height:l};this.canvasData=d,this.limited=1===i||2===i,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=Rl({},d)},limitCanvas:function(e,t){var i=this.options,n=this.containerData,o=this.canvasData,s=this.cropBoxData,a=i.viewMode,r=o.aspectRatio,l=this.cropped&&s;if(e){var d=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;a>1?(d=Math.max(d,n.width),c=Math.max(c,n.height),3===a&&(c*r>d?d=c*r:c=d/r)):a>0&&(d?d=Math.max(d,l?s.width:0):c?c=Math.max(c,l?s.height:0):l&&(d=s.width,(c=s.height)*r>d?d=c*r:c=d/r));var u=nd({aspectRatio:r,width:d,height:c});d=u.width,c=u.height,o.minWidth=d,o.minHeight=c,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(a>(l?0:1)){var p=n.width-o.width,h=n.height-o.height;o.minLeft=Math.min(0,p),o.minTop=Math.min(0,h),o.maxLeft=Math.max(0,p),o.maxTop=Math.max(0,h),l&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,2===a&&(o.width>=n.width&&(o.minLeft=Math.min(0,p),o.maxLeft=Math.max(0,p)),o.height>=n.height&&(o.minTop=Math.min(0,h),o.maxTop=Math.max(0,h))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=n.width,o.maxTop=n.height},renderCanvas:function(e,t){var i=this.canvasData,n=this.imageData;if(t){var o=function(e){var t=e.width,i=e.height,n=e.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:t};var o=n%90*Math.PI/180,s=Math.sin(o),a=Math.cos(o),r=t*a+i*s,l=t*s+i*a;return n>90?{width:l,height:r}:{width:r,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),s=o.width,a=o.height,r=i.width*(s/i.naturalWidth),l=i.height*(a/i.naturalHeight);i.left-=(r-i.width)/2,i.top-=(l-i.height)/2,i.width=r,i.height=l,i.aspectRatio=s/a,i.naturalWidth=s,i.naturalHeight=a,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,Dl(this.canvas,Rl({width:i.width,height:i.height},td({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,i=this.imageData,n=i.naturalWidth*(t.width/t.naturalWidth),o=i.naturalHeight*(t.height/t.naturalHeight);Rl(i,{width:n,height:o,left:(t.width-n)/2,top:(t.height-o)/2}),Dl(this.image,Rl({width:i.width,height:i.height},td(Rl({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,n=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};i&&(t.height*i>t.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*n),o.height=Math.max(o.minHeight,o.height*n),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=Rl({},o)},limitCropBox:function(e,t){var i=this.options,n=this.containerData,o=this.canvasData,s=this.cropBoxData,a=this.limited,r=i.aspectRatio;if(e){var l=Number(i.minCropBoxWidth)||0,d=Number(i.minCropBoxHeight)||0,c=a?Math.min(n.width,o.width,o.width+o.left,n.width-o.left):n.width,u=a?Math.min(n.height,o.height,o.height+o.top,n.height-o.top):n.height;l=Math.min(l,n.width),d=Math.min(d,n.height),r&&(l&&d?d*r>l?d=l/r:l=d*r:l?d=l/r:d&&(l=d*r),u*r>c?u=c/r:c=u*r),s.minWidth=Math.min(l,c),s.minHeight=Math.min(d,u),s.maxWidth=c,s.maxHeight=u}t&&(a?(s.minLeft=Math.max(0,o.left),s.minTop=Math.max(0,o.top),s.maxLeft=Math.min(n.width,o.left+o.width)-s.width,s.maxTop=Math.min(n.height,o.top+o.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=n.width-s.width,s.maxTop=n.height-s.height))},renderCropBox:function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&Ul(this.face,Jr,i.width>=t.width&&i.height>=t.height?Ir:Nr),Dl(this.cropBox,Rl({width:i.width,height:i.height},td({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Xl(this.element,ol,this.getData())}},dd={initPreview:function(){var e=this.element,t=this.crossOrigin,i=this.options.preview,n=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",s=document.createElement("img");if(t&&(s.crossOrigin=t),s.src=n,s.alt=o,this.viewBox.appendChild(s),this.viewBoxImage=s,i){var a=i;"string"==typeof i?a=e.ownerDocument.querySelectorAll(i):i.querySelector&&(a=[i]),this.previews=a,Ol(a,(function(e){var i=document.createElement("img");Ul(e,el,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(i.crossOrigin=t),i.src=n,i.alt=o,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(i)}))}},resetPreview:function(){Ol(this.previews,(function(e){var t=jl(e,el);Dl(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(El(e[t]))try{delete e[t]}catch(i){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(i){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Fl(t)))}(e,el)}))},preview:function(){var e=this.imageData,t=this.canvasData,i=this.cropBoxData,n=i.width,o=i.height,s=e.width,a=e.height,r=i.left-t.left-e.left,l=i.top-t.top-e.top;this.cropped&&!this.disabled&&(Dl(this.viewBoxImage,Rl({width:s,height:a},td(Rl({translateX:-r,translateY:-l},e)))),Ol(this.previews,(function(t){var i=jl(t,el),d=i.width,c=i.height,u=d,p=c,h=1;n&&(p=o*(h=d/n)),o&&p>c&&(u=n*(h=c/o),p=c),Dl(t,{width:u,height:p}),Dl(t.getElementsByTagName("img")[0],Rl({width:s*h,height:a*h},td(Rl({translateX:-r*h,translateY:-l*h},e))))})))}},cd={bind:function(){var e=this.element,t=this.options,i=this.cropper;Tl(t.cropstart)&&Yl(e,rl,t.cropstart),Tl(t.cropmove)&&Yl(e,al,t.cropmove),Tl(t.cropend)&&Yl(e,sl,t.cropend),Tl(t.crop)&&Yl(e,ol,t.crop),Tl(t.zoom)&&Yl(e,fl,t.zoom),Yl(i,dl,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Yl(i,gl,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Yl(i,ll,this.onDblclick=this.dblclick.bind(this)),Yl(e.ownerDocument,cl,this.onCropMove=this.cropMove.bind(this)),Yl(e.ownerDocument,ul,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Yl(window,hl,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,i=this.cropper;Tl(t.cropstart)&&Vl(e,rl,t.cropstart),Tl(t.cropmove)&&Vl(e,al,t.cropmove),Tl(t.cropend)&&Vl(e,sl,t.cropend),Tl(t.crop)&&Vl(e,ol,t.crop),Tl(t.zoom)&&Vl(e,fl,t.zoom),Vl(i,dl,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Vl(i,gl,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Vl(i,ll,this.onDblclick),Vl(e.ownerDocument,cl,this.onCropMove),Vl(e.ownerDocument,ul,this.onCropEnd),t.responsive&&Vl(window,hl,this.onResize)}},ud={resize:function(){if(!this.disabled){var e,t,i=this.options,n=this.container,o=this.containerData,s=n.offsetWidth/o.width,a=n.offsetHeight/o.height,r=Math.abs(s-1)>Math.abs(a-1)?s:a;if(1!==r)i.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(Ol(e,(function(t,i){e[i]=t*r}))),this.setCropBoxData(Ol(t,(function(e,i){t[i]=e*r}))))}},dblclick:function(){var e,t;this.disabled||this.options.dragMode===nl||this.setDragMode((e=this.dragBox,t=Gr,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?il:tl))},wheel:function(e){var t=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*i,e)))},cropStart:function(e){var t=e.buttons,i=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(Sl(t)&&1!==t||Sl(i)&&0!==i||e.ctrlKey))){var n,o=this.options,s=this.pointers;e.changedTouches?Ol(e.changedTouches,(function(e){s[e.identifier]=id(e)})):s[e.pointerId||0]=id(e),n=Object.keys(s).length>1&&o.zoomable&&o.zoomOnTouch?Dr:jl(e.target,Jr),vl.test(n)&&!1!==Xl(this.element,rl,{originalEvent:e,action:n})&&(e.preventDefault(),this.action=n,this.cropping=!1,n===Br&&(this.cropping=!0,$l(this.dragBox,Zr)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var i=this.pointers;e.preventDefault(),!1!==Xl(this.element,al,{originalEvent:e,action:t})&&(e.changedTouches?Ol(e.changedTouches,(function(e){Rl(i[e.identifier]||{},id(e,!0))})):Rl(i[e.pointerId||0]||{},id(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,i=this.pointers;e.changedTouches?Ol(e.changedTouches,(function(e){delete i[e.identifier]})):delete i[e.pointerId||0],t&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,Hl(this.dragBox,Zr,this.cropped&&this.options.modal)),Xl(this.element,sl,{originalEvent:e,action:t}))}}},pd={change:function(e){var t,i=this.options,n=this.canvasData,o=this.containerData,s=this.cropBoxData,a=this.pointers,r=this.action,l=i.aspectRatio,d=s.left,c=s.top,u=s.width,p=s.height,h=d+u,g=c+p,f=0,m=0,v=o.width,b=o.height,y=!0;!l&&e.shiftKey&&(l=u&&p?u/p:1),this.limited&&(f=s.minLeft,m=s.minTop,v=f+Math.min(o.width,n.width,n.left+n.width),b=m+Math.min(o.height,n.height,n.top+n.height));var _=a[Object.keys(a)[0]],x={x:_.endX-_.startX,y:_.endY-_.startY},w=function(e){switch(e){case $r:h+x.x>v&&(x.x=v-h);break;case Pr:d+x.x<f&&(x.x=f-d);break;case zr:c+x.y<m&&(x.y=m-c);break;case Hr:g+x.y>b&&(x.y=b-g)}};switch(r){case Nr:d+=x.x,c+=x.y;break;case $r:if(x.x>=0&&(h>=v||l&&(c<=m||g>=b))){y=!1;break}w($r),(u+=x.x)<0&&(r=Pr,d-=u=-u),l&&(p=u/l,c+=(s.height-p)/2);break;case zr:if(x.y<=0&&(c<=m||l&&(d<=f||h>=v))){y=!1;break}w(zr),p-=x.y,c+=x.y,p<0&&(r=Hr,c-=p=-p),l&&(u=p*l,d+=(s.width-u)/2);break;case Pr:if(x.x<=0&&(d<=f||l&&(c<=m||g>=b))){y=!1;break}w(Pr),u-=x.x,d+=x.x,u<0&&(r=$r,d-=u=-u),l&&(p=u/l,c+=(s.height-p)/2);break;case Hr:if(x.y>=0&&(g>=b||l&&(d<=f||h>=v))){y=!1;break}w(Hr),(p+=x.y)<0&&(r=zr,c-=p=-p),l&&(u=p*l,d+=(s.width-u)/2);break;case Fr:if(l){if(x.y<=0&&(c<=m||h>=v)){y=!1;break}w(zr),p-=x.y,c+=x.y,u=p*l}else w(zr),w($r),x.x>=0?h<v?u+=x.x:x.y<=0&&c<=m&&(y=!1):u+=x.x,x.y<=0?c>m&&(p-=x.y,c+=x.y):(p-=x.y,c+=x.y);u<0&&p<0?(r=Wr,c-=p=-p,d-=u=-u):u<0?(r=jr,d-=u=-u):p<0&&(r=Ur,c-=p=-p);break;case jr:if(l){if(x.y<=0&&(c<=m||d<=f)){y=!1;break}w(zr),p-=x.y,c+=x.y,u=p*l,d+=s.width-u}else w(zr),w(Pr),x.x<=0?d>f?(u-=x.x,d+=x.x):x.y<=0&&c<=m&&(y=!1):(u-=x.x,d+=x.x),x.y<=0?c>m&&(p-=x.y,c+=x.y):(p-=x.y,c+=x.y);u<0&&p<0?(r=Ur,c-=p=-p,d-=u=-u):u<0?(r=Fr,d-=u=-u):p<0&&(r=Wr,c-=p=-p);break;case Wr:if(l){if(x.x<=0&&(d<=f||g>=b)){y=!1;break}w(Pr),u-=x.x,d+=x.x,p=u/l}else w(Hr),w(Pr),x.x<=0?d>f?(u-=x.x,d+=x.x):x.y>=0&&g>=b&&(y=!1):(u-=x.x,d+=x.x),x.y>=0?g<b&&(p+=x.y):p+=x.y;u<0&&p<0?(r=Fr,c-=p=-p,d-=u=-u):u<0?(r=Ur,d-=u=-u):p<0&&(r=jr,c-=p=-p);break;case Ur:if(l){if(x.x>=0&&(h>=v||g>=b)){y=!1;break}w($r),p=(u+=x.x)/l}else w(Hr),w($r),x.x>=0?h<v?u+=x.x:x.y>=0&&g>=b&&(y=!1):u+=x.x,x.y>=0?g<b&&(p+=x.y):p+=x.y;u<0&&p<0?(r=jr,c-=p=-p,d-=u=-u):u<0?(r=Wr,d-=u=-u):p<0&&(r=Fr,c-=p=-p);break;case Ir:this.move(x.x,x.y),y=!1;break;case Dr:this.zoom(function(e){var t=wr({},e),i=0;return Ol(e,(function(e,n){delete t[n],Ol(t,(function(t){var n=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),s=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),r=Math.sqrt(n*n+o*o),l=(Math.sqrt(s*s+a*a)-r)/r;Math.abs(l)>Math.abs(i)&&(i=l)}))})),i}(a),e),y=!1;break;case Br:if(!x.x||!x.y){y=!1;break}t=Kl(this.cropper),d=_.startX-t.left,c=_.startY-t.top,u=s.minWidth,p=s.minHeight,x.x>0?r=x.y>0?Ur:Fr:x.x<0&&(d-=u,r=x.y>0?Wr:jr),x.y<0&&(c-=p),this.cropped||(Pl(this.cropBox,Yr),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}y&&(s.width=u,s.height=p,s.left=d,s.top=c,this.action=r,this.renderCropBox()),Ol(a,(function(e){e.startX=e.endX,e.startY=e.endY}))}},hd={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&$l(this.dragBox,Zr),Pl(this.cropBox,Yr),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Rl({},this.initialImageData),this.canvasData=Rl({},this.initialCanvasData),this.cropBoxData=Rl({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Rl(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Pl(this.dragBox,Zr),$l(this.cropBox,Yr)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Ol(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Pl(this.cropper,Vr)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,$l(this.cropper,Vr)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,n=i.left,o=i.top;return this.moveTo(kl(e)?e:n+Number(e),kl(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(Sl(e)&&(i.left=e,n=!0),Sl(t)&&(i.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var i=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,null,t)},zoomTo:function(e,t,i){var n=this.options,o=this.canvasData,s=o.width,a=o.height,r=o.naturalWidth,l=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var d=r*e,c=l*e;if(!1===Xl(this.element,fl,{ratio:e,oldRatio:s/r,originalEvent:i}))return this;if(i){var u=this.pointers,p=Kl(this.cropper),h=u&&Object.keys(u).length?function(e){var t=0,i=0,n=0;return Ol(e,(function(e){var o=e.startX,s=e.startY;t+=o,i+=s,n+=1})),{pageX:t/=n,pageY:i/=n}}(u):{pageX:i.pageX,pageY:i.pageY};o.left-=(d-s)*((h.pageX-p.left-o.left)/s),o.top-=(c-a)*((h.pageY-p.top-o.top)/a)}else ql(t)&&Sl(t.x)&&Sl(t.y)?(o.left-=(d-s)*((t.x-o.left)/s),o.top-=(c-a)*((t.y-o.top)/a)):(o.left-=(d-s)/2,o.top-=(c-a)/2);o.width=d,o.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return Sl(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,Sl(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(Sl(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(Sl(e)&&(i.scaleX=e,n=!0),Sl(t)&&(i.scaleY=t,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,o=this.canvasData,s=this.cropBoxData;if(this.ready&&this.cropped){e={x:s.left-o.left,y:s.top-o.top,width:s.width,height:s.height};var a=n.width/n.naturalWidth;if(Ol(e,(function(t,i){e[i]=t/a})),t){var r=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=r-e.y}}else e={x:0,y:0,width:0,height:0};return i.rotatable&&(e.rotate=n.rotate||0),i.scalable&&(e.scaleX=n.scaleX||1,e.scaleY=n.scaleY||1),e},setData:function(e){var t=this.options,i=this.imageData,n=this.canvasData,o={};if(this.ready&&!this.disabled&&ql(e)){var s=!1;t.rotatable&&Sl(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,s=!0),t.scalable&&(Sl(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,s=!0),Sl(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var a=i.width/i.naturalWidth;Sl(e.x)&&(o.left=e.x*a+n.left),Sl(e.y)&&(o.top=e.y*a+n.top),Sl(e.width)&&(o.width=e.width*a),Sl(e.height)&&(o.height=e.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?Rl({},this.containerData):{}},getImageData:function(){return this.sized?Rl({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&Ol(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){t[i]=e[i]})),t},setCanvasData:function(e){var t=this.canvasData,i=t.aspectRatio;return this.ready&&!this.disabled&&ql(e)&&(Sl(e.left)&&(t.left=e.left),Sl(e.top)&&(t.top=e.top),Sl(e.width)?(t.width=e.width,t.height=e.width/i):Sl(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,i,n=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ql(e)&&(Sl(e.left)&&(n.left=e.left),Sl(e.top)&&(n.top=e.top),Sl(e.width)&&e.width!==n.width&&(t=!0,n.width=e.width),Sl(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),o&&(t?n.height=n.width/o:i&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,i=od(this.image,this.imageData,t,e);if(!this.cropped)return i;var n=this.getData(),o=n.x,s=n.y,a=n.width,r=n.height,l=i.width/Math.floor(t.naturalWidth);1!==l&&(o*=l,s*=l,a*=l,r*=l);var d=a/r,c=nd({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=nd({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=nd({aspectRatio:d,width:e.width||(1!==l?i.width:a),height:e.height||(1!==l?i.height:r)}),h=p.width,g=p.height;h=Math.min(c.width,Math.max(u.width,h)),g=Math.min(c.height,Math.max(u.height,g));var f=document.createElement("canvas"),m=f.getContext("2d");f.width=Bl(h),f.height=Bl(g),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,h,g);var v=e.imageSmoothingEnabled,b=void 0===v||v,y=e.imageSmoothingQuality;m.imageSmoothingEnabled=b,y&&(m.imageSmoothingQuality=y);var _,x,w,S,C,k,E=i.width,A=i.height,q=o,T=s;q<=-a||q>E?(q=0,_=0,w=0,C=0):q<=0?(w=-q,q=0,C=_=Math.min(E,a+q)):q<=E&&(w=0,C=_=Math.min(a,E-q)),_<=0||T<=-r||T>A?(T=0,x=0,S=0,k=0):T<=0?(S=-T,T=0,k=x=Math.min(A,r+T)):T<=A&&(S=0,k=x=Math.min(r,A-T));var L=[q,T,_,x];if(C>0&&k>0){var M=h/a;L.push(w*M,S*M,C*M,k*M)}return m.drawImage.apply(m,[i].concat(Ar(L.map((function(e){return Math.floor(Bl(e))}))))),f},setAspectRatio:function(e){var t=this.options;return this.disabled||kl(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var o=e===tl,s=t.movable&&e===il;e=o||s?e:nl,t.dragMode=e,Ul(i,Jr,e),Hl(i,Gr,o),Hl(i,Qr,s),t.cropBoxMovable||(Ul(n,Jr,e),Hl(n,Gr,o),Hl(n,Qr,s))}return this}},gd=Lr.Cropper,fd=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Cr(this,e),!t||!_l.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Rl({},xl,ql(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var t,i,n;return t=e,n=[{key:"noConflict",value:function(){return window.Cropper=gd,e}},{key:"setDefaults",value:function(e){Rl(xl,ql(e)&&e)}}],(i=[{key:"init",value:function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===i){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(bl.test(e))yl.test(e)?this.read((o=e.replace(ad,""),s=atob(o),a=new ArrayBuffer(s.length),Ol(r=new Uint8Array(a),(function(e,t){r[t]=s.charCodeAt(t)})),a)):this.clone();else{var o,s,a,r,l=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=d,l.onerror=d,l.ontimeout=d,l.onprogress=function(){l.getResponseHeader("content-type")!==ml&&l.abort()},l.onload=function(){t.read(l.response)},l.onloadend=function(){t.reloading=!1,t.xhr=null},n.checkCrossOrigin&&Jl(e)&&i.crossOrigin&&(e=ed(e)),l.open("GET",e,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===i.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,i=this.imageData,n=rd(e),o=0,s=1,a=1;if(n>1){this.url=function(e,t){for(var i=[],n=new Uint8Array(e);n.length>0;)i.push(sd.apply(null,Ml(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}(e,ml);var r=function(e){var t=0,i=1,n=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:n}}(n);o=r.rotate,s=r.scaleX,a=r.scaleY}t.rotatable&&(i.rotate=o),t.scalable&&(i.scaleX=s,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,i=e.crossOrigin,n=t;this.options.checkCrossOrigin&&Jl(t)&&(i||(i="anonymous"),n=ed(t)),this.crossOrigin=i,this.crossOriginUrl=n;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=n||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),$l(o,Xr),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var i=Lr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Lr.navigator.userAgent),n=function(t,i){Rl(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.initialImageData=Rl({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||i){var o=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),i||s.removeChild(o)},o.src=t.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(o))}else n(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,i=this.image,n=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var s=o.querySelector(".".concat(Rr,"-container")),a=s.querySelector(".".concat(Rr,"-canvas")),r=s.querySelector(".".concat(Rr,"-drag-box")),l=s.querySelector(".".concat(Rr,"-crop-box")),d=l.querySelector(".".concat(Rr,"-face"));this.container=n,this.cropper=s,this.canvas=a,this.dragBox=r,this.cropBox=l,this.viewBox=s.querySelector(".".concat(Rr,"-view-box")),this.face=d,a.appendChild(i),$l(e,Yr),n.insertBefore(s,e.nextSibling),this.isImg||Pl(i,Xr),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,$l(l,Yr),t.guides||$l(l.getElementsByClassName("".concat(Rr,"-dashed")),Yr),t.center||$l(l.getElementsByClassName("".concat(Rr,"-center")),Yr),t.background&&$l(s,"".concat(Rr,"-bg")),t.highlight||$l(d,Kr),t.cropBoxMovable&&($l(d,Qr),Ul(d,Jr,Nr)),t.cropBoxResizable||($l(l.getElementsByClassName("".concat(Rr,"-line")),Yr),$l(l.getElementsByClassName("".concat(Rr,"-point")),Yr)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),Tl(t.ready)&&Yl(e,pl,t.ready,{once:!0}),Xl(e,pl)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Pl(this.element,Yr))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&kr(t.prototype,i),n&&kr(t,n),e}();function md(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.map((function(t){return t.split(" ").map((function(t){return t?""+e+t:""})).join(" ")})).join(" ")}function vd(e,t){return function(i){i&&(e[t]=i)}}function bd(e,t,i){return function(n){n&&(e[t][i]=n)}}function yd(e,t){return function(i){var n=i.prototype;e.forEach((function(e){t(n,e)}))}}function _d(e,t){return void 0===t&&(t={}),function(i,n){e.forEach((function(e){var o=t[e]||e;o in i||(i[o]=function(){for(var t,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=(t=this[n])[e].apply(t,i);return s===this[n]?this:s})}))}}Rl(fd.prototype,ld,dd,cd,ud,pd,hd);var xd=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var i=this.keys,n=this.values,o=i.indexOf(e),s=-1===o?i.length:o;i[s]=e,n[s]=t},e}(),wd=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),Sd="function"==typeof Map,Cd=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}();var kd=function(){function e(e,t,i,n,o,s,a,r){this.prevList=e,this.list=t,this.added=i,this.removed=n,this.changed=o,this.maintained=s,this.changedBeforeAdded=a,this.fixed=r}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=function(e,t){var i=[],n=[];return e.forEach((function(e){var t=e[0],o=e[1],s=new Cd;i[t]=s,n[o]=s})),i.forEach((function(e,t){e.connect(i[t-1])})),e.filter((function(e,i){return!t[i]})).map((function(e,t){var o=e[0],s=e[1];if(o===s)return[0,0];var a=i[o],r=n[s-1],l=a.getIndex();return a.disconnect(),r?a.connect(r,r.next):a.connect(void 0,i[0]),[l,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),t=this.changed,i=[];this.cacheOrdered=e.filter((function(e,n){var o=e[0],s=e[1],a=t[n],r=a[0],l=a[1];if(o!==s)return i.push([r,l]),!0})),this.cachePureChanged=i},e}();function Ed(e,t,i){var n=Sd?Map:i?wd:xd,o=i||function(e){return e},s=[],a=[],r=[],l=e.map(o),d=t.map(o),c=new n,u=new n,p=[],h=[],g={},f=[],m=0,v=0;return l.forEach((function(e,t){c.set(e,t)})),d.forEach((function(e,t){u.set(e,t)})),l.forEach((function(e,t){var i=u.get(e);void 0===i?(++v,a.push(t)):g[i]=v})),d.forEach((function(e,t){var i=c.get(e);void 0===i?(s.push(t),++m):(r.push([i,t]),v=g[t]||0,p.push([i-v,t-m]),h.push(t===i),i!==t&&f.push([i,t]))})),a.reverse(),new kd(e,t,s,a,f,r,p,h)}var Ad=function(){function e(e,t){void 0===e&&(e=[]),this.findKeyCallback=t,this.list=[].slice.call(e)}return e.prototype.update=function(e){var t=[].slice.call(e),i=Ed(this.list,t,this.findKeyCallback);return this.list=t,i},e}(),qd=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Td=1e-7,Ld={cm:function(e){return 96*e/2.54},mm:function(e){return 96*e/254},in:function(e){return 96*e},pt:function(e){return 96*e/72},pc:function(e){return 96*e/6},"%":function(e,t){return e*t/100},vw:function(e,t){return void 0===t&&(t=window.innerWidth),e/100*t},vh:function(e,t){return void 0===t&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return void 0===t&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return void 0===t&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};function Md(e){return void 0===e}function Od(e){return e&&"object"==typeof e}function Rd(e){return Array.isArray(e)}function Nd(e){return"string"==typeof e}function Bd(e){return"function"==typeof e}function Id(e,t,i,n,o){return Dd(e,t,i)?i:function(e,t,i,n,o){for(var s,a=function(i){var a=t[i].trim();if(a===e.close&&!Dd(e,t,i))return{value:i};var r=i,l=Gd(o,(function(e){return e.open===a}));if(l&&(r=Id(l,t,i,n,o)),-1===r)return s=i,"break";s=i=r},r=i;r<n;++r){var l=a(r);if(r=s,"object"==typeof l)return l.value;if("break"===l)break}return-1}(e,t,i+1,n,o)}function Dd(e,t,i){if(!e.ignore)return null;var n=t.slice(Math.max(i-3,0),i+3).join("");return new RegExp(e.ignore).exec(n)}function $d(e,t){var i=Nd(t)?{separator:t}:t,n=i.separator,o=void 0===n?",":n,s=i.isSeparateFirst,a=i.isSeparateOnlyOpenClose,r=i.isSeparateOpenClose,l=void 0===r?a:r,d=i.openCloseCharacters,c=void 0===d?qd:d,u=c.map((function(e){var t=e.open,i=e.close;return t===i?t:t+"|"+i})).join("|"),p=new RegExp("(\\s*"+o+"\\s*|"+u+"|\\s+)","g"),h=e.split(p).filter(Boolean),g=h.length,f=[],m=[];function v(){return!!m.length&&(f.push(m.join("")),m=[],!0)}for(var b,y=function(e){var t=h[e].trim(),i=e,n=Gd(c,(function(e){return e.open===t})),r=Gd(c,(function(e){return e.close===t}));if(n){if(-1!==(i=Id(n,h,e,g,c))&&l)return v()&&s?(b=e,"break"):(f.push(h.slice(e,i+1).join("")),e=i,s?(b=e,"break"):(b=e,"continue"))}else{if(r&&!Dd(r,h,e))throw new Error("invalid format: "+r.close);if(function(e,t){return(""===t||" "==t)&&(""===e||" "==e)||e===t}(t,o)&&!a)return v(),s?(b=e,"break"):(b=e,"continue")}-1===i&&(i=g-1),m.push(h.slice(e,i+1).join("")),b=e=i},_=0;_<g;++_){var x=y(_);if(_=b,"break"===x)break}return m.length&&f.push(m.join("")),f}function Pd(e){return $d(e,"")}function Hd(e){return $d(e,",")}function zd(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Fd(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var i=t[1],n=t[2];return{prefix:i,unit:t[3],value:parseFloat(n)}}function jd(e,t){return void 0===t&&(t="-"),e.replace(/([a-z])([A-Z])/g,(function(e,i,n){return""+i+t+n.toLowerCase()}))}function Ud(){return Date.now?Date.now():(new Date).getTime()}function Wd(e,t,i){void 0===i&&(i=-1);for(var n=e.length,o=0;o<n;++o)if(t(e[o],o,e))return o;return i}function Gd(e,t,i){var n=Wd(e,t);return n>-1?e[n]:i}function Vd(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in t)t.push(i);return t}function Yd(e,t){var i=Fd(e),n=i.value,o=i.unit;if(Od(t)){var s=t[o];if(s){if(Bd(s))return s(n);if(Ld[o])return Ld[o](n,s)}}else if("%"===o)return n*t/100;return Ld[o]?Ld[o](n):n}function Xd(e,t,i){return[[tc(t[0],Td),tc(t[0]*e[1]/e[0],Td)],[tc(t[1]*e[0]/e[1],Td),tc(t[1],Td)]].filter((function(e){return e.every((function(e,n){return i?e<=t[n]:e>=t[n]}))}))[0]||e}function Kd(e,t,i,n){if(!n)return e.map((function(e,n){return function(e,t,i){return Math.max(t,Math.min(e,i))}(e,t[n],i[n])}));var o=e[0],s=e[1],a=Xd(e,t,!1),r=a[0],l=a[1],d=Xd(e,i,!0),c=d[0],u=d[1];return o<r||s<l?(o=r,s=l):(o>c||s>u)&&(o=c,s=u),[o,s]}function Zd(e){for(var t=e.length,i=0,n=t-1;n>=0;--n)i+=e[n];return t?i/t:0}function Qd(e,t){var i=t[0]-e[0],n=t[1]-e[1],o=Math.atan2(n,i);return o>=0?o:o+2*Math.PI}function Jd(e){var t=function(e){return[0,1].map((function(t){return Zd(e.map((function(e){return e[t]})))}))}(e),i=Qd(t,e[0]),n=Qd(t,e[1]);return i<n&&n-i<Math.PI||i>n&&n-i<-Math.PI?1:-1}function ec(e,t){return Math.sqrt(Math.pow((t?t[0]:0)-e[0],2)+Math.pow((t?t[1]:0)-e[1],2))}function tc(e,t){return t?Math.round(e/t)*t:e}function ic(e,t){return e.forEach((function(i,n){e[n]=tc(e[n],t)})),e}function nc(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function oc(e,t,i,n){e.addEventListener(t,i,n)}function sc(e,t,i,n){e.removeEventListener(t,i,n)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var ac=function(e,t){return(ac=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function rc(e,t){function i(){this.constructor=e}ac(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var lc=function(){return(lc=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function dc(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}function cc(e,t){if(e===t)return!1;for(var i in e)if(!(i in t))return!0;for(var i in t)if(e[i]!==t[i])return!0;return!1}function uc(e,t){var i=Object.keys(e),n=Object.keys(t),o=Ed(i,n,(function(e){return e})),s={},a={},r={};return o.added.forEach((function(e){var i=n[e];s[i]=t[i]})),o.removed.forEach((function(t){var n=i[t];a[n]=e[n]})),o.maintained.forEach((function(n){var o=n[0],s=i[o],a=[e[s],t[s]];e[s]!==t[s]&&(r[s]=a)})),{added:s,removed:a,changed:r}}function pc(e){e.forEach((function(e){e()}))}function hc(e){var t=0;return e.map((function(e){return null==e?"$compat"+ ++t:""+e}))}function gc(e,t,i,n){return Nd(e)||"number"==typeof e?new xc("text_"+e,t,i,n,null,{}):new("string"==typeof e.type?wc:e.type.prototype.render?Ac:kc)(e.type,t,i,n,e.ref,e.props)}function fc(e){var t=[];return e.forEach((function(e){t=t.concat(Rd(e)?fc(e):e)})),t}function mc(e){var t=e.className,i=dc(e,["className"]);return null!=t&&(i.class=t),delete i.style,delete i.children,i}function vc(e,t){if(!t)return e;for(var i in t)Md(e[i])&&(e[i]=t[i]);return e}function bc(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o=t||{},s=o.key,a=o.ref,r=dc(o,["key","ref"]);return{type:e,key:s,ref:a,props:lc(lc({},r),{children:fc(i).filter((function(e){return null!=e&&!1!==e}))})}}var yc=function(){function e(e,t,i,n,o,s){void 0===s&&(s={}),this.type=e,this.key=t,this.index=i,this.container=n,this.ref=o,this.props=s,this._providers=[]}var t=e.prototype;return t._should=function(e,t){return!0},t._update=function(e,t,i,n){if(this.base&&!Nd(t)&&!n&&!this._should(t.props,i))return!1;this.original=t,this._setState(i);var o=this.props;return Nd(t)||(this.props=t.props,this.ref=t.ref),this._render(e,this.base?o:{},i),!0},t._mounted=function(){var e=this.ref;e&&e(this.base)},t._setState=function(e){},t._updated=function(){var e=this.ref;e&&e(this.base)},t._destroy=function(){var e=this.ref;e&&e(null)},e}();function _c(e){var t={},i={};for(var n in e)0===n.indexOf("on")?i[n.replace("on","").toLowerCase()]=e[n]:t[n]=e[n];return{attributes:t,events:i}}var xc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}rc(t,e);var i=t.prototype;return i._render=function(e){var t=this,i=!this.base;return i&&(this.base=document.createTextNode(this.type.replace("text_",""))),e.push((function(){i?t._mounted():t._updated()})),!0},i._unmount=function(){this.base.parentNode.removeChild(this.base)},t}(yc),wc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t._isSVG=!1,t}rc(t,e);var i=t.prototype;return i.addEventListener=function(e,t){var i=this.events;i[e]=function(e){e.nativeEvent=e,t(e)},this.base.addEventListener(e,i[e])},i.removeEventListener=function(e){var t=this.events;this.base.removeEventListener(e,t[e]),delete t[e]},i._should=function(e){return cc(this.props,e)},i._render=function(e,t){var i=this,n=!this.base;if(n){var o=this._hasSVG();this._isSVG=o;var s=this.props.portalContainer;if(!s){var a=this.type;s=o?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}this.base=s}Oc(this,this._providers,this.props.children,e,null);var r=this.base,l=_c(t),d=l.attributes,c=l.events,u=_c(this.props),p=u.attributes,h=u.events;return function(e,t,i){var n=uc(e,t),o=n.added,s=n.removed,a=n.changed;for(var r in o)i.setAttribute(r,o[r]);for(var r in a)i.setAttribute(r,a[r][1]);for(var r in s)i.removeAttribute(r)}(mc(d),mc(p),r),function(e,t,i){var n=uc(e,t),o=n.added,s=n.removed,a=n.changed;for(var r in s)i.removeEventListener(r);for(var r in o)i.addEventListener(r,o[r]);for(var r in a)i.removeEventListener(r),i.addEventListener(r,a[r][1]);for(var r in s)i.removeEventListener(r)}(c,h,this),function(e,t,i){var n=i.style,o=uc(e,t),s=o.added,a=o.removed,r=o.changed;for(var l in s){var d=jd(l,"-");n.setProperty?n.setProperty(d,s[l]):n[d]=s[l]}for(var l in r)d=jd(l,"-"),n.setProperty?n.setProperty(d,r[l][1]):n[d]=r[l][1];for(var l in a)d=jd(l,"-"),n.removeProperty?n.removeProperty(d):n[d]=""}(t.style||{},this.props.style||{},r),e.push((function(){n?i._mounted():i._updated()})),!0},i._unmount=function(){var e=this.events,t=this.base;for(var i in e)t.removeEventListener(i,e[i]);this._providers.forEach((function(e){e._unmount()})),this.events={},this.props.portalContainer||t.parentNode.removeChild(t)},i._hasSVG=function(){if(this._isSVG||"svg"===this.type)return!0;var e=Sc(this.container);return e&&"ownerSVGElement"in e},t}(yc);function Sc(e){if(!e)return null;var t=e.base;return t instanceof Node?t:Sc(e.container)}function Cc(e){if(!e)return null;if(e instanceof Node)return e;var t=e.$_provider._providers;return t.length?Cc(t[0].base):null}var kc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}rc(t,e);var i=t.prototype;return i._render=function(e){var t=this.type(this.props);return Oc(this,this._providers,t?[t]:[],e),!0},i._unmount=function(){this._providers.forEach((function(e){e._unmount()}))},t}(yc),Ec=function(e){function t(t){var i=e.call(this,"container","container",0,null)||this;return i.base=t,i}rc(t,e);var i=t.prototype;return i._render=function(){return!0},i._unmount=function(){},t}(yc),Ac=function(e){function t(t,i,n,o,s,a){return void 0===a&&(a={}),e.call(this,t,i,n,o,s,vc(a,t.defaultProps))||this}rc(t,e);var i=t.prototype;return i._should=function(e,t){return this.base.shouldComponentUpdate(vc(e,this.type.defaultProps),t||this.base.state)},i._render=function(e,t,i){var n=this;this.props=vc(this.props,this.type.defaultProps);var o=!this.base;o?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var s=this.base,a=s.state,r=s.render();r&&r.props&&!r.props.children.length&&(r.props.children=this.props.children),Oc(this,this._providers,r?[r]:[],e,i,null),e.push((function(){o?(n._mounted(),s.componentDidMount()):(n._updated(),s.componentDidUpdate(t,a))}))},i._setState=function(e){e&&(this.base.state=e)},i._unmount=function(){this._providers.forEach((function(e){e._unmount()})),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(yc),qc=function(){function e(e){void 0===e&&(e={}),this.props=e,this.state={},this.$_timer=0,this.$_state={}}var t=e.prototype;return t.shouldComponentUpdate=function(e,t){return!0},t.render=function(){return null},t.setState=function(e,t,i){var n=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=lc(lc({},this.$_state),e),i?this.$_setState(t,i):this.$_timer=setTimeout((function(){n.$_timer=0,n.$_setState(t,i)}))},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,t){},t.componentWillUnmount=function(){},t.$_setState=function(e,t){var i=[],n=this.$_provider;Oc(n.container,[n],[n.original],i,lc(lc({},this.state),this.$_state),t)&&(e&&i.push(e),pc(i))},e}(),Tc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rc(t,e),t.prototype.shouldComponentUpdate=function(e,t){return cc(this.props,e)||cc(this.state,t)},t}(qc),Lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}rc(t,e);var i=t.prototype;return i.componentDidMount=function(){var e=this.props,t=e.element,i=e.container;this._portalProvider=new Ec(i),Rc(t,i,this._portalProvider)},i.componentDidUpdate=function(){var e=this.props;Rc(e.element,e.container,this._portalProvider)},i.componentWillUnmount=function(){Rc(null,this.props.container,this._portalProvider),this._portalProvider=null},t}(Tc);function Mc(e,t,i){var n=i.map((function(e){return Nd(e)?null:e.key})),o=Ed(hc(t.map((function(e){return e.key}))),hc(n),(function(e){return e}));o.removed.forEach((function(e){t.splice(e,1)[0]._unmount()})),o.ordered.forEach((function(e){var i=e[0],n=e[1],o=t.splice(i,1)[0];t.splice(n,0,o);var s=Cc(o.base),a=Cc(t[n+1]&&t[n+1].base);s&&s.parentNode.insertBefore(s,a)})),o.added.forEach((function(o){t.splice(o,0,gc(i[o],n[o],o,e))}));var s=o.maintained.filter((function(o){o[0];var s=o[1],a=i[s],r=t[s];return(Nd(a)?"text_"+a:a.type)!==r.type?(r._unmount(),t.splice(s,1,gc(a,n[s],s,e)),!0):(r.index=s,!1)}));return function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n}(o.added,s.map((function(e){return e[0],e[1]})))}function Oc(e,t,i,n,o,s){var a=Mc(e,t,i),r=t.filter((function(e,t){return e._update(n,i[t],o,s)})),l=Sc(e);return l&&a.reverse().forEach((function(i){var n=t[i],o=Cc(n.base);if(o&&l!==o&&!o.parentNode){var s=function(e,t){for(var i=e._providers,n=i.length,o=t.index+1;o<n;++o){var s=Cc(i[o].base);if(s)return s}return null}(e,n);l.insertBefore(o,s)}})),r.length>0}function Rc(e,t,i){void 0===i&&(i=t.__REACT_COMPAT__);var n=!!i;return i||(i=new Ec(t)),function(e,t,i){var n=[];Oc(e,e._providers,t,n,i),pc(n)}(i,e?[e]:[]),n||(t.__REACT_COMPAT__=i),i}function Nc(e,t,i){var n=t.__REACT_COMPAT__;e&&!n&&(t.innerHTML=""),Rc(e,t,n),i&&i()}function Bc(e,t){for(var i=e.length,n=0;n<i;++n)if(t(e[n],n))return!0;return!1}function Ic(e,t){for(var i=e.length,n=0;n<i;++n)if(t(e[n],n))return e[n];return null}function Dc(e,t){try{return new RegExp(e,"g").exec(t)}catch(e){return null}}function $c(e){return e.replace(/_/g,".")}function Pc(e,t){var i=null,n="-1";return Bc(e,(function(e){var o=Dc("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!(!o||e.brand)&&(i=e,n=o[3]||"-1",e.versionAlias?n=e.versionAlias:e.versionTest&&(n=function(e,t){var i=Dc("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return i?i[3]:""}(e.versionTest.toLowerCase(),t)||n),n=$c(n),!0)})),{preset:i,version:n}}function Hc(e,t){var i={brand:"",version:"-1"};return Bc(e,(function(e){var n=zc(t,e);return!!n&&(i.brand=e.id,i.version=e.versionAlias||n.version,"-1"!==i.version)})),i}function zc(e,t){return Ic(e,(function(e){var i=e.brand;return Dc(""+t.test,i.toLowerCase())}))}var Fc=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],jc=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Uc=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Wc=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Gc=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Vc(e){var t=function(e){var t=e;if(void 0===t){if("undefined"==typeof navigator||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}(e),i=!!/mobi/g.exec(t),n={name:"unknown",version:"-1",majorVersion:-1,webview:!!Pc(Wc,t).preset,chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},o={name:"unknown",version:"-1",majorVersion:-1},s=Pc(Fc,t),a=s.preset,r=s.version,l=Pc(Gc,t),d=l.preset,c=l.version,u=Pc(jc,t);if(n.chromium=!!u.preset,n.chromiumVersion=u.version,!n.chromium){var p=Pc(Uc,t);n.webkit=!!p.preset,n.webkitVersion=p.version}return d&&(o.name=d.id,o.version=c,o.majorVersion=parseInt(c,10)),a&&(n.name=a.id,n.version=r,n.webview&&"ios"===o.name&&"safari"!==n.name&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:o,isMobile:i,isHints:!1}}function Yc(e,t,i,n,o,s){for(var a=0;a<o;++a){var r=i+a*o,l=n+a*o;e[r]+=e[l]*s,t[r]+=t[l]*s}}function Xc(e,t,i,n,o){for(var s=0;s<o;++s){var a=i+s*o,r=n+s*o,l=e[a],d=t[a];e[a]=e[r],e[r]=l,t[a]=t[r],t[r]=d}}function Kc(e,t,i,n,o){for(var s=0;s<n;++s){var a=i+s*n;e[a]/=o,t[a]/=o}}function Zc(e,t,i){void 0===i&&(i=Math.sqrt(e.length));for(var n=e.slice(),o=0;o<i;++o)n[o*i+t-1]=0,n[(t-1)*i+o]=0;return n[(t-1)*(i+1)]=1,n}function Qc(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var i=e.slice(),n=fu(t),o=0;o<t;++o){var s=t*o+o;if(!tc(i[s],Td))for(var a=o+1;a<t;++a)if(i[t*o+a]){Xc(i,n,o,a,t);break}if(!tc(i[s],Td))return[];Kc(i,n,o,t,i[s]);for(a=0;a<t;++a){var r=a,l=i[a+o*t];tc(l,Td)&&o!==a&&Yc(i,n,r,o,t,-l)}}return n}function Jc(e,t){for(var i=e.slice(),n=e.length;n<t-1;++n)i[n]=0;return i[t-1]=1,i}function eu(e,t,i){if(void 0===t&&(t=Math.sqrt(e.length)),t===i)return e;for(var n=fu(i),o=Math.min(t,i),s=0;s<o-1;++s){for(var a=0;a<o-1;++a)n[s*i+a]=e[s*t+a];n[(s+1)*i-1]=e[(s+1)*t-1],n[(i-1)*i+s]=e[(t-1)*t+s]}return n[i*i-1]=e[t*t-1],n}function tu(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=fu(e);return t.forEach((function(t){n=iu(n,t,e)})),n}function iu(e,t,i){void 0===i&&(i=Math.sqrt(e.length));var n=[],o=e.length/i,s=t.length/o;if(!o)return t;if(!s)return e;for(var a=0;a<i;++a)for(var r=0;r<s;++r){n[r*i+a]=0;for(var l=0;l<o;++l)n[r*i+a]+=e[l*i+a]*t[r*o+l]}return n}function nu(e,t){for(var i=Math.min(e.length,t.length),n=e.slice(),o=0;o<i;++o)n[o]=n[o]+t[o];return n}function ou(e,t){for(var i=Math.min(e.length,t.length),n=e.slice(),o=0;o<i;++o)n[o]=n[o]-t[o];return n}function su(e,t){return void 0===t&&(t=9===e.length),t?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function au(e,t,i){void 0===i&&(i=t.length);var n=iu(e,t,i),o=n[i-1];return n.map((function(e){return e/o}))}function ru(e,t){return iu(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function lu(e,t){return iu(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function du(e,t){return iu(e,gu(t,4))}function cu(e,t){var i=t[0],n=void 0===i?1:i,o=t[1],s=void 0===o?1:o,a=t[2];return iu(e,[n,0,0,0,0,s,0,0,0,0,void 0===a?1:a,0,0,0,0,1],4)}function uu(e,t){return au(gu(t,3),Jc(e,3))}function pu(e,t){var i=t[0],n=void 0===i?0:i,o=t[1],s=void 0===o?0:o,a=t[2];return iu(e,[1,0,0,0,0,1,0,0,0,0,1,0,n,s,void 0===a?0:a,1],4)}function hu(e,t){return iu(e,t,4)}function gu(e,t){var i=Math.cos(e),n=Math.sin(e),o=fu(t);return o[0]=i,o[1]=n,o[t]=-n,o[t+1]=i,o}function fu(e){for(var t=e*e,i=[],n=0;n<t;++n)i[n]=n%(e+1)?0:1;return i}function mu(e,t){for(var i=fu(t),n=Math.min(e.length,t-1),o=0;o<n;++o)i[(t+1)*o]=e[o];return i}function vu(e,t){for(var i=fu(t),n=Math.min(e.length,t-1),o=0;o<n;++o)i[t*(t-1)+o]=e[o];return i}function bu(e,t,i,n,o,s,a,r){var l=e[0],d=e[1],c=t[0],u=t[1],p=i[0],h=i[1],g=n[0],f=n[1],m=o[0],v=o[1],b=s[0],y=s[1],_=a[0],x=a[1],w=r[0],S=r[1],C=Qc([l,0,c,0,p,0,g,0,d,0,u,0,h,0,f,0,1,0,1,0,1,0,1,0,0,l,0,c,0,p,0,g,0,d,0,u,0,h,0,f,0,1,0,1,0,1,0,1,-m*l,-v*l,-b*c,-y*c,-_*p,-x*p,-w*g,-S*g,-m*d,-v*d,-b*u,-y*u,-_*h,-x*h,-w*f,-S*f],8);if(!C.length)return[];var k=iu(C,[m,v,b,y,_,x,w,S],8);return k[8]=1,eu(function(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var i=[],n=0;n<t;++n)for(var o=0;o<t;++o)i[o*t+n]=e[t*n+o];return i}(k),3,4)}function yu(e){var t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach((function(e){var i=e.matrixFunction,n=e.functionValue;i&&(t=i(t,n))})),t}function _u(e){return(Rd(e)?e:Pd(e)).map((function(e){var t=zd(e),i=t.prefix,n=t.value,o=null,s=i,a="";if("translate"===i||"translateX"===i||"translate3d"===i){var r=Hd(n).map((function(e){return parseFloat(e)})),l=r[0],d=r[1],c=void 0===d?0:d,u=r[2];o=pu,a=[l,c,void 0===u?0:u]}else if("translateY"===i){o=pu,a=[0,c=parseFloat(n),0]}else if("translateZ"===i){o=pu,a=[0,0,parseFloat(n)]}else if("scale"===i||"scale3d"===i){var p=Hd(n).map((function(e){return parseFloat(e)})),h=p[0],g=p[1],f=void 0===g?h:g,m=p[2];o=cu,a=[h,f,void 0===m?1:m]}else if("scaleX"===i){o=cu,a=[h=parseFloat(n),1,1]}else if("scaleY"===i){o=cu,a=[1,f=parseFloat(n),1]}else if("scaleZ"===i){o=cu,a=[1,1,parseFloat(n)]}else if("rotate"===i||"rotateZ"===i||"rotateX"===i||"rotateY"===i){var v=Fd(n),b=v.unit,y=v.value;"rotate"===i||"rotateZ"===i?(s="rotateZ",o=du):"rotateX"===i?o=ru:"rotateY"===i&&(o=lu),a="rad"===b?y:y*Math.PI/180}else if("matrix3d"===i)o=hu,a=Hd(n).map((function(e){return parseFloat(e)}));else if("matrix"===i){var _=Hd(n).map((function(e){return parseFloat(e)}));o=hu,a=[_[0],_[1],0,0,_[2],_[3],0,0,0,0,1,0,_[4],_[5],0,1]}else s="";return{name:i,functionName:s,value:n,matrixFunction:o,functionValue:a}}))}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function xu(e){return e.length<3?0:Math.abs(function(e){for(var t=0,i=e.length-1;i>=0;--i)t+=e[i];return t}(e.map((function(t,i){var n=e[i+1]||e[0];return t[0]*n[1]-n[0]*t[1]}))))/2}function wu(e,t){var i=t.width,n=t.height,o=t.left,s=t.top,a=Su(e),r=a.minX,l=a.minY,d=a.maxX,c=a.maxY,u=i/(d-r),p=n/(c-l);return e.map((function(e){return[o+(e[0]-r)*u,s+(e[1]-l)*p]}))}function Su(e){var t=e.map((function(e){return e[0]})),i=e.map((function(e){return e[1]}));return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,i),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,i)}}function Cu(e,t,i){var n=e[0],o=e[1],s=Su(t),a=s.minX,r=s.minY,l=s.maxX,d=s.maxY,c=[[a,o],[l,o]],u=[[n,r],[n,d]],p=ku(c[0],c[1]),h=ku(u[0],u[1]),g=qu(t),f=[],m=[];return g.forEach((function(e){var t=ku(e[0],e[1]),i=Au(Eu(p,t),[c,e]),s=Au(Eu(h,t),[u,e]);1===i.length&&e[0][1]===o||f.push.apply(f,i),1===s.length&&e[0][0]===n||m.push.apply(m,s),t[0]||f.push.apply(f,i),t[1]||m.push.apply(m,s)})),!i&&(Wd(f,(function(e){return e[0]===n}))>-1||Wd(m,(function(e){return e[1]===o}))>-1)||!!(f.filter((function(e){return e[0]>n})).length%2&&m.filter((function(e){return e[1]>o})).length%2)}function ku(e,t){var i=e[0],n=e[1],o=t[0],s=t[1];if(i===o&&n===s)return[0,0,0];if(i===o)return[1,0,-i];if(n===s)return[0,1,-n];var a=(o-i)/(n-s);return[1,a,-i-a*n]}function Eu(e,t){var i,n,o=e[0],s=e[1],a=e[2],r=t[0],l=t[1],d=t[2],c=0===o&&0===r,u=0===s&&0===l;if(c&&u)return[];if(c){var p=-a/s;return p!==-d/l?[]:[[-1/0,p],[1/0,p]]}if(u){var h=-a/o;return h!==-d/r?[]:[[h,-1/0],[h,1/0]]}return 0===o?[[i=-(l*(n=-a/s)+d)/r,n]]:0===r?[[i=-(s*(n=-d/l)+a)/o,n]]:0===s?[[i=-a/o,n=-(r*i+d)/l]]:0===l?[[i=-d/r,n=-(o*i+a)/s]]:[[i=(s*d-l*a)/(l*o-s*r),n=-(o*i+a)/s]]}function Au(e,t){var i=t.map((function(e){return[0,1].map((function(t){return[Math.min(e[0][t],e[1][t]),Math.max(e[0][t],e[1][t])]}))}));if(2===e.length){var n=e[0],o=n[0],s=n[1];if(o===e[1][0]){var a=Math.max.apply(Math,i.map((function(e){return e[1][0]}))),r=Math.min.apply(Math,i.map((function(e){return e[1][1]})));return a>r?[]:[[o,a],[o,r]]}if(s===e[1][1]){var l=Math.max.apply(Math,i.map((function(e){return e[0][0]}))),d=Math.min.apply(Math,i.map((function(e){return e[0][1]})));return l>d?[]:[[l,s],[d,s]]}}return e.filter((function(e){return i.every((function(t){return t[0][0]<=e[0]&&e[0]<=t[0][1]&&t[1][0]<=e[1]&&e[1]<=t[1][1]}))}))}function qu(e){return function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n}(e.slice(1),[e[0]]).map((function(t,i){return[e[i],t]}))}function Tu(e,t){return xu(function(e,t){var i=e.slice(),n=t.slice();-1===Jd(i)&&i.reverse(),-1===Jd(n)&&n.reverse();var o=qu(i),s=qu(n),a=o.map((function(e){return ku(e[0],e[1])})),r=s.map((function(e){return ku(e[0],e[1])})),l=[];a.forEach((function(e,t){var i=o[t],a=[];r.forEach((function(n,o){var r=Au(Eu(e,n),[i,s[o]]);a.push.apply(a,r.map((function(e){return{index1:t,index2:o,pos:e}})))})),a.sort((function(e,t){return ec(i[0],e.pos)-ec(i[0],t.pos)})),l.push.apply(l,a),Cu(i[1],n)&&l.push({index1:t,index2:-1,pos:i[1]})})),s.forEach((function(e,t){if(Cu(e[1],i)){var n=!1,o=Wd(l,(function(e){return e.index2===t?(n=!0,!1):!!n}));-1===o&&(n=!1,o=Wd(l,(function(e){var i=e.index1,o=e.index2;return-1===i&&o+1===t?(n=!0,!1):!!n}))),-1===o?l.push({index1:-1,index2:t,pos:e[1]}):l.splice(o,0,{index1:-1,index2:t,pos:e[1]})}}));var d=l.map((function(e){return e.pos})),c={};return d.filter((function(e){var t=e[0]+"x"+e[1];return!c[t]&&(c[t]=!0,!0)}))}(e,t))}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Lu=function(e,t){return(Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};var Mu,Ou="function"==typeof Map?void 0:(Mu=0,function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++Mu)});var Ru=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,Ou)||this}return function(e,t){function i(){this.constructor=e}Lu(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(Ad),Nu=function(){return(Nu=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Bu=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(e,t){if(Od(e))for(var i in e)this.on(i,e[i]);else this._addEvent(e,t,{});return this},t.off=function(e,t){if(e)if(Od(e))for(var i in e)this.off(i);else if(t){var n=this._events[e];if(n){var o=Wd(n,(function(e){return e.listener===t}));o>-1&&n.splice(o,1)}}else this._events[e]=[];else this._events={};return this},t.once=function(e,t){var i=this;return t&&this._addEvent(e,t,{once:!0}),new Promise((function(t){i._addEvent(e,t,{once:!0})}))},t.emit=function(e,t){var i=this;void 0===t&&(t={});var n=this._events[e];if(!e||!n)return!0;var o=!1;return t.eventType=e,t.stop=function(){o=!0},t.currentTarget=this,function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n}(n).forEach((function(n){n.listener(t),n.once&&i.off(e,n.listener)})),!o},t.trigger=function(e,t){return void 0===t&&(t={}),this.emit(e,t)},t._addEvent=function(e,t,i){var n=this._events;n[e]=n[e]||[],n[e].push(Nu({listener:t},i))},e}(),Iu=function(e,t){return(Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function Du(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}var $u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startRect=null,t.startPos=[],t.prevTime=0,t.timer=0,t}!function(e,t){function i(){this.constructor=e}Iu(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e);var i=t.prototype;return i.dragStart=function(e,t){var i=t.container,n=0,o=0,s=0,a=0;if(i===document.body)s=window.innerWidth,a=window.innerHeight;else{var r=i.getBoundingClientRect();n=r.top,o=r.left,s=r.width,a=r.height}this.startPos=[e.clientX,e.clientY],this.startRect={top:n,left:o,width:s,height:a}},i.drag=function(e,t){var i=this,n=e.clientX,o=e.clientY,s=t.container,a=t.threshold,r=void 0===a?0:a,l=t.throttleTime,d=void 0===l?0:l,c=t.getScrollPosition,u=void 0===c?Du:c,p=this.startRect,h=this.startPos,g=Ud(),f=Math.max(d+this.prevTime-g,0),m=[0,0];if(p.top>o-r?(h[1]>p.top||o<h[1])&&(m[1]=-1):p.top+p.height<o+r&&(h[1]<p.top+p.height||o>h[1])&&(m[1]=1),p.left>n-r?(h[0]>p.left||n<h[0])&&(m[0]=-1):p.left+p.width<n+r&&(h[0]<p.left+p.width||n>h[0])&&(m[0]=1),clearTimeout(this.timer),!m[0]&&!m[1])return!1;if(f>0)return this.timer=window.setTimeout((function(){i.drag(e,t)}),f),!1;this.prevTime=g;var v=u({container:s,direction:m});this.trigger("scroll",{container:s,direction:m,inputEvent:e});var b=u({container:s,direction:m}),y=b[0]-v[0],_=b[1]-v[1];return!(!y&&!_)&&(this.trigger("move",{offsetX:m[0]?y:0,offsetY:m[1]?_:0,inputEvent:e}),d&&(this.timer=window.setTimeout((function(){i.drag(e,t)}),d)),!0)},i.dragEnd=function(){clearTimeout(this.timer)},t}(Bu),Pu=function(e,t){return(Pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};var Hu=function(){return(Hu=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function zu(e){return 180*(t=[e[0].clientX,e[0].clientY],i=[e[1].clientX,e[1].clientY],n=i[0]-t[0],o=i[1]-t[1],((s=Math.atan2(o,n))>=0?s:s+2*Math.PI)/Math.PI);var t,i,n,o,s}function Fu(e){return e.touches?function(e){for(var t=Math.min(e.length,2),i=[],n=0;n<t;++n)i.push(Wu(e[n]));return i}(e.touches):[Wu(e)]}function ju(e,t,i){var n=i.length,o=Gu(e,n),s=o.clientX,a=o.clientY,r=o.originalClientX,l=o.originalClientY,d=Gu(t,n),c=d.clientX,u=d.clientY,p=Gu(i,n);return{clientX:r,clientY:l,deltaX:s-c,deltaY:a-u,distX:s-p.clientX,distY:a-p.clientY}}function Uu(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function Wu(e){return{clientX:e.clientX,clientY:e.clientY}}function Gu(e,t){void 0===t&&(t=e.length);for(var i={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<t;++n){var o=e[n];i.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,i.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,i.clientX+=o.clientX,i.clientY+=o.clientY}return t?{clientX:i.clientX/t,clientY:i.clientY/t,originalClientX:i.originalClientX/t,originalClientY:i.originalClientY/t}:i}var Vu=function(){function e(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}var t=e.prototype;return t.addClients=function(e){void 0===e&&(e=this.prevClients);var t=this.getPosition(e),i=t.deltaX,n=t.deltaY;return this.movement+=Math.sqrt(i*i+n*n),this.prevClients=e,t},t.getAngle=function(e){return void 0===e&&(e=this.prevClients),zu(e)},t.getRotation=function(e){return void 0===e&&(e=this.prevClients),zu(e)-zu(this.startClients)},t.getPosition=function(e){return ju(e||this.prevClients,this.prevClients,this.startClients)},t.getPositions=function(e){void 0===e&&(e=this.prevClients);var t=this.prevClients;return this.startClients.map((function(i,n){return ju([e[n]],[t[n]],[i])}))},t.getMovement=function(e){var t=this.movement;if(!e)return t;var i=Gu(e,this.length),n=Gu(this.prevClients,this.length),o=i.clientX-n.clientX,s=i.clientY-n.clientY;return Math.sqrt(o*o+s*s)+t},t.getDistance=function(e){return void 0===e&&(e=this.prevClients),Uu(e)},t.getScale=function(e){return void 0===e&&(e=this.prevClients),Uu(e)/Uu(this.startClients)},t.move=function(e,t){this.startClients.forEach((function(i){i.clientX-=e,i.clientY-=t})),this.prevClients.forEach((function(i){i.clientX-=e,i.clientY-=t}))},e}(),Yu=["textarea","input"],Xu=function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this)||this;n.options={},n.flag=!1,n.pinchFlag=!1,n.datas={},n.isDrag=!1,n.isPinch=!1,n.isMouse=!1,n.isTouch=!1,n.clientStores=[],n.targets=[],n.prevTime=0,n.doubleFlag=!1,n.onDragStart=function(e,t){if(void 0===t&&(t=!0),n.flag||!1!==e.cancelable){var i=n.options,o=i.container,s=i.pinchOutside,a=i.preventRightClick,r=i.preventDefault,l=i.checkInput,d=n.isTouch,c=!n.flag;if(c){var u=document.activeElement,p=e.target,h=p.tagName.toLowerCase(),g=Yu.indexOf(h)>-1,f=p.isContentEditable;if(g||f){if(l||u===p)return!1;if(u&&f&&u.isContentEditable&&u.contains(p))return!1}else if((r||"touchstart"===e.type)&&u){var m=u.tagName;(u.isContentEditable||Yu.indexOf(m)>-1)&&u.blur()}if(n.clientStores=[new Vu(Fu(e))],n.flag=!0,n.isDrag=!1,n.datas={},a&&(3===e.which||2===e.button))return n.initDrag(),!1;n.doubleFlag=Ud()-n.prevTime<200,!1===n.emit("dragStart",Hu({datas:n.datas,inputEvent:e,isTrusted:t,isDouble:n.doubleFlag},n.getCurrentStore().getPosition()))&&n.initDrag(),n.flag&&r&&e.preventDefault()}if(!n.flag)return!1;var v=0;if(c&&d&&s&&(v=setTimeout((function(){oc(o,"touchstart",n.onDragStart,{passive:!1})}))),!c&&d&&s&&sc(o,"touchstart",n.onDragStart),n.flag&&function(e){return e.touches&&e.touches.length>=2}(e)){if(clearTimeout(v),c&&e.touches.length!==e.changedTouches.length)return;n.pinchFlag||n.onPinchStart(e)}}},n.onDrag=function(e,t){if(n.flag){var i=Fu(e),o=n.moveClients(i,e,!1);(n.pinchFlag||o.deltaX||o.deltaY)&&n.emit("drag",Hu({},o,{isScroll:!!t,inputEvent:e})),n.pinchFlag&&n.onPinch(e,i),n.getCurrentStore().addClients(i)}},n.onDragEnd=function(e){if(n.flag){var t=n.options,i=t.pinchOutside,o=t.container;n.isTouch&&i&&sc(o,"touchstart",n.onDragStart),n.flag=!1;var s=n.getCurrentStore().getPosition(),a=Ud(),r=!n.isDrag&&n.doubleFlag;n.prevTime=n.isDrag||r?0:a,n.emit("dragEnd",Hu({datas:n.datas,isDouble:r,isDrag:n.isDrag,isClick:!n.isDrag,inputEvent:e},s)),n.pinchFlag&&n.onPinchEnd(e),n.clientStores=[]}},n.onBlur=function(){n.onDragEnd()};var o=[].concat(t);n.options=Hu({checkInput:!1,container:o.length>1?window:o[0],preventRightClick:!0,preventDefault:!0,checkWindowBlur:!1,pinchThreshold:0,events:["touch","mouse"]},i);var s=n.options,a=s.container,r=s.events,l=s.checkWindowBlur;if(n.isTouch=r.indexOf("touch")>-1,n.isMouse=r.indexOf("mouse")>-1,n.targets=o,n.isMouse&&(o.forEach((function(e){oc(e,"mousedown",n.onDragStart)})),oc(a,"mousemove",n.onDrag),oc(a,"mouseup",n.onDragEnd),oc(a,"contextmenu",n.onDragEnd)),l&&oc(window,"blur",n.onBlur),n.isTouch){var d={passive:!1};o.forEach((function(e){oc(e,"touchstart",n.onDragStart,d)})),oc(a,"touchmove",n.onDrag,d),oc(a,"touchend",n.onDragEnd,d),oc(a,"touchcancel",n.onDragEnd,d)}return n}!function(e,t){function i(){this.constructor=e}Pu(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e);var i=t.prototype;return i.getMovement=function(e){return this.getCurrentStore().getMovement(e)+this.clientStores.slice(1).reduce((function(e,t){return e+t.movement}),0)},i.isDragging=function(){return this.isDrag},i.isFlag=function(){return this.flag},i.isPinchFlag=function(){return this.pinchFlag},i.isDoubleFlag=function(){return this.doubleFlag},i.isPinching=function(){return this.isPinch},i.scrollBy=function(e,t,i,n){void 0===n&&(n=!0),this.flag&&(this.clientStores[0].move(e,t),n&&this.onDrag(i,!0))},i.move=function(e,t){var i=e[0],n=e[1],o=this.getCurrentStore().prevClients;return this.moveClients(o.map((function(e){var t=e.clientX,o=e.clientY;return{clientX:t+i,clientY:o+n,originalClientX:t,originalClientY:o}})),t,!0)},i.triggerDragStart=function(e){this.onDragStart(e,!1)},i.setEventDatas=function(e){var t=this.datas;for(var i in e)t[i]=e[i];return this},i.getEventDatas=function(){return this.datas},i.unset=function(){var e=this,t=this.targets,i=this.options.container;this.off(),sc(window,"blur",this.onBlur),this.isMouse&&(t.forEach((function(t){sc(t,"mousedown",e.onDragStart)})),sc(i,"mousemove",this.onDrag),sc(i,"mouseup",this.onDragEnd),sc(i,"contextmenu",this.onDragEnd)),this.isTouch&&(t.forEach((function(t){sc(t,"touchstart",e.onDragStart)})),sc(i,"touchstart",this.onDragStart),sc(i,"touchmove",this.onDrag),sc(i,"touchend",this.onDragEnd),sc(i,"touchcancel",this.onDragEnd))},i.onPinchStart=function(e){var t=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>t)){var i=new Vu(Fu(e));this.pinchFlag=!0,this.clientStores.splice(0,0,i),!1===this.emit("pinchStart",Hu({datas:this.datas,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition(),{inputEvent:e}))&&(this.pinchFlag=!1)}},i.onPinch=function(e,t){if(this.flag&&this.pinchFlag&&!(t.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Hu({datas:this.datas,movement:this.getMovement(t),angle:i.getAngle(t),rotation:i.getRotation(t),touches:i.getPositions(t),scale:i.getScale(t),distance:i.getDistance(t)},i.getPosition(t),{inputEvent:e}))}},i.onPinchEnd=function(e){if(this.pinchFlag){var t=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",Hu({datas:this.datas,isPinch:t,touches:i.getPositions()},i.getPosition(),{inputEvent:e})),this.isPinch=!1,this.pinchFlag=!1}},i.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},i.getCurrentStore=function(){return this.clientStores[0]},i.moveClients=function(e,t,i){var n=this.getCurrentStore()[i?"addClients":"getPosition"](e);return this.isDrag=!0,Hu({datas:this.datas},n,{movement:this.getMovement(e),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},t}(Bu);var Ku=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0};function Zu(e,t,i,n){var o=document.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",e),i.nonce&&o.setAttribute("nonce",i.nonce),o.innerHTML=function(e,t,i){return i.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(t,i){var n=i.trim();return(n?Hd(n):[""]).map((function(t){var i=t.trim();return 0===i.indexOf("@")?i:i.indexOf(":global")>-1?i.replace(/\:global/g,""):i.indexOf(":host")>-1?""+i.replace(/\:host/g,"."+e):i?"."+e+" "+i:"."+e})).join(", ")+" {"}))}(e,t,i),(n||document.head||document.body).appendChild(o),o}function Qu(e){var t,i="rCS"+Ku(e).toString(36),n=0;return{className:i,inject:function(o,s){void 0===s&&(s={});var a,r=function(e){if(e&&e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t}}(o),l=0===n;return(r||l)&&(a=Zu(i,e,s,r)),l&&(t=a),r||++n,{destroy:function(){r?(o.removeChild(a),a=null):(n>0&&--n,0===n&&t&&(t.parentNode.removeChild(t),t=null))}}}}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Ju=function(e,t){return(Ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function ep(e,t){function i(){this.constructor=e}Ju(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var tp=function(){return(tp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var ip=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.injectResult=null,t.tag="div",t}ep(t,e);var i=t.prototype;return i.render=function(){var e=this.props,t=e.className,i=void 0===t?"":t;e.cspNonce;var n=e.portalContainer,o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(e,["className","cspNonce","portalContainer"]),s=this.injector.className,a=this.tag,r={};return"simple-1.1.0".indexOf("simple")>-1&&n&&(r={portalContainer:n}),bc(a,tp({ref:vd(this,"element"),"data-styled-id":s,className:i+" "+s},r,o))},i.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},i.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},i.getElement=function(){return this.element},t}(qc);function np(e,t){var i=Qu(t);return function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.injector=i,n.tag=e,n}return ep(n,t),n}(ip)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var op=function(e,t){return(op=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function sp(e,t){function i(){this.constructor=e}op(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var ap=function(){return(ap=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function rp(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n}function lp(e,t){var i;return ap({events:{},props:(i={},i[e]=Boolean,i),name:e},t)}function dp(e,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*e+'px" height="'+32*e+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+t+'deg);transform-origin: 16px 16px"></path></svg>'}var cp,up=function(e){return void 0===e&&function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,t=e.brands||e.uaList;return!(!t||!t.length)}()?function(e){var t=navigator.userAgentData,i=(t.uaList||t.brands).slice(),n=t.mobile||!1,o=i[0],s={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Hc(Wc,i).brand},a={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&Bc(Uc,(function(e){return zc(i,e)}));var r=Hc(jc,i);if(s.chromium=!!r.brand,s.chromiumVersion=r.version,!s.chromium){var l=Hc(Uc,i);s.webkit=!!l.brand,s.webkitVersion=l.version}if(e){var d=e.platform.toLowerCase(),c=Ic(Gc,(function(e){return new RegExp(""+e.test,"g").exec(d)}));a.name=c?c.id:d,a.version=e.platformVersion}var u=Hc(Fc,i);return u.brand&&(s.name=u.brand,s.version=e?e.uaFullVersion:u.version),"Linux armv8l"===navigator.platform?a.name="android":s.webkit&&(a.name=n?"ios":"mac"),"ios"===a.name&&s.webview&&(s.version="-1"),a.version=$c(a.version),s.version=$c(s.version),a.majorVersion=parseInt(a.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:a,isMobile:n,isHints:!0}}():Vc(e)}().browser.webkit,pp=up&&(!!(cp=/applewebkit\/([^\s]+)/g.exec(navigator.userAgent.toLowerCase()))&&parseFloat(cp[1])<605),hp="moveable-",gp="\n{\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --moveable-color: #4af;\n    --zoom: 1;\n    --zoompx: 1px;\n    will-change: transform;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n    position: absolute;\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n    background: #4af;\n    background: var(--moveable-color);\n\tmargin-top: -7px;\n    margin-left: -7px;\n    border: 2px solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\twidth: 1px;\n    height: 1px;\n    background: #4af;\n    background: var(--moveable-color);\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top-color: #4af;\n    border-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left-color: #4af;\n    border-left-color: var(--moveable-color);\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map((function(e){return'\n.direction[data-rotation="'+e+'"] {\n\t'+function(e){var t=dp(1,e),i=dp(2,e),n=45*Math.round(e/45)%180,o="ns-resize";return 135===n?o="nwse-resize":45===n?o="nesw-resize":90===n&&(o="ew-resize"),"cursor:"+o+";cursor: url('"+t+"') 16 16, "+o+";cursor: -webkit-image-set(url('"+t+"') 1x, url('"+i+"') 2x) 16 16, "+o+";"}(e)+"\n}\n"})).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid, .area.pass {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n\n"+(pp?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n",fp=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],mp=1e-4,vp=1e-7,bp=1e-9,yp=Math.pow(10,10),_p=-yp,xp=["n","w","s","e","nw","ne","sw","se"],wp={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Sp={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Cp=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager"];function kp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return md.apply(void 0,rp([hp],e))}function Ep(e,t,i){return tu(t,vu(i,t),e,vu(i.map((function(e){return-e})),t))}function Ap(e){return qp(oh(e,":before")).map((function(t,i){var n=Fd(t),o=n.value,s=n.unit;return o*function(e,t,i){return"%"===t?Ip(e.ownerSVGElement)[i?"width":"height"]/100:1}(e,s,0===i)}))}function qp(e){var t=e.transformOrigin;return t?t.split(" "):["0","0"]}function Tp(e,t,i){for(var n=document.body,o=!e||i?e:e.parentElement,s=e===t||o===t,a="relative";o&&o!==n;){t===o&&(s=!0);var r=oh(o),l=r.transform;if(a=r.position,"svg"===o.tagName.toLowerCase()||"static"!==a||l&&"none"!==l)break;o=o.parentElement,a="relative"}return{isStatic:"static"===a,isEnd:s||!o||o===n,offsetParent:o||n}}function Lp(e,t,i,n){var o,s=e.tagName.toLowerCase(),a=e.offsetLeft,r=e.offsetTop;if(n){var l=(t||document.documentElement).getBoundingClientRect();a-=l.left,r-=l.top}var d,c,u=Md(a),p=!u;return p||"svg"===s?c=(d=qp(i).map((function(e){return parseFloat(e)}))).slice():(c=(d=pp?Ap(e):qp(i).map((function(e){return parseFloat(e)}))).slice(),p=!0,a=(o=function(e,t){if(!e.getBBox)return[0,0];var i=e.getBBox(),n=Ip(e.ownerSVGElement),o=i.x-n.x,s=i.y-n.y;return[o,s,t[0]-o,t[1]-s]}(e,d))[0],r=o[1],d[0]=o[2],d[1]=o[3]),{tagName:s,isSVG:u,hasOffset:p,offset:[a||0,r||0],origin:d,targetOrigin:c}}function Mp(e,t,i){void 0===i&&(i=oh(e));var n=oh(document.body),o=n.position;if(!(t||o&&"static"!==o))return[0,0];var s=parseInt(n.marginLeft,10),a=parseInt(n.marginTop,10);return"absolute"===i.position&&("auto"===i.top&&"auto"===i.bottom||(a=0),"auto"===i.left&&"auto"===i.right||(s=0)),[s,a]}function Op(e){e.forEach((function(e){var t=e.matrix;t&&(e.matrix=eu(t,3,4))}))}function Rp(e,t){for(var i,n,o,s,a,r,l=e,d=[],c=e===t,u=!1,p=3,h=Tp(t,t,!0).offsetParent;l&&!c;){var g=oh(l),f=g.position,m="fixed"===f,v=(r=g.transform,s=r&&"none"!==r?Od(r)?r:zd(r).value.split(/s*,\s*/g).map((function(e){return parseFloat(e)})):[1,0,0,1,0,0],void 0===(a=void 0)&&(a=6===s.length),a?[s[0],s[1],0,s[2],s[3],0,s[4],s[5],1]:s),b=v.length;u||16!==b||(u=!0,p=4,Op(d)),u&&9===b&&(v=eu(v,3,4));var y=Lp(l,t,g,m),_=y.tagName,x=y.hasOffset,w=y.isSVG,S=y.origin,C=y.targetOrigin,k=y.offset,E=k[0],A=k[1];"svg"===_&&o?(d.push({type:"target",target:l,matrix:Dp(l,p)}),d.push({type:"offset",target:l,matrix:fu(p)})):"g"===_&&e!==l&&(E=0,A=0);var q=Tp(l,t),T=q.offsetParent,L=q.isEnd,M=q.isStatic;up&&x&&!w&&M&&("relative"===f||"static"===f)&&(E-=T.offsetLeft,A-=T.offsetTop,c=c||L);var O=0,R=0;if(x&&h!==T&&(O=T.clientLeft,R=T.clientTop),x&&T===document.body){var N=Mp(l,!1,g);E+=N[0],A+=N[1]}if(d.push({type:"target",target:l,matrix:Ep(v,p,S)}),x?d.push({type:"offset",target:l,matrix:vu([E-l.scrollLeft+O,A-l.scrollTop+R],p)}):d.push({type:"offset",target:l,origin:S}),o||(o=v),i||(i=S),n||(n=C),c||m)break;l=T,c=L}return o||(o=fu(p)),i||(i=[0,0]),n||(n=[0,0]),{offsetContainer:h,matrixes:d,targetMatrix:o,transformOrigin:i,targetOrigin:n,is3d:u}}function Np(e,t,i,n){var o;void 0===i&&(i=t);var s=0,a=0,r=0,l={};if(e){var d=oh(e);s=e.offsetWidth,a=e.offsetHeight,Md(s)&&(s=(o=Vp(e,d,!0))[0],a=o[1])}if(e){var c=function(e,t,i,n){void 0===i&&(i=t);var o=Rp(e,t),s=o.matrixes,a=o.is3d,r=o.targetMatrix,l=o.transformOrigin,d=o.targetOrigin,c=Rp(o.offsetContainer,i),u=c.matrixes,p=c.is3d,h=n||p||a,g=h?4:3,f="svg"!==e.tagName.toLowerCase()&&"ownerSVGElement"in e,m=r,v=fu(g),b=fu(g),y=fu(g),_=fu(g),x=s.length,w=i||document.body,S=Tp(w,w,!0).offsetParent;u.reverse(),s.reverse(),!a&&h&&(m=eu(m,3,4),Op(s));!p&&h&&Op(u);u.forEach((function(e){b=iu(b,e.matrix,g)})),s.forEach((function(e,t){if(x-2===t&&(y=v.slice()),x-1===t&&(_=v.slice()),!e.matrix){var i=function(e,t,i,n,o){var s,a=e.target,r=e.origin,l=t.matrix,d=Vp(a,void 0,!0),c=d[0],u=d[1],p=i.getBoundingClientRect(),h=[0,0];i===document.body&&(h=Mp(a,!0));var g=a.getBoundingClientRect(),f=g.left-p.left+i.scrollLeft-(i.clientLeft||0)+h[0],m=g.top-p.top+i.scrollTop-(i.clientTop||0)+h[1],v=g.width,b=g.height,y=tu(n,o,l),_=zp(y,c,u,n),x=_.left,w=_.top,S=_.width,C=_.height,k=$p(y,r,n),E=ou(k,[x,w]),A=[f+E[0]*v/S,m+E[1]*b/C],q=[0,0],T=0;for(;++T<10;){var L=Qc(o,n);s=ou($p(L,A,n),$p(L,k,n)),q[0]=s[0],q[1]=s[1];var M=zp(tu(n,o,vu(q,n),l),c,u,n),O=M.left-f,R=M.top-m;if(Math.abs(O)<2&&Math.abs(R)<2)break;A[0]-=O,A[1]-=R}return q.map((function(e){return Math.round(e)}))}(e,s[t+1],S,g,iu(b,v,g));e.matrix=vu(i,g)}v=iu(v,e.matrix,g)}));var C=!f&&a;m||(m=fu(C?4:3));var k=Bp(f&&16===m.length?eu(m,4,3):m,C);return{rootMatrix:b=Zc(b,g,g),beforeMatrix:y,offsetMatrix:_,allMatrix:v,targetMatrix:m,targetTransform:k,transformOrigin:l,targetOrigin:d,is3d:h}}(e,t,i,n),u=Fp(c.allMatrix,c.transformOrigin,s,a);l=ap(ap({},c),u);var p=Fp(c.allMatrix,[50,50],100,100);r=Yp([p.pos1,p.pos2],p.direction)}var h=n?4:3;return ap({width:s,height:a,rotation:r,rootMatrix:fu(h),beforeMatrix:fu(h),offsetMatrix:fu(h),allMatrix:fu(h),targetMatrix:fu(h),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1},l)}function Bp(e,t){return void 0===t&&(t=e.length>9),(t?"matrix3d":"matrix")+"("+su(e,!t).join(",")+")"}function Ip(e){var t=e.clientWidth,i=e.clientHeight;if(!e)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:i};var n=e.viewBox,o=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:o.x,y:o.y,width:o.width||t,height:o.height||i,clientWidth:t,clientHeight:i}}function Dp(e,t){var i=Ip(e),n=i.width,o=i.height,s=i.clientWidth,a=i.clientHeight,r=s/n,l=a/o,d=e.preserveAspectRatio.baseVal,c=d.align,u=d.meetOrSlice,p=[0,0],h=[r,l],g=[0,0];if(1!==c){var f=(c-2)%3,m=Math.floor((c-2)/3);p[0]=n*f/2,p[1]=o*m/2;var v=2===u?Math.max(l,r):Math.min(r,l);h[0]=v,h[1]=v,g[0]=(s-n)/2*f,g[1]=(a-o)/2*m}var b=mu(h,t);return b[t*(t-1)]=g[0],b[t*(t-1)+1]=g[1],Ep(b,t,p)}function $p(e,t,i){return au(e,Jc(t,i),i)}function Pp(e,t,i,n){return[[0,0],[t,0],[0,i],[t,i]].map((function(t){return $p(e,t,n)}))}function Hp(e){var t=e.map((function(e){return e[0]})),i=e.map((function(e){return e[1]})),n=Math.min.apply(Math,t),o=Math.min.apply(Math,i),s=Math.max.apply(Math,t),a=Math.max.apply(Math,i);return{left:n,top:o,right:s,bottom:a,width:s-n,height:a-o}}function zp(e,t,i,n){return Hp(Pp(e,t,i,n))}function Fp(e,t,i,n){var o=16===e.length?4:3,s=Pp(e,i,n,o),a=s[0],r=a[0],l=a[1],d=s[1],c=d[0],u=d[1],p=s[2],h=p[0],g=p[1],f=s[3],m=f[0],v=f[1],b=$p(e,t,o),y=b[0],_=b[1],x=Math.min(r,c,h,m),w=Math.min(l,u,g,v),S=Math.max(r,c,h,m);return r=r-x||0,{left:x,top:w,right:S,bottom:Math.max(l,u,g,v),origin:[y=y-x||0,_=_-w||0],pos1:[r,l=l-w||0],pos2:[c=c-x||0,u=u-w||0],pos3:[h=h-x||0,g=g-w||0],pos4:[m=m-x||0,v=v-w||0],direction:Jd(s)}}function jp(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Up(e,t){return jp([t[0]-e[0],t[1]-e[1]])}function Wp(e,t,i,n){void 0===i&&(i=1),void 0===n&&(n=Qd(e,t));var o=Up(e,t);return{transform:"translateY(-50%) translate("+e[0]+"px, "+e[1]+"px) rotate("+n+"rad) scaleY("+i+")",width:o+"px"}}function Gp(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o=i.length,s=i.reduce((function(e,t){return e+t[0]}),0)/o,a=i.reduce((function(e,t){return e+t[1]}),0)/o;return{transform:"translateZ(0px) translate("+s+"px, "+a+"px) rotate("+e+"rad) scale("+t+")"}}function Vp(e,t,i,n){void 0===t&&(t=oh(e)),void 0===n&&(n=i||"border-box"===t.boxSizing);var o=e.offsetWidth,s=e.offsetHeight,a=!Md(o);if((i||n)&&a)return[o,s];if(!a&&"svg"!==e.tagName.toLowerCase()){var r=e.getBBox();return[r.width,r.height]}return o=e.clientWidth,s=e.clientHeight,i||n?[o+(parseFloat(t.borderLeftWidth)||0)+(parseFloat(t.borderRightWidth)||0),s+(parseFloat(t.borderTopWidth)||0)+(parseFloat(t.borderBottomWidth)||0)]:[o-(parseFloat(t.paddingLeft)||0)-(parseFloat(t.paddingRight)||0),s-(parseFloat(t.paddingTop)||0)-(parseFloat(t.paddingBottom)||0)]}function Yp(e,t){return Qd(t>0?e[0]:e[1],t>0?e[1]:e[0])}function Xp(e,t,i,n,o){var s=1,a=[0,0],r={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},l={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},d={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c=Np(t,i,o,!1);if(t){var u=c.is3d?4:3,p=Fp(c.offsetMatrix,nu(c.transformOrigin,function(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var i=[],n=e[t*t-1],o=0;o<t-1;++o)i[o]=e[t*(t-1)+o]/n;return i[t-1]=0,i}(c.targetMatrix,u)),c.width,c.height);s=p.direction,a=nu(p.origin,[p.left-c.left,p.top-c.top]),r=Kp(t),l=Kp(Tp(n,n,!0).offsetParent||document.body,!0),e&&(d=Kp(e))}return ap({targetClientRect:r,containerClientRect:l,moveableClientRect:d,beforeDirection:s,beforeOrigin:a,originalBeforeOrigin:a,target:t},c)}function Kp(e,t){var i=0,n=0,o=0,s=0;if(e===document.body||e===document.documentElement)o=window.innerWidth,s=window.innerHeight,i=-(document.documentElement.scrollLeft||document.body.scrollLeft),n=-(document.documentElement.scrollTop||document.body.scrollTop);else{var a=e.getBoundingClientRect();i=a.left,n=a.top,o=a.width,s=a.height}var r={left:i,right:i+o,top:n,bottom:n+s,width:o,height:s};return t&&(r.clientLeft=e.clientLeft,r.clientTop=e.clientTop,r.clientWidth=e.clientWidth,r.clientHeight=e.clientHeight,r.scrollWidth=e.scrollWidth,r.scrollHeight=e.scrollHeight,r.overflow="visible"!==oh(e).overflow),r}function Zp(e){if(e){var t=e.getAttribute("data-direction");if(t){var i=[0,0];return t.indexOf("w")>-1&&(i[0]=-1),t.indexOf("e")>-1&&(i[0]=1),t.indexOf("n")>-1&&(i[1]=-1),t.indexOf("s")>-1&&(i[1]=1),i}}}function Qp(e,t){return[nu(t,e[0]),nu(t,e[1]),nu(t,e[2]),nu(t,e[3])]}function Jp(e){var t=e.left,i=e.top;return Qp([e.pos1,e.pos2,e.pos3,e.pos4],[t,i])}function eh(e,t){e[t]&&(e[t].unset(),e[t]=null)}function th(e,t,i){var n=t.datas;n.datas||(n.datas={});var o=ap(ap({},i),{target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,moveable:e,datas:n.datas});return n.isStartEvent?n.lastEvent=o:n.isStartEvent=!0,o}function ih(e,t,i){var n=t.datas,o="isDrag"in i?i.isDrag:t.isDrag;return n.datas||(n.datas={}),ap(ap({isDrag:o},i),{moveable:e,target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,lastEvent:n.lastEvent,isDouble:t.isDouble,datas:n.datas})}function nh(e,t,i,n){return e.triggerEvent(t,i,n)}function oh(e,t){return window.getComputedStyle(e,t)}function sh(e,t,i){var n={},o={};return e.filter((function(e){var s=e.name;if(n[s]||!t.some((function(t){return e[t]})))return!1;if(!i&&e.ableGroup){if(o[e.ableGroup])return!1;o[e.ableGroup]=!0}return n[s]=!0,!0}))}function ah(e,t){return e===t||null==e&&null==t}function rh(e,t){var i=[],n=[];return e.forEach((function(o,s){var a=t(o,s,e),r=n.indexOf(a),l=i[r]||[];-1===r&&(n.push(a),i.push(l)),l.push(o)})),i}function lh(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function dh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.sort((function(e,t){return Math.abs(t)-Math.abs(e)})),e[0]}function ch(e,t,i){return au(Qc(e,i),Jc(t,i),i)}function uh(e,t){var i,n=e.is3d?4:3;return i=ch(e.rootMatrix,[t.distX,t.distY],n),t.distX=i[0],t.distY=i[1],t}function ph(e,t,i,n,o){return ou($p(e,nu(i,t),o),n)}function hh(e,t,i){return i?e/t*100+"%":e+"px"}function gh(e){return Math.abs(e)<=vp?0:e}function fh(e,t){return t.isRequest?("resizable"===t.requestAble||"scalable"===t.requestAble)&&t.parentDirection:nc(t.inputEvent.target,kp("direction"))}function mh(e){var t={};for(var i in e)t[e[i]]=i;return t}function vh(e,t){return e?Nd(e)?t?document.querySelector(e):e:Bd(e)?e():"current"in e?e.current:e:null}function bh(e,t){return e?((i=e)&&Od(i)&&(Rd(i)||"length"in i)?[].slice.call(e):[e]).reduce((function(e,i){return Nd(i)&&t?rp(e,[].slice.call(document.querySelectorAll(i))):(e.push(vh(i,t)),e)}),[]):[];var i}function yh(e,t){var i=e.rootMatrix,n=e.is3d,o=Qc(i,n?4:3);return n||(o=eu(o,3,4)),o[12]=0,o[13]=0,o[14]=0,function(e,t){var i=au(e,[t[0],t[1]||0,t[2]||0,1],4),n=i[3]||1;return[i[0]/n,i[1]/n,i[2]/n]}(o,t)}var _h=lp("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(e,t){var i=t.datas,n=t.targets,o=t.angle,s=t.originalDatas,a=e.props,r=a.pinchable,l=a.ables;if(!r)return!1;var d="onPinch"+(n?"Group":"")+"Start",c="drag"+(n?"Group":"")+"ControlStart",u=(!0===r?e.controlAbles:l.filter((function(e){return r.indexOf(e.name)>-1}))).filter((function(e){return e.canPinch&&e[c]})),p=th(e,t,{});n&&(p.targets=n);var h=nh(e,d,p);i.isPinch=!1!==h,i.ables=u;var g=i.isPinch;return!!g&&(u.forEach((function(i){if(s[i.name]=s[i.name]||{},i[c]){var n=ap(ap({},t),{datas:s[i.name],parentRotate:o,isPinch:!0});i[c](e,n)}})),e.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},g)},pinch:function(e,t){var i=t.datas,n=t.scale,o=t.distance,s=t.originalDatas,a=t.inputEvent,r=t.targets,l=t.angle;if(i.isPinch){var d=o*(1-1/n),c=th(e,t,{});r&&(c.targets=r),nh(e,"onPinch"+(r?"Group":""),c);var u=i.ables,p="drag"+(r?"Group":"")+"Control";return u.forEach((function(i){i[p]&&i[p](e,ap(ap({},t),{datas:s[i.name],inputEvent:a,parentDistance:d,parentRotate:l,isPinch:!0}))})),c}},pinchEnd:function(e,t){var i=t.datas,n=t.isPinch,o=t.inputEvent,s=t.targets,a=t.originalDatas;if(i.isPinch){var r="onPinch"+(s?"Group":"")+"End",l=ih(e,t,{isDrag:n});s&&(l.targets=s),nh(e,r,l);var d=i.ables,c="drag"+(s?"Group":"")+"ControlEnd";return d.forEach((function(i){i[c]&&i[c](e,ap(ap({},t),{isDrag:n,datas:a[i.name],inputEvent:o,isPinch:!0}))})),n}},pinchGroupStart:function(e,t){return this.pinchStart(e,ap(ap({},t),{targets:e.props.targets}))},pinchGroup:function(e,t){return this.pinch(e,ap(ap({},t),{targets:e.props.targets}))},pinchGroupEnd:function(e,t){return this.pinchEnd(e,ap(ap({},t),{targets:e.props.targets}))}});function xh(e,t,i,n,o){var s=t.gesto.move(i,e.inputEvent),a=s.originalDatas||s.datas,r=a.draggable||(a.draggable={});return ap(ap({},o?uh(t,s):s),{isDrag:!0,isPinch:!!n,parentEvent:!0,datas:r,originalDatas:e.originalDatas})}var wh=function(){function e(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var t=e.prototype;return t.dragStart=function(e,t){this.isDrag=!1,this.isFlag=!1;var i=t.originalDatas;return this.datas=i,i.draggable||(i.draggable={}),ap(ap({},this.move(e,t.inputEvent)),{type:"dragstart"})},t.drag=function(e,t){return this.move([e[0]-this.prevX,e[1]-this.prevY],t)},t.move=function(e,t){var i,n;return this.isFlag?(i=this.prevX+e[0],n=this.prevY+e[1],this.isDrag=!0):(this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],i=e[0],n=e[1],this.isFlag=!0),this.prevX=i,this.prevY=n,{type:"drag",clientX:i,clientY:n,inputEvent:t,isDrag:this.isDrag,distX:i-this.startX,distY:n-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},e}();function Sh(e,t,i){var n=i.originalDatas;n.groupable=n.groupable||{};var o=n.groupable;o.childDatas=o.childDatas||[];var s=o.childDatas;return e.moveables.map((function(e,n){return s[n]=s[n]||{},s[n][t]=s[n][t]||{},ap(ap({},i),{datas:s[n][t],originalDatas:s[n]})}))}function Ch(e,t,i,n,o,s){var a=!!i.match(/Start$/g),r=!!i.match(/End$/g),l=o.isPinch,d=o.datas,c=Sh(e,t.name,o),u=e.moveables,p=c.map((function(e,o){var c=u[o],p=e;a?p=(new wh).dragStart(n,e):(c.state.gesto||(c.state.gesto=d.childGestos[o]),p=xh(e,c.state,n,l,s));var h=t[i](c,ap(ap({},p),{parentFlag:!0}));return r&&(c.state.gesto=null),h}));return a&&(d.childGestos=u.map((function(e){return e.state.gesto}))),p}function kh(e,t,i,n,o,s){void 0===o&&(o=function(e,t){return t});var a=!!i.match(/End$/g),r=Sh(e,t.name,n),l=e.moveables;return r.map((function(e,n){var r,d=l[n];r=o(d,e);var c=t[i](d,ap(ap({},r),{parentFlag:!0}));return c&&s&&s(d,e,c,n),a&&(d.state.gesto=null),c}))}function Eh(e,t){var i=t.clientX,n=t.clientY,o=t.datas,s=e.state,a=s.moveableClientRect,r=s.rootMatrix,l=s.is3d,d=s.pos1,c=ou(ch(r,[i-a.left,n-a.top],l?4:3),d),u=Rh({datas:o,distX:c[0],distY:c[1]});return[u[0],u[1]]}function Ah(e,t){var i=t.datas,n=e.state,o=n.allMatrix,s=n.beforeMatrix,a=n.is3d,r=n.left,l=n.top,d=n.origin,c=n.offsetMatrix,u=n.targetMatrix,p=n.transformOrigin,h=a?4:3;i.is3d=a,i.matrix=o,i.targetMatrix=u,i.beforeMatrix=s,i.offsetMatrix=c,i.transformOrigin=p,i.inverseMatrix=Qc(o,h),i.inverseBeforeMatrix=Qc(s,h),i.absoluteOrigin=Jc(nu([r,l],d),h),i.startDragBeforeDist=au(i.inverseBeforeMatrix,i.absoluteOrigin,h),i.startDragDist=au(i.inverseMatrix,i.absoluteOrigin,h)}function qh(e,t){var i=e.datas,n=e.originalDatas.beforeRenderable,o=i.transformIndex,s=n.nextTransforms,a=n.nextTransformAppendedIndexes,r=-1===o?s.length:o+a.filter((function(e){return e<o})).length,l=function(e,t){var i=e.slice(0,t<0?void 0:t),n=e.slice(0,t<0?void 0:t+1),o=e[t]||"",s=t<0?[]:e.slice(t),a=t<0?[]:e.slice(t+1),r=_u(i),l=_u(n),d=_u([o]),c=_u(s),u=_u(a),p=yu(r),h=yu(l),g=yu(c),f=yu(u),m=iu(p,g,4);return{transforms:e,beforeFunctionMatrix:p,beforeFunctionMatrix2:h,targetFunctionMatrix:yu(d),afterFunctionMatrix:g,afterFunctionMatrix2:f,allFunctionMatrix:m,beforeFunctions:r,beforeFunctions2:l,targetFunction:d[0],afterFunctions:c,afterFunctions2:u,beforeFunctionTexts:i,beforeFunctionTexts2:n,targetFunctionText:o,afterFunctionTexts:s,afterFunctionTexts2:a}}(s,r),d=l.targetFunction,c="rotate"===t?"rotateZ":t;i.beforeFunctionTexts=l.beforeFunctionTexts,i.afterFunctionTexts=l.afterFunctionTexts,i.beforeTransform=l.beforeFunctionMatrix,i.beforeTransform2=l.beforeFunctionMatrix2,i.targetTansform=l.targetFunctionMatrix,i.afterTransform=l.afterFunctionMatrix,i.afterTransform2=l.afterFunctionMatrix2,i.targetAllTransform=l.allFunctionMatrix,d.functionName===c?(i.afterFunctionTexts.splice(0,1),i.isAppendTransform=!1):(i.isAppendTransform=!0,n.nextTransformAppendedIndexes=rp(a,[r]))}function Th(e,t,i){return e.beforeFunctionTexts.join(" ")+" "+(e.isAppendTransform?i:t)+" "+e.afterFunctionTexts.join(" ")}function Lh(e){var t=e.datas,i=Oh({datas:t,distX:e.distX,distY:e.distY});return au(Mh(t,function(e,t){for(var i=fu(t),n=0;n<t-1;++n)i[t*(t-1)+n]=e[n]||0;return i}([i[0],i[1]],4)),Jc([0,0,0],4),4)}function Mh(e,t,i){var n=e.beforeTransform,o=e.afterTransform,s=e.beforeTransform2,a=e.afterTransform2,r=e.targetAllTransform,l=i?iu(r,t,4):iu(t,r,4),d=iu(Qc(i?s:n,4),l,4);return iu(d,Qc(i?a:o,4),4)}function Oh(e){var t=e.datas,i=e.distX,n=e.distY,o=t.inverseBeforeMatrix,s=t.is3d,a=t.startDragBeforeDist,r=s?4:3;return ou(au(o,nu(t.absoluteOrigin,[i,n]),r),a)}function Rh(e,t){var i=e.datas,n=e.distX,o=e.distY,s=i.inverseBeforeMatrix,a=i.inverseMatrix,r=i.is3d,l=i.startDragBeforeDist,d=i.startDragDist,c=r?4:3;return ou(au(t?s:a,nu(i.absoluteOrigin,[n,o]),c),t?l:d)}function Nh(e){var t=[];return e[1]>=0&&(e[0]>=0&&t.push(3),e[0]<=0&&t.push(2)),e[1]<=0&&(e[0]>=0&&t.push(1),e[0]<=0&&t.push(0)),t}function Bh(e,t){return Nh(t).map((function(t){return e[t]}))}function Ih(e,t){var i=Bh(e,t);return[Zd(i.map((function(e){return e[0]}))),Zd(i.map((function(e){return e[1]})))]}function Dh(e,t,i,n){return iu(e,Ep(t,n,i),n)}function $h(e,t,i){var n=e.transformOrigin,o=e.offsetMatrix,s=e.is3d,a=t.beforeTransform,r=t.afterTransform,l=s?4:3;return Dh(o,eu(iu(iu(a,function(e){return yu(_u(e))}([i]),4),r,4),4,l),n,l)}function Ph(e){var t=e.originalDatas.beforeRenderable;return{setTransform:function(i,n){void 0===n&&(n=-1),t.startTransforms=Rd(i)?i:Pd(i),zh(e,n)},setTransformIndex:function(t){zh(e,t)}}}function Hh(e,t){zh(e,Wd(e.originalDatas.beforeRenderable.startTransforms,(function(e){return 0===e.indexOf(t+"(")})))}function zh(e,t){var i=e.originalDatas.beforeRenderable,n=e.datas;if(n.transformIndex=t,-1!==t){var o=i.startTransforms[t];if(o){var s=_u([o]);n.startValue=s[0].functionValue}}}function Fh(e,t){e.originalDatas.beforeRenderable.nextTransforms=Pd(t)}function jh(e,t,i,n,o){return Fh(o,t),{transform:t,drag:Kg.drag(e,xh(o,e.state,i,n,!1))}}function Uh(e,t,i,n,o){var s=e.state,a=s.left,r=s.top,l=e.props.groupable,d=l?a:0,c=l?r:0,u=ou(n,Gh(e,i,$h(e.state,o,t)));return ou(u,[d,c])}function Wh(e){var t=e.state,i=t.width,n=t.height,o=t.transformOrigin;return[o[0]/(i/2)-1,o[1]/(n/2)-1]}function Gh(e,t,i){void 0===i&&(i=e.state.allMatrix);var n=e.state,o=n.width,s=n.height,a=n.is3d?4:3;return $p(i,[o/2*(1+t[0]),s/2*(1+t[1])],a)}function Vh(e,t,i,n,o,s){var a=e.props.groupable,r=e.state,l=r.transformOrigin,d=r.targetMatrix,c=r.offsetMatrix,u=r.is3d,p=r.width,h=r.height,g=r.left,f=r.top,m=u?4:3,v=a?g:0,b=a?f:0;return ou(function(e,t,i,n,o,s){var a=Ih(Pp(t,i,n,o),s);return[e[0]-a[0],e[1]-a[1]]}(o,Dh(c,d,function(e,t,i,n,o,s){return void 0===n&&(n=t),void 0===o&&(o=i),void 0===s&&(s=[0,0]),e?e.map((function(e,a){var r=Fd(e),l=r.value,d=r.unit,c=a?o:n,u=a?i:t;return"%"===e||isNaN(l)?u*(c?s[a]/c:0):"%"!==d?l:u*l/100})):s}(s,t,i,p,h,l),m),t,i,m,n),[v,b])}function Yh(e,t){return Ih(Jp(e.state),t)}function Xh(e,t,i){var n=$p(e,[t.clientLeft,t.clientTop],i);return[t.left+n[0],t.top+n[1]]}function Kh(e,t,i,n,o,s){var a=o[0],r=o[1],l=s[0],d=s[1],c=[],u=n?0:1,p="vertical"===t?"horizontal":"vertical",h=rh(e.filter((function(e){return e.type===t})),(function(e){return e.element})).map((function(e){return e[0]})).filter((function(e){var t=e.pos,i=e.sizes;return t[u]<=d&&l<=t[u]+i[u]}));return h.forEach((function(e){var t=e.pos[n],o=t+e.sizes[n];h.forEach((function(e){var s=e.pos,l=e.sizes,d=e.element,u=e.className,g=s[n],f=g+l[n],m=0,v=0,b=!0;if(o<=g)a<(m=f-(v=o-g))-i&&(b=!1);else{if(!(f<=t))return;r>(m=g-(v=t-f))+i&&(b=!1)}if(b&&c.push({pos:"vertical"===p?[m,s[1]]:[s[0],m],element:d,sizes:l,size:0,type:p,gap:v,className:u,gapGuidelines:h}),o<=a&&r<=g){var y=(g+o-(r-a))/2;tc(a-(y-i),.1)>=0&&c.push({pos:"vertical"===p?[y,s[1]]:[s[0],y],className:u,element:d,sizes:l,size:0,type:p,gap:o-a,gapGuidelines:h})}}))})),c}function Zh(e,t,i,n,o,s,a){void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a={left:0,top:0,right:0,bottom:0});var r=[],l=a.left,d=a.top,c=a.bottom,u=i+a.right-l,p=n+c-d;return e&&e.forEach((function(e){r.push({type:"horizontal",pos:[l,tc(e-s+d,.1)],size:u})})),t&&t.forEach((function(e){r.push({type:"vertical",pos:[tc(e-o+l,.1),d],size:p})})),r}function Qh(e,t){var i=[];if(!t.length)return i;var n=e.state,o=e.props.snapCenter,s=n.containerClientRect,a=n.targetClientRect,r=a.top,l=a.left,d=n.rootMatrix,c=n.is3d?4:3,u=Xh(d,s,c),p=u[0],h=u[1],g=Su(Jp(n)),f=ou([g.minX,g.minY],ch(d,[l-p,r-h],c)).map((function(e){return t=e,Math.round(t%1==-.5?t-1:t);var t})),m=f[0],v=f[1];return t.forEach((function(e){var t=e.element,n=e.top,s=e.left,a=e.right,r=e.bottom,l=e.className,u=t.getBoundingClientRect(),g=u.left-p,f=u.top-h,b=f+u.height,y=g+u.width,_=ch(d,[g,f],c),x=_[0],w=_[1],S=ch(d,[y,b],c),C=S[0],k=S[1],E=C-x,A=k-w,q=[E,A];!1!==n&&i.push({type:"vertical",element:t,pos:[tc(x+m,.1),w],size:A,sizes:q,className:l}),!1!==r&&i.push({type:"vertical",element:t,pos:[tc(C+m,.1),w],size:A,sizes:q,className:l}),!1!==s&&i.push({type:"horizontal",element:t,pos:[x,tc(w+v,.1)],size:E,sizes:q,className:l}),!1!==a&&i.push({type:"horizontal",element:t,pos:[x,tc(k+v,.1)],size:E,sizes:q,className:l}),o&&(i.push({type:"vertical",element:t,pos:[tc((x+C)/2+m,.1),w],size:A,sizes:q,center:!0,className:l}),i.push({type:"horizontal",element:t,pos:[x,tc((w+k)/2+v,.1)],size:E,sizes:q,center:!0,className:l}))})),i}function Jh(e,t,i){void 0===i&&(i=[]);var n=[],o=e.state;if(t&&o.guidelines&&o.guidelines.length)return n;var s=e.props.elementGuidelines,a=void 0===s?[]:s;if(!a.length)return n;var r=o.elementGuidelineValues||[],l=a.map((function(e){return Od(e)&&"element"in e?e:{element:vh(e,!0)}})).filter((function(e){return e.element}));o.elementGuidelineValues=l;var d,c,u=(d=r.map((function(e){return e.element})),c=l.map((function(e){return e.element})),Ed(d,c,Ou)),p=u.added,h=u.removed.map((function(e){return r[e].element})),g=Qh(e,p.map((function(e){return l[e]})).filter((function(e){return e.refresh&&t||!e.refresh&&!t})));return rp(i.filter((function(e){return-1===h.indexOf(e.element)})),g)}function eg(e){var t=e.state,i=t.snapOffset,n=t.staticGuidelines,o=t.containerClientRect,s=o.overflow,a=o.scrollHeight,r=o.scrollWidth,l=o.clientHeight,d=o.clientWidth,c=o.clientLeft,u=o.clientTop,p=e.props,h=p.snapHorizontal,g=void 0===h||h,f=p.snapVertical,m=void 0===f||f,v=p.snapGap,b=void 0===v||v,y=p.verticalGuidelines,_=p.horizontalGuidelines,x=p.snapThreshold,w=void 0===x?5:x,S=p.snapGridWidth,C=void 0===S?0:S,k=p.snapGridHeight,E=void 0===k?0:k,A=rp(n,Jh(e,!0));if(b){var q=Hp(Jp(e.state)),T=q.top,L=q.left,M=q.bottom,O=q.right,R=n.filter((function(e){return e.element}));A.push.apply(A,rp(Kh(R,"horizontal",w,0,[L,O],[T,M]),Kh(R,"vertical",w,1,[T,M],[L,O])))}return A.push.apply(A,function(e,t,i,n,o,s){void 0===o&&(o=0);void 0===s&&(s=0);var a=[];if(t)for(var r=0;r<=n;r+=t)a.push({type:"horizontal",pos:[0,tc(r-s,.1)],size:i,hide:!0});if(e)for(r=0;r<=i;r+=e)a.push({type:"vertical",pos:[tc(r-o,.1),0],size:n,hide:!0});return a}(C,E,s?r:d,s?a:l,c,u)),A.push.apply(A,Zh(g&&_||!1,m&&y||!1,s?r:d,s?a:l,c,u,i)),A}function tg(e,t,i,n,o){var s=e.props,a=s.snapElement,r=void 0===a||a,l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=e.length-1,n=0;n<i;++n){var o=e[n];if(!Md(o))return o}return e[i]}(o,s.snapThreshold,5);return ig(e.state.guidelines,t,i,{snapThreshold:l,snapCenter:n,snapElement:r})}function ig(e,t,i,n){return{vertical:sg(e,"vertical",t,n),horizontal:sg(e,"horizontal",i,n)}}function ng(e,t,i,n){var o=e.props.snapCenter&&i,s=["left","right"],a=["top","bottom"];return o&&(s.push("center"),a.push("middle")),s=s.filter((function(e){return e in t})),a=a.filter((function(e){return e in t})),tg(e,s.map((function(e){return t[e]})),a.map((function(e){return t[e]})),o,n)}function og(e){var t=e.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var i=e.posInfos[0],n=i.guidelineInfos[0],o=n.offset,s=n.dist,a=n.guideline;return{isSnap:t,offset:o,dist:s,pos:i.pos,guideline:a}}function sg(e,t,i,n){var o=void 0===n?{}:n,s=o.snapThreshold,a=void 0===s?5:s,r=o.snapElement,l=o.snapCenter;if(!e||!e.length)return{isSnap:!1,index:-1,posInfos:[]};var d="vertical"===t?0:1,c=i.map((function(i,n){var o=e.map((function(e){var t=e.pos,n=i-t[d];return{offset:n,dist:Math.abs(n),guideline:e}})).filter((function(e){var i=e.guideline,n=e.dist,o=i.type,s=i.center,d=i.element;return!(!r&&d||!l&&s||o!==t||n>a)})).sort((function(e,t){return e.dist-t.dist}));return{pos:i,index:n,guidelineInfos:o}})).filter((function(e){return e.guidelineInfos.length>0})).sort((function(e,t){return e.guidelineInfos[0].dist-t.guidelineInfos[0].dist})),u=c.length>0;return{isSnap:u,index:u?c[0].index:-1,posInfos:c}}function ag(e,t){var i=Math.abs(e.offset),n=Math.abs(t.offset);return e.isBound&&t.isBound?n-i:e.isBound?-1:t.isBound?1:e.isSnap&&t.isSnap?n-i:e.isSnap?-1:t.isSnap||i<vp?1:n<vp?-1:i-n}function rg(e,t){return e.slice().sort((function(e,i){var n=e.sign[t],o=i.sign[t],s=e.offset[t],a=i.offset[t];return n?o?ag({isBound:e.isBound,isSnap:e.isSnap,offset:s},{isBound:i.isBound,isSnap:i.isSnap,offset:a}):-1:1}))[0]}function lg(e,t){var i=Zd([t[0][0],t[1][0]]),n=Zd([t[0][1],t[1][1]]);return{vertical:i<=e[0],horizontal:n<=e[1]}}function dg(e,t){var i,n,o=t[0],s=t[1],a=s[0]-o[0],r=s[1]-o[1];if(Math.abs(a)<vp&&(a=0),Math.abs(r)<vp&&(r=0),a)if(r){i=r/a*(e[0]-o[0])+o[1],n=e[1]}else i=o[1],n=e[1];else i=o[0],n=e[0];return i-n}function cg(e,t,i){void 0===i&&(i=vp);var n=dg(e[0],t)<=0;return e.slice(1).every((function(e){var o=dg(e,t);return o<=0===n||Math.abs(o)<=i}))}function ug(e,t,i,n,o){return void 0===o&&(o=0),n&&t-o<=e||!n&&e<=i+o?{isBound:!0,offset:n?t-e:i-e}:{isBound:!1,offset:0}}function pg(e,t,i,n,o){var s=e[0],a=e[1],r=t[0],l=t[1],d=gh(a[1]-s[1]),c=gh(a[0]-s[0]),u=gh(l[1]-r[1]);if(!gh(l[0]-r[0])){if(o&&!d)return{isBound:!1,offset:0};if(c)return ug(d/c*(r[0]-s[0])+s[1],r[1],l[1],i,n);var p=r[0]-s[0];return{isBound:h=Math.abs(p)<=(n||0),offset:h?p:0}}if(!u){if(o&&!c)return{isBound:!1,offset:0};if(d)return ug((r[1]-s[1])/(d/c)+s[0],r[0],l[0],i,n);var h;p=r[1]-s[1];return{isBound:h=Math.abs(p)<=(n||0),offset:h?p:0}}return{isBound:!1,offset:0}}function hg(e,t,i,n){return t.map((function(t){var o=t[0],s=t[1],a=t[2],r=function(e,t,i){var n=e.props.innerBounds;if(!n)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var o=n.left,s=n.top,a=n.width,r=n.height,l=[[o,s],[o,s+r]],d=[[o,s],[o+a,s]],c=[[o+a,s],[o+a,s+r]],u=[[o,s+r],[o+a,s+r]],p=lg(i,t),h=p.horizontal,g=p.vertical;if(cg([i,[o,s],[o+a,s],[o,s+r],[o+a,s+r]],t))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var f=pg(t,d,g),m=pg(t,u,g),v=pg(t,l,h),b=pg(t,c,h),y=f.isBound&&m.isBound,_=f.isBound||m.isBound,x=v.isBound&&b.isBound,w=v.isBound||b.isBound,S=dh(f.offset,m.offset),C=dh(v.offset,b.offset),k=[0,0],E=!1,A=!1;return Math.abs(C)<Math.abs(S)?(k=[S,0],E=_,A=y):(k=[0,C],E=w,A=x),{isAllBound:A,isVerticalBound:_,isHorizontalBound:w,isBound:E,offset:k}}(e,[s,a],i),l=r.isBound,d=r.offset,c=r.isVerticalBound,u=r.isHorizontalBound,p=Rh({datas:n,distX:d[0],distY:d[1]}).map((function(e,t){return e*(o[t]?2/o[t]:0)}));return{sign:o,isBound:l,isVerticalBound:c,isHorizontalBound:u,isSnap:!1,offset:p}}))}function gg(e,t,i){var n,o=hg(e,fg(t,[0,0],!1).map((function(e){var t=e[0],i=e[1],n=e[2];return[t.map((function(e){return 2*Math.abs(e)})),i,n]})),Ih(t,[0,0]),i),s=rg(o,0),a=rg(o,1),r=0,l=0,d=s.isVerticalBound||a.isVerticalBound,c=s.isHorizontalBound||a.isHorizontalBound;return(d||c)&&(r=(n=function(e,t){var i=e.datas,n=e.distX,o=e.distY,s=i.beforeMatrix,a=i.matrix,r=i.is3d,l=i.startDragBeforeDist,d=i.startDragDist,c=i.absoluteOrigin,u=r?4:3;return ou(au(t?s:a,nu(t?l:d,[n,o]),u),c)}({datas:i,distX:-s.offset[0],distY:-a.offset[1]}))[0],l=n[1]),{vertical:{isBound:d,offset:r},horizontal:{isBound:c,offset:l}}}function fg(e,t,i){return function(e,t){var i=[],n=e[0],o=e[1];return n&&o?i.push([[0,2*o],e,[-n,o]],[[2*n,0],e,[n,-o]]):n?(i.push([[2*n,0],[n,1],[n,-1]]),t&&i.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):o?(i.push([[0,2*o],[1,o],[-1,o]]),t&&i.push([[-1,0],[-1,o],[-1,-o]],[[1,0],[1,o],[1,-o]])):i.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),i}(t,i).map((function(t){var i=t[0],n=t[1],o=t[2];return[i,Ih(e,n),Ih(e,o)]}))}function mg(e,t,i,n){var o=n?e.map((function(e){return uu(e,n)})):e,s=rp([i],t);return[[o[0],o[1]],[o[1],o[3]],[o[3],o[2]],[o[2],o[0]]].some((function(e){return!cg(s,e)}))}function vg(e,t,i,n,o){var s=e.props.innerBounds,a=o*Math.PI/180;if(!s)return[];var r=s.left,l=s.top,d=s.width,c=s.height,u=r-n[0],p=r+d-n[0],h=l-n[1],g=l+c-n[1],f=[[u,h],[p,h],[u,g],[p,g]],m=Ih(i,[0,0]);if(!mg(i,f,m,0))return[];var v=[],b=f.map((function(e){return[jp(e),Qd([0,0],e)]}));return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].forEach((function(e){var i=Qd([0,0],function(e){var t=e[0],i=e[1],n=i[0]-t[0],o=i[1]-t[1];if(!n)return[t[0],0];if(!o)return[0,t[1]];var s=o/n,a=-s*t[0]+t[1];return[-a/(s+1/s),a/(s*s+1)]}(e)),n=function(e){var t=e[0],i=e[1],n=i[0]-t[0],o=i[1]-t[1];if(!n)return Math.abs(t[0]);if(!o)return Math.abs(t[1]);var s=o/n;return Math.abs((-s*t[0]+t[1])/Math.sqrt(Math.pow(s,2)+1))}(e);v.push.apply(v,b.filter((function(e){var t=e[0];return t&&n<=t})).map((function(e){var t=e[0],o=e[1],s=Math.acos(t?n/t:0);return[a+(o+s)-i,a+(o-s)-i]})).reduce((function(e,t){return e.push.apply(e,t),e}),[]).filter((function(e){return!mg(t,f,m,e)})).map((function(e){return tc(180*e/Math.PI,vp)})))})),v}function bg(e,t,i){var n=e||{},o=n.position,s=void 0===o?"client":o,a=n.left,r=void 0===a?-1/0:a,l=n.top,d=void 0===l?-1/0:l,c=n.right,u=void 0===c?1/0:c,p=n.bottom,h={position:s,left:r,top:d,right:u,bottom:void 0===p?1/0:p};return{vertical:_g(h,t,!0),horizontal:_g(h,i,!1)}}function yg(e,t){var i=e.state,n=i.containerClientRect,o=n.clientHeight,s=n.clientWidth,a=n.clientLeft,r=n.clientTop,l=i.snapOffset,d=l.left,c=l.top,u=l.right,p=l.bottom,h=t||e.props.bounds||{},g="css"===(h.position||"client"),f=h.left,m=void 0===f?-1/0:f,v=h.top,b=void 0===v?-1/0:v,y=h.right,_=void 0===y?g?-1/0:1/0:y,x=h.bottom,w=void 0===x?g?-1/0:1/0:x;return g&&(_=s+u-d-_,w=o+p-c-w),{left:m+d-a,right:_+d-a,top:b+c-r,bottom:w+c-r}}function _g(e,t,i){var n=e[i?"left":"top"],o=e[i?"right":"bottom"],s=Math.min.apply(Math,t),a=Math.max.apply(Math,t),r=[];return n+1>s&&r.push({isBound:!0,offset:s-n,pos:n}),o-1<a&&r.push({isBound:!0,offset:a-o,pos:o}),r.length||r.push({isBound:!1,offset:0,pos:0}),r.sort((function(e,t){return Math.abs(t.offset)-Math.abs(e.offset)}))}function xg(e,t,i){return(i?e.map((function(e){return uu(e,i)})):e).some((function(e){return e[0]<t.left&&Math.abs(e[0]-t.left)>.1||e[0]>t.right&&Math.abs(e[0]-t.right)>.1||e[1]<t.top&&Math.abs(e[1]-t.top)>.1||e[1]>t.bottom&&Math.abs(e[1]-t.bottom)>.1}))}function wg(e,t,i,n,o){if(!e.props.bounds)return[];var s=o*Math.PI/180,a=yg(e),r=a.left,l=a.top,d=a.right,c=a.bottom,u=r-n[0],p=d-n[0],h=l-n[1],g=c-n[1],f={left:u,top:h,right:p,bottom:g};if(!xg(i,f,0))return[];var m=[];return[[u,0],[p,0],[h,1],[g,1]].forEach((function(e){var n=e[0],o=e[1];i.forEach((function(e){var i=Qd([0,0],e);m.push.apply(m,function(e,t,i){var n=jp(e),o=Math.sqrt(n*n-t*t)||0;return[o,-o].sort((function(t,n){return Math.abs(t-e[i?0:1])-Math.abs(n-e[i?0:1])})).map((function(e){return Qd([0,0],i?[e,t]:[t,e])}))}(e,n,o).map((function(e){return s+e-i})).filter((function(e){return!xg(t,f,e)})).map((function(e){return tc(180*e/Math.PI,vp)})))}))})),m}var Sg={horizontal:["left","top","width","Y","X"],vertical:["top","left","height","X","Y"]};function Cg(e,t,i,n){var o=e-i,s=o<0?o+t:n;return{size:(o<0?0:o)-s,pos:s}}function kg(e,t){return function(e,t){var i,n=e.direction,o=e.classNames,s=e.size,a=e.pos,r=e.zoom,l=e.key,d="horizontal"===n,c=d?"Y":"X";return t.createElement("div",{key:l,className:o.join(" "),style:(i={},i[d?"width":"height"]=""+s,i.transform="translate("+a[0]+", "+a[1]+") translate"+c+"(-50%) scale"+c+"("+r+")",i)})}(ap(ap({},e),{classNames:rp([kp("line","guideline",e.direction)],e.classNames).filter((function(e){return e})),size:e.size||e.sizeValue+"px",pos:e.pos||e.posValue.map((function(e){return tc(e,.1)+"px"}))}),t)}function Eg(e,t,i,n,o,s,a,r,l,d,c,u){var p=e.props,h=p.zoom,g=p.isDisplaySnapDigit,f=void 0===g||g,m=Sg[t],v=m[0],b=m[1],y=m[2],_=m[4];return lh(i.map((function(e,i){var p=!0;return e.map((function(e,g){var m,x=e.pos,w=e.size,S=Cg(x[d],w,o,s),C=S.pos,k=S.size;if(k<r)return null;var E=p;p=!1;var A=f&&E?parseFloat(k.toFixed(l)):0;return u.createElement("div",{key:t+"LinkGuideline"+i+"-"+g,className:kp("guideline-group",t),style:(m={},m[v]=n+C+"px",m[b]=-a+x[d?0:1]+"px",m[y]=k+"px",m)},kg({direction:t,classNames:[kp("dashed")],size:"100%",posValue:[0,0],sizeValue:k,zoom:h},u),u.createElement("div",{className:kp("size-value"),style:{transform:"translate"+_+"(-50%) scale("+h+")"}},A>0?c(A):""))}))})))}function Ag(e,t,i,n,o,s,a,r){var l=e.props.zoom;return i.map((function(e,i){var d=e.type,c=e.pos,u=[0,0];return u[a]=n,u[a?0:1]=-o+c,kg({key:t+"TargetGuideline"+i,classNames:[kp("target","bold",d)],posValue:u,sizeValue:s,zoom:l,direction:t},r)}))}function qg(e,t,i,n,o,s){var a=e.props.isDisplayInnerSnapDigit,r=i?0:1,l=n[i],d=s[i],c=[],u=t.filter((function(e){var t=e.element,o=e.pos,s=e.size;if(a&&t&&o[i]<l&&l+d<o[i]+s){var u=o[i]-l,p=o[r]-n[r];return c.push(ap(ap({},e),{inner:!0,gap:u,renderPos:i?[p,u]:[u,p]})),c.push(ap(ap({},e),{inner:!0,gap:o[i]+s-l-d,renderPos:i?[p,d]:[d,p]})),!1}return!0})),p=function(e,t,i,n){var o=[],s=rh(e.filter((function(e){var t=e.element,i=e.gap;return t&&!i})),(function(e){var i=e.element,s=e.pos,a=s[n],r=(Math.min(0,a-t)<0?-1:1)+"_"+s[n?0:1],l=Gd(o,(function(e){var t=e[0],n=e[1];return i===t&&a===n}));return l?l[2]:(o.push([i,a,r]),r)}));return s.forEach((function(e){e.sort((function(e,o){return Cg(e.pos[n],e.size,t,i).size-Cg(o.pos[n],e.size,t,i).size||e.pos[n?0:1]-o.pos[n?0:1]}))})),s}(u=u.filter((function(e){var t=e.element,n=e.pos,o=e.size,s=n[i];return!t||u.every((function(t){var n=t.element,a=t.pos,r=t.size,l=a[i];return!n||e===t||(s+o<=l||l+r<=s||s<l&&l+r<s+o)}))})),o[i],d,i);return c=c.filter((function(e){var t=e.gap,n=e.pos[r];return p.every((function(e){return e.every((function(e){var o=e.pos,a=-l+o[i];return o[r]!==n||!(t<0&&a<0)&&!(t>0&&a>s[i])}))}))})),{guidelines:u,groups:p,gapGuidelines:c}}function Tg(e,t,i,n,o){var s=e.props.zoom;return i.filter((function(e){return!e.hide})).map((function(e,i){var a=e.pos,r=e.size,l=e.element,d=[-n[0]+a[0],-n[1]+a[1]];return kg({key:t+"Guideline"+i,classNames:l?[kp("bold")]:[],direction:t,posValue:d,sizeValue:r,zoom:s},o)}))}function Lg(e,t,i,n,o){var s=e.props,a=s.snapDigit,r=void 0===a?0:a,l=s.isDisplaySnapDigit,d=void 0===l||l,c=s.zoom,u="horizontal"===t?"X":"Y",p="horizontal"===t?"width":"height";return i.map((function(e,i){var s,a=e.renderPos,l=e.gap,h=e.className,g=e.inner,f=Math.abs(l),m=d?parseFloat(f.toFixed(r)):0;return o.createElement("div",{key:t+"GapGuideline"+i,className:kp("guideline-group",t),style:(s={left:a[0]+"px",top:a[1]+"px"},s[p]=f+"px",s)},kg({direction:t,classNames:[kp(g?"dashed":"gap"),h],size:"100%",posValue:[0,0],sizeValue:f,zoom:c},o),o.createElement("div",{className:kp("size-value","gap"),style:{transform:"translate"+u+"(-50%) scale("+c+")"}},m>0?n(m):""))}))}function Mg(e){var t=e.state;if(!t.guidelines||!t.guidelines.length){var i=e.state.container,n=e.props.snapContainer||i,o=t.containerClientRect,s={left:0,top:0,bottom:0,right:0};if(i!==n){var a=vh(n,!0);if(a){var r=Kp(a),l=yh(t,[r.left-o.left,r.top-o.top]),d=yh(t,[r.right-o.right,r.bottom-o.bottom]);s.left=tc(l[0],.1),s.top=tc(l[1],.1),s.right=tc(d[0],.1),s.bottom=tc(d[1],.1)}}t.snapOffset=s,t.elementGuidelineValues=[],t.staticGuidelines=Jh(e,!1),t.guidelines=eg(e),t.enableSnap=!0}}function Og(e,t){var i=e.props,n=i.snappable,o=i.bounds,s=i.innerBounds,a=i.verticalGuidelines,r=i.horizontalGuidelines,l=i.snapGridWidth,d=i.snapGridHeight,c=e.state,u=c.guidelines,p=c.enableSnap;return!(!n||!p||t&&!0!==n&&n.indexOf(t)<0)&&!!(l||d||o||s||u&&u.length||a&&a.length||r&&r.length)}function Rg(e,t,i,n,o){var s=function(e,t,i,n){var o=t[0]-e[0],s=t[1]-e[1];Math.abs(o)<vp&&(o=0);Math.abs(s)<vp&&(s=0);if(!o)return n?[0,0]:[0,i];if(!s)return n?[i,0]:[0,0];var a=s/o,r=e[1]-a*e[0];return n?[i,a*(t[0]+i)+r-t[1]]:[(t[1]+i-r)/a-t[0],i]}(e,t,i,n);if(!s)return{isOutside:!1,offset:[0,0]};var a=ec(e,t),r=ec(s,e),l=ec(s,t),d=r>a||l>a,c=Rh({datas:o,distX:s[0],distY:s[1]});return{offset:[c[0],c[1]],isOutside:d}}function Ng(e,t,i,n,o,s){var a=Pp(e,t,i,s?4:3);return Qp(a,ou(n,function(e,t){return Ih(e,t.map((function(e){return-e})))}(a,o)))}function Bg(e,t){return e.isBound?e.offset:t.isSnap?t.offset:0}function Ig(e,t){return e.isBound?e.offset:t.isSnap?og(t).offset:0}function Dg(e,t,i,n){var o=function(e,t,i){var n=yg(e),o=n.left,s=n.top,a=n.right,r=n.bottom,l=i[0],d=i[1],c=ou(i,t),u=c[0],p=c[1];Math.abs(u)<vp&&(u=0),Math.abs(p)<vp&&(p=0);var h=p>0,g=u>0,f={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(0===u&&0===p)return{vertical:f,horizontal:m};if(0===u)h?r<d&&(m.pos=r,m.offset=d-r):s>d&&(m.pos=s,m.offset=d-s);else if(0===p)g?a<l&&(f.pos=a,f.offset=l-a):o>l&&(f.pos=o,f.offset=l-o);else{var v=p/u,b=i[1]-v*l,y=0,_=0,x=!1;g&&a<=l?(y=v*a+b,_=a,x=!0):!g&&l<=o&&(y=v*o+b,_=o,x=!0),x&&(y<s||y>r)&&(x=!1),x||(h&&r<=d?(_=((y=r)-b)/v,x=!0):!h&&d<=s&&(_=((y=s)-b)/v,x=!0)),x&&(f.isBound=!0,f.pos=_,f.offset=l-_,m.isBound=!0,m.pos=y,m.offset=d-y)}return{vertical:f,horizontal:m}}(e,t,i),s=o.horizontal,a=o.vertical,r=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(e,t,i){var n=i[0],o=i[1],s=t[0],a=t[1],r=ou(i,t),l=r[0],d=r[1],c=d>0,u=l>0;l=gh(l),d=gh(d);var p={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(0===l&&0===d)return{vertical:p,horizontal:h};var g=tg(e,l?[n]:[],d?[o]:[]),f=g.vertical,m=g.horizontal;f.posInfos.filter((function(e){var t=e.pos;return u?t>=s:t<=s})),m.posInfos.filter((function(e){var t=e.pos;return c?t>=a:t<=a})),f.isSnap=f.posInfos.length>0,m.isSnap=m.posInfos.length>0;var v=og(f),b=v.isSnap,y=v.guideline,_=og(m),x=_.isSnap,w=_.guideline,S=x?w.pos[1]:0,C=b?y.pos[0]:0;if(0===l)x&&(h.isSnap=!0,h.pos=w.pos[1],h.offset=o-h.pos);else if(0===d)b&&(p.isSnap=!0,p.pos=C,p.offset=n-C);else{var k=d/l,E=i[1]-k*n,A=0,q=0,T=!1;b?(A=k*(q=C)+E,T=!0):x&&(q=((A=S)-E)/k,T=!0),T&&(p.isSnap=!0,p.pos=q,p.offset=n-q,h.isSnap=!0,h.pos=A,h.offset=o-A)}return{vertical:p,horizontal:h}}(e,t,i),l=r.horizontal,d=r.vertical,c=Bg(s,l),u=Bg(a,d),p=Math.abs(c),h=Math.abs(u);return{horizontal:{isBound:s.isBound,isSnap:l.isSnap,offset:c,dist:p},vertical:{isBound:a.isBound,isSnap:d.isSnap,offset:u,dist:h}}}function $g(e,t,i,n){void 0===n&&(n=i);var o=bg(yg(e),n.map((function(e){return e[0]})),n.map((function(e){return e[1]}))),s=o.horizontal,a=o.vertical,r=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:tg(e,i.map((function(e){return e[0]})),i.map((function(e){return e[1]})),e.props.snapCenter),l=r.horizontal,d=r.vertical,c=Ig(s[0],l),u=Ig(a[0],d),p=Math.abs(c),h=Math.abs(u);return{horizontal:{isBound:s[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:p,bounds:s,snap:l},vertical:{isBound:a[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:u,dist:h,bounds:a,snap:d}}}function Pg(e,t,i,n,o){void 0===o&&(o={});var s=bg(t,i,n),a=s.horizontal,r=s.vertical,l=o.isRequest?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:ig(e,i,n,o),d=l.horizontal,c=l.vertical,u=Ig(a[0],d),p=Ig(r[0],c),h=Math.abs(u),g=Math.abs(p);return{horizontal:{isBound:a[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:u,dist:h,bounds:a,snap:d},vertical:{isBound:r[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:p,dist:g,bounds:r,snap:c}}}function Hg(e,t,i,n,o,s){return i.map((function(i){var a=i[0],r=i[1],l=Ih(t,a),d=Ih(t,r),c=n?Dg(e,l,d,o):$g(e,o,[d]),u=c.horizontal,p=u.offset,h=u.isBound,g=u.isSnap,f=c.vertical,m=f.offset,v=f.isBound,b=f.isSnap,y=ou(r,a);if(!m&&!p)return{isBound:v||h,isSnap:b||g,sign:y,offset:[0,0]};var _=function(e,t,i,n){var o=Qd(e,t)/Math.PI*180,s=i.vertical,a=s.isBound,r=s.isSnap,l=s.dist,d=i.horizontal,c=d.isBound,u=d.isSnap,p=o%180,h=p<3||p>177,g=p>87&&p<93;return d.dist<l&&(a||r&&!g&&(!n||!h))?"vertical":!c&&(!u||h||n&&g)?"":"horizontal"}(l,d,c,n);if(!_)return{sign:y,isBound:!1,isSnap:!1,offset:[0,0]};var x="vertical"===_,w=Rg(l,d,-(x?m:p),x,s).offset.map((function(e,t){return e*(y[t]?2/y[t]:0)}));return{sign:y,isBound:x?v:h,isSnap:x?b:g,offset:w}}))}function zg(e,t,i,n,o,s){var a=function(e,t){var i=[],n=[-e[0],-e[1]];return e[0]&&e[1]?(i.push([n,[e[0],-e[1]]],[n,[-e[0],e[1]]]),t&&i.push([n,e])):e[0]?t?i.push([n,[n[0],-1]],[n,[n[0],1]],[n,[e[0],-1]],[n,e],[n,[e[0],1]]):i.push([[n[0],-1],[e[0],-1]],[[n[0],0],[e[0],0]],[[n[0],1],[e[0],1]]):e[1]?t?i.push([n,[-1,n[1]]],[n,[1,n[1]]],[n,[-1,e[1]]],[n,[1,e[1]]],[n,e]):i.push([[-1,n[1]],[-1,e[1]]],[[0,n[1]],[0,e[1]]],[[1,n[1]],[1,e[1]]]):i.push([n,[1,0]],[n,[-1,0]],[n,[0,-1]],[n,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),i}(i,n),r=fg(t,i,n),l=rp(Hg(e,t,a,n,o,s),hg(e,r,Ih(t,[0,0]),s)),d=rg(l,0),c=rg(l,1);return{width:{isBound:d.isBound,offset:d.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}function Fg(e,t,i,n,o,s,a,r){for(var l=Jp(e.state),d=e.props.keepRatio,c=0,u=0,p=0;p<2;++p){var h=zg(e,t(c,u),o,d,a,r),g=h.width,f=h.height,m=g.isBound,v=f.isBound,b=g.offset,y=f.offset;if(1===p&&(m||(b=0),v||(y=0)),0===p&&a&&!m&&!v)return[0,0];if(d){var _=Math.abs(b)*(i?1/i:1),x=Math.abs(y)*(n?1/n:1);(m&&v?_<x:v||!m&&_<x)?b=i*y/n:y=n*b/i}c+=b,u+=y}if(o[0]&&o[1]){var w=function(e,t,i,n,o){var s=[-i[0],-i[1]],a=e.state,r=a.width,l=a.height,d=e.props.bounds,c=1/0,u=1/0;if(d){var p=[[i[0],-i[1]],[-i[0],i[1]]],h=d.left,g=void 0===h?-1/0:h,f=d.top,m=void 0===f?-1/0:f,v=d.right,b=void 0===v?1/0:v,y=d.bottom,_=void 0===y?1/0:y;p.forEach((function(e){var i=e[0]!==s[0],a=e[1]!==s[1],d=Ih(t,e),p=360*Qd(n,d)/Math.PI;if(a){var h=d.slice();(Math.abs(p-360)<2||Math.abs(p-180)<2)&&(h[1]=n[1]);var f=Rg(n,h,(n[1]<d[1]?_:m)-d[1],!1,o),v=f.offset[1],y=f.isOutside;isNaN(v)||(u=l+(y?1:-1)*Math.abs(v))}if(i){h=d.slice(),(Math.abs(p-90)<2||Math.abs(p-270)<2)&&(h[0]=n[0]);var x=Rg(n,h,(n[0]<d[0]?b:g)-d[0],!0,o),w=x.offset[0],S=x.isOutside;isNaN(w)||(c=r+(S?1:-1)*Math.abs(w))}}))}return{maxWidth:c,maxHeight:u}}(e,l,o,s,r),S=w.maxWidth,C=w.maxHeight,k=function(e,t,i,n,o,s,a,r,l){var d=$g(e,r,[Ih(t,a)]),c=d.horizontal.offset,u=d.vertical.offset;if(u||c){var p=Rh({datas:l,distX:-u,distY:-c}),h=p[0],g=p[1];return[Math.min(o||1/0,i+a[0]*h)-i,Math.min(s||1/0,n+a[1]*g)-n]}return[0,0]}(e,t(c,u).map((function(e){return e.map((function(e){return tc(e,mp)}))})),i+c,n+u,S,C,o,a,r);c+=b=k[0],u+=y=k[1]}return[c,u]}function jg(e,t,i,n){if(!Og(e,"rotatable"))return n;var o=t.pos1,s=t.pos2,a=t.pos3,r=t.pos4,l=n*Math.PI/180,d=[o,s,a,r].map((function(e){return ou(e,i)})),c=d.map((function(e){return uu(e,l)})),u=rp(wg(e,d,c,i,n),vg(e,d,c,i,n));return u.sort((function(e,t){return Math.abs(e-n)-Math.abs(t-n)})),u.length?u[0]:n}function Ug(e,t,i,n,o){var s=o.width,a=o.height,r=o.fixedPosition;if(!Og(e,"scalable"))return[0,0];var l=o.is3d,d=Fg(e,(function(e,n){return Ng(function(e,t){var i=e.transformOrigin,n=e.offsetMatrix,o=e.is3d?4:3;return Dh(n,iu(e.targetMatrix,mu(t,o),o),i,o)}(o,nu(t,[e/s,n/a])),s,a,r,i,l)}),s,a,i,r,n,o);return[d[0]/s,d[1]/a]}function Wg(e,t,i,n,o,s){if(!Og(e,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=Qp(s.absolutePoses,[t,i]),r=Hp(a),l=r.left,d=r.right,c=r.top,u=r.bottom,p=[[l,c],[d,c],[l,u],[d,u]];e.props.snapCenter&&p.push([(l+d)/2,(c+u)/2]);var h=$g(e,o,p,a),g=h.vertical,f=h.horizontal,m=gg(e,a,s),v=m.vertical,b=m.horizontal,y=g.isSnap,_=f.isSnap,x=g.isBound||v.isBound,w=f.isBound||b.isBound,S=function(e,t,i,n,o){var s=t[0],a=t[1],r=i[0],l=i[1],d=n[0],c=n[1],u=o[0],p=o[1],h=-u,g=-p;if(e&&s&&a){h=0,g=0;var f=[];if(r&&l?f.push([0,p],[u,0]):r?f.push([u,0]):l?f.push([0,p]):d&&c?f.push([0,p],[u,0]):d?f.push([u,0]):c&&f.push([0,p]),f.length){f.sort((function(e,t){return jp(ou([s,a],e))-jp(ou([s,a],t))}));var m=f[0];if(m[0]&&Math.abs(s)>vp)h=-m[0],g=a*Math.abs(s+h)/Math.abs(s)-a;else if(m[1]&&Math.abs(a)>vp){var v=a;g=-m[1],h=s*Math.abs(a+g)/Math.abs(v)-s}if(e&&l&&r)if(Math.abs(h)>vp&&Math.abs(h)<Math.abs(u))h*=b=Math.abs(u)/Math.abs(h),g*=b;else if(Math.abs(g)>vp&&Math.abs(g)<Math.abs(p)){var b;h*=b=Math.abs(p)/Math.abs(g),g*=b}else h=dh(-u,h),g=dh(-p,g)}}else h=s||r?-u:0,g=a||l?-p:0;return[h,g]}(n,[t,i],[x,w],[y,_],[dh(g.offset,v.offset),dh(f.offset,b.offset)]);return[{isBound:x,isSnap:y,offset:S[0]},{isBound:w,isSnap:_,offset:S[1]}]}function Gg(e){var t=[];return e.forEach((function(e){e.guidelineInfos.forEach((function(e){var i=e.guideline;t.indexOf(i)>-1||t.push(i)}))})),t}function Vg(e,t,i,n){var o=e.filter((function(e){var i=e.element,n=e.gap,o=e.type;return i&&n&&o===t})),s="vertical"===t?[0,1]:[1,0],a=s[0],r=s[1];return lh(o.map((function(e){var t=e.pos,o=e.gap,s=e.gapGuidelines,l=e.sizes,d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.sort((function(e,t){return Math.abs(e)-Math.abs(t)})),e[0]}(t[r]+l[r]-i[r],t[r]-i[r]-n[r]),c=Math.min(l[r],n[r]);if(d>0&&d>c?d=2*(d-c/2):d<0&&d<-c&&(d=2*(d+c/2)),0===d)return[];var u=(d>0?0:n[r])+d/2;return rp(function(e,t,i,n,o,s,a){var r=Math.abs(s),l=o[t]+(s>0?n[0]:0);return e.filter((function(e){return e.pos[t]<=i[t]})).sort((function(e,i){var n=e.pos;return i.pos[t]-n[t]})).filter((function(e){var i=e.pos,n=e.sizes,o=i[t];return tc(o+n[t],mp)===tc(l-r,mp)&&(l=o,!0)})).map((function(e){var n=-i[t]+e.pos[t]+e.sizes[t];return ap(ap({},e),{gap:s,renderPos:t?[a,n]:[n,a]})}))}(s,a,i,n,t,o,u),function(e,t,i,n,o,s,a){var r=Math.abs(s),l=o[t]+(s<0?n[t]:0);return e.filter((function(e){return e.pos[t]>i[t]})).sort((function(e,i){var n=e.pos,o=i.pos;return n[t]-o[t]})).filter((function(e){var i=e.pos,n=e.sizes,o=i[t];return tc(o,mp)===tc(l+r,mp)&&(l=o+n[t],!0)})).map((function(e){var n=-i[t]+e.pos[t]-r;return ap(ap({},e),{gap:s,renderPos:t?[a,n]:[n,a]})}))}(s,a,i,n,t,o,u))})))}function Yg(e,t,i,n,o,s){var a=bg(yg(e,s),t,i),r=a.vertical,l=a.horizontal;r.forEach((function(e){e.isBound&&n.push({type:"bounds",pos:e.pos})})),l.forEach((function(e){e.isBound&&o.push({type:"bounds",pos:e.pos})}));var d=function(e){var t=e.props.innerBounds;if(!t)return{vertical:[],horizontal:[]};var i=e.getRect(),n=i.pos1,o=i.pos2,s=i.pos3,a=i.pos4,r=Ih([n,o,s,a],[0,0]),l=t.left,d=t.top,c=t.width,u=t.height,p=[[l,d],[l,d+u]],h=[[l,d],[l+c,d]],g=[[l+c,d],[l+c,d+u]],f=[[l,d+u],[l+c,d+u]],m=[],v=[],b={top:!1,bottom:!1,left:!1,right:!1};return[[n,o],[o,a],[a,s],[s,n]].forEach((function(e){var t=lg(r,e),i=t.horizontal,n=t.vertical,o=pg(e,h,n,1,!0),s=pg(e,f,n,1,!0),a=pg(e,p,i,1,!0),y=pg(e,g,i,1,!0);o.isBound&&!b.top&&(m.push(d),b.top=!0),s.isBound&&!b.bottom&&(m.push(d+u),b.bottom=!0),a.isBound&&!b.left&&(v.push(l),b.left=!0),y.isBound&&!b.right&&(v.push(l+c),b.right=!0)})),{horizontal:m,vertical:v}}(e),c=d.vertical,u=d.horizontal;c.forEach((function(e){Wd(n,(function(t){var i=t.type,n=t.pos;return"bounds"===i&&n===e}))>=0||n.push({type:"bounds",pos:e})})),u.forEach((function(e){Wd(o,(function(t){var i=t.type,n=t.pos;return"bounds"===i&&n===e}))>=0||o.push({type:"bounds",pos:e})}))}var Xg={name:"snappable",props:{snappable:[Boolean,Array],snapContainer:Object,snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[":host {\n    --bounds-color: #d66;\n}\n.guideline {\n    pointer-events: none;\n    z-index: 2;\n}\n.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}\n.guideline-group {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.guideline-group .size-value {\n    position: absolute;\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.guideline-group.horizontal .size-value {\n    transform-origin: 50% 100%;\n    transform: translateX(-50%);\n    left: 50%;\n    bottom: 5px;\n}\n.guideline-group.vertical .size-value {\n    transform-origin: 0% 50%;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.guideline.gap {\n    background: #f55;\n}\n.size-value.gap {\n    color: #f55;\n}\n"],render:function(e,t){var i=e.state,n=i.top,o=i.left,s=i.pos1,a=i.pos2,r=i.pos3,l=i.pos4,d=i.snapRenderInfo,c=i.targetClientRect,u=i.containerClientRect,p=i.is3d,h=i.rootMatrix;if(!d||!Og(e,""))return[];i.staticGuidelines=Jh(e,!1,i.staticGuidelines),i.guidelines=eg(e);var g=p?4:3,f=Math.min(s[0],a[0],r[0],l[0]),m=Math.min(s[1],a[1],r[1],l[1]),v=Xh(h,u,g),b=ch(h,[c.left-v[0],c.top-v[1]],g),y=b[0],_=b[1],x=e.props,w=x.snapThreshold,S=void 0===w?5:w,C=x.snapDigit,k=void 0===C?0:C,E=x.snapDistFormat,A=void 0===E?function(e){return e}:E,q=d.externalPoses||[],T=Jp(e.state),L=[],M=[],O=[],R=[],N=[],B=Hp(T),I=B.width,D=B.height,$=B.top,P=B.left,H=B.bottom,z=B.right,F=q.length>0,j=F?Hp(q):{};if(!d.request){if(d.direction&&N.push(function(e,t,i){var n=[];if(i[0]&&i[1])n=[i,[-i[0],i[1]],[i[0],-i[1]]].map((function(e){return Ih(t,e)}));else if(i[0]||i[1])e.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],i].map((function(e){return Ih(t,e)})):(n=Bh(t,i)).length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]);else for(var o=[t[0],t[1],t[3],t[2],t[0]],s=0;s<4;++s)n.push(o[s]),n.push([(o[s][0]+o[s+1][0])/2,(o[s][1]+o[s+1][1])/2]);return tg(e,n.map((function(e){return e[0]})),n.map((function(e){return e[1]})),!0,1)}(e,T,d.direction)),d.snap){var U=Hp(T);d.center&&(U.middle=(U.top+U.bottom)/2,U.center=(U.left+U.right)/2),N.push(ng(e,U,!0,1))}F&&(d.center&&(j.middle=(j.top+j.bottom)/2,j.center=(j.left+j.right)/2),N.push(ng(e,j,!0,1))),N.forEach((function(e){var t=e.vertical.posInfos,i=e.horizontal.posInfos;L.push.apply(L,t.filter((function(e){return e.guidelineInfos.some((function(e){return!e.guideline.hide}))})).map((function(e){return{type:"snap",pos:e.pos}}))),M.push.apply(M,i.filter((function(e){return e.guidelineInfos.some((function(e){return!e.guideline.hide}))})).map((function(e){return{type:"snap",pos:e.pos}}))),O.push.apply(O,Gg(t)),R.push.apply(R,Gg(i))}))}Yg(e,[P,z],[$,H],L,M),F&&Yg(e,[j.left,j.right],[j.top,j.bottom],L,M,d.externalBounds);var W=Vg(O,"vertical",[o,n],[I,D]),G=Vg(R,"horizontal",[o,n],[I,D]),V=rp(O,R);nh(e,"onSnap",{guidelines:V.filter((function(e){return!e.element})),elements:rh(V.filter((function(e){return e.element})),(function(e){return e.element})),gaps:rp(G,W)},!0);var Y=qg(e,R,0,[o,n],[y,_],[I,D]),X=Y.guidelines,K=Y.groups,Z=Y.gapGuidelines,Q=qg(e,O,1,[o,n],[y,_],[I,D]),J=Q.guidelines,ee=Q.groups;return rp(Lg(e,"vertical",rp(G,Q.gapGuidelines),A,t),Lg(e,"horizontal",rp(W,Z),A,t),Eg(e,"horizontal",K,f,y,I,n,S,k,0,A,t),Eg(e,"vertical",ee,m,_,D,o,S,k,1,A,t),Tg(e,"horizontal",X,[o,n],t),Tg(e,"vertical",J,[o,n],t),Ag(e,"horizontal",M,f,n,I,0,t),Ag(e,"vertical",L,m,o,D,1,t))},dragStart:function(e,t){e.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},Mg(e)},drag:function(e){var t=e.state;t.staticGuidelines=Jh(e,!1,t.staticGuidelines),t.guidelines=eg(e)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:function(e,t){return!(!fh(0,t)&&!af(e,t))||(!t.isRequest&&t.inputEvent?nc(t.inputEvent.target,kp("snap-control")):void 0)},dragControlStart:function(e){e.state.snapRenderInfo=null,Mg(e)},dragControl:function(e){this.drag(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,t){this.dragStart(e,t)},dragGroup:function(e){this.drag(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e){e.state.snapRenderInfo=null,Mg(e)},dragGroupControl:function(e){this.drag(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var t=e.state;t.enableSnap=!1,t.staticGuidelines=[],t.guidelines=[],t.snapRenderInfo=null}},Kg={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(e,t){var i=e.props,n=i.throttleDragRotate,o=i.zoom,s=e.state,a=s.dragInfo,r=s.beforeOrigin;if(!n||!a)return[];var l=a.dist;if(!l[0]&&!l[1])return[];var d=jp(l),c=Qd(l,[0,0]);return[t.createElement("div",{className:kp("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:d+"px",transform:"translate("+r[0]+"px, "+r[1]+"px) rotate("+c+"rad) scaleY("+o+")"}})]},dragStart:function(e,t){var i=t.datas,n=t.parentEvent,o=t.parentGesto,s=e.state,a=s.target;if(s.gesto)return!1;s.gesto=o||e.targetGesto;var r=oh(a);i.datas={},i.left=parseFloat(r.left||"")||0,i.top=parseFloat(r.top||"")||0,i.bottom=parseFloat(r.bottom||"")||0,i.right=parseFloat(r.right||"")||0,i.startValue=[0,0],Ah(e,t),Hh(t,"translate"),function(e,t){t.absolutePoses=Jp(e.state)}(e,i),i.prevDist=[0,0],i.prevBeforeDist=[0,0],i.isDrag=!1;var l=th(e,t,ap({set:function(e){i.startValue=e}},Ph(t)));return!1!==(n||nh(e,"onDragStart",l))?(i.isDrag=!0,e.state.dragInfo={startRect:e.getRect(),dist:[0,0]}):(s.gesto=null,i.isPinch=!1),!!i.isDrag&&l},drag:function(e,t){qh(t,"translate");var i=t.datas,n=t.parentEvent,o=t.parentFlag,s=t.isPinch,a=t.isRequest,r=t.distX,l=t.distY,d=i.isDrag,c=i.prevDist,u=i.prevBeforeDist,p=i.startValue;if(d){var h=e.props,g=h.parentMoveable,f=n?0:h.throttleDrag||0,m=n?0:h.throttleDragRotate||0,v=!1,b=0;if(!n&&m>0&&(r||l)){var y=h.startDragRotate||0,_=tc(y+180*Qd([0,0],[r,l])/Math.PI,m)-y,x=l*Math.abs(Math.cos((_-90)/180*Math.PI)),w=jp([r*Math.abs(Math.cos(_/180*Math.PI)),x]);b=_*Math.PI/180,r=w*Math.cos(b),l=w*Math.sin(b)}if(!s&&!n&&!o&&(!m||r||l)){var S=Wg(e,r,l,m,a,i),C=S[0],k=S[1],E=C.isSnap,A=C.isBound,q=C.offset,T=k.isSnap,L=k.isBound;v=E||T||A||L,r+=q,l+=k.offset}i.passDeltaX=r-(i.passDistX||0),i.passDeltaY=l-(i.passDistY||0),i.passDistX=r,i.passDistY=l;var M=nu(Oh({datas:i,distX:r,distY:l}),p),O=nu(Lh({datas:i,distX:r,distY:l}),p);m||v||(ic(O,f),ic(M,f));var R=ou(M,p),N=ou(O,p),B=ou(N,c),I=ou(R,u);i.prevDist=N,i.prevBeforeDist=R;var D=i.left+R[0],$=i.top+R[1],P=i.right-R[0],H=i.bottom-R[1],z=Th(i,"translate("+O[0]+"px, "+O[1]+"px)","translate("+N[0]+"px, "+N[1]+"px)");if(e.state.dragInfo.dist=n?[0,0]:N,n||g||!B.every((function(e){return!e}))||!I.some((function(e){return!e}))){var F=e.state,j=th(e,t,{transform:z,dist:N,delta:B,translate:O,beforeDist:R,beforeDelta:I,beforeTranslate:M,left:D,top:$,right:P,bottom:H,width:F.width,height:F.height,isPinch:s});return!n&&nh(e,"onDrag",j),j}}},dragEnd:function(e,t){var i=t.parentEvent,n=t.datas,o=t.isDrag;if(e.state.gesto=null,e.state.dragInfo=null,n.isDrag)return n.isDrag=!1,!i&&nh(e,"onDragEnd",ih(e,t,{})),o},dragGroupStart:function(e,t){var i=t.datas,n=t.clientX,o=t.clientY,s=this.dragStart(e,t);if(!s)return!1;var a=Ch(e,this,"dragStart",[n||0,o||0],t,!1),r=nh(e,"onDragGroupStart",ap(ap({},s),{targets:e.props.targets,events:a}));return i.isDrag=!1!==r,!!i.isDrag&&s},dragGroup:function(e,t){if(t.datas.isDrag){var i=this.drag(e,t),n=t.datas,o=Ch(e,this,"drag",[n.passDeltaX,n.passDeltaY],t,!1);if(i){var s=ap({targets:e.props.targets,events:o},i);return nh(e,"onDragGroup",s),s}}},dragGroupEnd:function(e,t){var i=t.isDrag;if(t.datas.isDrag)return this.dragEnd(e,t),Ch(e,this,"dragEnd",[0,0],t,!1),nh(e,"onDragGroupEnd",ih(e,t,{targets:e.props.targets})),i},request:function(e){var t={},i=e.getRect(),n=0,o=0;return{isControl:!1,requestStart:function(){return{datas:t}},request:function(e){return"x"in e?n=e.x-i.left:"deltaX"in e&&(n+=e.deltaX),"y"in e?o=e.y-i.top:"deltaY"in e&&(o+=e.deltaY),{datas:t,distX:n,distY:o}},requestEnd:function(){return{datas:t,isDrag:!0}}}},unset:function(e){e.state.dragInfo=null}};function Zg(e,t,i,n){void 0===n&&(n="");var o=e.state,s=o.renderPoses,a=o.rotation,r=o.direction,l=e.props,d=l.renderDirections,c=void 0===d?t:d,u=l.zoom,p={};if(!c)return[];var h=r>0?1:-1,g=!0===c?xp:c,f=a/Math.PI*180;return g.forEach((function(e){p[e]=!0})),g.map((function(e){var t=wp[e];if(!t||!p[e])return null;var o=(tc(f,15)+h*Sp[e]+720)%180;return i.createElement("div",{className:kp("control","direction",e,n),"data-rotation":o,"data-direction":e,key:"direction-"+e,style:Gp.apply(void 0,rp([a,u],t.map((function(e){return s[e]}))))})}))}function Qg(e,t,i,n,o,s){for(var a=[],r=6;r<arguments.length;r++)a[r-6]=arguments[r];var l=Qd(i,n),d=t?tc(l/Math.PI*180,15)%180:-1;return e.createElement("div",{key:"line"+s,className:kp.apply(void 0,rp(["line","direction",t],a)),"data-rotation":d,"data-line-index":s,"data-direction":t,style:Wp(i,n,o,l)})}function Jg(e,t){return Zg(e,xp,t)}function ef(e,t){return Zg(e,["nw","ne","sw","se"],t)}function tf(e,t,i,n,o,s){var a=e.state.is3d?4:3,r=$p(e.state.rootMatrix,o,a),l=nu([s.left,s.top],r);t.startAbsoluteOrigin=l,t.prevDeg=Qd(l,[i,n])/Math.PI*180,t.prevSnapDeg=t.prevDeg,t.startDeg=t.prevDeg,t.loop=0}function nf(e,t,i,n,o,s){var a=i.prevDeg,r=jg(e,t,i.origin,n);return i.prevDeg=r,[r-a,r,s+r]}function of(e,t,i,n,o,s,a,r){var l=i.prevDeg,d=i.prevSnapDeg,c=i.startDeg,u=i.loop;l>n&&l>270&&n<90?++i.loop:l<n&&l<90&&n>270&&--i.loop;var p=i.loop,h=360*u+d-c+s,g=360*p+n-c+s;i.prevDeg=g-360*p+c-s;var f=o*((g=tc(g,a))-s);return r&&(g=(f=jg(e,t,i.origin,f))/o+s),i.prevSnapDeg=g-360*p+c-s,[o*(g-h),f,s+f]}function sf(e,t,i,n,o,s,a,r){return of(e,t,i,Qd(i.startAbsoluteOrigin,[o,s])/Math.PI*180,n,a,r,!0)}function af(e,t){if(t.isRequest)return"rotatable"===t.requestAble;var i=t.inputEvent.target;if(nc(i,kp("rotation-control")))return!0;var n=e.props.rotationTarget;return!!n&&bh(n,!0).some((function(e){return!!e&&(i===e||i.contains(e))}))}var rf={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object},events:{onRotateStart:"rotateStart",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[".rotation {\n            position: absolute;\n            height: 40px;\n            width: 1px;\n            transform-origin: 50% 100%;\n            height: calc(40px * var(--zoom));\n            top: auto;\n            left: 0;\n            bottom: 100%;\n            will-change: transform;\n        }\n        .rotation .rotation-line {\n            display: block;\n            width: 100%;\n            height: 100%;\n            transform-origin: 50% 50%;\n        }\n        .rotation .rotation-control {\n            border-color: #4af;\n            border-color: var(--moveable-color);\n            background:#fff;\n            cursor: alias;\n        }"],render:function(e,t){var i=e.props,n=i.rotatable,o=i.rotationPosition,s=i.zoom,a=i.renderDirections,r=e.state,l=r.renderPoses,d=r.direction;if(!n)return null;var c=function(e,t,i){var n=t[0],o=t[1],s=t[2],a=t[3];if("none"!==e){var r=(e||"top").split("-"),l=r[0],d=r[1],c=[n,o];"left"===l?c=[s,n]:"right"===l?c=[o,a]:"bottom"===l&&(c=[a,s]);var u=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2],p=Yp(c,i);if(d){var h="top"===d||"left"===d,g="bottom"===l||"left"===l;u=c[h&&!g||!h&&g?0:1]}return[u,p]}}(o,l,d),u=[];if(c){var p=c[0],h=c[1];u.push(t.createElement("div",{key:"rotation",className:kp("rotation"),style:{transform:"translate(-50%) translate("+p[0]+"px, "+p[1]+"px) rotate("+h+"rad)"}},t.createElement("div",{className:kp("line rotation-line"),style:{transform:"scaleX("+s+")"}}),t.createElement("div",{className:kp("control rotation-control"),style:{transform:"translate(0.5px) scale("+s+")"}})))}return a&&u.push.apply(u,Zg(e,[],t)),u},dragControlCondition:af,dragControlStart:function(e,t){var i=t.datas,n=t.clientX,o=t.clientY,s=t.parentRotate,a=t.parentFlag,r=t.isPinch,l=t.isRequest,d=e.state,c=d.target,u=d.left,p=d.top,h=d.origin,g=d.beforeOrigin,f=d.direction,m=d.beforeDirection,v=d.targetTransform,b=d.moveableClientRect;if(!l&&!c)return!1;var y=e.getRect();if(i.rect=y,i.transform=v,i.left=u,i.top=p,i.fixedPosition=Gh(e,Wh(e)),i.absoluteInfo={origin:y.origin,startValue:y.rotation},tf(e,i.absoluteInfo,n,o,h,b),l||r||a){var _=s||0;i.beforeInfo={origin:y.beforeOrigin,prevDeg:_,startDeg:_,prevSnapDeg:_,loop:0},i.afterInfo={origin:y.origin,prevDeg:_,startDeg:_,prevSnapDeg:_,loop:0}}else i.beforeInfo={origin:y.beforeOrigin},i.afterInfo={origin:y.origin},tf(e,i.beforeInfo,n,o,g,b),tf(e,i.afterInfo,n,o,h,b);i.direction=f,i.beforeDirection=m,i.startValue=0,i.datas={},Hh(t,"rotate");var x=th(e,t,ap(ap({set:function(e){i.startValue=e*Math.PI/180}},Ph(t)),{dragStart:Kg.dragStart(e,(new wh).dragStart([0,0],t))})),w=nh(e,"onRotateStart",x);return i.isRotate=!1!==w,e.state.snapRenderInfo={request:t.isRequest},!!i.isRotate&&x},dragControl:function(e,t){var i,n,o,s,a,r,l,d,c,u=t.datas,p=t.clientX,h=t.clientY,g=t.parentRotate,f=t.parentFlag,m=t.isPinch,v=t.groupDelta,b=u.beforeDirection,y=u.beforeInfo,_=u.afterInfo,x=u.absoluteInfo,w=u.isRotate,S=u.startValue,C=u.rect;if(w){qh(t,"rotate");var k,E,A,q,T,L,M,O,R,N=b*function(e){return Fp(e.datas.beforeTransform,[50,50],100,100).direction}(t),B=e.props,I=B.throttleRotate,D=void 0===I?0:I,$=B.parentMoveable,P=180/Math.PI*S,H=x.startValue;if(!f&&"parentDist"in t){var z=t.parentDist;k=(i=nf(e,C,_,z,0,P))[0],E=i[1],A=i[2],q=(n=nf(e,C,y,z,0,P))[0],T=n[1],L=n[2],M=(o=nf(e,C,x,z,0,H))[0],O=o[1],R=o[2]}else m||f?(k=(s=of(e,C,_,g,N,P,D))[0],E=s[1],A=s[2],q=(a=of(e,C,y,g,b,P,D))[0],T=a[1],L=a[2],M=(r=of(e,C,x,g,N,H,D))[0],O=r[1],R=r[2]):(k=(l=sf(e,C,_,N,p,h,P,D))[0],E=l[1],A=l[2],q=(d=sf(e,C,y,b,p,h,P,D))[0],T=d[1],L=d[2],M=(c=sf(e,C,x,N,p,h,H,D))[0],O=c[1],R=c[2]);if(M||k||q||$){var F=Th(u,"rotate("+A+"deg)","rotate("+E+"deg)"),j=function(e,t,i,n){return Uh(e,"rotate("+t+"deg)",Wh(e),i,n)}(e,E,u.fixedPosition,u),U=ou(nu(v||[0,0],j),u.prevInverseDist||[0,0]);u.prevInverseDist=j;var W=th(e,t,ap({delta:k,dist:E,rotate:A,beforeDist:T,beforeDelta:q,beforeRotate:L,absoluteDist:O,absoluteDelta:M,absoluteRotate:R,isPinch:!!m},jh(e,F,U,m,t)));return nh(e,"onRotate",W),W}}},dragControlEnd:function(e,t){var i=t.datas,n=t.isDrag;return!!i.isRotate&&(i.isRotate=!1,nh(e,"onRotateEnd",ih(e,t,{})),n)},dragGroupControlCondition:af,dragGroupControlStart:function(e,t){var i=t.datas,n=e.state,o=n.left,s=n.top,a=n.beforeOrigin,r=this.dragControlStart(e,t);if(!r)return!1;r.set(i.beforeDirection*e.rotation);var l=kh(e,this,"dragControlStart",t,(function(e,t){var i=e.state,n=i.left,r=i.top,l=i.beforeOrigin,d=nu(ou([n,r],[o,s]),ou(l,a));return t.datas.groupClient=d,ap(ap({},t),{parentRotate:0})})),d=nh(e,"onRotateGroupStart",ap(ap({},r),{targets:e.props.targets,events:l}));return i.isRotate=!1!==d,!!i.isRotate&&r},dragGroupControl:function(e,t){var i=t.datas;if(i.isRotate){var n=this.dragControl(e,t);if(n){var o=i.beforeDirection,s=n.beforeDist,a=n.beforeDelta/180*Math.PI,r=kh(e,this,"dragControl",t,(function(e,t){var i=t.datas.groupClient,n=i[0],r=i[1],l=uu([n,r],a*o),d=l[0],c=l[1],u=[d-n,c-r];return t.datas.groupClient=[d,c],ap(ap({},t),{parentRotate:s,groupDelta:u})}));e.rotation=o*n.beforeRotate;var l=ap({targets:e.props.targets,events:r,set:function(t){e.rotation=t}},n);return nh(e,"onRotateGroup",l),l}}},dragGroupControlEnd:function(e,t){var i=t.isDrag;if(t.datas.isRotate)return this.dragControlEnd(e,t),kh(e,this,"dragControlEnd",t),nh(e,"onRotateGroupEnd",ih(e,t,{targets:e.props.targets})),i},request:function(e){var t={},i=0,n=e.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(e){return"deltaRotate"in e?i+=e.deltaRotate:"rotate"in e&&(i=e.rotate-n),{datas:t,parentDist:i}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},lf={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean},events:{onResizeStart:"resizeStart",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(e,t){var i=e.props,n=i.resizable,o=i.edge;if(n)return o?ef(e,t):Jg(e,t)},dragControlCondition:fh,dragControlStart:function(e,t){var i,n=t.inputEvent,o=t.isPinch,s=t.parentDirection,a=t.datas,r=t.parentFlag,l=s||(o?[0,0]:Zp(n.target)),d=e.state,c=d.target,u=d.width,p=d.height;if(!l||!c)return!1;!o&&Ah(e,t),a.datas={},a.direction=l,a.startOffsetWidth=u,a.startOffsetHeight=p,a.prevWidth=0,a.prevHeight=0,i=function(e){var t=oh(e);return[parseFloat(t.width),parseFloat(t.height)]}(c),a.startWidth=i[0],a.startHeight=i[1];var h=[Math.max(0,u-a.startWidth),Math.max(0,p-a.startHeight)];if(a.minSize=h,a.maxSize=[1/0,1/0],!r){var g=oh(c),f=g.position,m=g.minWidth,v=g.minHeight,b=g.maxWidth,y=g.maxHeight,_="static"===f||"relative"===f,x=_?c.parentElement:c.offsetParent,w=u,S=p;if(x&&(w=x.clientWidth,S=x.clientHeight,_)){var C=oh(x);w-=parseFloat(C.paddingLeft)||0,S-=parseFloat(C.paddingTop)||0}a.minSize=nu([Yd(m,w)||0,Yd(v,S)||0],h),a.maxSize=nu([Yd(b,w)||1/0,Yd(y,S)||1/0],h)}var k=e.props.transformOrigin||"% %";function E(e){a.ratio=e&&isFinite(e)?e:0}function A(t){a.fixedDirection=t,a.fixedPosition=Yh(e,t)}a.transformOrigin=k&&Nd(k)?k.split(" "):k,a.isWidth=!l[0]&&!l[1]||l[0]||!l[1],E(u/p),A([-l[0],-l[1]]);var q=th(e,t,{direction:l,set:function(e){var t=e[0],i=e[1];a.startWidth=t,a.startHeight=i},setMin:function(e){a.minSize=e},setMax:function(e){a.maxSize=[e[0]||1/0,e[1]||1/0]},setRatio:E,setFixedDirection:A,setOrigin:function(e){a.transformOrigin=e},dragStart:Kg.dragStart(e,(new wh).dragStart([0,0],t))});return!1!==nh(e,"onResizeStart",q)&&(a.isResize=!0,e.state.snapRenderInfo={request:t.isRequest,direction:l}),!!a.isResize&&q},dragControl:function(e,t){var i,n=t.datas,o=t.distX,s=t.distY,a=t.parentFlag,r=t.isPinch,l=t.parentDistance,d=t.parentScale,c=t.parentKeepRatio,u=t.dragClient,p=t.parentDist,h=t.isRequest,g=n.isResize,f=n.transformOrigin,m=n.fixedDirection,v=n.startWidth,b=n.startHeight,y=n.prevWidth,_=n.prevHeight,x=n.minSize,w=n.maxSize,S=n.ratio,C=n.isWidth,k=n.startOffsetWidth,E=n.startOffsetHeight;if(g){var A=e.props,q=A.throttleResize,T=void 0===q?0:q,L=A.parentMoveable,M=A.snapThreshold,O=void 0===M?5:M,R=n.direction,N=R,B=0,I=0;R[0]||R[1]||(N=[1,1]);var D=S&&(e.props.keepRatio||c),$=u;if(u||($=!a&&r?Yh(e,[0,0]):n.fixedPosition),p)B=p[0],I=p[1],D&&(B?I||(I=B/S):B=I*S);else if(d)B=(d[0]-1)*k,I=(d[1]-1)*E;else if(r)l&&(B=l,I=l*E/k);else{var P=Rh({datas:n,distX:o,distY:s});if(B=N[0]*P[0],I=N[1]*P[1],D&&k&&E){var H=Qd([0,0],P),z=Qd([0,0],N),F=jp([B,I]),j=Math.cos(H-z)*F;if(N[0])if(N[1]){var U=2*N[0]*k,W=2*N[1]*E,G=jp([U+P[0],W+P[1]])-jp([U,W]),V=Qd([0,0],[S,1]);B=Math.cos(V)*G,I=Math.sin(V)*G}else I=(B=j)*S;else B=(I=j)/S}else if(!D){var Y=rp(R);k||(P[0]<0?Y[0]=-1:P[0]>0&&(Y[0]=1)),E||(P[1]<0?Y[1]=-1:P[1]>0&&(Y[1]=1)),R=Y,B=(N=Y)[0]*P[0],I=N[1]*P[1]}}var X=N[0]||D?Math.max(k+B,vp):k,K=N[1]||D?Math.max(E+I,vp):E;D&&k&&E&&(C?K=X/S:X=K*S);var Z=[0,0];if(r||(Z=function(e,t,i,n,o,s,a){if(!Og(e,"resizable"))return[0,0];var r=e.state,l=r.allMatrix,d=r.is3d;return Fg(e,(function(e,s){return Ng(l,t+e,i+s,o,n,d)}),t,i,n,o,s,a)}(e,X,K,R,$,h,n)),p&&(!p[0]&&(Z[0]=0),!p[1]&&(Z[1]=0)),D){N[0]&&N[1]&&Z[0]&&Z[1]&&(Math.abs(Z[0])>Math.abs(Z[1])?Z[1]=0:Z[0]=0);var Q=!Z[0]&&!Z[1];Q&&(C?X=tc(X,T):K=tc(K,T)),N[0]&&!N[1]||Z[0]&&!Z[1]||Q&&C?K=(X+=Z[0])/S:(!N[0]&&N[1]||!Z[0]&&Z[1]||Q&&!C)&&(X=(K+=Z[1])*S)}else k+B<-O&&(Z[0]=0),k+I<-O&&(Z[1]=0),X+=Z[0],K+=Z[1],Z[0]||(X=tc(X,T)),Z[1]||(K=tc(K,T));X=(i=Kd([X,K],x,w,D))[0],K=i[1];var J=[(B=(X=Math.round(X))-k)-y,(I=(K=Math.round(K))-E)-_];n.prevWidth=B,n.prevHeight=I;var ee=Vh(e,X,K,m,$,f);if(L||!J.every((function(e){return!e}))||!ee.every((function(e){return!e}))){var te=th(e,t,{width:v+B,height:b+I,offsetWidth:X,offsetHeight:K,direction:R,dist:[B,I],delta:J,isPinch:!!r,drag:Kg.drag(e,xh(t,e.state,ee,!!r,!1))});return nh(e,"onResize",te),te}}},dragControlAfter:function(e,t){var i=t.datas,n=i.isResize,o=i.startOffsetWidth,s=i.startOffsetHeight,a=i.prevWidth,r=i.prevHeight;if(n){var l=e.state,d=l.width-(o+a),c=l.height-(s+r),u=Math.abs(d)>3,p=Math.abs(c)>3;return u&&(i.startWidth+=d,i.startOffsetWidth+=d,i.prevWidth+=d),p&&(i.startHeight+=c,i.startOffsetHeight+=c,i.prevHeight+=c),u||p?(this.dragControl(e,t),!0):void 0}},dragControlEnd:function(e,t){var i=t.datas,n=t.isDrag;return!!i.isResize&&(i.isResize=!1,nh(e,"onResizeEnd",ih(e,t,{})),n)},dragGroupControlCondition:fh,dragGroupControlStart:function(e,t){var i=t.datas,n=this.dragControlStart(e,t);if(!n)return!1;var o=Sh(e,"resizable",t);function s(t,n){var o=i.fixedDirection,s=i.fixedPosition,a=Yh(t,o),r=au(gu(-e.rotation/180*Math.PI,3),[a[0]-s[0],a[1]-s[1],1],3),l=r[0],d=r[1];return n.datas.originalX=l,n.datas.originalY=d,n}var a=kh(e,this,"dragControlStart",t,(function(e,t){return s(e,t)})),r=ap(ap({},n),{targets:e.props.targets,events:a,setFixedDirection:function(t){n.setFixedDirection(t),a.forEach((function(i,n){i.setFixedDirection(t),s(e.moveables[n],o[n])}))}}),l=nh(e,"onResizeGroupStart",r);return i.isResize=!1!==l,!!i.isResize&&n},dragGroupControl:function(e,t){var i=t.datas;if(i.isResize){var n=this.dragControl(e,t);if(n){var o=n.offsetWidth,s=n.offsetHeight,a=n.dist,r=e.props.keepRatio,l=[o/(o-a[0]),s/(s-a[1])],d=i.fixedPosition,c=kh(e,this,"dragControl",t,(function(t,i){var n=au(gu(e.rotation/180*Math.PI,3),[i.datas.originalX*l[0],i.datas.originalY*l[1],1],3),o=n[0],s=n[1];return ap(ap({},i),{parentDist:null,parentScale:l,dragClient:nu(d,[o,s]),parentKeepRatio:r})})),u=ap({targets:e.props.targets,events:c},n);return nh(e,"onResizeGroup",u),u}}},dragGroupControlEnd:function(e,t){var i=t.isDrag;if(t.datas.isResize)return this.dragControlEnd(e,t),kh(e,this,"dragControlEnd",t),nh(e,"onResizeGroupEnd",ih(e,t,{targets:e.props.targets})),i},request:function(e){var t={},i=0,n=0,o=e.getRect();return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(e){return"offsetWidth"in e?i=e.offsetWidth-o.offsetWidth:"deltaWidth"in e&&(i+=e.deltaWidth),"offsetHeight"in e?n=e.offsetHeight-o.offsetHeight:"deltaHeight"in e&&(n+=e.deltaHeight),{datas:t,parentDist:[i,n]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},df={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(e,t){var i=e.props,n=i.resizable,o=i.scalable,s=i.edge;if(!n&&o)return s?ef(e,t):Jg(e,t)},dragControlCondition:fh,dragControlStart:function(e,t){var i=t.datas,n=t.isPinch,o=t.inputEvent,s=t.parentDirection||(n?[0,0]:Zp(o.target)),a=e.state,r=a.width,l=a.height,d=a.targetTransform,c=a.target,u=a.pos1,p=a.pos2,h=a.pos4;if(!s||!c)return!1;n||Ah(e,t),i.datas={},i.transform=d,i.prevDist=[1,1],i.direction=s,i.width=r,i.height=l,i.startValue=[1,1];var g=ec(u,p),f=ec(p,h),m=!s[0]&&!s[1]||s[0]||!s[1];function v(e){i.ratio=e&&isFinite(e)?e:0}function b(t){i.fixedDirection=t,i.fixedPosition=Yh(e,t)}i.scaleWidth=g,i.scaleHeight=f,i.scaleXRatio=g/r,i.scaleYRatio=f/l,Hh(t,"scale"),i.isWidth=m,v(ec(u,p)/ec(p,h)),b([-s[0],-s[1]]);var y=th(e,t,ap(ap({direction:s,set:function(e){i.startValue=e},setRatio:v,setFixedDirection:b},Ph(t)),{dragStart:Kg.dragStart(e,(new wh).dragStart([0,0],t))}));return!1!==nh(e,"onScaleStart",y)&&(i.isScale=!0,e.state.snapRenderInfo={request:t.isRequest,direction:s}),!!i.isScale&&y},dragControl:function(e,t){qh(t,"scale");var i=t.datas,n=t.distX,o=t.distY,s=t.parentScale,a=t.parentDistance,r=t.parentKeepRatio,l=t.parentFlag,d=t.isPinch,c=t.dragClient,u=t.parentDist,p=t.isRequest,h=i.prevDist,g=i.direction,f=i.width,m=i.height,v=i.isScale,b=i.startValue,y=i.isWidth,_=i.ratio,x=i.fixedDirection,w=i.scaleXRatio,S=i.scaleYRatio;if(!v)return!1;var C=e.props,k=C.throttleScale,E=C.parentMoveable,A=g;g[0]||g[1]||(A=[1,1]);var q=_&&(e.props.keepRatio||r),T=e.state,L=1,M=1,O=c;if(c||(O=!l&&d?Yh(e,[0,0]):i.fixedPosition),u)L=(f+u[0])/f,M=(m+u[1])/m;else if(s)L=s[0],M=s[1];else if(d)a&&(L=(f+a)/f,M=(m+a*m/f)/m);else{var R=Rh({datas:i,distX:n,distY:o}),N=A[0]*R[0]*w,B=A[1]*R[1]*S;if(q&&f&&m)if(A[0])if(A[1]){var I=jp([N,B]),D=Qd([0,0],R),$=Qd([0,0],A),P=Math.cos(D-$)*I,H=Qd([0,0],[_,1]);N=Math.cos(H)*P,B=Math.sin(H)*P}else B=N/_;else N=B*_;L=(f+N/w)/f,M=(m+B/S)/m}L=A[0]||q?L*b[0]:b[0],M=A[1]||q?M*b[1]:b[1],0===L&&(L=(h[0]>0?1:-1)*bp),0===M&&(M=(h[1]>0?1:-1)*bp);var z=[L/b[0],M/b[1]],F=[L,M];if(!d&&e.props.groupable){var j=(T.snapRenderInfo||{}).direction;Rd(j)&&(j[0]||j[1])&&(T.snapRenderInfo={direction:g,request:t.isRequest})}var U=[0,0];if(d||(U=Ug(e,z,g,p,i)),q){A[0]&&A[1]&&U[0]&&U[1]&&(Math.abs(U[0]*f)>Math.abs(U[1]*m)?U[1]=0:U[0]=0);var W=!U[0]&&!U[1];if(W&&(y?z[0]=tc(z[0]*b[0],k)/b[0]:z[1]=tc(z[1]*b[1],k)/b[1]),A[0]&&!A[1]||U[0]&&!U[1]||W&&y){z[0]+=U[0];var G=f*z[0]*b[0]/_;z[1]=G/m/b[1]}else if(!A[0]&&A[1]||!U[0]&&U[1]||W&&!y){z[1]+=U[1];var V=m*z[1]*b[1]*_;z[0]=V/f/b[0]}}else z[0]+=U[0],z[1]+=U[1],U[0]||(z[0]=tc(z[0]*b[0],k)/b[0]),U[1]||(z[1]=tc(z[1]*b[1],k)/b[1]);0===z[0]&&(z[0]=(h[0]>0?1:-1)*bp),0===z[1]&&(z[1]=(h[1]>0?1:-1)*bp);var Y,X,K=[z[0]/h[0],z[1]/h[1]];X=b,F=[(Y=z)[0]*X[0],Y[1]*X[1]];var Z=function(e,t,i,n,o){return Uh(e,"scale("+t.join(", ")+")",i,n,o)}(e,z,x,O,i),Q=ou(Z,i.prevInverseDist||[0,0]);if(i.prevDist=z,i.prevInverseDist=Z,L===h[0]&&M===h[1]&&Q.every((function(e){return!e}))&&!E)return!1;var J=Th(i,"scale("+F.join(", ")+")","scale("+z.join(", ")+")"),ee=th(e,t,ap({offsetWidth:f,offsetHeight:m,direction:g,scale:F,dist:z,delta:K,isPinch:!!d},jh(e,J,Q,d,t)));return nh(e,"onScale",ee),ee},dragControlEnd:function(e,t){var i=t.datas,n=t.isDrag;return!!i.isScale&&(i.isScale=!1,nh(e,"onScaleEnd",ih(e,t,{})),n)},dragGroupControlCondition:fh,dragGroupControlStart:function(e,t){var i=t.datas,n=this.dragControlStart(e,t);if(!n)return!1;var o=Sh(e,"resizable",t);function s(t,n){var o=i.fixedDirection,s=i.fixedPosition,a=Yh(t,o),r=au(gu(-e.rotation/180*Math.PI,3),[a[0]-s[0],a[1]-s[1],1],3),l=r[0],d=r[1];return n.datas.originalX=l,n.datas.originalY=d,n}i.moveableScale=e.scale;var a=kh(e,this,"dragControlStart",t,(function(e,t){return s(e,t)})),r=ap(ap({},n),{targets:e.props.targets,events:a,setFixedDirection:function(t){n.setFixedDirection(t),a.forEach((function(i,n){i.setFixedDirection(t),s(e.moveables[n],o[n])}))}}),l=nh(e,"onScaleGroupStart",r);return i.isScale=!1!==l,!!i.isScale&&r},dragGroupControl:function(e,t){var i=t.datas;if(i.isScale){var n=this.dragControl(e,t);if(n){var o=i.moveableScale;e.scale=[n.scale[0]*o[0],n.scale[1]*o[1]];var s=e.props.keepRatio,a=n.dist,r=n.scale,l=i.fixedPosition,d=kh(e,this,"dragControl",t,(function(t,i){var n=au(gu(e.rotation/180*Math.PI,3),[i.datas.originalX*a[0],i.datas.originalY*a[1],1],3),o=n[0],d=n[1];return ap(ap({},i),{parentDist:null,parentScale:r,parentKeepRatio:s,dragClient:nu(l,[o,d])})})),c=ap({targets:e.props.targets,events:d},n);return nh(e,"onScaleGroup",c),c}}},dragGroupControlEnd:function(e,t){var i=t.isDrag;if(t.datas.isScale)return this.dragControlEnd(e,t),kh(e,this,"dragControlEnd",t),nh(e,"onScaleGroupEnd",ih(e,t,{targets:e.props.targets})),i},request:function(){var e={},t=0,i=0;return{isControl:!0,requestStart:function(t){return{datas:e,parentDirection:t.direction||[1,1]}},request:function(n){return t+=n.deltaWidth,i+=n.deltaHeight,{datas:e,parentDist:[t,i]}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function cf(e,t){return e.map((function(e,i){return n=e,o=t[i],(n*(a=2)+o*(s=1))/(s+a);var n,o,s,a}))}function uf(e,t,i){var n=Qd(e,t),o=Qd(e,i)-n;return o>=0?o:o+2*Math.PI}var pf={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(e,t){var i=e.props,n=i.resizable,o=i.scalable,s=i.warpable,a=i.zoom;if(n||o||!s)return[];var r=e.state,l=r.pos1,d=r.pos2,c=r.pos3,u=r.pos4,p=cf(l,d),h=cf(d,l),g=cf(l,c),f=cf(c,l),m=cf(c,u),v=cf(u,c),b=cf(d,u),y=cf(u,d);return rp([t.createElement("div",{className:kp("line"),key:"middeLine1",style:Wp(p,m,a)}),t.createElement("div",{className:kp("line"),key:"middeLine2",style:Wp(h,v,a)}),t.createElement("div",{className:kp("line"),key:"middeLine3",style:Wp(g,b,a)}),t.createElement("div",{className:kp("line"),key:"middeLine4",style:Wp(f,y,a)})],Jg(e,t))},dragControlCondition:function(e,t){return!t.isRequest&&nc(t.inputEvent.target,kp("direction"))},dragControlStart:function(e,t){var i=t.datas,n=t.inputEvent,o=e.props.target,s=Zp(n.target);if(!s||!o)return!1;var a=e.state,r=a.transformOrigin,l=a.is3d,d=a.targetTransform,c=a.targetMatrix,u=a.width,p=a.height,h=a.left,g=a.top;return i.datas={},i.targetTransform=d,i.warpTargetMatrix=l?c:eu(c,3,4),i.targetInverseMatrix=Zc(Qc(i.warpTargetMatrix,4),3,4),i.direction=s,i.left=h,i.top=g,i.poses=[[0,0],[u,0],[0,p],[u,p]].map((function(e){return ou(e,r)})),i.nextPoses=i.poses.map((function(e){var t=e[0],n=e[1];return au(i.warpTargetMatrix,[t,n,0,1],4)})),i.startValue=fu(4),i.prevMatrix=fu(4),i.absolutePoses=Jp(a),i.posIndexes=Nh(s),Ah(e,t),Hh(t,"matrix3d"),a.snapRenderInfo={request:t.isRequest,direction:s},!1!==nh(e,"onWarpStart",th(e,t,ap({set:function(e){i.startValue=e}},Ph(t))))&&(i.isWarp=!0),i.isWarp},dragControl:function(e,t){var i=t.datas,n=t.isRequest,o=t.distX,s=t.distY,a=i.targetInverseMatrix,r=i.prevMatrix,l=i.isWarp,d=i.startValue,c=i.poses,u=i.posIndexes,p=i.absolutePoses;if(!l)return!1;if(qh(t,"matrix3d"),Og(e,"warpable")){var h=u.map((function(e){return p[e]}));h.length>1&&h.push([(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]);var g=$g(e,n,h.map((function(e){return[e[0]+o,e[1]+s]}))),f=g.horizontal,m=g.vertical;s-=f.offset,o-=m.offset}var v=Rh({datas:i,distX:o,distY:s},!0),b=i.nextPoses.slice();if(u.forEach((function(e){b[e]=nu(b[e],v)})),!fp.every((function(e){return t=e.map((function(e){return c[e]})),i=e.map((function(e){return b[e]})),n=uf(t[0],t[1],t[2]),o=uf(i[0],i[1],i[2]),s=Math.PI,!(n>=s&&o<=s||n<=s&&o>=s);var t,i,n,o,s})))return!1;var y=bu(c[0],c[2],c[1],c[3],b[0],b[2],b[1],b[3]);if(!y.length)return!1;var _=Mh(i,iu(a,y,4),!0),x=iu(Qc(r,4),_,4);i.prevMatrix=_;var w=iu(d,_,4),S=Th(i,"matrix3d("+w.join(", ")+")","matrix3d("+_.join(", ")+")");return Fh(t,S),nh(e,"onWarp",th(e,t,{delta:x,matrix:w,dist:_,multiply:iu,transform:S})),!0},dragControlEnd:function(e,t){var i=t.datas,n=t.isDrag;return!!i.isWarp&&(i.isWarp=!1,nh(e,"onWarpEnd",ih(e,t,{})),n)}},hf=kp("area-pieces"),gf=kp("area-piece"),ff=kp("avoid");function mf(e){var t=e.areaElement,i=e.state,n=i.width,o=i.height;!function(e,t){if(e.classList)e.classList.remove(t);else{var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}}(t,ff),t.style.cssText+="left: 0px; top: 0px; width: "+n+"px; height: "+o+"px"}function vf(e){return e.createElement("div",{key:"area_pieces",className:hf},e.createElement("div",{className:gf}),e.createElement("div",{className:gf}),e.createElement("div",{className:gf}),e.createElement("div",{className:gf}))}var bf={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(e,t){var i=e.props,n=i.target,o=i.dragArea,s=i.groupable,a=i.passDragArea,r=e.state,l=r.width,d=r.height,c=r.renderPoses,u=a?kp("area","pass"):kp("area");if(s)return[t.createElement("div",{key:"area",ref:vd(e,"areaElement"),className:u}),vf(t)];if(!n||!o)return[];var p=bu([0,0],[l,0],[0,d],[l,d],c[0],c[1],c[2],c[3]),h=p.length?Bp(p,!0):"none";return[t.createElement("div",{key:"area",ref:vd(e,"areaElement"),className:u,style:{top:"0px",left:"0px",width:l+"px",height:d+"px",transformOrigin:"0 0",transform:h}}),vf(t)]},dragStart:function(e,t){var i=t.datas,n=t.clientX,o=t.clientY;if(!t.inputEvent)return!1;i.isDragArea=!1;var s,a,r=e.areaElement,l=e.state,d=l.moveableClientRect,c=l.renderPoses,u=l.rootMatrix,p=l.is3d,h=d.left,g=d.top,f=Hp(c),m=f.left,v=f.top,b=f.width,y=f.height,_=ch(u,[n-h,o-g],p?4:3),x=_[0],w=_[1],S=[{left:m,top:v,width:b,height:(w-=v)-10},{left:m,top:v,width:(x-=m)-10,height:y},{left:m,top:v+w+10,width:b,height:y-w-10},{left:m+x+10,top:v,width:b-x-10,height:y}],C=[].slice.call(r.nextElementSibling.children);S.forEach((function(e,t){C[t].style.cssText="left: "+e.left+"px;top: "+e.top+"px; width: "+e.width+"px; height: "+e.height+"px;"})),a=ff,(s=r).classList?s.classList.add(a):s.className+=" "+a,l.disableNativeEvent=!0},drag:function(e,t){var i=t.datas,n=t.inputEvent;if(this.enableNativeEvent(e),!n)return!1;i.isDragArea||(i.isDragArea=!0,mf(e))},dragEnd:function(e,t){this.enableNativeEvent(e);var i=t.inputEvent,n=t.datas;if(!i)return!1;n.isDragArea||mf(e)},dragGroupStart:function(e,t){return this.dragStart(e,t)},dragGroup:function(e,t){return this.drag(e,t)},dragGroupEnd:function(e,t){return this.dragEnd(e,t)},unset:function(e){mf(e),e.state.disableNativeEvent=!1},enableNativeEvent:function(e){var t=e.state;t.disableNativeEvent&&requestAnimationFrame((function(){t.disableNativeEvent=!1}))}},yf=lp("origin",{render:function(e,t){var i=e.props.zoom,n=e.state,o=n.beforeOrigin,s=n.rotation;return[t.createElement("div",{className:kp("control","origin"),style:Gp(s,i,o),key:"beforeOrigin"})]}});function _f(e){var t=e.scrollContainer;return[t.scrollLeft,t.scrollTop]}var xf={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragStart:function(e,t){var i=e.props.scrollContainer,n=void 0===i?e.getContainer():i,o=new $u,s=vh(n,!0);t.datas.dragScroll=o;var a=t.isControl?"controlGesto":"targetGesto",r=t.targets;o.on("scroll",(function(i){var n=i.container,o=i.direction,s=th(e,t,{scrollContainer:n,direction:o}),a=r?"onScrollGroup":"onScroll";r&&(s.targets=r),nh(e,a,s)})).on("move",(function(i){var n=i.offsetX,o=i.offsetY;e[a].scrollBy(n,o,t.inputEvent,!1)})),o.dragStart(t,{container:s})},checkScroll:function(e,t){var i=t.datas.dragScroll;if(i){var n=e.props,o=n.scrollContainer,s=void 0===o?e.getContainer():o,a=n.scrollThreshold,r=void 0===a?0:a,l=n.getScrollPosition,d=void 0===l?_f:l;return i.drag(t,{container:s,threshold:r,getScrollPosition:function(e){return d({scrollContainer:e.container,direction:e.direction})}}),!0}},drag:function(e,t){return this.checkScroll(e,t)},dragEnd:function(e,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(e,t){return this.dragStart(e,ap(ap({},t),{isControl:!0}))},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupStart:function(e,t){return this.dragStart(e,ap(ap({},t),{targets:e.props.targets}))},dragGroup:function(e,t){return this.drag(e,ap(ap({},t),{targets:e.props.targets}))},dragGroupEnd:function(e,t){return this.dragEnd(e,ap(ap({},t),{targets:e.props.targets}))},dragGroupControlStart:function(e,t){return this.dragStart(e,ap(ap({},t),{targets:e.props.targets,isControl:!0}))},dragGroupContro:function(e,t){return this.drag(e,ap(ap({},t),{targets:e.props.targets}))},dragGroupControEnd:function(e,t){return this.dragEnd(e,ap(ap({},t),{targets:e.props.targets}))}},wf={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,props:Object},events:{}},Sf=lp("padding",{render:function(e,t){var i=e.props;if(i.dragArea)return[];var n=i.padding||{},o=n.left,s=void 0===o?0:o,a=n.top,r=void 0===a?0:a,l=n.right,d=void 0===l?0:l,c=n.bottom,u=void 0===c?0:c,p=e.state,h=p.renderPoses,g=[p.pos1,p.pos2,p.pos3,p.pos4],f=[];return s>0&&f.push([0,2]),r>0&&f.push([0,1]),d>0&&f.push([1,3]),u>0&&f.push([2,3]),f.map((function(e,i){var n=e[0],o=e[1],s=bu([0,0],[100,0],[0,100],[100,100],g[n],g[o],h[n],h[o]);if(s.length)return t.createElement("div",{key:"padding"+i,className:kp("padding"),style:{transform:Bp(s,!0)}})}))}}),Cf=["nw","ne","se","sw"];function kf(e,t){var i=e[0]+e[1],n=i>t?t/i:1;return e[0]*=n,e[1]=t-e[1]*n,e}var Ef=[1,2,5,6],Af=[0,3,4,7],qf=[1,-1,-1,1],Tf=[1,1,-1,-1];function Lf(e,t,i,n,o,s,a,r,l){void 0===s&&(s=0),void 0===a&&(a=0),void 0===r&&(r=n),void 0===l&&(l=o);var d=[],c=!1,u=e.map((function(e,u){var p=t[u],h=p.horizontal,g=p.vertical;if(g&&!c&&(c=!0,d.push("/")),c){var f=Math.max(0,1===g?e[1]-a:l-e[1]);return d.push(hh(f,o,i)),f}f=Math.max(0,1===h?e[0]-s:r-e[0]);return d.push(hh(f,n,i)),f}));return{styles:d,raws:u}}function Mf(e){for(var t=[0,0],i=[0,0],n=e.length,o=0;o<n;++o){var s=e[o];s.sub&&(s.horizontal&&(0===t[1]&&(t[0]=o),t[1]=o-t[0]+1,i[0]=o+1),s.vertical&&(0===i[1]&&(i[0]=o),i[1]=o-i[0]+1))}return{horizontalRange:t,verticalRange:i}}function Of(e,t,i,n,o,s){var a,r,l,d;void 0===s&&(s=[0,0]);var c=e.indexOf("/"),u=(c>-1?e.slice(0,c):e).length,p=e.slice(0,u),h=e.slice(u+1),g=p[0],f=void 0===g?"0px":g,m=p[1],v=void 0===m?f:m,b=p[2],y=void 0===b?f:b,_=p[3],x=void 0===_?v:_,w=h[0],S=void 0===w?f:w,C=h[1],k=void 0===C?S:C,E=h[2],A=void 0===E?S:E,q=h[3],T=void 0===q?k:q,L=[f,v,y,x].map((function(e){return Yd(e,t)})),M=[S,k,A,T].map((function(e){return Yd(e,i)})),O=L.slice(),R=M.slice();a=kf([O[0],O[1]],t),O[0]=a[0],O[1]=a[1],r=kf([O[3],O[2]],t),O[3]=r[0],O[2]=r[1],l=kf([R[0],R[3]],i),R[0]=l[0],R[3]=l[1],d=kf([R[1],R[2]],i),R[1]=d[0],R[2]=d[1];var N=O.slice(0,Math.max(s[0],p.length)),B=R.slice(0,Math.max(s[1],h.length));return rp(N.map((function(e,t){var s=Cf[t];return{horizontal:qf[t],vertical:0,pos:[n+e,o+(-1===Tf[t]?i:0)],sub:!0,raw:L[t],direction:s}})),B.map((function(e,i){var s=Cf[i];return{horizontal:0,vertical:Tf[i],pos:[n+(-1===qf[i]?t:0),o+e],sub:!0,raw:M[i],direction:s}})))}function Rf(e,t,i,n,o){void 0===o&&(o=t.length);var s=Mf(e.slice(n)),a=s.horizontalRange,r=s.verticalRange,l=i-n,d=0;if(0===l)d=o;else if(l>0&&l<a[1])d=a[1]-l;else{if(!(l>=r[0]))return;d=r[0]+r[1]-l}e.splice(i,d),t.splice(i,d)}function Nf(e,t,i,n,o,s,a,r,l,d,c){void 0===d&&(d=0),void 0===c&&(c=0);var u=Mf(e.slice(i)),p=u.horizontalRange,h=u.verticalRange;if(n>-1)for(var g=1===qf[n]?s-d:r-s,f=p[1];f<=n;++f){var m=1===Tf[f]?c:l,v=0;if(n===f?v=s:0===f?v=d+g:-1===qf[f]&&(v=r-(t[i][0]-d)),e.splice(i+f,0,{horizontal:qf[f],vertical:0,pos:[v,m]}),t.splice(i+f,0,[v,m]),0===f)break}else if(o>-1){var b=1===Tf[o]?a-c:l-a;if(0===p[1]&&0===h[1]){var y=[d+b,c];e.push({horizontal:qf[0],vertical:0,pos:y}),t.push(y)}var _=h[0];for(f=h[1];f<=o;++f){v=1===qf[f]?d:r,m=0;if(o===f?m=a:0===f?m=c+b:1===Tf[f]?m=t[i+_][1]:-1===Tf[f]&&(m=l-(t[i+_][1]-c)),e.push({horizontal:0,vertical:Tf[f],pos:[v,m]}),t.push([v,m]),0===f)break}}}function Bf(e,t){return void 0===t&&(t=e.map((function(e){return e.raw}))),{horizontals:e.map((function(e,i){return e.horizontal?t[i]:null})).filter((function(e){return null!=e})),verticals:e.map((function(e,i){return e.vertical?t[i]:null})).filter((function(e){return null!=e}))}}var If=[[0,-1,"n"],[1,0,"e"]],Df=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function $f(e,t,i){var n=e.props.clipRelative,o=e.state,s=o.width,a=o.height,r=t,l=r.type,d=r.poses,c="rect"===l,u="circle"===l;if("polygon"===l)return i.map((function(e){return hh(e[0],s,n)+" "+hh(e[1],a,n)}));if(c||"inset"===l){var p=i[1][1],h=i[3][0],g=i[7][0],f=i[5][1];if(c)return[p,h,f,g].map((function(e){return e+"px"}));var m=[p,s-h,a-f,g].map((function(e,t){return hh(e,t%2?s:a,n)}));if(i.length>8){var v=ou(i[4],i[0]),b=v[0],y=v[1];m.push.apply(m,rp(["round"],Lf(i.slice(8),d.slice(8),n,b,y,g,p,h,f).styles))}return m}if(u||"ellipse"===l){var _=i[0],x=hh(Math.abs(i[1][1]-_[1]),u?Math.sqrt((s*s+a*a)/2):a,n);return(m=u?[x]:[hh(Math.abs(i[2][0]-_[0]),s,n),x]).push("at",hh(_[0],s,n),hh(_[1],a,n)),m}}function Pf(e,t,i,n){var o=[n,(n+t)/2,t],s=[e,(e+i)/2,i];return Df.map((function(e){var t=e[0],i=e[1],n=e[2],a=o[t+1],r=s[i+1];return{vertical:Math.abs(i),horizontal:Math.abs(t),direction:n,pos:[a,r]}}))}function Hf(e,t,i,n,o){var s,a,r,l,d,c,u,p=o;if(!p){var h=oh(e),g=h.clipPath;p="none"!==g?g:h.clip}if(p&&"none"!==p&&"auto"!==p||(p=n)){var f=zd(p),m=f.prefix,v=void 0===m?p:m,b=f.value,y=void 0===b?"":b,_="circle"===v,x=" ";if("polygon"===v)return x=",",{type:v,clipText:p,poses:M=(E=Hd(y||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(e){var n=e.split(" "),o=n[0],s=n[1];return{vertical:1,horizontal:1,pos:[Yd(o,t),Yd(s,i)]}})),splitter:x};if(_||"ellipse"===v){var w="",S="",C=0,k=0,E=Pd(y);if(_){var A;A=void 0===(s=E[0])?"50%":s,w=void 0===(a=E[2])?"50%":a,S=void 0===(r=E[3])?"50%":r,C=Yd(A,Math.sqrt((t*t+i*i)/2)),k=C}else{var q,T;q=void 0===(l=E[0])?"50%":l,T=void 0===(d=E[1])?"50%":d,w=void 0===(c=E[3])?"50%":c,S=void 0===(u=E[4])?"50%":u,C=Yd(q,t),k=Yd(T,i)}var L=[Yd(w,t),Yd(S,i)],M=rp([{vertical:1,horizontal:1,pos:L,direction:"nesw"}],If.slice(0,_?1:2).map((function(e){return{vertical:Math.abs(e[1]),horizontal:e[0],direction:e[2],sub:!0,pos:[L[0]+e[0]*C,L[1]+e[1]*k]}})));return{type:v,clipText:p,radiusX:C,radiusY:k,left:L[0]-C,top:L[1]-k,poses:M,splitter:x}}if("inset"===v){var O=(E=Pd(y||"0 0 0 0")).indexOf("round"),R=(O>-1?E.slice(0,O):E).length,N=E.slice(R+1),B=E.slice(0,R),I=B[0],D=B[1],$=void 0===D?I:D,P=B[2],H=void 0===P?I:P,z=B[3],F=void 0===z?$:z,j=[I,H].map((function(e){return Yd(e,i)})),U=j[0],W=j[1],G=[F,$].map((function(e){return Yd(e,t)})),V=G[0],Y=G[1],X=t-Y,K=i-W,Z=Of(N,X-V,K-U,V,U);return{type:"inset",clipText:p,poses:M=rp(Pf(U,X,K,V),Z),top:U,left:V,right:X,bottom:K,radius:N,splitter:x}}if("rect"===v){x=",";var Q=(E=Hd(y||"0px, "+t+"px, "+i+"px, 0px")).map((function(e){return Fd(e).value}));return{type:"rect",clipText:p,poses:M=Pf(U=Q[0],Y=Q[1],W=Q[2],V=Q[3]),top:U,right:Y,bottom:W,left:V,values:E,splitter:x}}}}var zf={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[".control.clip-control {\n    background: #6d6;\n    cursor: pointer;\n}\n.control.clip-control.clip-radius {\n    background: #d66;\n}\n.line.clip-line {\n    background: #6e6;\n    cursor: move;\n    z-index: 1;\n}\n.clip-area {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.clip-ellipse {\n    position: absolute;\n    cursor: move;\n    border: 1px solid #6d6;\n    border: var(--zoompx) solid #6d6;\n    border-radius: 50%;\n    transform-origin: 0px 0px;\n}",":host {\n    --bounds-color: #d66;\n}",".guideline {\n    pointer-events: none;\n    z-index: 2;\n}",".line.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}"],render:function(e,t){var i=e.props,n=i.customClipPath,o=i.defaultClipPath,s=i.clipArea,a=i.zoom,r=e.state,l=r.target,d=r.width,c=r.height,u=r.allMatrix,p=r.is3d,h=r.left,g=r.top,f=r.pos1,m=r.pos2,v=r.pos3,b=r.pos4,y=r.clipPathState,_=r.snapBoundInfos;if(!l)return[];var x=Hf(l,d,c,o||"inset",y||n);if(!x)return[];var w=p?4:3,S=x.type,C=x.poses.map((function(e){var t=$p(u,e.pos,w);return[t[0]-h,t[1]-g]})),k=[],E=[],A="rect"===S,q="inset"===S,T="polygon"===S;if(A||q||T){var L=q?C.slice(0,8):C;E=L.map((function(e,i){var n=0===i?L[L.length-1]:L[i-1],o=Qd(n,e),s=Up(n,e);return t.createElement("div",{key:"clipLine"+i,className:kp("line","clip-line","snap-control"),"data-clip-index":i,style:{width:s+"px",transform:"translate("+n[0]+"px, "+n[1]+"px) rotate("+o+"rad) scaleY("+a+")"}})}))}if(k=C.map((function(e,i){return t.createElement("div",{key:"clipControl"+i,className:kp("control","clip-control","snap-control"),"data-clip-index":i,style:{transform:"translate("+e[0]+"px, "+e[1]+"px) scale("+a+")"}})})),q&&k.push.apply(k,C.slice(8).map((function(e,i){return t.createElement("div",{key:"clipRadiusControl"+i,className:kp("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+i,style:{transform:"translate("+e[0]+"px, "+e[1]+"px) scale("+a+")"}})}))),"circle"===S||"ellipse"===S){var M=x.left,O=x.top,R=x.radiusX,N=x.radiusY,B=ou($p(u,[M,O],w),$p(u,[0,0],w)),I=B[0],D=B[1],$="none";if(!s){for(var P=Math.max(10,R/5,N/5),H=[],z=0;z<=P;++z){var F=2*Math.PI/P*z;H.push([R+(R-a)*Math.cos(F),N+(N-a)*Math.sin(F)])}H.push([R,-2]),H.push([-2,-2]),H.push([-2,2*N+2]),H.push([2*R+2,2*N+2]),H.push([2*R+2,-2]),H.push([R,-2]),$="polygon("+H.map((function(e){return e[0]+"px "+e[1]+"px"})).join(", ")+")"}k.push(t.createElement("div",{key:"clipEllipse",className:kp("clip-ellipse","snap-control"),style:{width:2*R+"px",height:2*N+"px",clipPath:$,transform:"translate("+(-h+I)+"px, "+(-g+D)+"px) "+Bp(u)}}))}if(s){var j=Hp(rp([f,m,v,b],C)),U=j.width,W=j.height,G=j.left,V=j.top;if(T||A||q){H=q?C.slice(0,8):C;k.push(t.createElement("div",{key:"clipArea",className:kp("clip-area","snap-control"),style:{width:U+"px",height:W+"px",transform:"translate("+G+"px, "+V+"px)",clipPath:"polygon("+H.map((function(e){return e[0]-G+"px "+(e[1]-V)+"px"})).join(", ")+")"}}))}}return _&&["vertical","horizontal"].forEach((function(e){var i=_[e],n="horizontal"===e;i.isSnap&&E.push.apply(E,i.snap.posInfos.map((function(i,o){var s=i.pos,r=ou($p(u,n?[0,s]:[s,0],w),[h,g]),l=ou($p(u,n?[d,s]:[s,c],w),[h,g]);return Qg(t,"",r,l,a,"clip"+e+"snap"+o,"guideline")}))),i.isBound&&E.push.apply(E,i.bounds.map((function(i,o){var s=i.pos,r=ou($p(u,n?[0,s]:[s,0],w),[h,g]),l=ou($p(u,n?[d,s]:[s,c],w),[h,g]);return Qg(t,"",r,l,a,"clip"+e+"bounds"+o,"guideline","bounds","bold")})))})),rp(k,E)},dragControlCondition:function(e,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(e,t){var i=e.props.dragWithClip;return!(void 0===i||i)&&this.dragControlStart(e,t)},drag:function(e,t){return this.dragControl(e,t)},dragEnd:function(e,t){return this.dragControlEnd(e,t)},dragControlStart:function(e,t){var i=e.state,n=e.props,o=n.defaultClipPath,s=n.customClipPath,a=i.target,r=i.width,l=i.height,d=t.inputEvent?t.inputEvent.target:null,c=d?d.getAttribute("class"):"",u=t.datas,p=Hf(a,r,l,o||"inset",s);if(!p)return!1;var h=p.clipText;return!1===nh(e,"onClipStart",th(e,t,{clipType:p.type,clipStyle:h,poses:p.poses.map((function(e){return e.pos}))}))?(u.isClipStart=!1,!1):(u.isControl=c.indexOf("clip-control")>-1,u.isLine=c.indexOf("clip-line")>-1,u.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,u.index=d?parseInt(d.getAttribute("data-clip-index"),10):-1,u.clipPath=p,u.isClipStart=!0,i.clipPathState=h,Ah(e,t),!0)},dragControl:function(e,t){var i=t.datas,n=t.originalDatas;if(!i.isClipStart)return!1;var o=n&&n.draggable||{},s=i,a=s.isControl,r=s.isLine,l=s.isArea,d=s.index,c=s.clipPath;if(!c)return!1;var u=o.isDrag?o.prevDist:Rh(t),p=u[0],h=u[1],g=e.props,f=e.state,m=f.width,v=f.height,b=!l&&!a&&!r,y=c.type,_=c.poses,x=c.splitter,w=_.map((function(e){return e.pos}));b&&(p=-p,h=-h);var S=!a||"nesw"===_[d].direction,C="inset"===y||"rect"===y,k=_.map((function(){return[0,0]}));if(a&&!S){var E=_[d],A=E.horizontal,q=E.vertical,T=[p*Math.abs(A),h*Math.abs(q)];k=function(e,t,i,n){var o=e[t],s=o.direction,a=o.sub,r=e.map((function(){return[0,0]})),l=s?s.split(""):[];if(n&&t<8){var d=l.filter((function(e){return"w"===e||"e"===e}))[0],c=l.filter((function(e){return"n"===e||"s"===e}))[0];r[t]=i,e.forEach((function(e,t){var n=e.direction;n&&(n.indexOf(d)>-1&&(r[t][0]=i[0]),n.indexOf(c)>-1&&(r[t][1]=i[1]))})),d&&(r[1][0]=i[0]/2,r[5][0]=i[0]/2),c&&(r[3][1]=i[1]/2,r[7][1]=i[1]/2)}else s&&!a?l.forEach((function(t){var n="n"===t||"s"===t;e.forEach((function(e,o){var s=e.direction,a=e.horizontal,l=e.vertical;s&&-1!==s.indexOf(t)&&(r[o]=[n||!a?0:i[0],n&&l?i[1]:0])}))})):r[t]=i;return r}(_,d,T,C)}else S&&(k=w.map((function(){return[p,h]})));var L=w.map((function(e,t){return nu(e,k[t])})),M=rp(L);f.snapBoundInfos=null;var O="circle"===c.type,R="ellipse"===c.type;if(O||R){var N=Hp(L),B=Math.abs(N.bottom-N.top),I=Math.abs(R?N.right-N.left:B),D=L[0][1]+B,$=L[0][0]-I,P=L[0][0]+I;O&&(M.push([P,N.bottom]),k.push([1,0])),M.push([N.left,D]),k.push([0,1]),M.push([$,N.bottom]),k.push([1,0])}var H=Zh((g.clipHorizontalGuidelines||[]).map((function(e){return Yd(""+e,v)})),(g.clipVerticalGuidelines||[]).map((function(e){return Yd(""+e,m)})),m,v),z=[],F=[];if(O||R)z=[M[4][0],M[2][0]],F=[M[1][1],M[3][1]];else if(C){var j=[M[0],M[2],M[4],M[6]],U=[k[0],k[2],k[4],k[6]];z=j.filter((function(e,t){return U[t][0]})).map((function(e){return e[0]})),F=j.filter((function(e,t){return U[t][1]})).map((function(e){return e[1]}))}else z=M.filter((function(e,t){return k[t][0]})).map((function(e){return e[0]})),F=M.filter((function(e,t){return k[t][1]})).map((function(e){return e[1]}));for(var W=function(e){var t=Pg(H,g.clipTargetBounds&&{left:0,top:0,right:m,bottom:v},z,F,{snapThreshold:5}),i=t.horizontal,n=t.vertical,o=i.offset,s=n.offset;if(!R&&!O||0!==k[0][0]||0!==k[0][1])return M.forEach((function(e,t){var i=k[t];i[0]&&(e[0]-=s),i[1]&&(e[1]-=o)})),"break";var a=Hp(L),r=a.bottom-a.top,l=R?a.right-a.left:r;l-=n.isBound?Math.abs(s):0===n.snapIndex?-s:s,r-=i.isBound?Math.abs(o):0===i.snapIndex?-o:o,O&&(l=r=ag(n,i)>0?r:l);var d=M[0];M[1][1]=d[1]-r,M[2][0]=d[0]+l,M[3][1]=d[1]+r,M[4][0]=d[0]-l},G=0;G<2;++G){if("break"===W())break}var V=$f(e,c,L),Y=y+"("+V.join(x)+")";if(f.clipPathState=Y,O||R)z=[M[4][0],M[2][0]],F=[M[1][1],M[3][1]];else if(C){j=[M[0],M[2],M[4],M[6]];z=j.map((function(e){return e[0]})),F=j.map((function(e){return e[1]}))}else z=M.map((function(e){return e[0]})),F=M.map((function(e){return e[1]}));return f.snapBoundInfos=Pg(H,g.clipTargetBounds&&{left:0,top:0,right:m,bottom:v},z,F,{snapThreshold:1}),nh(e,"onClip",th(e,t,{clipEventType:"changed",clipType:y,poses:L,clipStyle:Y,clipStyles:V,distX:p,distY:h})),!0},dragControlEnd:function(e,t){this.unset(e);var i=t.isDrag,n=t.datas,o=t.isDouble,s=n.isLine,a=n.isClipStart,r=n.isControl;return!!a&&(nh(e,"onClipEnd",ih(e,t,{})),o&&(r?function(e,t){var i=t.datas,n=i.clipPath,o=i.index,s=n,a=s.type,r=s.poses,l=s.splitter,d=r.map((function(e){return e.pos})),c=d.length;if("polygon"===a)r.splice(o,1),d.splice(o,1);else{if("inset"!==a)return;if(o<8)return;if(Rf(r,d,o,8,c),c===r.length)return}var u=$f(e,n,d);nh(e,"onClip",th(e,t,{clipEventType:"removed",clipType:a,poses:d,clipStyles:u,clipStyle:a+"("+u.join(l)+")",distX:0,distY:0}))}(e,t):s&&function(e,t){var i=Eh(e,t),n=i[0],o=i[1],s=t.datas,a=s.clipPath,r=s.index,l=a,d=l.type,c=l.poses,u=l.splitter,p=c.map((function(e){return e.pos}));if("polygon"===d)p.splice(r,0,[n,o]);else{if("inset"!==d)return;var h=Ef.indexOf(r),g=Af.indexOf(r),f=c.length;if(Nf(c,p,8,h,g,n,o,p[4][0],p[4][1],p[0][0],p[0][1]),f===c.length)return}var m=$f(e,a,p);nh(e,"onClip",th(e,t,{clipEventType:"added",clipType:d,poses:p,clipStyles:m,clipStyle:d+"("+m.join(u)+")",distX:0,distY:0}))}(e,t)),o||i)},unset:function(e){e.state.clipPathState="",e.state.snapBoundInfos=null}},Ff={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[":host[data-able-origindraggable] .control.origin {\n    pointer-events: auto;\n}"],dragControlCondition:function(e,t){return t.isRequest?"originDraggable"===t.requestAble:nc(t.inputEvent.target,kp("origin"))},dragControlStart:function(e,t){var i=t.datas;Ah(e,t);var n=th(e,t,{dragStart:Kg.dragStart(e,(new wh).dragStart([0,0],t))}),o=nh(e,"onDragOriginStart",n);return i.startOrigin=e.state.transformOrigin,i.startTargetOrigin=e.state.targetOrigin,i.prevOrigin=[0,0],i.isDragOrigin=!0,!1===o?(i.isDragOrigin=!1,!1):n},dragControl:function(e,t){var i=t.datas,n=t.isPinch,o=t.isRequest;if(!i.isDragOrigin)return!1;var s=Rh(t),a=s[0],r=s[1],l=e.state,d=l.width,c=l.height,u=l.offsetMatrix,p=l.targetMatrix,h=l.is3d,g=e.props.originRelative,f=void 0===g||g,m=h?4:3,v=[a,r];if(o){var b=t.distOrigin;(b[0]||b[1])&&(v=b)}var y=nu(i.startOrigin,v),_=nu(i.startTargetOrigin,v),x=ou(v,i.prevOrigin),w=Dh(u,p,y,m),S=e.getRect(),C=Hp(Pp(w,d,c,m)),k=[S.left-C.left,S.top-C.top];i.prevOrigin=v;var E=th(e,t,{width:d,height:c,origin:y,dist:v,delta:x,transformOrigin:[hh(_[0],d,f),hh(_[1],c,f)].join(" "),drag:Kg.drag(e,xh(t,e.state,k,!!n,!1))});return nh(e,"onDragOrigin",E),E},dragControlEnd:function(e,t){return!!t.datas.isDragOrigin&&(nh(e,"onDragOriginEnd",ih(e,t,{})),!0)},dragGroupControlCondition:function(e,t){return this.dragControlCondition(e,t)},dragGroupControlStart:function(e,t){return!!this.dragControlStart(e,t)},dragGroupControl:function(e,t){var i=this.dragControl(e,t);return!!i&&(e.transformOrigin=i.transformOrigin,!0)},request:function(e){var t={},i=e.getRect(),n=0,o=0,s=i.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(e){return"deltaOrigin"in e?(a[0]+=e.deltaOrigin[0],a[1]+=e.deltaOrigin[1]):"origin"in e?(a[0]=e.origin[0]-s[0],a[1]=e.origin[1]-s[1]):("x"in e?n=e.x-i.left:"deltaX"in e&&(n+=e.deltaX),"y"in e?o=e.y-i.top:"deltaY"in e&&(o+=e.deltaY)),{datas:t,distX:n,distY:o,distOrigin:a}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function jf(e,t,i,n,o){var s;void 0===n&&(n=[0,0]);if(o)s=o;else{var a=oh(e);s=a&&a.borderRadius||""}return Of(!s||!o&&"0px"===s?[]:Pd(s),t,i,0,0,n)}function Uf(e,t,i,n,o,s){var a=e.state,r=a.width,l=a.height,d=Lf(s,o,e.props.roundRelative,r,l),c=d.raws,u=d.styles,p=Bf(o,c),h=p.horizontals,g=p.verticals,f=u.join(" ");a.borderRadiusState=f,nh(e,"onRound",th(e,t,{horizontals:h,verticals:g,borderRadius:f,width:r,height:l,delta:n,dist:i}))}var Wf={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[".control.border-radius {\n    background: #d66;\n    cursor: pointer;\n}",":host[data-able-roundable] .line.direction {\n    cursor: pointer;\n}"],render:function(e,t){var i=e.state,n=i.target,o=i.width,s=i.height,a=i.allMatrix,r=i.is3d,l=i.left,d=i.top,c=i.borderRadiusState,u=e.props,p=u.minRoundControls,h=void 0===p?[0,0]:p,g=u.maxRoundControls,f=void 0===g?[4,4]:g,m=u.zoom;if(!n)return null;var v=r?4:3,b=jf(n,o,s,h,c);if(!b)return null;var y=0,_=0;return b.map((function(e,i){_+=Math.abs(e.horizontal),y+=Math.abs(e.vertical);var n=ou($p(a,e.pos,v),[l,d]),o=e.vertical?y<=f[1]:_<=f[0];return t.createElement("div",{key:"borderRadiusControl"+i,className:kp("control","border-radius"),"data-radius-index":i,style:{display:o?"block":"none",transform:"translate("+n[0]+"px, "+n[1]+"px) scale("+m+")"}})}))},dragControlCondition:function(e,t){if(!t.inputEvent||t.isRequest)return!1;var i=t.inputEvent.target.getAttribute("class")||"";return i.indexOf("border-radius")>-1||i.indexOf("moveable-line")>-1&&i.indexOf("moveable-direction")>-1},dragControlStart:function(e,t){var i=t.inputEvent,n=t.datas,o=i.target,s=o.getAttribute("class")||"",a=s.indexOf("border-radius")>-1,r=s.indexOf("moveable-line")>-1&&s.indexOf("moveable-direction")>-1,l=a?parseInt(o.getAttribute("data-radius-index"),10):-1,d=r?parseInt(o.getAttribute("data-line-index"),10):-1;if(!a&&!r)return!1;if(!1===nh(e,"onRoundStart",th(e,t,{})))return!1;n.lineIndex=d,n.controlIndex=l,n.isControl=a,n.isLine=r,Ah(e,t);var c=e.props,u=c.roundRelative,p=c.minRoundControls,h=void 0===p?[0,0]:p,g=e.state,f=g.target,m=g.width,v=g.height;n.isRound=!0,n.prevDist=[0,0];var b=jf(f,m,v,h)||[];return n.controlPoses=b,g.borderRadiusState=Lf(b.map((function(e){return e.pos})),b,u,m,v).styles.join(" "),!0},dragControl:function(e,t){var i=t.datas;if(!i.isRound||!i.isControl||!i.controlPoses.length)return!1;var n=i.controlIndex,o=i.controlPoses,s=Rh(t),a=s[0],r=s[1],l=[a,r],d=ou(l,i.prevDist),c=e.props.maxRoundControls,u=void 0===c?[4,4]:c,p=e.state,h=p.width,g=p.height,f=o[n],m=f.vertical,v=f.horizontal,b=o.map((function(e){var t=e.horizontal,i=e.vertical,n=[t*v*l[0],i*m*l[1]];if(t){if(1===u[0])return n;if(u[0]<4&&t!==v)return n}else{if(0===u[1])return n[1]=i*v*l[0]/h*g,n;if(m){if(1===u[1])return n;if(u[1]<4&&i!==m)return n}}return[0,0]}));b[n]=l;var y=o.map((function(e,t){return nu(e.pos,b[t])}));return i.prevDist=[a,r],Uf(e,t,l,d,o,y),!0},dragControlEnd:function(e,t){var i=e.state;i.borderRadiusState="";var n=t.datas,o=t.isDouble;if(!n.isRound)return!1;var s=i.width,a=i.height,r=n.isControl,l=n.controlIndex,d=n.isLine,c=n.lineIndex,u=n.controlPoses,p=u.map((function(e){return e.pos})),h=p.length,g=e.props.roundClickable;if(o&&(void 0===g||g)){if(r)Rf(u,p,l,0);else if(d){var f=Eh(e,t);!function(e,t,i,n,o,s,a){var r=Bf(e),l=r.horizontals,d=r.verticals,c=l.length,u=d.length,p=-1,h=-1;0===i?0===c?p=0:1===c&&(p=1):3===i&&(c<=2?p=2:c<=3&&(p=3)),2===i?0===u?h=0:u<4&&(h=3):1===i&&(u<=1?h=1:u<=2&&(h=2)),Nf(e,t,0,p,h,n,o,s,a)}(u,p,c,f[0],f[1],s,a)}h!==u.length&&Uf(e,t,[0,0],[0,0],u,p)}return nh(e,"onRoundEnd",ih(e,t,{})),i.borderRadiusState="",!0},unset:function(e){e.state.borderRadiusState=""}},Gf={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},setTransform:function(e,t){var i=e.state,n=i.is3d,o=i.target,s=i.targetMatrix,a=null==o?void 0:o.style.transform,r=n?"matrix3d("+s.join(",")+")":"matrix("+su(s,!0)+")";t.datas.startTransforms=a&&"none"!==a?Pd(a):[r]},resetTransform:function(e,t){t.datas.nextTransforms=t.datas.startTransforms,t.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(e,t){return th(e,t,{setTransform:function(e){t.datas.startTransforms=Rd(e)?e:Pd(e)},isPinch:!!t.isPinch})},fillDragParams:function(e,t){return th(e,t,{isPinch:!!t.isPinch})},dragStart:function(e,t){this.setTransform(e,t),nh(e,"onBeforeRenderStart",this.fillDragStartParams(e,t))},drag:function(e,t){this.resetTransform(e,t),nh(e,"onBeforeRender",th(e,t,{isPinch:!!t.isPinch}))},dragEnd:function(e,t){nh(e,"onBeforeRenderEnd",th(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(e,t){var i=this;this.dragStart(e,t);var n=Sh(e,"beforeRenderable",t),o=e.moveables,s=n.map((function(e,t){var n=o[t];return i.setTransform(n,e),i.fillDragStartParams(n,e)}));nh(e,"onBeforeRenderGroupStart",th(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,setTransform:function(){},events:s}))},dragGroup:function(e,t){var i=this;this.drag(e,t);var n=Sh(e,"beforeRenderable",t),o=e.moveables,s=n.map((function(e,t){var n=o[t];return i.resetTransform(n,e),i.fillDragParams(n,e)}));nh(e,"onBeforeRenderGroup",th(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,events:s}))},dragGroupEnd:function(e,t){this.dragEnd(e,t),nh(e,"onBeforeRenderGroupEnd",th(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets}))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)}},Vf={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragStart:function(e,t){nh(e,"onRenderStart",th(e,t,{isPinch:!!t.isPinch}))},drag:function(e,t){nh(e,"onRender",th(e,t,{isPinch:!!t.isPinch}))},dragEnd:function(e,t){nh(e,"onRenderEnd",th(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(e,t){nh(e,"onRenderGroupStart",th(e,t,{isPinch:!!t.isPinch,targets:e.props.targets}))},dragGroup:function(e,t){nh(e,"onRenderGroup",th(e,t,{isPinch:!!t.isPinch,targets:e.props.targets}))},dragGroupEnd:function(e,t){nh(e,"onRenderGroupEnd",th(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets}))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)}};function Yf(e,t,i,n,o,s,a){var r="Start"===o,l=e.state.target,d=s.isRequest;if(!l||r&&n.indexOf("Control")>-1&&!d&&e.areaElement===s.inputEvent.target)return!1;var c=""+i+n+o,u=""+i+n+"Condition",p="End"===o,h=o.indexOf("After")>-1,g=r&&(!e.targetGesto||!e.controlGesto||!e.targetGesto.isFlag()||!e.controlGesto.isFlag());g&&e.updateRect(o,!0,!1),""!==o||h||d||uh(e.state,s);var f=rp([Gf],e[t].slice(),[Vf]);if(d){var m=s.requestAble;f.some((function(e){return e.name===m}))||f.push.apply(f,e.props.ables.filter((function(e){return e.name===m})))}if(!f.length)return!1;var v=f.filter((function(e){return e[c]})),b=s.datas;g&&v.forEach((function(t){t.unset&&t.unset(e)}));var y,_=s.inputEvent;p&&_&&(y=document.elementFromPoint(s.clientX,s.clientY)||_.target);var x=v.filter((function(t){var i=t.name,n=b[i]||(b[i]={});return r&&(n.isEventStart=!t[u]||t[u](e,s)),!!n.isEventStart&&t[c](e,ap(ap({},s),{datas:n,originalDatas:b,inputTarget:y}))})).length,w=r&&v.length&&!x;return(p||w)&&(e.state.gesto=null,e.moveables&&e.moveables.forEach((function(e){e.state.gesto=null}))),g&&w&&v.forEach((function(t){t.unset&&t.unset(e)})),!e.isUnmounted&&!w&&((!r&&x&&!a||p)&&(e.updateRect(o,!0,!1),e.forceUpdate()),r||p||h||!x||a||Yf(e,t,i,n,o+"After",s),!0)}function Xf(e,t,i){var n=e.controlBox.getElement(),o=[];o.push(n),e.props.dragArea&&!e.props.dragTarget||o.push(t);var s=function(t){var i=t.inputEvent.target;return i===e.areaElement||!e.isMoveableElement(i)||nc(i,"moveable-area")||nc(i,"moveable-padding")};return Kf(e,o,"targetAbles",i,{dragStart:s,pinchStart:s})}function Kf(e,t,i,n,o){void 0===o&&(o={});var s=e.props,a=s.pinchOutside,r=s.pinchThreshold,l={container:window,pinchThreshold:r,pinchOutside:a},d=new Xu(t,l);return["drag","pinch"].forEach((function(t){["Start","","End"].forEach((function(s){d.on(""+t+s,(function(a){var r=a.eventType;!o[r]||o[r](a)?Yf(e,i,t,n,s,a)||a.stop():a.stop()}))}))})),d}var Zf=function(){function e(e,t,i){var n=this;this.target=e,this.moveable=t,this.eventName=i,this.ables=[],this.onEvent=function(e){var t=n.eventName,i=n.moveable;i.state.disableNativeEvent||n.ables.forEach((function(n){n[t](i,{inputEvent:e})}))},this.target.addEventListener(this.eventName.toLowerCase(),this.onEvent)}var t=e.prototype;return t.setAbles=function(e){this.ables=e},t.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this.onEvent),this.target=null,this.moveable=null},e}(),Qf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=ap({container:null,target:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},Xp(null)),t.enabledAbles=[],t.targetAbles=[],t.controlAbles=[],t.rotation=0,t.scale=[1,1],t.isUnmounted=!1,t.events={mouseEnter:null,mouseLeave:null},t.onPreventClick=function(e){e.stopPropagation(),sc(window,"click",t.onPreventClick,!0)},t}sp(t,e);var i=t.prototype;return i.render=function(){var e=this.props,t=this.state,i=e.edge,n=e.parentPosition,o=e.className,s=e.target,a=e.zoom,r=e.cspNonce,l=e.translateZ,d=e.cssStyled,c=e.portalContainer;this.checkUpdate(),this.updateRenderPoses();var u=n||{left:0,top:0},p=u.left,h=u.top,g=t.left,f=t.top,m=t.target,v=t.direction,b=t.renderPoses,y=e.targets,_=(y&&y.length||s)&&m,x=this.isDragging(),w={},S={createElement:bc};return this.getEnabledAbles().forEach((function(e){w["data-able-"+e.name.toLowerCase()]=!0})),bc(d,ap({cspNonce:r,ref:vd(this,"controlBox"),className:kp("control-box",-1===v?"reverse":"",x?"dragging":"")+" "+o},w,{onClick:this.onPreventClick,portalContainer:c,style:{position:"absolute",display:_?"block":"none",transform:"translate3d("+(g-p)+"px, "+(f-h)+"px, "+l+")","--zoom":a,"--zoompx":a+"px"}}),this.renderAbles(),Qg(S,i?"n":"",b[0],b[1],a,0),Qg(S,i?"e":"",b[1],b[3],a,1),Qg(S,i?"w":"",b[0],b[2],a,2),Qg(S,i?"s":"",b[2],b[3],a,3))},i.componentDidMount=function(){this.controlBox.getElement();var e=this.props,t=e.parentMoveable,i=e.container,n=e.wrapperMoveable;this.updateEvent(e),this.updateNativeEvents(e),i||t||n||this.updateRect("",!1,!0),this.updateCheckInput()},i.componentDidUpdate=function(e){this.updateNativeEvents(e),this.updateEvent(e),this.updateCheckInput()},i.componentWillUnmount=function(){this.isUnmounted=!0,eh(this,"targetGesto"),eh(this,"controlGesto");var e=this.events;for(var t in e){var i=e[t];i&&i.destroy()}},i.getContainer=function(){var e=this.props,t=e.parentMoveable,i=e.wrapperMoveable;return e.container||i&&i.getContainer()||t&&t.getContainer()||this.controlBox.getElement().parentElement},i.isMoveableElement=function(e){return e&&(e.getAttribute("class")||"").indexOf(hp)>-1},i.dragStart=function(e){return this.targetGesto&&this.targetGesto.triggerDragStart(e),this},i.hitTest=function(e){var t,i=this.state,n=i.target,o=i.pos1,s=i.pos2,a=i.pos3,r=i.pos4,l=i.targetClientRect;if(!n)return 0;if(e instanceof Element){var d=e.getBoundingClientRect();t={left:d.left,top:d.top,width:d.width,height:d.height}}else t=ap({width:0,height:0},e);var c=t.left,u=t.top,p=t.width,h=t.height,g=wu([o,s,r,a],l),f=Tu(g,[[c,u],[c+p,u],[c+p,u+h],[c,u+h]]),m=xu(g);return f&&m?Math.min(100,f/m*100):0},i.isInside=function(e,t){var i=this.state,n=i.target,o=i.pos1,s=i.pos2,a=i.pos3,r=i.pos4,l=i.targetClientRect;return!!n&&Cu([e,t],wu([o,s,r,a],l))},i.updateRect=function(e,t,i){void 0===i&&(i=!0);var n=this.props,o=n.parentMoveable,s=this.state.target||this.props.target,a=this.getContainer(),r=o?o.props.rootContainer:n.rootContainer;this.updateState(Xp(this.controlBox&&this.controlBox.getElement(),s,a,a,r||a),!o&&i)},i.isTargetChanged=function(e,t){var i=this.props,n=i.dragTarget||i.target,o=e.dragTarget||e.target,s=i.dragArea,a=e.dragArea;return!s&&o!==n||(t||s)&&a!==s},i.updateNativeEvents=function(e){var t=this,i=this.props.dragArea?this.areaElement:this.state.target,n=this.events,o=Vd(n);if(this.isTargetChanged(e))for(var s in n){var a=n[s];a&&a.destroy(),n[s]=null}if(i){var r=this.enabledAbles;o.forEach((function(e){var o=sh(r,[e]),s=o.length>0,a=n[e];s?(a||(a=new Zf(i,t,e),n[e]=a),a.setAbles(o)):a&&(a.destroy(),n[e]=null)}))}},i.updateEvent=function(e){var t=this.controlBox.getElement(),i=this.targetAbles.length,n=this.controlAbles.length,o=this.props,s=o.dragTarget||o.target,a=this.isTargetChanged(e,!0),r=!i&&this.targetGesto||a;r&&(eh(this,"targetGesto"),this.updateState({gesto:null})),n||eh(this,"controlGesto"),s&&i&&!this.targetGesto&&(this.targetGesto=Xf(this,s,"")),!this.controlGesto&&n&&(this.controlGesto=Kf(this,t,"controlAbles","Control")),r&&this.unsetAbles()},i.isDragging=function(){return!!this.targetGesto&&this.targetGesto.isFlag()||!!this.controlGesto&&this.controlGesto.isFlag()},i.updateTarget=function(e){this.updateRect(e,!0)},i.getRect=function(){var e=this.state,t=Jp(this.state),i=t[0],n=t[1],o=t[2],s=t[3],a=Hp(t),r=e.width,l=e.height,d=a.width,c=a.height,u=a.left,p=a.top,h=[e.left,e.top],g=nu(h,e.origin);return{width:d,height:c,left:u,top:p,pos1:i,pos2:n,pos3:o,pos4:s,offsetWidth:r,offsetHeight:l,beforeOrigin:nu(h,e.beforeOrigin),origin:g,transformOrigin:e.transformOrigin,rotation:this.getRotation()}},i.getManager=function(){return this},i.getRotation=function(){var e=this.state;return function(e,t,i){var n=Qd(e,t)/Math.PI*180;return(n=i>=0?n:180-n)>=0?n:360+n}(e.pos1,e.pos2,e.direction)},i.request=function(e,t,i){void 0===t&&(t={});var n=this.props,o=n.ables,s=n.groupable,a=o.filter((function(t){return t.name===e}))[0];if(this.isDragging()||!a||!a.request)return{request:function(){return this},requestEnd:function(){return this}};var r=this,l=a.request(this),d=i||t.isInstant,c=l.isControl?"controlAbles":"targetAbles",u=(s?"Group":"")+(l.isControl?"Control":""),p={request:function(t){return Yf(r,c,"drag",u,"",ap(ap({},l.request(t)),{requestAble:e,isRequest:!0}),d),this},requestEnd:function(){return Yf(r,c,"drag",u,"End",ap(ap({},l.requestEnd()),{requestAble:e,isRequest:!0}),d),this}};return Yf(r,c,"drag",u,"Start",ap(ap({},l.requestStart(t)),{requestAble:e,isRequest:!0}),d),d?p.request(t).requestEnd():p},i.destroy=function(){this.componentWillUnmount()},i.updateRenderPoses=function(){var e=this.state,t=this.props,i=e.originalBeforeOrigin,n=e.transformOrigin,o=e.allMatrix,s=e.is3d,a=e.pos1,r=e.pos2,l=e.pos3,d=e.pos4,c=e.left,u=e.top,p=t.padding||{},h=p.left,g=void 0===h?0:h,f=p.top,m=void 0===f?0:f,v=p.bottom,b=void 0===v?0:v,y=p.right,_=void 0===y?0:y,x=s?4:3,w=t.groupable?i:nu(i,[c,u]);e.renderPoses=[nu(a,ph(o,[-g,-m],n,w,x)),nu(r,ph(o,[_,-m],n,w,x)),nu(l,ph(o,[-g,b],n,w,x)),nu(d,ph(o,[_,b],n,w,x))]},i.checkUpdate=function(){var e=this.props,t=e.target,i=e.container,n=e.parentMoveable,o=this.state,s=o.target,a=o.container;(s||t)&&(this.updateAbles(),(!ah(s,t)||!ah(a,i))&&(this.updateState({target:t,container:i}),n||!i&&!this.controlBox||this.updateRect("End",!1,!1)))},i.triggerEvent=function(e,t){var i=this.props[e];return i&&i(t)},i.useCSS=function(e,t){var i=this.props.customStyledMap,n=e+t;return i[n]||(i[n]=np(e,t)),i[n]},i.unsetAbles=function(){var e=this;this.targetAbles.filter((function(t){return!!t.unset&&(t.unset(e),!0)})).length&&this.forceUpdate()},i.updateAbles=function(e,t){void 0===e&&(e=this.props.ables),void 0===t&&(t="");var i=this.props,n=i.triggerAblesSimultaneously,o=e.filter((function(e){return e&&(e.always||i[e.name])})),s="drag"+t+"ControlStart",a=sh(o,["drag"+t+"Start","pinch"+t+"Start"],n),r=sh(o,[s],n);this.enabledAbles=o,this.targetAbles=a,this.controlAbles=r},i.updateState=function(e,t){if(t)this.setState(e);else{var i=this.state;for(var n in e)i[n]=e[n]}},i.getEnabledAbles=function(){var e=this.props;return e.ables.filter((function(t){return t&&e[t.name]}))},i.renderAbles=function(){var e,t,i,n,o=this,s=this.props.triggerAblesSimultaneously,a={createElement:bc};return(e=lh(sh(this.getEnabledAbles(),["render"],s).map((function(e){return(0,e.render)(o,a)||[]}))).filter((function(e){return e})),t=function(e){return e.key},i=[],n={},e.forEach((function(o,s){var a=t(o,s,e),r=n[a];r||(r=[],n[a]=r,i.push(r)),r.push(o)})),i).map((function(e){return e[0]}))},i.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},t.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{}},t}(Tc),Jf={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(e,t){var i=e.props.targets||[];e.moveables=[];var n=e.state,o={left:n.left,top:n.top};return i.map((function(i,n){return t.createElement(Qf,{key:"moveable"+n,ref:bd(e,"moveables",n),target:i,origin:!1,cssStyled:e.props.cssStyled,customStyledMap:e.props.customStyledMap,parentMoveable:e,parentPosition:o})}))}},em=lp("clickable",{props:{},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragStart:function(e,t){t.isRequest||oc(window,"click",e.onPreventClick,!0)},dragControlStart:function(e,t){this.dragStart(e,t)},dragGroupStart:function(e,t){this.dragStart(e,t),t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(e,t){this.endEvent(e);var i=e.state.target,n=t.inputEvent,o=t.inputTarget;if(n&&o&&!t.isDrag&&!e.isMoveableElement(o)){var s=i.contains(o);nh(e,"onClick",th(e,t,{isDouble:t.isDouble,inputTarget:o,isTarget:i===o,containsTarget:s}))}},dragGroupEnd:function(e,t){this.endEvent(e);var i=t.inputEvent,n=t.inputTarget;if(i&&n&&!t.isDrag&&!e.isMoveableElement(n)&&t.datas.inputTarget!==n){var o=e.props.targets,s=o.indexOf(n),a=s>-1,r=!1;-1===s&&(r=(s=Wd(o,(function(e){return e.contains(n)})))>-1),nh(e,"onClickGroup",th(e,t,{isDouble:t.isDouble,targets:o,inputTarget:n,targetIndex:s,isTarget:a,containsTarget:r}))}},dragControlEnd:function(e){this.endEvent(e)},dragGroupControlEnd:function(e){this.endEvent(e)},endEvent:function(e){var t=this;requestAnimationFrame((function(){t.unset(e)}))},unset:function(e){sc(window,"click",e.onPreventClick,!0)}});function tm(e){var t=e.originalDatas.draggable;return t||(e.originalDatas.draggable={},t=e.originalDatas.draggable),ap(ap({},e),{datas:t})}var im=lp("edgeDraggable",{dragControlCondition:function(e,t){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var i=t.inputEvent.target;return nc(i,kp("direction"))&&nc(i,kp("line"))},dragControlStart:function(e,t){return Kg.dragStart(e,tm(t))},dragControl:function(e,t){return Kg.drag(e,tm(t))},dragControlEnd:function(e,t){return Kg.dragEnd(e,tm(t))},dragGroupControlCondition:function(e,t){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var i=t.inputEvent.target;return nc(i,kp("direction"))&&nc(i,kp("line"))},dragGroupControlStart:function(e,t){return Kg.dragGroupStart(e,tm(t))},dragGroupControl:function(e,t){return Kg.dragGroup(e,tm(t))},dragGroupControlEnd:function(e,t){return Kg.dragGroupEnd(e,tm(t))},unset:function(e){e.state.dragInfo=null}}),nm={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},om=[Gf,wf,Xg,_h,Kg,im,rf,lf,df,pf,xf,Sf,yf,Ff,zf,Wf,Jf,nm,em,bf,Vf],sm=om.reduce((function(e,t){return ap(ap({},e),"events"in t?t.events:{})}),{}),am=om.reduce((function(e,t){return ap(ap({},e),t.props)}),{}),rm=mh(sm),lm=Object.keys(rm),dm=Object.keys(am);function cm(e,t){return Math.max.apply(Math,e.map((function(e){var i=e[0],n=e[1],o=e[2],s=e[3];return Math.max(i[t],n[t],o[t],s[t])})))}function um(e,t){return Math.min.apply(Math,e.map((function(e){var i=e[0],n=e[1],o=e[2],s=e[3];return Math.min(i[t],n[t],o[t],s[t])})))}var pm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.differ=new Ru,t.moveables=[],t.transformOrigin="50% 50%",t}sp(t,e);var i=t.prototype;return i.updateEvent=function(e){var t=this.state,i=this.props,n=e.dragTarget||t.target,o=i.dragTarget||this.areaElement;n!==o&&(eh(this,"targetGesto"),eh(this,"controlGesto"),t.target=null),t.target||(t.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetGesto=Xf(this,o,"Group"),this.controlGesto=Kf(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var s=!ah(e.container,i.container);s&&(t.container=i.container);var a=this.differ.update(i.targets),r=a.added,l=a.changed,d=a.removed;(s||r.length||l.length||d.length)&&this.updateRect()},i.checkUpdate=function(){this.updateAbles()},i.updateRect=function(e,t,i){if(void 0===i&&(i=!0),this.controlBox){this.moveables.forEach((function(t){t.updateRect(e,!1,!1)}));var n=this.state,o=this.props,s=n.target||o.target;(!t||""!==e&&o.updateGroup)&&(this.rotation=o.defaultGroupRotate,this.transformOrigin=o.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var a=this.rotation,r=this.scale,l=function(e,t){if(!e.length)return[0,0,0,0];var i=e.map((function(e){return Jp(e.state)})),n=yp,o=yp,s=0,a=0,r=tc(t,vp);if(r%90){var l=r/180*Math.PI,d=Math.tan(l),c=-1/d,u=[_p,yp],p=[_p,yp];i.forEach((function(e){e.forEach((function(e){var t=e[1]-d*e[0],i=e[1]-c*e[0];u[0]=Math.max(u[0],t),u[1]=Math.min(u[1],t),p[0]=Math.max(p[0],i),p[1]=Math.min(p[1],i)}))})),u.forEach((function(e){p.forEach((function(t){var i=(t-e)/(d-c),s=d*i+e;n=Math.min(n,i),o=Math.min(o,s)}))}));var h=i.map((function(e){var t=e[0],i=e[1],n=e[2],o=e[3];return[uu(t,-l),uu(i,-l),uu(n,-l),uu(o,-l)]}));s=cm(h,0)-um(h,0),a=cm(h,1)-um(h,1)}else if(n=um(i,0),o=um(i,1),s=cm(i,0)-n,a=cm(i,1)-o,r%180){var g=s;s=a,a=g}return[n,o,s,a]}(this.moveables,a),d=l[0],c=l[1],u=l[2],p=l[3],h="rotate("+a+"deg) scale("+(r[0]>=0?1:-1)+", "+(r[1]>=0?1:-1)+")";s.style.cssText+="left:0px;top:0px; transform-origin: "+this.transformOrigin+"; width:"+u+"px; height:"+p+"px;transform:"+h,n.width=u,n.height=p;var g=this.getContainer(),f=Xp(this.controlBox.getElement(),s,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||g),m=[f.left,f.top],v=Jp(f),b=v[0],y=v[1],_=v[2],x=v[3],w=Su([b,y,_,x]),S=[w.minX,w.minY];f.pos1=ou(b,S),f.pos2=ou(y,S),f.pos3=ou(_,S),f.pos4=ou(x,S),f.left=d-f.left+S[0],f.top=c-f.top+S[1],f.origin=ou(nu(m,f.origin),S),f.beforeOrigin=ou(nu(m,f.beforeOrigin),S),f.originalBeforeOrigin=nu(m,f.originalBeforeOrigin);var C=f.targetClientRect,k=r[0]*r[1]>0?1:-1;C.top+=f.top-n.top,C.left+=f.left-n.left,s.style.transform="translate("+-S[0]+"px, "+-S[1]+"px) "+h,this.updateState(ap(ap({},f),{direction:k,beforeDirection:k}),i)}},i.getRect=function(){return ap(ap({},e.prototype.getRect.call(this)),{children:this.moveables.map((function(e){return e.getRect()}))})},i.triggerEvent=function(t,i,n){if(n||t.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,t,i)},i.updateAbles=function(){e.prototype.updateAbles.call(this,rp(this.props.ables,[Jf]),"Group")},t.defaultProps=ap(ap({},Qf.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(Qf),hm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveables=[],t}sp(t,e);var i=t.prototype;return i.render=function(){var e=this,t=this.props,i=t.cspNonce,n=t.cssStyled,o=t.targets;return bc(n,{cspNonce:i,ref:vd(this,"controlBox"),className:kp("control-box")},o.map((function(t,i){return bc(Qf,ap({key:"moveable"+i,ref:bd(e,"moveables",i)},e.props,{target:t,wrapperMoveable:e}))})))},i.componentDidUpdate=function(){},i.updateRect=function(e,t,i){void 0===i&&(i=!0),this.moveables.forEach((function(n){n.updateRect(e,t,i)}))},i.getRect=function(){return ap(ap({},e.prototype.getRect.call(this)),{children:this.moveables.map((function(e){return e.getRect()}))})},i.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},i.dragStart=function(){return this},i.hitTest=function(){return 0},i.isInside=function(){return!1},i.isDragging=function(){return!1},i.updateRenderPoses=function(){},i.updateEvent=function(){},i.checkUpdate=function(){},i.triggerEvent=function(){},i.updateAbles=function(){},t}(Qf),gm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sp(t,e),t.defaultAbles=om,t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refTargets=[],t.selectorMap={},t}sp(t,e);var i=t.prototype;return t.makeStyled=function(){var e={};this.getTotalAbles().forEach((function(t){var i=t.css;i&&i.forEach((function(t){e[t]=!0}))}));var t=Vd(e).join("\n");this.defaultStyled=np("div",function(e,t){return t.replace(/([^}{]*){/gm,(function(t,i){return i.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"}))}(hp,gp+t))},t.getTotalAbles=function(){return rp([wf,Jf,nm,bf],this.defaultAbles)},i.render=function(){var e=this.constructor;e.defaultStyled||e.makeStyled();var t=this.props,i=t.ables,n=t.props,o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(t,["ables","props"]),s=bh(o.target||o.targets),a=function(e,t){var i=[];return e.forEach((function(e){e&&(Nd(e)?t[e]&&i.push.apply(i,t[e]):i.push(e))})),i}(s,this.selectorMap);this.refTargets=s;var r=a.length>1,l=rp(e.getTotalAbles(),i||[]),d=ap(ap(ap({},o),n||{}),{ables:l,cssStyled:e.defaultStyled,customStyledMap:e.customStyledMap});return r?o.individualGroupable?bc(hm,ap({key:"individual-group",ref:vd(this,"moveable")},d,{target:null,targets:a})):bc(pm,ap({key:"group",ref:vd(this,"moveable")},d,{target:null,targets:a})):bc(Qf,ap({key:"single",ref:vd(this,"moveable")},d,{target:a[0]}))},i.componentDidMount=function(){this.updateRefs()},i.componentDidUpdate=function(){this.updateRefs()},i.updateRefs=function(e){var t=bh(this.props.target||this.props.targets),i=this.refTargets.some((function(e,i){var n=t[i];return!(!e&&!n)&&e!==n})),n=e?{}:this.selectorMap,o={};this.refTargets.forEach((function(e){Nd(e)&&(n[e]?o[e]=n[e]:(i=!0,o[e]=[].slice.call(document.querySelectorAll(e))))})),this.selectorMap=o,i&&this.forceUpdate()},i.getManager=function(){return this.moveable},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);s>3&&a&&Object.defineProperty(t,i,a)}([_d(Cp)],t.prototype,"moveable",void 0),t}(Tc)),fm=function(e,t){return(fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function mm(e,t){function i(){this.constructor=e}fm(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var vm=function(){return(vm=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var bm=function(e){function t(t){var i=e.call(this,t)||this;return i.state={},i.state=i.props,i}return mm(t,e),t.prototype.render=function(){return e=bc(gm,vm({ref:vd(this,"moveable")},this.state)),t=this.state.parentElement,bc(Lc,{element:e,container:t});var e,t},t}(qc),ym=dm,_m=Cp,xm=lm,wm=function(){return(wm=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var Sm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mm(t,e),t}(function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this)||this;n.tempElement=document.createElement("div");var o=vm({container:t||document.body},i),s={};xm.forEach((function(e){var t;s[(t="on "+e,t.replace(/[\s-_]([a-z])/g,(function(e,t){return t.toUpperCase()})))]=function(t){return n.trigger(e,t)}})),Nc(bc(bm,vm({ref:vd(n,"innerMoveable"),parentElement:t},o,s)),n.tempElement);var a=o.target;return Rd(a)&&a.length>1&&n.updateRect(),n}mm(t,e);var i=t.prototype;return i.setState=function(e,t){this.innerMoveable.setState(e,t)},i.destroy=function(){Nc(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},i.getMoveable=function(){return this.innerMoveable.moveable},t=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}([yd(_m,(function(e,t){e[t]||(e[t]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=this.getMoveable();if(n&&n[t])return n[t].apply(n,e)})})),yd(ym,(function(e,t){Object.defineProperty(e,t,{get:function(){return this.getMoveable().props[t]},set:function(e){var i;this.setState(((i={})[t]=e,i))},enumerable:!0,configurable:!0})}))],t)}(function(){function e(){this._events={}}var t=e.prototype;return t.on=function(e,t){if(Od(e))for(var i in e)this.on(i,e[i]);else this._addEvent(e,t,{});return this},t.off=function(e,t){if(e)if(Od(e))for(var i in e)this.off(i);else if(t){var n=this._events[e];if(n){var o=Wd(n,(function(e){return e.listener===t}));o>-1&&n.splice(o,1)}}else this._events[e]=[];else this._events={};return this},t.once=function(e,t){var i=this;return t&&this._addEvent(e,t,{once:!0}),new Promise((function(t){i._addEvent(e,t,{once:!0})}))},t.emit=function(e,t){var i=this;void 0===t&&(t={});var n=this._events[e];if(!e||!n)return!0;var o=!1;return t.eventType=e,t.stop=function(){o=!0},t.currentTarget=this,function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n}(n).forEach((function(n){n.listener(t),n.once&&i.off(e,n.listener)})),!o},t.trigger=function(e,t){return void 0===t&&(t={}),this.emit(e,t)},t._addEvent=function(e,t,i){var n=this._events;n[e]=n[e]||[],n[e].push(wm({listener:t},i))},e}())),Cm={exports:{}};!function(e){!function(t){var i=t.URL||t.webkitURL;function n(e){return!!i&&i.createObjectURL(e)}function o(e){return!!i&&i.revokeObjectURL(e)}function s(e,t){!e||"blob:"!==e.slice(0,5)||t&&t.noRevoke||o(e)}function a(e,i,n,o){if(!t.FileReader)return!1;var s=new FileReader;s.onload=function(){i.call(s,this.result)},n&&(s.onabort=s.onerror=function(){n.call(s,this.error)});var a=s[o||"readAsDataURL"];return a?(a.call(s,e),s):void 0}function r(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function l(e,i,o){function d(i,d){var c,u=document.createElement("img");function p(e,t){i!==d?e instanceof Error?d(e):((t=t||{}).image=e,i(t)):i&&i(e,t)}function h(i,s){s&&t.console&&console.log(s),i&&r("Blob",i)?c=n(e=i):(c=e,o&&o.crossOrigin&&(u.crossOrigin=o.crossOrigin)),u.src=c}return u.onerror=function(e){s(c,o),d&&d.call(u,e)},u.onload=function(){s(c,o);var t={originalWidth:u.naturalWidth||u.width,originalHeight:u.naturalHeight||u.height};try{l.transform(u,o,p,e,t)}catch(e){d&&d(e)}},"string"==typeof e?(l.requiresMetaData(o)?l.fetchBlob(e,h,o):h(),u):r("Blob",e)||r("File",e)?(c=n(e))?(u.src=c,u):a(e,(function(e){u.src=e}),d):void 0}return t.Promise&&"function"!=typeof i?(o=i,new Promise(d)):d(i,i)}l.requiresMetaData=function(e){return e&&e.meta},l.fetchBlob=function(e,t){t()},l.transform=function(e,t,i,n,o){i(e,o)},l.global=t,l.readFile=a,l.isInstanceOf=r,l.createObjectURL=n,l.revokeObjectURL=o,e.exports?e.exports=l:t.loadImage=l}("undefined"!=typeof window&&window||Jt)}(Cm);var km={exports:{}};!function(e){(function(e){var t=e.transform;e.createCanvas=function(t,i,n){if(n&&e.global.OffscreenCanvas)return new OffscreenCanvas(t,i);var o=document.createElement("canvas");return o.width=t,o.height=i,o},e.transform=function(i,n,o,s,a){t.call(e,e.scale(i,n,a),n,o,s,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var i,n,o,s,a=t.aspectRatio;if(!a)return t;for(n in i={},t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.crop=!0,(o=e.naturalWidth||e.width)/(s=e.naturalHeight||e.height)>a?(i.maxWidth=s*a,i.maxHeight=s):(i.maxWidth=o,i.maxHeight=o/a),i},e.drawImage=function(e,t,i,n,o,s,a,r,l){var d=t.getContext("2d");return!1===l.imageSmoothingEnabled?(d.msImageSmoothingEnabled=!1,d.imageSmoothingEnabled=!1):l.imageSmoothingQuality&&(d.imageSmoothingQuality=l.imageSmoothingQuality),d.drawImage(e,i,n,o,s,0,0,a,r),d},e.requiresCanvas=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,i,n){i=i||{},n=n||{};var o,s,a,r,l,d,c,u,p,h,g,f,m=t.getContext||e.requiresCanvas(i)&&!!e.global.HTMLCanvasElement,v=t.naturalWidth||t.width,b=t.naturalHeight||t.height,y=v,_=b;function x(){var e=Math.max((a||y)/y,(r||_)/_);e>1&&(y*=e,_*=e)}function w(){var e=Math.min((o||y)/y,(s||_)/_);e<1&&(y*=e,_*=e)}if(m&&(c=(i=e.getTransformedOptions(t,i,n)).left||0,u=i.top||0,i.sourceWidth?(l=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(c=v-l-i.right)):l=v-c-(i.right||0),i.sourceHeight?(d=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(u=b-d-i.bottom)):d=b-u-(i.bottom||0),y=l,_=d),o=i.maxWidth,s=i.maxHeight,a=i.minWidth,r=i.minHeight,m&&o&&s&&i.crop?(y=o,_=s,(g=l/d-o/s)<0?(d=s*l/o,void 0===i.top&&void 0===i.bottom&&(u=(b-d)/2)):g>0&&(l=o*d/s,void 0===i.left&&void 0===i.right&&(c=(v-l)/2))):((i.contain||i.cover)&&(a=o=o||a,r=s=s||r),i.cover?(w(),x()):(x(),w())),m){if((p=i.pixelRatio)>1&&(!t.style.width||Math.floor(parseFloat(t.style.width,10))!==Math.floor(v/p))&&(y*=p,_*=p),e.orientationCropBug&&!t.getContext&&(c||u||l!==v||d!==b)&&(g=t,t=e.createCanvas(v,b,!0),e.drawImage(g,t,0,0,v,b,v,b,i)),(h=i.downsamplingRatio)>0&&h<1&&y<l&&_<d)for(;l*h>y;)f=e.createCanvas(l*h,d*h,!0),e.drawImage(t,f,c,u,l,d,f.width,f.height,i),c=0,u=0,l=f.width,d=f.height,t=f;return f=e.createCanvas(y,_),e.transformCoordinates(f,i,n),p>1&&(f.style.width=f.width/p+"px"),e.drawImage(t,f,c,u,l,d,y,_,i).setTransform(1,0,0,1,0,0),f}return t.width=y,t.height=_,t}})(e.exports?Cm.exports:window.loadImage)}(km);var Em={exports:{}};!function(e){(function(e){var t=e.global,i=e.transform,n=t.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),o=t.ArrayBuffer&&ArrayBuffer.prototype.slice||function(e,t){t=t||this.byteLength-e;var i=new Uint8Array(this,e,t),n=new Uint8Array(t);return n.set(i),n.buffer},s={jpeg:{65505:[],65517:[]}};function a(i,a,r,l){var d=this;function c(a,c){if(!(t.DataView&&n&&i&&i.size>=12&&"image/jpeg"===i.type))return a(l);var u=r.maxMetaDataSize||262144;e.readFile(n.call(i,0,u),(function(e){var t=new DataView(e);if(65496!==t.getUint16(0))return c(new Error("Invalid JPEG file: Missing JPEG marker."));for(var i,n,u,p,h=2,g=t.byteLength-4,f=h;h<g&&((i=t.getUint16(h))>=65504&&i<=65519||65534===i);){if(h+(n=t.getUint16(h+2)+2)>t.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((u=s.jpeg[i])&&!r.disableMetaDataParsers)for(p=0;p<u.length;p+=1)u[p].call(d,t,h,n,l,r);f=h+=n}!r.disableImageHead&&f>6&&(l.imageHead=o.call(e,0,f)),a(l)}),c,"readAsArrayBuffer")||a(l)}return r=r||{},t.Promise&&"function"!=typeof a?(l=r=a||{},new Promise(c)):(l=l||{},c(a,a))}function r(e,t,i){return e&&t&&i?new Blob([i,n.call(e,t.byteLength)],{type:"image/jpeg"}):null}e.transform=function(n,o,s,r,l){e.requiresMetaData(o)?a(r,(function(a){a!==l&&(t.console&&console.log(a),a=l),i.call(e,n,o,s,r,a)}),o,l=l||{}):i.apply(e,arguments)},e.blobSlice=n,e.bufferSlice=o,e.replaceHead=function(e,i,n){var o={maxMetaDataSize:1024,disableMetaDataParsers:!0};if(!n&&t.Promise)return a(e,o).then((function(t){return r(e,t.imageHead,i)}));a(e,(function(t){n(r(e,t.imageHead,i))}),o)},e.parseMetaData=a,e.metaDataParsers=s})(e.exports?Cm.exports:window.loadImage)}(Em);!function(e){(function(e){var t=e.global;t.fetch&&t.Request&&t.Response&&t.Response.prototype.blob?e.fetchBlob=function(e,i,n){function o(e){return e.blob()}if(t.Promise&&"function"!=typeof i)return fetch(new Request(e,i)).then(o);fetch(new Request(e,n)).then(o).then(i).catch((function(e){i(null,e)}))}:t.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(e.fetchBlob=function(e,i,n){function o(t,i){n=n||{};var o=new XMLHttpRequest;o.open(n.method||"GET",e),n.headers&&Object.keys(n.headers).forEach((function(e){o.setRequestHeader(e,n.headers[e])})),o.withCredentials="include"===n.credentials,o.responseType="blob",o.onload=function(){t(o.response)},o.onerror=o.onabort=o.ontimeout=function(e){t===i?i(null,e):i(e)},o.send(n.body)}return t.Promise&&"function"!=typeof i?(n=i,new Promise(o)):o(i,i)})})(e.exports?Cm.exports:window.loadImage)}({exports:{}});var Am={exports:{}};!function(e){(function(e){function t(e){e&&(Object.defineProperty(this,"map",{value:this.ifds[e].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[e]||{}}))}t.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},t.prototype.ifds={ifd1:{name:"Thumbnail",map:t.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},t.prototype.get=function(e){return this[e]||this[this.map[e]]};var i={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}};function n(e,t,n,o,s,a){var r,l,d,c,u,p,h=i[o];if(h){if(!((l=(r=h.size*s)>4?t+e.getUint32(n+8,a):n+8)+r>e.byteLength)){if(1===s)return h.getValue(e,l,a);for(d=[],c=0;c<s;c+=1)d[c]=h.getValue(e,l+c*h.size,a);if(h.ascii){for(u="",c=0;c<d.length&&"\0"!==(p=d[c]);c+=1)u+=p;return u}return d}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function o(e,t,i){return(!e||e[i])&&(!t||!0!==t[i])}function s(e,t,i,s,a,r,l,d){var c,u,p,h,g,f;if(i+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((u=i+2+12*(c=e.getUint16(i,s)))+4>e.byteLength)){for(p=0;p<c;p+=1)h=i+2+12*p,o(l,d,g=e.getUint16(h,s))&&(f=n(e,t,h,e.getUint16(h+2,s),e.getUint32(h+4,s),s),a[g]=f,r&&(r[g]=h));return e.getUint32(u,s)}console.log("Invalid Exif data: Invalid directory size.")}}i[7]=i[1],e.parseExifData=function(i,n,a,r,l){if(!l.disableExif){var d,c,u,p=l.includeExifTags,h=l.excludeExifTags||{34665:{37500:!0}},g=n+10;if(1165519206===i.getUint32(n+4))if(g+8>i.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===i.getUint16(n+8)){switch(i.getUint16(g)){case 18761:d=!0;break;case 19789:d=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===i.getUint16(g+2,d)?(c=i.getUint32(g+4,d),r.exif=new t,l.disableExifOffsets||(r.exifOffsets=new t,r.exifTiffOffset=g,r.exifLittleEndian=d),(c=s(i,g,g+c,d,r.exif,r.exifOffsets,p,h))&&o(p,h,"ifd1")&&(r.exif.ifd1=c,r.exifOffsets&&(r.exifOffsets.ifd1=g+c)),Object.keys(r.exif.ifds).forEach((function(e){!function(e,i,n,o,a,r,l){var d=e.exif[i];d&&(e.exif[i]=new t(i),e.exifOffsets&&(e.exifOffsets[i]=new t(i)),s(n,o,o+d,a,e.exif[i],e.exifOffsets&&e.exifOffsets[i],r&&r[i],l&&l[i]))}(r,e,i,g,d,p,h)})),(u=r.exif.ifd1)&&u[513]&&(u[513]=function(t,i,n){if(n){if(!(i+n>t.byteLength))return new Blob([e.bufferSlice.call(t.buffer,i,i+n)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(i,g+u[513],u[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,i){var n=t.exifOffsets[274];return n?(new DataView(e,n+8,2).setUint16(0,i,t.exifLittleEndian),e):e}},e.writeExifData=function(t,i,n,o){return e.exifWriters[i.exif.map[n]](t,i,o)},e.ExifMap=t})(e.exports?Cm.exports:window.loadImage)}(Am);!function(e){(function(e){var t=e.ExifMap.prototype;t.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},t.tags.ifd1=t.tags,t.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180Â° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90Â° CW",6:"Rotate 90Â° CW",7:"Horizontal flip + Rotate 90Â° CW",8:"Rotate 90Â° CCW"}},t.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},t.getAll=function(){var e,t,i,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&((t=this[e])&&t.getAll?n[this.ifds[e].name]=t.getAll():(i=this.tags[e])&&(n[i]=this.getText(i)));return n},t.getName=function(e){var t=this.tags[e];return"object"==typeof t?this.ifds[e].name:t},function(){var e,i,n,o=t.tags;for(e in o)if(Object.prototype.hasOwnProperty.call(o,e))if(i=t.ifds[e])for(e in n=o[e])Object.prototype.hasOwnProperty.call(n,e)&&(i.map[n[e]]=Number(e));else t.map[o[e]]=Number(e)}()})(e.exports?Cm.exports:window.loadImage)}({exports:{}});var qm={exports:{}};!function(e){(function(e){function t(){}function i(e,t,i,n,o){return"binary"===t.types[e]?new Blob([i.buffer.slice(n,n+o)]):"Uint16"===t.types[e]?i.getUint16(n):function(e,t,i){for(var n="",o=t+i,s=t;s<o;s+=1)n+=String.fromCharCode(e.getUint8(s));return n}(i,n,o)}function n(e,t){return void 0===e?t:e instanceof Array?(e.push(t),e):[e,t]}function o(e,t,o,s,a,r){for(var l,d,c,u=t+o,p=t;p<u;)28===e.getUint8(p)&&2===e.getUint8(p+1)&&(c=e.getUint8(p+2),a&&!a[c]||r&&r[c]||(d=e.getInt16(p+3),l=i(c,s.iptc,e,p+5,d),s.iptc[c]=n(s.iptc[c],l),s.iptcOffsets&&(s.iptcOffsets[c]=p))),p+=1}function s(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)}function a(e,t){var i=e.getUint8(t+7);return i%2!=0&&(i+=1),0===i&&(i=4),i}t.prototype.map={ObjectName:5},t.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},t.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcData=function(e,i,n,r,l){if(!l.disableIptc)for(var d=i+n;i+8<d;){if(s(e,i)){var c=a(e,i),u=i+8+c;if(u>d){console.log("Invalid IPTC data: Invalid segment offset.");break}var p=e.getUint16(i+6+c);if(i+p>d){console.log("Invalid IPTC data: Invalid segment size.");break}return r.iptc=new t,l.disableIptcOffsets||(r.iptcOffsets=new t),void o(e,u,p,r,l.includeIptcTags,l.excludeIptcTags||{202:!0})}i+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=t})(e.exports?Cm.exports:window.loadImage)}(qm);!function(e){(function(e){var t=e.IptcMap.prototype;t.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},t.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},t.getText=function(e){var t=this.get(e),i=this.map[e],n=this.stringValues[i];return n?n[t]:String(t)},t.getAll=function(){var e,t,i={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(i[t]=this.getText(t));return i},t.getName=function(e){return this.tags[e]},function(){var e,i=t.tags,n=t.map||{};for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[i[e]]=Number(e))}()})(e.exports?Cm.exports:window.loadImage)}({exports:{}});!function(e){(function(e){var t=e.transform,i=e.requiresCanvas,n=e.requiresMetaData,o=e.transformCoordinates,s=e.getTransformedOptions;function a(t,i){var n=t&&t.orientation;return!0===n&&!e.orientation||1===n&&e.orientation||(!i||e.orientation)&&n>1&&n<9}function r(e,t){return e!==t&&(1===e&&t>1&&t<9||e>1&&e<9)}function l(e,t){if(t>1&&t<9)switch(e){case 2:case 4:return t>4;case 5:case 7:return t%2==0;case 6:case 8:return 2===t||4===t||5===t||7===t}return!1}!function(e){if(e.global.document){var t=document.createElement("img");t.onload=function(){if(e.orientation=2===t.width&&3===t.height,e.orientation){var i=e.createCanvas(1,1,!0).getContext("2d");i.drawImage(t,1,1,1,1,0,0,1,1),e.orientationCropBug="255,255,255,255"!==i.getImageData(0,0,1,1).data.toString()}},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="}}(e),e.requiresCanvas=function(t){return a(t)||i.call(e,t)},e.requiresMetaData=function(t){return a(t,!0)||n.call(e,t)},e.transform=function(i,n,o,s,a){t.call(e,i,n,(function(t,i){if(i){var n=e.orientation&&i.exif&&i.exif.get("Orientation");if(n>4&&n<9){var s=i.originalWidth,a=i.originalHeight;i.originalWidth=a,i.originalHeight=s}}o(t,i)}),s,a)},e.getTransformedOptions=function(t,i,n){var o=s.call(e,t,i),a=n.exif&&n.exif.get("Orientation"),d=o.orientation,c=e.orientation&&a;if(!0===d&&(d=a),!r(d,c))return o;var u=o.top,p=o.right,h=o.bottom,g=o.left,f={};for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(f[m]=o[m]);if(f.orientation=d,(d>4&&!(c>4)||d<5&&c>4)&&(f.maxWidth=o.maxHeight,f.maxHeight=o.maxWidth,f.minWidth=o.minHeight,f.minHeight=o.minWidth,f.sourceWidth=o.sourceHeight,f.sourceHeight=o.sourceWidth),c>1){switch(c){case 2:p=o.left,g=o.right;break;case 3:u=o.bottom,p=o.left,h=o.top,g=o.right;break;case 4:u=o.bottom,h=o.top;break;case 5:u=o.left,p=o.bottom,h=o.right,g=o.top;break;case 6:u=o.left,p=o.top,h=o.right,g=o.bottom;break;case 7:u=o.right,p=o.top,h=o.left,g=o.bottom;break;case 8:u=o.right,p=o.bottom,h=o.left,g=o.top}if(l(d,c)){var v=u,b=p;u=h,p=g,h=v,g=b}}switch(f.top=u,f.right=p,f.bottom=h,f.left=g,d){case 2:f.right=g,f.left=p;break;case 3:f.top=h,f.right=g,f.bottom=u,f.left=p;break;case 4:f.top=h,f.bottom=u;break;case 5:f.top=g,f.right=h,f.bottom=p,f.left=u;break;case 6:f.top=p,f.right=h,f.bottom=g,f.left=u;break;case 7:f.top=p,f.right=u,f.bottom=g,f.left=h;break;case 8:f.top=g,f.right=u,f.bottom=p,f.left=h}return f},e.transformCoordinates=function(t,i,n){o.call(e,t,i,n);var s=i.orientation,a=e.orientation&&n.exif&&n.exif.get("Orientation");if(r(s,a)){var d=t.getContext("2d"),c=t.width,u=t.height,p=c,h=u;switch((s>4&&!(a>4)||s<5&&a>4)&&(t.width=u,t.height=c),s>4&&(p=u,h=c),a){case 2:d.translate(p,0),d.scale(-1,1);break;case 3:d.translate(p,h),d.rotate(Math.PI);break;case 4:d.translate(0,h),d.scale(1,-1);break;case 5:d.rotate(-.5*Math.PI),d.scale(-1,1);break;case 6:d.rotate(-.5*Math.PI),d.translate(-p,0);break;case 7:d.rotate(-.5*Math.PI),d.translate(-p,h),d.scale(1,-1);break;case 8:d.rotate(.5*Math.PI),d.translate(0,-h)}switch(l(s,a)&&(d.translate(p,h),d.rotate(Math.PI)),s){case 2:d.translate(c,0),d.scale(-1,1);break;case 3:d.translate(c,u),d.rotate(Math.PI);break;case 4:d.translate(0,u),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI),d.translate(0,-u);break;case 7:d.rotate(.5*Math.PI),d.translate(c,-u),d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI),d.translate(-c,0)}}}})(e.exports?Cm.exports:window.loadImage)}({exports:{}});var Tm=Cm.exports;const Lm=new ni;class Mm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t;let n,o=i.querySelector("#divImageTool");if(!o){let e=`\n                <div id="divImageTool" class="is-tool">\n                    <div role="button" tabindex="0" class="image-embed" style="${this.builder.opts.imageEmbed?"":"display:none;"}width:40px;height:40px;overflow:hidden;">\n                        <div style="position:absolute;width:100%;height:100%;"><svg class="is-icon-flex" style="position: absolute;top: 13px;left: 15px;width: 14px;height: 14px;"><use xlink:href="#ion-image"></use></svg></div>\n                        <input title="${t.out("Change Image")}" data-title="${t.out("Change Image")}" id="fileEmbedImage" type="file" accept="image/*" style="position:absolute;top:-20px;left:0;width:40px;height:60px;opacity: 0;cursor: pointer;"/>\n                    </div>\n                    <button tabindex="0" title="${t.out("Link")}" data-title="${t.out("Link")}" class="image-link" style="width:40px;height:40px;"><svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-link"></use></svg></button> \n                    <button tabindex="0" title="${t.out("Edit")}" data-title="${t.out("Edit")}" class="image-edit" style="width:40px;height:40px;"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-android-create"></use></svg></button>\n                </div>\n                <div id="divImageProgress">\n                    <div>\n                        <div class="dot"></div>\n                        <div class="dot"></div>\n                        <div class="dot"></div>\n                    </div>\n                </div>\n                \n                <div class="is-modal imageedit">\n                    <div class="is-modal-content">\n                        <div class="imageedit-crop" style="display:flex;height:80px;align-items:center;align-self:flex-start;">\n                            <button title="5x5" data-crop-size="1" style="width: 60px;height: 60px;">5x5</button>\n                            <button title="4x3" data-crop-size="1.33333" style="width: 60px;height: 45px;">4x3</button>\n                            <button title="3x4" data-crop-size="0.75" style="width: 45px;height: 60px;">3x4</button>\n                            <button title="6x4" data-crop-size="1.5" style="width: 60px;height: 40px;">6x4</button>\n                            <button title="4x6" data-crop-size="0.6666" style="width: 40px;height: 60px;">4x6</button>\n                            <button title="${t.out("Free")}" data-crop-size="" style="width: 60px;height: 45px;">${t.out("Free")}</button>\n                        </div>\n                        <div class="imageedit-preview" style="max-width:1000px;width:100%;max-height:550px;">\n                        </div>\n                        <div style="margin-top:15px;text-align:right;align-self:flex-end;">\n                            <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                            <button title="${t.out("Apply")}" class="input-ok classic-primary">${t.out("Apply")}</button>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="is-modal imagelink">\n                    <div class="is-modal-content">\n\n                        <label for="inpImageLinkSource" style="display:block">${t.out("Source")}:</label>\n                        <div class="image-src">\n                            <input id="inpImageLinkSource" class="input-src" type="text"/>\n                            <button title="${t.out("Select")}" class="input-select" style="flex:none;width:50px;height:50px;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                            <div class="image-larger1" style="position:relative;flex:none;width:50px;height:50px;box-shadow: 0px 3px 6px -6px rgba(0, 0, 0, 0.32);">\n                                <form class="form-upload-larger" target="frameTargetImageUpload" method="post" action="${this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="position:absolute;top:0;left:0;width:100%;height:100%;">\n\t\t\t\t                    <input id="hidRefId1" name="hidRefId" type="hidden" value="" />\n                                    <svg class="is-icon-flex" style="position: absolute;top: 16px;left: 15px;width: 18px;height: 18px;"><use xlink:href="#ion-image"></use></svg>\n                                    <input title="${t.out("Select")}" id="fileImage1" name="fileImage" type="file" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                                </form>\n\n                                <iframe id="frameTargetImageUpload" name="frameTargetImageUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                            </div>\n                        </div>\n\n                        <label for="inpImageLinkTitle" style="margin-top:14px;display:block">${t.out("Title")}:</label>\n                        <input id="inpImageLinkTitle" class="input-title" type="text" style="width:100%;border-top: none;"/>\n\n                        <label for="inpImageLinkLink" style="margin-top:14px;display:block">${t.out("Link")}:</label>\n                        <div class="image-link">\n                            <input id="inpImageLinkLink" class="input-link" type="text" style="width:100%;border-top: none;"/>\n                            <button title="${t.out("Select")}" class="input-select2" style="flex:none;width:50px;height:50px;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                            <div class="image-larger2" style="position:relative;flex:none;width:50px;height:50px;box-shadow: 0px 3px 6px -6px rgba(0, 0, 0, 0.32);">\n                                <form class="form-upload-larger" target="frameTargetImageUpload" method="post" action="${this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="position:absolute;top:0;left:0;width:100%;height:100%;">\n\t\t\t\t                    <input id="hidRefId2" name="hidRefId" type="hidden" value="" />\n                                    <svg class="is-icon-flex" style="position: absolute;top: 16px;left: 15px;width: 18px;height: 18px;"><use xlink:href="#ion-image"></use></svg>\n                                    <input title="${t.out("Select")}" id="fileImage2" name="fileImage" type="file" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                                </form>\n                            </div>\n                        </div>\n\n                        <label style="display:block;margin-top:14px;">\n                            <input class="input-newwindow" type="checkbox" />  ${t.out("Open new window")}&nbsp;\n                        </label>\n                        <label id="lblImageLinkOpenLightbox" style="${this.builder.useLightbox?"display:block":"display:none"};margin-top:5px;margin-bottom:14px;">\n                            <input class="input-openlightbox" type="checkbox" />  ${t.out("Open in a lightbox (for image, video or Youtube)")}&nbsp;\n                        </label>\n                        \n                        <div style="text-align:right;margin-top:14px;">\n                            <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                            <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="is-modal imageselect" style="z-index:10005">\n                    <div style="max-width:800px;height:80%;padding:0;">\n                        <iframe style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                    </div>\n                </div>\n\n                <div id="divImageResizer" data-x=0 data-y=0 class="is-tool moveable resizable">\n                </div>\n                `;Lm.appendHtml(i,e),o=i.querySelector("#divImageTool"),this.imageTool=o,n=document.querySelector("#divImageResizer"),this.imageResizer=n,this.builder.moveable=new Sm(document.body,{target:n,resizable:!0,throttleResize:0,keepRatio:!0}).on("resize",(({target:e,width:t,height:n})=>{if(0===t||0===n||isNaN(t)||isNaN(n))return;this.imageTool.style.display="",i.querySelector(".is-element-tool").style.display="";let o=this.builder.activeImage,s=!1;if(Lm.hasClass(o.parentNode,"img-circular")&&(o=o.parentNode,s=!0),s){let e=parseFloat(window.getComputedStyle(o.parentNode).getPropertyValue("padding-left")),i=parseFloat(window.getComputedStyle(o.parentNode).getPropertyValue("padding-right")),s=o.parentNode.offsetWidth*this.builder.opts.zoom-e-i;t>=s&&(t=s),n>=t?(o.style.width=t/this.builder.opts.zoom+"px",o.style.height=t/this.builder.opts.zoom+"px",o.querySelector("img").style.width=t/this.builder.opts.zoom+"px",o.querySelector("img").style.height=t/this.builder.opts.zoom+"px"):(o.style.width=t/this.builder.opts.zoom+"px",o.style.height=n/this.builder.opts.zoom+"px",o.querySelector("img").style.width=t/this.builder.opts.zoom+"px",o.querySelector("img").style.height=n/this.builder.opts.zoom+"px")}else o.style.width=t/this.builder.opts.zoom+"px",o.style.height="auto";e.style.top=o.getBoundingClientRect().top+window.pageYOffset+"px",e.style.left=o.getBoundingClientRect().left+window.pageXOffset+"px",e.style.width=o.offsetWidth+"px",e.style.height=o.offsetHeight+"px",this.repositionHandler(o.offsetWidth,o.offsetHeight),document.selection?document.selection.empty():window.getSelection().removeAllRanges();let a=i.querySelector(".is-column-tool");Lm.removeClass(a,"active")})).on("resizeEnd",(({target:e})=>{let t=this.builder.activeImage,n=!1;Lm.hasClass(t.parentNode,"img-circular")&&(t=t.parentNode,n=!0);var o=getComputedStyle(t.parentNode),s=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),a=parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r=t.parentNode.offsetWidth-s-a;if(!n){var l=r,d=t.offsetWidth,c=d/l*100;t.style.width=c+"%"}this.builder.opts.emailMode&&t.setAttribute("width",d),e.setAttribute("data-resized",1),setTimeout((()=>{e.setAttribute("data-resized",0)}),300),this.builder.opts.onChange();let u=i.querySelector(".is-column-tool");Lm.addClass(u,"active")})),document.querySelector(".moveable-control-box").style.display="none",n.addEventListener("click",(()=>{this.repositionImageTool(),this.builder.elmTool.repositionElementTool()}));let s=o.querySelector("#fileEmbedImage");Lm.addEventListener(s,"change",(e=>{this.builder.uo.saveForUndo();var t=e.target;let n=this.builder.activeImage,a=i.querySelector("#divImageProgress");a.style.display="table",a.style.width=n.offsetWidth*this.builder.opts.zoom+"px",a.style.height=n.offsetHeight*this.builder.opts.zoom+"px",a.style.top=n.getBoundingClientRect().top+window.pageYOffset+"px",a.style.left=n.getBoundingClientRect().left+window.pageXOffset+"px";try{n.setAttribute("data-filename",t.files[0].name),this.processImage(t.files[0],n,(()=>{a.style.display="none",s=o.querySelector("#fileEmbedImage"),s.value="",this.refreshIfIsModule(n),this.builder.opts.onChange(),this.builder.elmTool.refresh()}))}catch(e){a.style.display="none"}})),this.builder.opts.onImageBrowseClick&&(s=o.querySelector(".image-embed"),Lm.addEventListener(s,"click",(e=>(this.builder.opts.onImageBrowseClick(),e.preventDefault(),!1))));let a=i.querySelector(".imagelink");""!==this.builder.opts.largerImageHandler||this.builder.opts.onLargerImageUpload||(a.querySelector(".image-larger1").style.display="none",a.querySelector(".image-larger2").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(a.querySelector(".input-select").style.display="none",a.querySelector(".input-select2").style.display="none"),s=o.querySelector(".image-link"),Lm.addEventListener(s,"click",(()=>{if(document.querySelector(".moveable-control-box").style.display="none",this.builder.opts.onImageSettingClick)return this.builder.opts.onImageSettingClick(),!1;let e,i=this.builder.activeImage;"a"===i.parentNode.tagName.toLowerCase()&&1===i.parentNode.childElementCount&&(e=i.parentNode);let n=i.getAttribute("src"),o=i.getAttribute("alt"),s=a.querySelector(".input-src");-1===n.indexOf("base64")?s.value=n:s.value="[Image Data]";let r=a.querySelector(".input-title");r.value=o;let l=a.querySelector(".input-link");l.value="";let d=a.querySelector(".input-newwindow");d.checked=!1;let c=a.querySelector(".input-openlightbox");if(c.checked=!1,e){if(l.value=e.getAttribute("href"),""===o){let t=e.getAttribute("title");t&&(r.value=t)}var u=e.getAttribute("target");d.checked="_blank"===u,Lm.hasClass(e,"is-lightbox")?c.checked=!0:c.checked=!1}t.showModal(a,!0,null,!0),s.focus()})),s=a.querySelector(".input-cancel"),Lm.addEventListener(s,"click",(()=>{t.hideModal(a),document.querySelector(".moveable-control-box").style.display="block"})),s=a.querySelector(".input-ok"),Lm.addEventListener(s,"click",(()=>{this.builder.uo.saveForUndo();let e,i=this.builder.activeImage;"a"===i.parentNode.tagName.toLowerCase()&&1===i.parentNode.childElementCount&&(e=i.parentNode);let n=a.querySelector(".input-src").value,o=a.querySelector(".input-title").value,s=a.querySelector(".input-link").value;-1===n.indexOf("[Image Data]")&&i.setAttribute("src",n),i.setAttribute("alt",o),""!==s?e?(e.setAttribute("href",s),e.setAttribute("title",o),a.querySelector(".input-newwindow").checked?e.setAttribute("target","_blank"):e.removeAttribute("target"),a.querySelector(".input-openlightbox").checked?Lm.addClass(e,"is-lightbox"):Lm.removeClass(e,"is-lightbox")):(e=Lm.createElement("a"),e.setAttribute("href",s),e.setAttribute("title",o),e.innerHTML=i.outerHTML,a.querySelector(".input-newwindow").checked?e.setAttribute("target","_blank"):e.removeAttribute("target"),a.querySelector(".input-openlightbox").checked?Lm.addClass(e,"is-lightbox"):Lm.removeClass(e,"is-lightbox"),i.outerHTML=e.outerHTML):e&&(e.outerHTML=e.innerHTML),this.refreshIfIsModule(i),this.builder.opts.onChange(),this.builder.opts.onRender(),t.hideModal(a),this.builder.elmTool.refresh()}));let r=a.querySelector(".image-src");this.builder.opts.onImageSelectClick||this.builder.opts.imageselect?(s=a.querySelector(".input-select"),s&&Lm.addEventListener(s,"click",(()=>{if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:a.querySelector(".input-src"),theTrigger:s});else{let e=i.querySelector(".is-modal.imageselect"),n=e.querySelector("iframe");this.builder.opts.assetRefresh&&(n.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===n.src&&(n.src=this.builder.opts.imageselect),t.showModal(e)}this.builder.targetInput=a.querySelector(".input-src"),this.builder.targetCallback=null,this.builder.targetAssetType="image"})),s=a.querySelector(".input-select2"),s&&Lm.addEventListener(s,"click",(()=>{if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:a.querySelector(".input-link"),theTrigger:s});else{let e=i.querySelector(".is-modal.imageselect"),n=e.querySelector("iframe");this.builder.opts.assetRefresh&&(n.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===n.src&&(n.src=this.builder.opts.imageselect),t.showModal(e)}this.builder.targetInput=a.querySelector(".input-link"),this.builder.targetCallback=null,this.builder.targetAssetType="media"}))):Lm.removeClass(r,"image-select");let l=a.querySelector("#fileImage1");Lm.addEventListener(l,"change",(e=>{let t=l;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;Lm.addClass(i,"please-wait"),a.querySelector("#hidRefId1").value=this.builder.opts.customval,this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):i.submit(),l.value=""}));let d=a.querySelector("#fileImage2");Lm.addEventListener(d,"change",(e=>{let t=d;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;Lm.addClass(i,"please-wait"),a.querySelector("#hidRefId2").value=this.builder.opts.customval,this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):i.submit(),d.value=""}));let c=i.querySelector(".imageedit");s=o.querySelector(".image-edit"),Lm.addEventListener(s,"click",(()=>{let e=this.builder.activeImage,i=c.querySelector(".imageedit-preview");i.innerHTML='<img style="max-width:100%;object-fit:contain;height:100%;"/>';let n=c.querySelector("img");if(this.builder.onImageEditClick){if(!this.builder.onImageEditClick(e,n))return}t.showModal(c,!0);if(i.style.height="",e.offsetWidth<800&&e.offsetHeight<550)i.style.width=e.offsetWidth+"px";else{800*e.offsetHeight/e.offsetWidth<=550?i.style.width="800px":i.style.height="550px"}-1===e.src.indexOf("base64")?n.src=e.src+(-1===e.src.indexOf("?")?"?":"&")+`timestamp=${(new Date).getTime()}`:n.src=e.src,this.builder.setCropperConfig?this.cropper=new fd(n,this.builder.setCropperConfig):this.cropper=new fd(n,{zoomable:!1}),document.querySelector(".moveable-control-box").style.display="none"}));let u=c.querySelector(".imageedit-crop").querySelectorAll("button");Array.prototype.forEach.call(u,(e=>{Lm.addEventListener(e,"click",(()=>{let t=1*e.getAttribute("data-crop-size");this.cropper.setAspectRatio(t)}))}));let p=c.querySelector(".input-cancel");Lm.addEventListener(p,"click",(()=>{t.hideModal(c),document.querySelector(".moveable-control-box").style.display="block"})),s=c.querySelector(".input-ok"),Lm.addEventListener(s,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeImage,i=e.getAttribute("data-filename"),n="jpg";if(i)n=i.substr(i.lastIndexOf(".")+1).toLowerCase();else{let t=e.src;t.indexOf("/")>-1?e.setAttribute("data-filename",t.substr(t.lastIndexOf("/")+1)):e.setAttribute("data-filename",t),n=t.substr(t.lastIndexOf(".")+1).toLowerCase()}if(this.builder.opts.imageRenameOnEdit){let t="";if(-1===e.src.indexOf("base64")){let i=e.src.substring(e.src.lastIndexOf("/")+1);t=Lm.baseName(i)}else t=Lm.baseName(e.getAttribute("data-filename"));let i="";-1!==t.indexOf("-edit")&&(t=t.substr(0,t.indexOf("-edit"))),i=t+"-edit"+this.util.makeId(),e.setAttribute("data-filename",i+"."+n)}e.src="jpg"===n?this.cropper.getCroppedCanvas({fillColor:"#fff"}).toDataURL("image/jpeg"):this.cropper.getCroppedCanvas({}).toDataURL(),this.refreshIfIsModule(e),this.builder.opts.onChange(),t.hideModal(c),this.builder.elmTool.refresh()}))}this.builder.imgs=[]}refreshIfIsModule(e){if(Lm.parentsHasAttribute(e,"data-html")){if(this.imageTool.style.display="",e.hasAttribute("data-sync")){let t=e.getAttribute("data-src"),i=e.getAttribute("data-filename");if(t){let n=e;for(;!n.getAttribute("data-html");)n=n.parentNode;let o=n.querySelectorAll("img");Array.prototype.forEach.call(o,(n=>{n.src===t&&(n.src=e.src,n.removeAttribute("data-src"),n.setAttribute("data-filename",i))})),e.removeAttribute("data-src")}}setTimeout((()=>{this.util.refreshModule(),this.imageTool.style.display=""}),1e3)}else this.refresh()}refresh(){if(this.builder.activeImage){let e=this.imageTool;e.style.display="",setTimeout((()=>{let t=this.builder.activeImage;if(!t)return;Lm.hasClass(t.parentNode,"img-circular")&&(t=t.parentNode),e.style.display="flex";let i=e.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,o=t.getBoundingClientRect().top+window.pageYOffset,s=t.getBoundingClientRect().left+window.pageXOffset;s+=n/2-i/2;i+s>window.innerWidth&&(s=t.getBoundingClientRect().left),e.style.top=o+"px",e.style.left=s+"px";let a=this.imageResizer;a.style.top=t.getBoundingClientRect().top+window.pageYOffset+"px",a.style.left=t.getBoundingClientRect().left+window.pageXOffset+"px",a.style.width=t.offsetWidth*this.builder.opts.zoom+"px",a.style.height=t.offsetHeight*this.builder.opts.zoom+"px",a.style.display="block",this.repositionHandler(t.offsetWidth,t.offsetHeight),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="block",0===t.offsetWidth&&(e.style.display="",this.builder.activeImage=null,a.style.display="none",a.style.top="-10px",a.style.left="-10px",a.style.width="1px",a.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none")}),300)}}repositionImageTool(){if(this.builder.activeImage){let e=this.imageTool,t=this.builder.activeImage;Lm.hasClass(t.parentNode,"img-circular")&&(t=t.parentNode),e.style.display="flex";let i=e.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,o=t.getBoundingClientRect().top+window.pageYOffset,s=t.getBoundingClientRect().left+window.pageXOffset;s+=n/2-i/2;i+s>window.innerWidth&&(s=t.getBoundingClientRect().left),e.style.top=o+"px",e.style.left=s+"px";let a=this.imageResizer;a.style.top=t.getBoundingClientRect().top+window.pageYOffset+"px",a.style.left=t.getBoundingClientRect().left+window.pageXOffset+"px",a.style.width=t.offsetWidth*this.builder.opts.zoom+"px",a.style.height=t.offsetHeight*this.builder.opts.zoom+"px",a.style.display="block",this.repositionHandler(t.offsetWidth,t.offsetHeight),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="block"}}click(e){let t=e.target;if("img"===t.tagName.toLowerCase()){let i=!1;if(t.hasAttribute("data-fixed")&&(i=!0),i){this.imageTool.style.display="",this.builder.activeImage=null;let e=this.imageResizer;e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}else{this.builder.activeImage=t,Lm.hasClass(t.parentNode,"img-circular")&&(t=t.parentNode);let i=this.imageTool;i.style.display="flex";let n=i.offsetWidth,o=t.offsetWidth*this.builder.opts.zoom,s=t.getBoundingClientRect().top+window.pageYOffset,a=t.getBoundingClientRect().left+window.pageXOffset;a+=o/2-n/2;if(n+a>window.innerWidth&&(a=t.getBoundingClientRect().left),i.style.top=s+"px",i.style.left=a+"px",t.hasAttribute("data-noresize")){let e=this.imageResizer;e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}else{let e=this.imageResizer;e.style.top=t.getBoundingClientRect().top+window.pageYOffset+"px",e.style.left=t.getBoundingClientRect().left+window.pageXOffset+"px",e.style.width=t.offsetWidth*this.builder.opts.zoom+"px",e.style.height=t.offsetHeight*this.builder.opts.zoom+"px",e.style.display="block",this.repositionHandler(t.offsetWidth,t.offsetHeight);let i,n=t.style.width;-1!==n.indexOf("%")?(n=1*n.replace("%",""),i=100*t.offsetWidth/n):i=t.offsetWidth,e.setAttribute("data-width",Math.round(i)),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="block"}let r=!1;if(e.screenX&&0!==e.screenX&&e.screenY&&0!==e.screenY||(r=!0),r){i.style.display="";let e=this.imageResizer;e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}}}else{this.imageTool.style.display="",this.builder.activeImage=null;let e=this.imageResizer;e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}}clearImageResizer(){this.builder.imgs.forEach((e=>{try{e.destroy()}catch(e){}let t=this.builder.imgs.indexOf(e);t>-1&&this.builder.imgs.splice(t,1)})),document.querySelectorAll("[data-mov]").forEach((e=>{e.removeAttribute("data-mov")}))}repositionHandler(e,t){let i=document.querySelector("#divImageResizer");i.style.width=e*this.builder.opts.zoom+"px",i.style.height=t*this.builder.opts.zoom+"px"}processImage(e,t,i){if(!e)return i(),!1;if(!document.getElementById("myTmpCanvasNoCrop")){var n=document.createElement("canvas");n.id="myTmpCanvasNoCrop",n.style.display="none",document.querySelector("body").appendChild(n)}var o,s,a;"jpg"===(o=e.name?e.name.substr(e.name.lastIndexOf(".")+1).toLowerCase():e.substr(e.lastIndexOf(".")+1).toLowerCase())||"jpeg"===o?(s="image/jpeg",a=this.builder.opts.imageQuality):(s="image/png",a=1),-1===this.builder.opts.maxEmbedImageWidth?Tm(e,(e=>{t.src=e.toDataURL(s,a),i()}),{canvas:!0}):Tm(e,(e=>{t.src=e.toDataURL(s,a),i()}),{maxWidth:this.builder.opts.maxEmbedImageWidth,maxHeight:this.builder.opts.maxEmbedImageWidth,canvas:!0})}}const Om=new ni;class Rm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.builderStuff=i;let n=i.querySelector(".is-modal.buttoneditor");if(!n){let e=`\n            <div class="is-modal is-modal-content buttoneditor">\n                <div class="is-modal-bar is-draggable">\n                    ${t.out("Button")}\n                    <div class="is-modal-close" role="button" tabindex="0" title="${t.out("Close")}">&#10005;</div>\n                </div>\n                <div style="padding:0">\n                    <div class="is-tabs clearfix" data-group="button" style="position:relative;z-index:1">\n                        <a title="${t.out("Default")}" href="" data-content="divButtonDefault" class="active">${t.out("Default")}</a>\n                        <a title="${t.out("Hover")}" href="" data-content="divButtonHover">${t.out("Hover")}</a>\n                        <a title="${t.out("Saved")}" href="" data-content="divMyButtons">${t.out("Saved")}</a>\n                        <a title="${t.out("Templates")}" href="" data-content="divButtonTemplates">${t.out("Templates")}</a>\n                    </div>\n                    <div id="divButtonDefault" class="is-tab-content" data-group="button" style="display:block">\n\n                        <div class="flex flex-row">\n                            <div class="flex flex-col" style="margin-right: 40px;">\n                                <div>\n                                    <label>${t.out("Background Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Background Color")}" class="bg-color-command" style="width:45px;height:40px;border:rgb(0 0 0 / 6%) 1px solid;margin-right:4px"></button>\n                                </div>\n                            </div>\n                            \n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Text Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Text Color")}" class="text-color-command" style="width:45px;height:40px;border:rgb(0 0 0 / 6%) 1px solid;margin-right:4px"></button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="display:none;margin-right: 40px;">\n                                <div>\n                                    <label>${t.out("Border Thickness")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("No Border")}" data-command="0" class="border-width-command" style="margin-right:4px">${t.out("No Border")}</button>\n                                    <button title="1px" data-command="1" class="border-width-command" style="text-transform:none;margin-right:4px">1px</button>\n                                    <button title="2px" data-command="2" class="border-width-command" style="text-transform:none;margin-right:4px">2px</button>\n                                </div>\n                            </div>\n                            \n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Border Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Transparent")}" data-command="transparent" class="border-color-command" style="margin-right:4px">${t.out("Transparent")}</button>\n                                    <button title="${t.out("Current")}" data-command="current" class="border-color-command" style="margin-right:4px">${t.out("Current")}</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="margin-right: 20px;">\n                                <div>\n                                    <label>${t.out("Padding X")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="2" data-command="2" class="paddingx-command" style="margin-right:4px">2</button>\n                                    <button title="3" data-command="3" class="paddingx-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="paddingx-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="paddingx-command" style="margin-right:4px">5</button>\n                                    <button title="6" data-command="6" class="paddingx-command" style="margin-right:4px">6</button>\n                                    <button title="8" data-command="8" class="paddingx-command" style="margin-right:4px">8</button>\n                                    <button title="11" data-command="11" class="paddingx-command" style="margin-right:4px">11</button>\n                                    <button title="12" data-command="12" class="paddingx-command" style="margin-right:4px">12</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Padding Y")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="paddingy-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="paddingy-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="paddingy-command" style="margin-right:4px">2</button>\n                                    <button title="3" data-command="3" class="paddingy-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="paddingy-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="paddingy-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-col" style="margin:15px 0 0">\n                            <div>\n                                <label>${t.out("Border Radius")}</label>:\n                            </div>\n                            <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                <button title="${t.out("None")}" data-command="none" class="border-radius-command" style="margin-right:4px">${t.out("None")}</button>\n                                <button title="${t.out("SM")}" data-command="sm" class="border-radius-command" style="margin-right:4px">${t.out("SM")}</button>\n                                <button title="${t.out("Normal")}" data-command="normal" class="border-radius-command" style="margin-right:4px">${t.out("Normal")}</button>\n                                <button title="${t.out("MD")}" data-command="md" class="border-radius-command" style="margin-right:4px">${t.out("MD")}</button>\n                                <button title="${t.out("LG")}" data-command="lg" class="border-radius-command" style="margin-right:4px">${t.out("LG")}</button>\n                                <button title="${t.out("XL")}" data-command="xl" class="border-radius-command" style="margin-right:4px">${t.out("XL")}</button>\n                                <button title="${t.out("2XL")}" data-command="2xl" class="border-radius-command" style="margin-right:4px">${t.out("2XL")}</button>\n                                <button title="${t.out("3XL")}" data-command="3xl" class="border-radius-command" style="margin-right:4px">${t.out("3XL")}</button>\n                                <button title="${t.out("Full")}" data-command="full" class="border-radius-command" style="margin-right:4px">${t.out("Full")}</button>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="width:250px;margin-right:40px;">\n                                <div>\n                                    <label>${t.out("Font Size")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="12" data-command="12" class="font-size-command" style="margin-right:4px">12</button>\n                                    <button title="13" data-command="13" class="font-size-command" style="margin-right:4px">13</button>\n                                    <button title="14" data-command="14" class="font-size-command" style="margin-right:4px">14</button>\n                                    <button title="15" data-command="15" class="font-size-command" style="margin-right:4px">15</button>\n                                    <button title="16" data-command="16" class="font-size-command" style="margin-right:4px">16</button>\n                                    <button title="17" data-command="17" class="font-size-command" style="margin-right:4px">17</button>\n                                    <button title="18" data-command="18" class="font-size-command" style="margin-right:4px">18</button>\n                                    <button title="19" data-command="19" class="font-size-command" style="margin-right:4px">19</button>\n                                    <button title="21" data-command="21" class="font-size-command" style="margin-right:4px">21</button>\n                                    <button title="24" data-command="24" class="font-size-command" style="margin-right:4px">24</button>\n                                    <button title="28" data-command="28" class="font-size-command" style="margin-right:4px">28</button>\n                                    <button title="32" data-command="32" class="font-size-command" style="margin-right:4px">32</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Upper/Lower")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Bold")}" class="textbold-command" style="width:38px;font-family:serif;font-size:14px;text-transform:initial;margin-right:4px">B</button>\n                                    <button title="${t.out("Upper/Lower")}" class="textcase-command" style="width:38px;font-family:serif;font-size:14px;text-transform:initial;margin-right:4px">Aa</button>\n                                    <button title="${t.out("Underline")}" class="textunderline-command" style="width:38px;text-decoration:underline;font-family:serif;font-size:14px;text-transform:initial;margin-right:4px">U</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Letter Spacing")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="normal" class="letter-spacing-command" style="margin-right:4px">0</button>\n                                    <button title="25" data-command="wide" class="letter-spacing-command" style="margin-right:4px">25</button>\n                                    <button title="50" data-command="wider" class="letter-spacing-command" style="margin-right:4px">50</button>\n                                    <button title="75" data-command="75" class="letter-spacing-command" style="margin-right:4px">75</button>\n                                    <button title="100" data-command="widest" class="letter-spacing-command" style="margin-right:4px">100</button>\n                                    <button title="125" data-command="125" class="letter-spacing-command" style="margin-right:4px">125</button>\n                                    <button title="150" data-command="150" class="letter-spacing-command" style="margin-right:4px">150</button>\n                                    <button title="175" data-command="175" class="letter-spacing-command" style="margin-right:4px">175</button>\n                                    <button title="200" data-command="200" class="letter-spacing-command" style="margin-right:4px">200</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="margin-right: 20px;">\n                                <div>\n                                    <label>${t.out("Margin Left")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="ml-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="ml-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="ml-command" style="margin-right:2px">2</button>\n                                    <button title="3" data-command="3" class="ml-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="ml-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="ml-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Margin Right")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="mr-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="mr-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="mr-command" style="margin-right:2px">2</button>\n                                    <button title="3" data-command="3" class="mr-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="mr-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="mr-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div id="divButtonHover" class="is-tab-content" data-group="button">\n  \n                        <div class="flex flex-row">\n                            <div class="flex-col" style="margin-right: 40px;">\n                                <div>\n                                    <label>${t.out("Background Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Background Color")}" class="bg-color-hover-command" style="width:45px;height:40px;border:rgb(0 0 0 / 6%) 1px solid;margin-right:4px"></button>\n                                </div>\n                            </div>\n                    \n                            <div class="flex-col">\n                                <div>\n                                    <label>${t.out("Text Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Dark")}" data-command="dark" class="text-color-hover-command" style="margin-right:4px">${t.out("Dark")}</button>\n                                    <button title="${t.out("Light")}" data-command="light" class="text-color-hover-command" style="margin-right:4px">${t.out("Light")}</button>\n                                    <button title="${t.out("Current")}" data-command="current" class="text-color-hover-command" style="margin-right:4px">${t.out("Current")}</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-col" style="margin:15px 0 0">\n                            <div>\n                                <label>${t.out("Border Color")}</label>:\n                            </div>\n                            <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                <button title="${t.out("Transparent")}" data-command="transparent" class="border-color-hover-command" style="margin-right:4px">${t.out("Transparent")}</button>\n                                <button title="${t.out("Current")}" data-command="current" class="border-color-hover-command" style="margin-right:4px">${t.out("Current")}</button>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div id="divMyButtons" class="is-tab-content" data-group="button">\n\n\n                        <button title="${t.out("Save Current Button")}" class="input-save" style="width:220px;position: relative;z-index: 1;">${t.out("Save Current Button")}</button>\n                       \n                        <div id="divMyButtonList"></div>\n\n                    </div>\n                    <div id="divButtonTemplates" class="is-tab-content" data-group="button">\n\n                        <div id="divButtonTemplateList"></div>\n\n                    </div>\n                </div>\n            </div>\n            `;Om.appendHtml(i,e),n=i.querySelector(".is-modal.buttoneditor");let o,s=n.querySelector(".is-modal-close");Om.addEventListener(s,"click",(()=>{Om.removeClass(n,"active")}));const a=n.querySelector(".bg-color-command");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0),this.builder.simpleColorPicker((e=>{const t=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(t,"bg-"),Om.addClass(t,e),this.applyDefault(t),setTimeout((()=>{const e=Om.getStyle(t,"background-color");a.style.backgroundColor=e}),160),this.builder.opts.onChange()}))}));const r=n.querySelector(".text-color-command");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0),this.builder.simpleColorPicker((e=>{const t=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(t,"text-"),Om.addClass(t,e),this.applyDefault(t),setTimeout((function(){const e=Om.getStyle(t,"color");r.style.backgroundColor=e}),160),this.builder.opts.onChange()}),"text")}));const l=n.querySelector(".bg-color-hover-command");l.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0),this.builder.simpleColorPicker((e=>{const t=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(t,"hover:bg-"),e&&Om.addClass(t,"hover:"+e),this.applyDefault(t),this.getVisibleBgColor(e,(e=>{l.style.backgroundColor=e})),this.builder.opts.onChange()}))}));document.querySelectorAll(".text-color-hover-command").forEach((e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0);const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;i.classList&&i.classList.forEach((e=>{0===e.indexOf("hover:text-")&&Om.removeClass(i,e)})),"dark"===t?Om.addClass(i,"hover:text-black"):"light"===t&&Om.addClass(i,"hover:text-white"),this.applyDefault(i);document.querySelectorAll(".text-color-hover-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".border-color-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClass(i,"border-transparent"),Om.removeClass(i,"border-current"),"transparent"===t?Om.addClass(i,"border-transparent"):"current"===t&&Om.addClass(i,"border-current"),this.applyDefault(i);document.querySelectorAll(".border-color-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".border-color-hover-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClass(i,"hover:border-transparent"),Om.removeClass(i,"hover:border-current"),"transparent"===t?Om.addClass(i,"hover:border-transparent"):"current"===t&&Om.addClass(i,"hover:border-current"),this.applyDefault(i);document.querySelectorAll(".border-color-hover-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".border-width-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClass(i,"border-0"),Om.removeClass(i,"border"),Om.removeClass(i,"border-2"),"0"===t?Om.addClass(i,"border-0"):"1"===t?Om.addClass(i,"border"):"2"===t&&Om.addClass(i,"border-2"),this.applyDefault(i);document.querySelectorAll(".border-width-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".border-radius-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClass(i,"rounded"),Om.removeClassesByPrefix(i,"rounded-"),"normal"===t?Om.addClass(i,"rounded"):Om.addClass(i,"rounded-"+t),this.applyDefault(i);document.querySelectorAll(".border-radius-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".paddingx-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(i,"px-"),"2"===t&&Om.addClass(i,"px-2"),"3"===t&&Om.addClass(i,"px-3"),"4"===t&&Om.addClass(i,"px-4"),"5"===t&&Om.addClass(i,"px-5"),"6"===t&&Om.addClass(i,"px-6"),"8"===t&&Om.addClass(i,"px-8"),"11"===t&&Om.addClass(i,"px-11"),"12"===t&&Om.addClass(i,"px-12"),"14"===t&&Om.addClass(i,"px-14"),this.applyDefault(i);document.querySelectorAll(".paddingx-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".paddingy-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(i,"py-"),"0"===t&&Om.addClass(i,"py-0"),"1"===t&&Om.addClass(i,"py-1"),"2"===t&&Om.addClass(i,"py-2"),"3"===t&&Om.addClass(i,"py-3"),"4"===t&&Om.addClass(i,"py-4"),"5"===t&&Om.addClass(i,"py-5"),"6"===t&&Om.addClass(i,"py-6"),this.applyDefault(i);document.querySelectorAll(".paddingy-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".font-size-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(i,"size-"),Om.addClass(i,"size-"+t),this.applyDefault(i);document.querySelectorAll(".font-size-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))}));n.querySelector(".textcase-command").addEventListener("click",(()=>{this.builder.uo.saveForUndo();const e=this.builder.activeButton||this.builder.activeLinkButton;Om.hasClass(e,"uppercase")?Om.removeClass(e,"uppercase"):Om.addClass(e,"uppercase"),this.applyDefault(e);const t=n.querySelector(".textcase-command");Om.hasClass(t,"on")?Om.removeClass(t,"on"):Om.addClass(t,"on"),this.builder.opts.onChange()}));n.querySelector(".textunderline-command").addEventListener("click",(()=>{this.builder.uo.saveForUndo();const e=this.builder.activeButton||this.builder.activeLinkButton;Om.hasClass(e,"underline")?(Om.removeClass(e,"underline"),Om.addClass(e,"no-underline")):(Om.removeClass(e,"no-underline"),Om.addClass(e,"underline")),this.applyDefault(e);const t=n.querySelector(".textunderline-command");Om.hasClass(t,"on")?Om.removeClass(t,"on"):Om.addClass(t,"on"),this.builder.opts.onChange()}));n.querySelector(".textbold-command").addEventListener("click",(()=>{this.builder.uo.saveForUndo();const e=this.builder.activeButton||this.builder.activeLinkButton;Om.hasClass(e,"font-semibold")?(Om.removeClass(e,"font-semibold"),Om.addClass(e,"font-normal")):(Om.removeClass(e,"font-normal"),Om.addClass(e,"font-semibold")),this.applyDefault(e);const t=n.querySelector(".textbold-command");Om.hasClass(t,"on")?Om.removeClass(t,"on"):Om.addClass(t,"on"),this.builder.opts.onChange()})),o=document.querySelectorAll(".letter-spacing-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(i,"tracking-"),Om.addClass(i,"tracking-"+t),this.applyDefault(i);document.querySelectorAll(".letter-spacing-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".ml-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(i,"ml-"),Om.addClass(i,"ml-"+t),this.applyDefault(i);document.querySelectorAll(".ml-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))})),o=document.querySelectorAll(".mr-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),i=this.builder.activeButton||this.builder.activeLinkButton;Om.removeClassesByPrefix(i,"mr-"),Om.addClass(i,"mr-"+t),this.applyDefault(i);document.querySelectorAll(".mr-command").forEach((e=>{Om.removeClass(e,"on")})),Om.addClass(e,"on"),this.builder.opts.onChange()}))}));n.querySelector(".input-save").addEventListener("click",(()=>{const e=this.builder.activeButton||this.builder.activeLinkButton;let t=[];null!=localStorage.getItem("_savedbuttons")&&(t=JSON.parse(localStorage.getItem("_savedbuttons"))),Om.removeClass(e,"active"),Om.removeClass(e,"elm-active"),t.push({id:t.length,className:e.className}),localStorage.setItem("_savedbuttons",JSON.stringify(t)),this.renderMyButtons()}))}this.buttonModal=n}open(){Om.addClass(this.buttonModal,"active"),this.realtime(),this.renderMyButtons(),this.renderTemplates()}realtime(){const e=this.builder.activeButton||this.builder.activeLinkButton,t=this.buttonModal.querySelector(".bg-color-command");let i;t.style.backgroundColor="";const n=this.buttonModal.querySelector(".text-color-command");n.style.backgroundColor="";const o=this.buttonModal.querySelector(".bg-color-hover-command");let s;o.style.backgroundColor="",e.classList&&e.classList.forEach((e=>{0===e.indexOf("hover:bg-")&&this.getVisibleBgColor(e.replace("hover:",""),(e=>{o.style.backgroundColor=e})),0===e.indexOf("bg-")&&this.getVisibleBgColor(e,(e=>{t.style.backgroundColor=e})),0===e.indexOf("text-")&&this.getVisibleTextColor(e,(e=>{n.style.backgroundColor=e,i=e}))})),i||(i=Om.getStyle(e,"color"),n.style.backgroundColor=i),s=this.buttonModal.querySelector(".text-color-hover-command.on"),Om.removeClass(s,"on"),Om.hasClass(e,"hover:text-black")?(s=this.buttonModal.querySelector('.text-color-hover-command[data-command="dark"]'),Om.addClass(s,"on")):Om.hasClass(e,"hover:text-white")?(s=this.buttonModal.querySelector('.text-color-hover-command[data-command="light"]'),Om.addClass(s,"on")):(s=this.buttonModal.querySelector('.text-color-hover-command[data-command="current"]'),Om.addClass(s,"on")),s=this.buttonModal.querySelector(".border-color-hover-command.on"),Om.removeClass(s,"on"),Om.hasClass(e,"hover:border-transparent")?(s=this.buttonModal.querySelector('.border-color-hover-command[data-command="transparent"]'),Om.addClass(s,"on")):Om.hasClass(e,"hover:border-current")&&(s=this.buttonModal.querySelector('.border-color-hover-command[data-command="current"]'),Om.addClass(s,"on")),s=this.buttonModal.querySelector(".border-color-command.on"),Om.removeClass(s,"on"),Om.hasClass(e,"border-transparent")?(s=this.buttonModal.querySelector('.border-color-command[data-command="transparent"]'),Om.addClass(s,"on")):Om.hasClass(e,"border-current")&&(s=this.buttonModal.querySelector('.border-color-command[data-command="current"]'),Om.addClass(s,"on")),s=this.buttonModal.querySelector(".textcase-command"),Om.hasClass(e,"uppercase")?Om.addClass(s,"on"):Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".textunderline-command"),Om.hasClass(e,"underline")?Om.addClass(s,"on"):Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".font-size-command.on"),Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".paddingx-command.on"),Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".paddingy-command.on"),Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".border-radius-command.on"),Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".letter-spacing-command.on"),Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".ml-command.on"),Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".mr-command.on"),Om.removeClass(s,"on"),s=this.buttonModal.querySelector(".textbold-command"),Om.hasClass(e,"font-semibold")?Om.addClass(s,"on"):Om.removeClass(s,"on"),Om.hasClass(e,"rounded")&&(s=this.buttonModal.querySelector('.border-radius-command[data-command="normal"]'),Om.addClass(s,"on")),e.classList&&e.classList.forEach((e=>{if(0===e.indexOf("size-")){let t=e.replace("size-",""),i=this.buttonModal.querySelector(`.font-size-command[data-command="${t}"]`);Om.addClass(i,"on")}if(0===e.indexOf("px-")){let t=e.replace("px-",""),i=this.buttonModal.querySelector(`.paddingx-command[data-command="${t}"]`);Om.addClass(i,"on")}if(0===e.indexOf("py-")){let t=e.replace("py-",""),i=this.buttonModal.querySelector(`.paddingy-command[data-command="${t}"]`);Om.addClass(i,"on")}if(0===e.indexOf("rounded-")){let t=e.replace("rounded-",""),i=this.buttonModal.querySelector(`.border-radius-command[data-command="${t}"]`);Om.addClass(i,"on")}if(0===e.indexOf("tracking-")){let t=e.replace("tracking-",""),i=this.buttonModal.querySelector(`.letter-spacing-command[data-command="${t}"]`);Om.addClass(i,"on")}if(0===e.indexOf("ml-")){let t=e.replace("ml-",""),i=this.buttonModal.querySelector(`.ml-command[data-command="${t}"]`);Om.addClass(i,"on")}if(0===e.indexOf("mr-")){let t=e.replace("mr-",""),i=this.buttonModal.querySelector(`.mr-command[data-command="${t}"]`);Om.addClass(i,"on")}}))}hide(){Om.removeClass(this.buttonModal,"active")}getVisibleBgColor(e,t){const i=document.createElement("div");i.className=e,this.builderStuff.appendChild(i),t(Om.getStyle(i,"background-color")),this.builderStuff.removeChild(i)}getVisibleTextColor(e,t){const i=document.createElement("div");i.className=e,this.builderStuff.appendChild(i),t(Om.getStyle(i,"color")),this.builderStuff.removeChild(i)}renderTemplates(){const e=[{text:"Order Now",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid rounded-full border-current ml-1 mr-1 px-8 py-2 text-pink-600 hover:text-white  bg-white hover:bg-pink-500 hover:border-transparent size-18 font-semibold tracking-75"},{text:"Explore",className:"transition-all inline-block cursor-pointer no-underline font-semibold border-2 border-solid tracking-200 rounded-full border-current size-12 ml-1 mr-1 py-0 px-3 text-indigo-600 hover:text-white bg-white hover:bg-indigo-500 hover:border-transparent"},{text:"View Demo",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid border-transparent ml-1 mr-1 hover:border-transparent rounded bg-gray-200 hover:bg-gray-300 size-16 py-1 px-5 font-normal tracking-wide text-gray-800"},{text:"Get Started",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid ml-1 mr-1 rounded size-16 text-black py-1 px-5 font-normal border-current hover: hover:border-current tracking-wide"},{text:"Create",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid border-transparent ml-1 mr-1 hover:border-transparent size-12 rounded bg-yellow-300 text-black bg-white hover:bg-yellow-400 font-normal px-3 py-0 tracking-75"},{text:"Hello!",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid border-current ml-1 mr-1 hover:text-white hover:border-transparent rounded-lg size-24 font-normal py-2 tracking-150 px-12 text-orange-500 bg-white hover:bg-orange-500"},{text:"Build",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid border-transparent ml-1 mr-1 text-violet-700 hover:border-transparent hover:bg-cyan-200 rounded uppercase size-12 tracking-75 px-4 py-1 font-semibold bg-cyan-200"},{text:"Contact",className:"transition-all inline-block border-2 border-solid rounded-none no-underline hover:border-transparent ml-1 mr-1 cursor-pointer bg-white text-red-600 border-current hover:bg-red-600 hover:text-white uppercase size-12 font-semibold py-2 px-6 tracking-150"},{text:"Read More",className:"transition-all inline-block cursor-pointer border-2 border-solid border-transparent ml-1 mr-1 hover:border-transparent rounded size-16 py-1 px-5 font-normal tracking-wide text-gray-800 underline"},{text:"Send a Message",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid ml-1 mr-1 rounded tracking-75 uppercase px-6 py-2 size-12 hover:border-transparent font-semibold bg-gray-200 border-transparent hover:bg-gray-300 text-gray-800"},{text:"Our Works",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid ml-1 mr-1 rounded tracking-75 uppercase px-6 py-2 size-12 border-current hover:text-white hover:border-transparent hover:bg-indigo-500 text-indigo-500 font-semibold"},{text:"Read More",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid mr-1 tracking-75 uppercase py-2 size-14 px-8 rounded font-normal ml-1 border-transparent bg-gray-200 hover:bg-gray-300 hover:border-transparent text-gray-800"},{text:"Get a Quote",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid mr-1 tracking-75 uppercase py-2 size-14 px-8 border-current rounded text-black hover:border-current font-normal ml-1"},{text:"Try Demo",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid border-transparent hover:border-transparent bg-gray-200 hover:bg-gray-300 size-16 text-black font-normal uppercase py-3 px-11 tracking-75 mr-3 ml-0 rounded-md"},{text:"Buy Now",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid size-16 tracking-75 font-normal uppercase px-11 py-3 hover:text-white hover:bg-teal-500 bg-teal-400 text-white border-transparent hover:border-transparent ml-0 mr-2 rounded-md"},{text:"Play",className:"transition-all inline-block cursor-pointer no-underline border-2 border-solid ml-1 mr-1 size-16 text-black tracking-75 font-normal uppercase px-11 border-current hover:border-current py-3 rounded"}];let t="";for(let i=0;i<e.length;i++)t+=`<a class="${e[i].className}" href="#">${e[i].text}</a>`;document.querySelector("#divButtonTemplateList").innerHTML=t;let i=this.buttonModal.querySelectorAll("#divButtonTemplateList a");Array.prototype.forEach.call(i,(e=>{e.addEventListener("click",(t=>{this.builder.uo.saveForUndo();const i=this.builder.activeButton||this.builder.activeLinkButton;return this.applyStyles(i,e),this.cleanupOldClasses(i),this.builder.opts.onChange(),t.preventDefault(),!1}))}))}renderMyButtons(){if(!localStorage.getItem("_savedbuttons"))return;let e=JSON.parse(localStorage.getItem("_savedbuttons")),t="";for(let i=0;i<e.length;i++)t+=`<a data-id="${e[i].id}" class="${e[i].className}" href="#">Button<span class="is-button-remove"><svg class="is-icon-flex" style="fill:rgba(255, 255, 266, 1);width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></span></a>`;document.querySelector("#divMyButtonList").innerHTML=t;let i=this.buttonModal.querySelectorAll("#divMyButtonList a");Array.prototype.forEach.call(i,(e=>{e.addEventListener("click",(t=>{this.builder.uo.saveForUndo();const i=this.builder.activeButton||this.builder.activeLinkButton;var n=this.buttonModal.querySelectorAll("#divMyButtonList a");return Array.prototype.forEach.call(n,(e=>{Om.removeClass(e,"active")})),Om.addClass(e,"active"),this.applyStyles(i,e),this.cleanupOldClasses(i),this.builder.opts.onChange(),t.preventDefault(),!1}))})),i=this.buttonModal.querySelectorAll(".is-button-remove"),Array.prototype.forEach.call(i,(e=>{e.addEventListener("click",(e=>{const t=e.target.closest("a").getAttribute("data-id");if(null!=localStorage.getItem("_savedbuttons")){let i=JSON.parse(localStorage.getItem("_savedbuttons"));for(let n=0;n<i.length;n++)if(i[n].id===parseInt(t)){i.splice(n,1);for(let e=0;e<i.length;e++)i[e].id=e;return localStorage.setItem("_savedbuttons",JSON.stringify(i)),this.renderMyButtons(),e.stopImmediatePropagation(),e.preventDefault(),!1}}return e.stopImmediatePropagation(),e.preventDefault(),!1}))}))}applyStyles(e,t){e.className=t.className.replace(" active ","").replace("active ","").replace(" active",""),this.applyDefault(e),this.realtime()}applyDefault(e){Om.addClass(e,"transition-all"),Om.addClass(e,"inline-block"),Om.addClass(e,"cursor-pointer"),Om.addClass(e,"border-2"),Om.addClass(e,"border-solid"),e.removeAttribute("style"),e.removeAttribute("onmouseover"),e.removeAttribute("onmouseout"),e.removeAttribute("data-hover-bgcolor"),e.removeAttribute("data-hover-color"),e.removeAttribute("data-hover-bordercolor")}cleanupOldClasses(e){Om.removeClass(e,"is-btn-ghost1"),Om.removeClass(e,"is-btn-ghost2"),Om.removeClass(e,"is-upper"),Om.removeClass(e,"is-btn-small"),Om.removeClass(e,"is-btn"),Om.removeClass(e,"is-rounded-30"),Om.removeClass(e,"btn-primary"),Om.removeClass(e,"btn-default"),Om.removeClass(e,"btn")}}const Nm=new ni;class Bm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.builderStuff=i,this.buttonEditor=new Rm(e);let n=i.querySelector("#divLinkTool");if(!n){let e=`<div id="divLinkTool" class="is-tool">\n            <button title="${t.out("Edit Button")}" data-title="${t.out("Edit Button")}" class="link-button-edit" style="display:none;"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-android-create"></use></svg></button>\n                <button title="${t.out("Link")}" data-title="${t.out("Link")}" class="link-edit"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-link"></use></svg></button>\n                <button title="${t.out("Duplicate")}" data-title="${t.out("Duplicate")}" class="link-duplicate"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n                <button title="${t.out("Delete")}" data-title="${t.out("Delete")}" class="link-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>\n            <div class="is-modal createlink">\n                <div class="is-modal-content">  \n                    <label for="inpCreateLinkUrl">${t.out("Link")}:</label>\n                    <div class="link-src">\n                        <input id="inpCreateLinkUrl" class="input-url" type="text"/>\n                        <button title="${t.out("Select")}" class="input-select"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                    </div>\n                    <label style="display:block;margin-top:14px;">\n                        <input class="input-newwindow" type="checkbox" />  ${t.out("Open new window")}&nbsp;\n                    </label>\n                    <label id="lblOpenLightbox" style="${this.builder.useLightbox?"display:block":"display:none"};margin-top:5px;margin-bottom:14px;">\n                        <input class="input-openlightbox" type="checkbox" />  ${t.out("Open in a lightbox (for image, video or Youtube)")}&nbsp;\n                    </label>\n\n                    <label id="lblCreateLinkText" for="inpCreateLinkText" style="margin-top:14px;display:block">${t.out("Text")}:</label>\n                    <input id="inpCreateLinkText" class="input-text" type="text" style="width:100%;"/>\n                    \n                    <label for="inpCreateLinkTitle" style="margin-top:14px;display:block">${t.out("Title")}:</label>\n                    <input id="inpCreateLinkTitle" class="input-title" type="text" style="width:100%;border-top: none;"/>\n                    \n                    <div style="text-align:right;margin-top:14px;">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n            \n            <div class="is-modal fileselect">\n                <div class="is-modal-content" style="max-width:800px;height:80%;padding:0;">\n                    <iframe style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                </div>\n            </div>\n            `;Nm.appendHtml(i,e),n=i.querySelector("#divLinkTool");let o=n.querySelector(".link-edit");Nm.addEventListener(o,"click",(()=>{this.editLink()}));let s=n.querySelector(".link-button-edit");Nm.addEventListener(s,"click",(()=>{this.editButton()}));let a=n.querySelector(".link-duplicate");Nm.addEventListener(a,"click",(()=>{if(this.builder.activeLink)if(this.builder.uo.saveForUndo(),this.builder.opts.emailMode){for(var e=this.builder.activeLink;"table"!==e.tagName.toLowerCase()&&!Nm.hasClass(e,"button");)e=e.parentNode;let t=e=e.parentNode;const i=t.cloneNode(!0);let n=i.querySelector(".icon-active");n&&Nm.removeClass(n,"icon-active"),i.style.paddingRight="15px",t.parentNode.insertBefore(i,t),this.showTool(this.builder.activeLink)}else{const e=this.builder.activeLink.cloneNode(!0);let t=e.querySelector(".icon-active");t&&Nm.removeClass(t,"icon-active"),this.builder.activeLink.parentNode.insertBefore(e,this.builder.activeLink),this.showTool(this.builder.activeLink)}}));let r=n.querySelector(".link-remove");Nm.addEventListener(r,"click",(()=>{if(this.builder.uo.saveForUndo(),this.builder.opts.emailMode){for(var e=this.builder.activeLink;"table"!==e.tagName.toLowerCase()&&!Nm.hasClass(e,"button");)e=e.parentNode;let t=e=e.parentNode;t&&t.parentNode.removeChild(t),n.style.display=""}else this.builder.activeLink&&this.builder.activeLink.parentNode.removeChild(this.builder.activeLink),n.style.display="";this.builder.activeLink.querySelector(".icon-active")&&(this.builder.activeIcon=null)}));let l=this.builderStuff.querySelector(".is-modal.createlink"),d=l.querySelector(".input-ok");Nm.addEventListener(d,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeLink;if(e){let t=l.querySelector(".input-url").value,n=l.querySelector(".input-title").value,o=l.querySelector(".input-text").value;if(""===o&&(o=t),""!==t)e.setAttribute("href",t),l.querySelector(".input-newwindow").checked?e.setAttribute("target","_blank"):e.removeAttribute("target"),l.querySelector(".input-openlightbox").checked?Nm.addClass(e,"is-lightbox"):Nm.removeClass(e,"is-lightbox"),this.builder.activeIcon||(e.innerHTML=o),e.setAttribute("title",n);else{var i=e;if(Nm.selectElementContents(i),document.execCommand("unlink",!1,null),this.builder.activeIcon){this.builder.activeIcon.setAttribute("dummy-sel",""),e.outerHTML=this.builder.activeIcon.outerHTML;let t=document.querySelector("[dummy-sel]");t.removeAttribute("dummy-sel"),this.builder.activeIcon=t,this.builder.activeIcon.click()}}this.builder.opts.onChange()}else{t.restoreSelection();let e=l.querySelector(".input-url").value,i=l.querySelector(".input-title").value,n=l.querySelector(".input-text").value;if(""===n&&(n=e),""!==e){let o;if(this.builder.uo.saveForUndo(),this.builder.activeIcon){let n=this.builder.activeIcon.outerHTML;this.builder.activeIcon.outerHTML=`<a class="__dummy" href="${e}">${n}</a>`,o=document.querySelector(".__dummy"),Nm.removeClass(o,"__dummy"),l.querySelector(".input-newwindow").checked?o.setAttribute("target","_blank"):o.removeAttribute("target"),l.querySelector(".input-openlightbox").checked?Nm.addClass(o,"is-lightbox"):Nm.removeClass(o,"is-lightbox"),o.setAttribute("title",i),this.builder.activeIcon=o.childNodes[0],t.appleMobile||(this.builder.activeIcon.click(),Nm.selectElementContents(this.builder.activeIcon),document.selection?document.selection.empty():window.getSelection().removeAllRanges())}else{document.execCommand("createLink",!1,"http://dummy");let o=document.querySelector('a[href="http://dummy"]');o.setAttribute("href",e),o.innerHTML=n,l.querySelector(".input-newwindow").checked?o.setAttribute("target","_blank"):o.removeAttribute("target"),l.querySelector(".input-openlightbox").checked?Nm.addClass(o,"is-lightbox"):Nm.removeClass(o,"is-lightbox"),o.setAttribute("title",i),t.appleMobile||Nm.selectElementContents(o)}}t.saveSelection(),this.builder.opts.onChange(),this.builder.opts.onRender()}t.hideModal(l)}));let c=l.querySelector(".input-cancel");Nm.addEventListener(c,"click",(()=>{t.hideModal(l),t.appleMobile||t.restoreSelection()}))}this.linkTool=n}click(e,t){let i=!1;e.hasAttribute("data-html")&&(i=!0);let n=!1;e.hasAttribute("data-noedit")&&(n=!0);let o=!1;e.hasAttribute("data-protected")&&(o=!0);const s=t.target;if(this.builder.activeLink=null,this.builder.activeLinkButton=null,"a"!==s.tagName.toLowerCase()&&!Nm.parentsHasTag(s,"a")||i||n||o)this.hideTool();else{if(s.childNodes.length>0&&s.childNodes[0].tagName&&"i"===s.childNodes[0].tagName.toLowerCase()&&1===s.childNodes.length&&""===s.childNodes[0].innerHTML){const e=document.querySelectorAll(".icon-active");Array.prototype.forEach.call(e,(e=>{Nm.removeClass(e,"icon-active")})),Nm.addClass(s.childNodes[0],"icon-active"),Nm.selectElementContents(s.childNodes[0]),this.builder.activeIcon=s.childNodes[0]}if("img"===s.tagName.toLowerCase())return;let e,i;if("a"===s.tagName.toLowerCase())e=s;else{let t=s;for(;"a"!==t.tagName.toLowerCase();)t=t.parentNode;e=t}this.builder.activeLink=e;let n=Nm.getStyle(e,"display");"inline-block"!==n&&"block"!==n||(i=!0),i&&(this.builder.activeLinkButton=e),this.showTool(e),t.preventDefault()}}showTool(e){const t=this.linkTool;"inline-block"===Nm.getStyle(e,"display")||this.builder.activeIcon?(t.querySelector(".link-duplicate").style.display="block",t.querySelector(".link-remove").style.display="block"):(t.querySelector(".link-duplicate").style.display="none",t.querySelector(".link-remove").style.display="none"),this.builder.useButtonPlugin?t.querySelector(".link-button-edit").style.display="none":e&&this.builder.activeLinkButton?t.querySelector(".link-button-edit").style.display="block":t.querySelector(".link-button-edit").style.display="none",Nm.hasClass(this.buttonEditor.buttonModal,"active")&&this.buttonEditor.realtime();let i=e.getBoundingClientRect().top;this.builder.activeIcon&&(i=this.builder.activeIcon.getBoundingClientRect().top);const n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;t.style.top=i-s+window.pageYOffset-3+"px",t.style.left=n+e.offsetWidth*this.builder.opts.zoom-o+"px"}hideTool(){this.linkTool.style.display=""}editButton(){this.buttonEditor.open()}createLink(){const e=new ii(this.builder);let t;if(this.builder.activeLink)t=this.builder.activeLink;else{let i;try{let e;window.getSelection?(e=window.getSelection().getRangeAt(0).commonAncestorContainer,i=3===e.nodeType?e.parentNode:e):document.selection&&(e=document.selection.createRange(),i=document.selection.createRange().parentElement())}catch(e){if(!this.builder.activeIcon)return;i=this.builder.activeIcon}if("a"===i.nodeName.toLowerCase())t=i;else{let e=i;for(;"a"!==e.nodeName.toLowerCase()&&"BODY"!==e.tagName&&"HTML"!==e.tagName;)e.parentNode&&(e=e.parentNode);"a"===e.nodeName.toLowerCase()&&(t=e)}t&&(this.builder.activeLink=t,"i"===i.nodeName.toLowerCase()&&""===i.innerHTML||(Nm.selectElementContents(this.builder.activeLink),e.saveSelection()))}var i=Nm.getSelected();let n=this.builderStuff.querySelector(".is-modal.createlink");if(this.builder.opts.onFileSelectClick||""!==this.builder.opts.fileselect){n.querySelector(".input-select").style.display="block";let t=n.querySelector(".input-select");Nm.addEventListener(t,"click",(t=>{if(this.builder.opts.onFileSelectClick)this.builder.opts.onFileSelectClick({targetInput:n.querySelector(".input-url"),theTrigger:n.querySelector(".input-select")});else{let t=this.builderStuff.querySelector(".is-modal.fileselect");this.builder.opts.assetRefresh&&(t.querySelector("iframe").src=this.builder.opts.fileselect,this.builder.opts.assetRefresh=!1),"about:blank"===t.querySelector("iframe").src&&(t.querySelector("iframe").src=this.builder.opts.fileselect),e.showModal(t,!1,null,!1)}this.builder.targetInput=n.querySelector(".input-url"),this.builder.targetCallback=null,this.builder.targetAssetType="all",t.preventDefault(),t.stopImmediatePropagation()}))}else n.querySelector(".input-select").style.display="none";if(n.querySelector(".input-url").value="",n.querySelector(".input-newwindow").checked=!1,n.querySelector(".input-openlightbox").checked=!1,n.querySelector(".input-title").value="",n.querySelector(".input-text").value="",n.querySelector("#lblCreateLinkText").style.display="",n.querySelector("#inpCreateLinkText").style.display="",t){let e=t.getAttribute("href"),i=t.getAttribute("target"),o=t.getAttribute("title"),s=t.innerHTML;n.querySelector(".input-url").value=e,n.querySelector(".input-newwindow").checked="_blank"===i,Nm.hasClass(t,"is-lightbox")?n.querySelector(".input-openlightbox").checked=!0:n.querySelector(".input-openlightbox").checked=!1,n.querySelector(".input-title").value=o,n.querySelector(".input-text").value=s}else n.querySelector(".input-text").value=i,this.builder.activeIcon&&(n.querySelector("#lblCreateLinkText").style.display="none",n.querySelector("#inpCreateLinkText").style.display="none");e.showModal(n,!0,(()=>{e.appleMobile||e.restoreSelection()}),!0),n.querySelector(".input-url").focus()}editLink(){const e=new ii(this.builder);let t=this.builder.activeLink,i=this.builderStuff.querySelector(".is-modal.createlink"),n=t.querySelector("i");if(i.querySelector("#lblCreateLinkText").style.display="",i.querySelector("#inpCreateLinkText").style.display="",1===t.childElementCount&&n&&Nm.hasClass(n,"icon")&&(i.querySelector("#lblCreateLinkText").style.display="none",i.querySelector("#inpCreateLinkText").style.display="none"),this.builder.opts.onFileSelectClick||""!==this.builder.opts.fileselect){i.querySelector(".input-select").style.display="block",i.querySelector(".input-url").style.width="444px";let t=i.querySelector(".input-select");Nm.addEventListener(t,"click",(()=>{if(this.builder.opts.onFileSelectClick)this.builder.opts.onFileSelectClick({targetInput:i.querySelector(".input-url"),theTrigger:i.querySelector(".input-select")});else{let t=this.builderStuff.querySelector(".is-modal.fileselect");this.builder.opts.assetRefresh&&(t.querySelector("iframe").src=this.builder.opts.fileselect,this.builder.opts.assetRefresh=!1),"about:blank"===t.querySelector("iframe").src&&(t.querySelector("iframe").src=this.builder.opts.fileselect),e.showModal(t,!1,null,!1)}this.builder.targetInput=i.querySelector(".input-url"),this.builder.targetCallback=null,this.builder.targetAssetType="all"}))}else i.querySelector(".input-select").style.display="none",i.querySelector(".input-url").style.width="100%";let o=t.getAttribute("href"),s=t.getAttribute("target"),a=t.getAttribute("title"),r=t.innerHTML;i.querySelector(".input-url").value=o,i.querySelector(".input-newwindow").checked="_blank"===s,Nm.hasClass(t,"is-lightbox")?i.querySelector(".input-openlightbox").checked=!0:i.querySelector(".input-openlightbox").checked=!1,i.querySelector(".input-title").value=a,i.querySelector(".input-text").value=r,e.showModal(i,!0,null,!0),i.querySelector(".input-url").focus()}}const Im=new ni;class Dm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.builderStuff=i,this.buttonEditor=new Rm(e);let n=i.querySelector("#divButtonTool");if(!n){let e=`<div id="divButtonTool" class="is-tool">\n                <button title="${t.out("Edit Button")}" data-title="${t.out("Edit Button")}" class="button-edit"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-android-create"></use></svg></button>\n                <button title="${t.out("Duplicate")}" data-title="${t.out("Duplicate")}" class="button-duplicate"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n                <button title="${t.out("Delete")}" data-title="${t.out("Delete")}" class="button-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>\n            `;Im.appendHtml(i,e),n=i.querySelector("#divButtonTool");let o=n.querySelector(".button-edit");Im.addEventListener(o,"click",(()=>{this.editButton()}));let s=n.querySelector(".button-duplicate");Im.addEventListener(s,"click",(()=>{if(this.builder.activeButton){this.builder.uo.saveForUndo();const e=this.builder.activeButton.cloneNode(!0);let t=e.querySelector(".elm-active");t&&Im.removeClass(t,"elm-active"),this.builder.activeButton.parentNode.insertBefore(e,this.builder.activeButton),this.showTool(this.builder.activeButton)}}));let a=n.querySelector(".button-remove");Im.addEventListener(a,"click",(()=>{this.builder.uo.saveForUndo(),this.builder.activeButton&&this.builder.activeButton.parentNode.removeChild(this.builder.activeButton),n.style.display="",this.builder.activeButton=null}))}this.buttonTool=n}click(e,t){let i=!1;e.hasAttribute("data-html")&&(i=!0);let n=!1;e.hasAttribute("data-noedit")&&(n=!0);let o=!1;e.hasAttribute("data-protected")&&(o=!0);const s=t.target;this.builder.activeButton=null;const a=s.closest("button");!a||i||n||o?this.hideTool():(this.builder.activeButton=a,this.showTool(a),t.preventDefault())}editButton(){this.buttonEditor.open()}showTool(e){Im.hasClass(this.buttonEditor.buttonModal,"active")&&this.buttonEditor.realtime();const t=this.buttonTool;let i=e.getBoundingClientRect().top;const n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;t.style.top=i-s+window.pageYOffset-3+"px",t.style.left=n+e.offsetWidth*this.builder.opts.zoom-o+"px"}hideTool(){this.buttonTool.style.display=""}}const $m=new ni;class Pm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector(".is-spacer-tool");if(!n){let e=`\n            <div id="divSpacerTool" class="is-tool is-spacer-tool">\n                <button title="${t.out("Decrease")}" data-value="-"><svg class="is-icon-flex"><use xlink:href="#ion-ios-minus-empty"></use></svg></button>\n                <button title="${t.out("Increase")}" data-value="+" style="border-left: none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            </div>\n            `;$m.appendHtml(i,e),n=i.querySelector(".is-spacer-tool");const o=n.querySelectorAll("button");Array.prototype.forEach.call(o,(e=>{$m.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-value");let i=this.builder.activeSpacer;"-"===t?$m.hasClass(i,"height-300")?($m.removeClass(i,"height-300"),$m.addClass(i,"height-280")):$m.hasClass(i,"height-280")?($m.removeClass(i,"height-280"),$m.addClass(i,"height-260")):$m.hasClass(i,"height-260")?($m.removeClass(i,"height-260"),$m.addClass(i,"height-240")):$m.hasClass(i,"height-240")?($m.removeClass(i,"height-240"),$m.addClass(i,"height-220")):$m.hasClass(i,"height-220")?($m.removeClass(i,"height-220"),$m.addClass(i,"height-200")):$m.hasClass(i,"height-200")?($m.removeClass(i,"height-200"),$m.addClass(i,"height-180")):$m.hasClass(i,"height-180")?($m.removeClass(i,"height-180"),$m.addClass(i,"height-160")):$m.hasClass(i,"height-160")?($m.removeClass(i,"height-160"),$m.addClass(i,"height-140")):$m.hasClass(i,"height-140")?($m.removeClass(i,"height-140"),$m.addClass(i,"height-120")):$m.hasClass(i,"height-120")?($m.removeClass(i,"height-120"),$m.addClass(i,"height-100")):$m.hasClass(i,"height-100")?($m.removeClass(i,"height-100"),$m.addClass(i,"height-80")):$m.hasClass(i,"height-80")?($m.removeClass(i,"height-80"),$m.addClass(i,"height-60")):$m.hasClass(i,"height-60")?($m.removeClass(i,"height-60"),$m.addClass(i,"height-40")):$m.hasClass(i,"height-40")&&($m.removeClass(i,"height-40"),$m.addClass(i,"height-20")):$m.hasClass(i,"height-20")?($m.removeClass(i,"height-20"),$m.addClass(i,"height-40")):$m.hasClass(i,"height-40")?($m.removeClass(i,"height-40"),$m.addClass(i,"height-60")):$m.hasClass(i,"height-60")?($m.removeClass(i,"height-60"),$m.addClass(i,"height-80")):$m.hasClass(i,"height-80")?($m.removeClass(i,"height-80"),$m.addClass(i,"height-100")):$m.hasClass(i,"height-100")?($m.removeClass(i,"height-100"),$m.addClass(i,"height-120")):$m.hasClass(i,"height-120")?($m.removeClass(i,"height-120"),$m.addClass(i,"height-140")):$m.hasClass(i,"height-140")?($m.removeClass(i,"height-140"),$m.addClass(i,"height-160")):$m.hasClass(i,"height-160")?($m.removeClass(i,"height-160"),$m.addClass(i,"height-180")):$m.hasClass(i,"height-180")?($m.removeClass(i,"height-180"),$m.addClass(i,"height-200")):$m.hasClass(i,"height-200")?($m.removeClass(i,"height-200"),$m.addClass(i,"height-220")):$m.hasClass(i,"height-220")?($m.removeClass(i,"height-220"),$m.addClass(i,"height-240")):$m.hasClass(i,"height-240")?($m.removeClass(i,"height-240"),$m.addClass(i,"height-260")):$m.hasClass(i,"height-260")?($m.removeClass(i,"height-260"),$m.addClass(i,"height-280")):$m.hasClass(i,"height-280")&&($m.removeClass(i,"height-280"),$m.addClass(i,"height-300")),this.showTool(i),this.builder.opts.onChange(),this.builder.opts.onRender()}))}))}this.spacerTool=n}click(e){const t=e.target;$m.hasClass(t,"spacer")?(this.builder.activeSpacer=t,document.selection?document.selection.empty():window.getSelection().removeAllRanges(),this.showTool(t)):this.hideTool()}showTool(e){const t=e.getBoundingClientRect().top+window.pageYOffset,i=e.getBoundingClientRect().left;this.spacerTool.style.display="flex";const n=this.spacerTool.offsetWidth,o=this.spacerTool.offsetHeight;this.spacerTool.style.top=t+(e.offsetHeight*this.builder.opts.zoom-o)/2+"px",this.spacerTool.style.left=i+(e.offsetWidth*this.builder.opts.zoom-n)/2+"px"}hideTool(){this.spacerTool.style.display=""}}const Hm=new ni;class zm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n,o=i.querySelector(".is-module-tool");if(!o){let e=`\n            <div class="is-tool is-module-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n\n            <input id="hidContentModuleCode" type="hidden" />\n            <input id="hidContentModuleSettings" type="hidden" />\n            \n            <div class="is-modal custommodule">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable">\n                        ${t.out("Module Settings")}\n                        <div class="is-modal-close" ole="button" tabindex="0" title="${t.out("Close")}">&#10005;</div>\n                    </div>\n                    <iframe style="position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-bottom:90px solid transparent;border-top:40px solid transparent;margin:0;box-sizing:border-box;" src="about:blank"></iframe>\n                    <div style="width:100%;height:90px;padding: 20px; box-sizing: border-box;position:absolute;left:0;bottom:0;overflow:hidden;text-align:right">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div> \n            `;Hm.appendHtml(i,e),o=i.querySelector(".is-module-tool"),n=i.querySelector(".is-modal.custommodule");let s=o.querySelector("button");Hm.addEventListener(s,"click",(()=>{let e=this.builder.activeModule;Hm.removeAttributes(document.querySelectorAll("[data-module-active]"),"data-module-active"),e.setAttribute("data-module-active","1");var t=e.getAttribute("data-module"),i=e.getAttribute("data-module-desc");n.querySelector(".is-modal-bar").innerHTML=i?i+'<div class="is-modal-close" style="z-index:1;width:32px;height:32px;position:absolute;top:0px;right:0px;box-sizing:border-box;padding:0;line-height:32px;font-size: 12px;text-align:center;cursor:pointer;">&#10005;</div>':this.util.out("Module Settings")+'<div class="is-modal-close" style="z-index:1;width:32px;height:32px;position:absolute;top:0px;right:0px;box-sizing:border-box;padding:0;line-height:32px;font-size: 12px;text-align:center;cursor:pointer;">&#10005;</div>';var o=e.getAttribute("data-dialog-width");o&&""!==o||(o="900px");var s=e.getAttribute("data-dialog-height");s&&""!==s||(s="570px"),n.querySelector("div:not(.is-modal-overlay)").style.maxWidth=o,n.querySelector("div:not(.is-modal-overlay)").style.height=s;let a=n.querySelector(".is-modal-close");Hm.addEventListener(a,"click",(()=>{this.util.hideModal(n)}));var r=1;const l=e.querySelectorAll("[data-subblock]");Array.prototype.forEach.call(l,(t=>{if(Hm.hasClass(t.parentNode,"glide__slide--clone"))return;let i=t.innerHTML;e.setAttribute("data-html-"+r,encodeURIComponent(i)),r++})),this.util.showModal(n,!0);var d=new Date;n.querySelector("iframe").src=this.builder.opts.modulePath+t+".html?"+d.getTime()}));let a=n.querySelector(".input-ok");Hm.addEventListener(a,"click",(()=>{let e=n.querySelector("iframe");e.contentWindow.construct&&e.contentWindow.construct(),this.builder.uo.saveForUndo();let t=this.builder.activeModule;t.setAttribute("data-html",encodeURIComponent(this.builderStuff.querySelector("#hidContentModuleCode").value)),t.setAttribute("data-settings",encodeURIComponent(this.builderStuff.querySelector("#hidContentModuleSettings").value));let i=this.builderStuff.querySelector("#hidContentModuleCode").value;i=i.replace(/{id}/g,this.util.makeId()),t.innerHTML="";var o=document.createRange();o.setStart(t,0),t.appendChild(o.createContextualFragment(i));let s=t.querySelectorAll("[data-subblock]");var a=1;Array.prototype.forEach.call(s,(e=>{t.getAttribute("data-html-"+a)&&(e.innerHTML=decodeURIComponent(t.getAttribute("data-html-"+a))),a++}));let r=document.querySelector(".builder-active");r&&this.builder.applyBehaviorOn(r),this.builder.opts.onChange(),this.builder.opts.onRender(),this.util.hideModal(n),this.util.hideControls(),this.util.repositionColumnTool(!0),this.builder.onRefreshTool&&this.builder.onRefreshTool()}));let r=n.querySelector(".input-cancel");Hm.addEventListener(r,"click",(()=>{this.util.hideModal(n)}))}this.moduleTool=o,this.moduleModal=n}click(e){let t=!1;if(e.hasAttribute("data-module")&&(t=!0),t){this.builder.activeModule=e;let t=e;this.moduleTool.style.display="flex";let i=this.moduleTool.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,o=t.getBoundingClientRect().top+window.pageYOffset,s=t.getBoundingClientRect().left-2;s+=n-i;i+s>window.innerWidth&&(s=t.getBoundingClientRect().left),this.moduleTool.style.top=o+"px",this.moduleTool.style.left=s+"px"}else this.builder.activeModule=null,this.moduleTool.style.display=""}}const Fm=new ni;class jm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new Wo(e);this.htmlUtil=n;let o=i.querySelector(".is-code-tool");if(!o){let e=`\n            <div class="is-tool is-code-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            `;Fm.appendHtml(i,e),o=i.querySelector(".is-code-tool");let n=o.querySelector("button");Fm.addEventListener(n,"click",(()=>{let e=this.builder.activeCodeBlock,i=this.builderStuff.querySelector("#tmp_buildercontent");i&&i.parentNode.removeChild(i),Fm.appendHtml(this.builderStuff,'<div id="tmp_buildercontent" style="position:absolute;top:0;left:0;width:1px;height:1px;overflow:hidden;visibility:hidden;"></div>'),i=this.builderStuff.querySelector("#tmp_buildercontent");var n=1;const o=e.querySelectorAll("is-builder");Array.prototype.forEach.call(o,(t=>{let o=t.innerHTML;i=this.builderStuff.querySelector("#tmp_buildercontent"),i.innerHTML=o;let s=i.querySelectorAll(".elm-active");Fm.removeClasses(s,"elm-active"),s=i.querySelectorAll(".elm-inspected"),Fm.removeClasses(s,"elm-inspected"),s=i.querySelectorAll(".cell-active"),Fm.removeClasses(s,"cell-active"),s=i.querySelectorAll(".row-active"),Fm.removeClasses(s,"row-active"),s=i.querySelectorAll(".row-outline"),Fm.removeClasses(s,"row-outline"),s=i.querySelectorAll(".row-outline"),Fm.removeClasses(s,"row-outline"),s=i.querySelectorAll("[data-click]"),Fm.removeAttributes(s,"data-click"),s=i.querySelectorAll("[contenteditable]"),Fm.removeAttributes(s,"contenteditable"),s=i.querySelectorAll("[data-module-active]"),Fm.removeAttributes(s,"data-module-active"),Fm.removeElements(i.querySelectorAll(".is-row-tool")),Fm.removeElements(i.querySelectorAll(".is-rowadd-tool")),Fm.removeElements(i.querySelectorAll(".ovl")),Fm.removeElements(i.querySelectorAll(".row-add-initial")),s=i.querySelectorAll("[data-keep]"),Fm.removeAttributes(s,"data-keep"),o=i.innerHTML.trim(),o=o.replace(/<font/g,"<span").replace(/<\/font/g,"</span"),e.setAttribute("data-html-"+n,encodeURIComponent(o)),n++}));let s,a=decodeURIComponent(e.getAttribute("data-html"));a=a.replace(/{id}/g,this.util.makeId()),i.parentNode.removeChild(i),s=this.builder.opts.htmlSyntaxHighlighting?this.builderStuff.querySelector(".viewhtmlformatted"):this.builderStuff.querySelector(".viewhtml"),s.querySelector(".is-modal-footer").innerHTML=`<button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                    <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>`,t.showModal(s,!0);let r=s.querySelector("textarea");a=(0,Fo.html)(a),r.value=a;let l=s.querySelector(".input-ok");if(Fm.addEventListener(l,"click",(()=>{this.builder.uo.saveForUndo();var i=s.querySelector("textarea").value;e.setAttribute("data-html",encodeURIComponent(i)),i=i.replace(/{id}/g,this.util.makeId());for(var n=1;n<=20;n++)i=i.replace("[%HTML"+n+"%]",void 0===e.getAttribute("data-html-"+n)?"":decodeURIComponent(e.getAttribute("data-html-"+n)));e.innerHTML="";var o=document.createRange();o.setStart(e,0),e.appendChild(o.createContextualFragment(i));let a=document.querySelector(".builder-active");a&&this.builder.applyBehaviorOn(a),this.builder.opts.onChange(),this.builder.opts.onRender(),t.hideModal(s),t.hideControls()})),l=s.querySelector(".input-cancel"),Fm.addEventListener(l,"click",(()=>{t.hideModal(s)})),this.builder.opts.htmlSyntaxHighlighting){let e=s.querySelector("textarea");e.setAttribute("data-source-active","1"),e.setAttribute("data-source-ok",".viewhtmlformatted .input-ok"),e.setAttribute("data-source-cancel",".viewhtmlformatted .input-cancel"),s.querySelector("iframe").outerHTML='<iframe id="ifrHtmlFormatted" style="width:100%;height:100%;border: none;" src="about:blank"></iframe>';var d=s.querySelector("iframe").contentWindow.document;d.open(),d.write(this.htmlUtil.getIframeHtml()),d.close()}}))}this.codeTool=o}click(e){let t=!1;if(e.hasAttribute("data-html")&&!e.hasAttribute("data-module")&&(t=!0),t){this.builder.activeCodeBlock=e;let t=e;this.codeTool.style.display="flex";let i=this.codeTool.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,o=t.getBoundingClientRect().top+window.pageYOffset,s=t.getBoundingClientRect().left-2;s+=n-i;i+s>window.innerWidth&&(s=t.getBoundingClientRect().left),this.codeTool.style.top=o+"px",this.codeTool.style.left=s+"px"}else this.builder.activeCodeBlock=null,this.codeTool.style.display=""}}const Um=new ni;class Wm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n,o=i.querySelector(".is-iframe-tool");if(!o){let e=`\n            <div class="is-tool is-iframe-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;background:none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            \n            <div class="is-modal iframelink">\n                <div class="is-modal-content">\n                    <input class="input-src" type="text" placeholder="Source" style="width:100%;margin-bottom:12px;"/>\n                    <textarea class="input-embedcode" type="text" placeholder="Embed Code" style="width:100%;height:300px;margin-bottom:12px;display:none;"></textarea>\n                    <div style="text-align:right">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n            \n            `;Um.appendHtml(i,e),o=i.querySelector(".is-iframe-tool"),n=i.querySelector(".is-modal.iframelink");let s=o.querySelector("button");Um.addEventListener(s,"click",(()=>{let e=this.builder.activeIframe;var t=e.src;n.querySelector(".input-src").value="",n.querySelector(".input-embedcode").value="",null!=/^.*\/\/www.youtube.com\/embed\//.exec(t)||null!=/^.*\/\/player.vimeo.com\/video\//.exec(t)?(n.querySelector(".input-embedcode").style.display="none",n.querySelector(".input-src").style.display="block",n.querySelector(".input-src").value=t,n.querySelector(".input-src").focus()):(n.querySelector(".input-src").style.display="none",n.querySelector(".input-embedcode").style.display="block",n.querySelector(".input-embedcode").value=e.outerHTML),this.util.showModal(n,!0)}));let a=n.querySelector(".input-ok");Um.addEventListener(a,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeIframe,t=e.parentNode;if(""!==n.querySelector(".input-src").value){var i=n.querySelector(".input-src").value,o=/^http[s]?:\/\/(((www.youtube.com\/watch\?(feature=player_detailpage&)?)v=)|(youtu.be\/))([^#&?]*)/.exec(i),s=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/)|(video\/))?([0-9]+)\/?/.exec(i);if(null===o&&null===s||-1!==i.indexOf("player.vimeo.com")||-1!==i.indexOf("youtube.com/embed/"))e.src=i;else{if(null!=o&&o.length>=7)i="https://www.youtube.com/embed/"+o[6]+"?rel=0";if(null!=s&&s.length>=7)i="https://player.vimeo.com/video/"+s[6];e.src=i}this.builder.opts.onChange()}else{var a=n.querySelector(".input-embedcode").value;""!==a&&(e.outerHTML=a),this.builder.activeIframe=t.querySelector("iframe");let i=document.querySelector(".builder-active");i&&this.builder.applyBehaviorOn(i),this.builder.opts.onChange()}this.util.hideModal(n)}));let r=n.querySelector(".input-cancel");Um.addEventListener(r,"click",(()=>{this.util.hideModal(n)}))}this.iframeTool=o,this.iframeModal=n}click(e){if(Um.hasClass(e.target,"ovl")){e.target.style.display="none",this.builder.activeIframe=e.target.parentNode.querySelector("iframe");let t=this.builder.activeIframe;this.iframeTool.style.display="flex";let i=this.iframeTool.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,o=t.getBoundingClientRect().top+window.pageYOffset,s=t.getBoundingClientRect().left-2;s+=n-i;i+s>window.innerWidth&&(s=t.getBoundingClientRect().left),this.iframeTool.style.top=o+"px",this.iframeTool.style.left=s+"px"}else{let e=document.querySelectorAll(".ovl");Array.prototype.forEach.call(e,(e=>{e.style.display="block"})),this.builder.activeIframe=null,this.iframeTool.style.display=""}}}const Gm=new ni;class Vm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n,o=i.querySelector(".is-table-tool");if(!o){let e=`\n            <div class="is-tool is-table-tool">\n                <button title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            <div class="is-modal is-modal-content edittable">\n                <div class="is-modal-bar is-draggable">\n                    ${t.out("Table")}\n                    <div class="is-modal-close" role="button" tabindex="0" title="${t.out("Close")}">&#10005;</div>\n                </div>\n                <div style="padding:0">\n                    <div class="is-tabs clearfix" data-group="table">\n                        <a title="${t.out("Style")}" id="tabTableGeneral" href="" data-content="divTableGeneral" class="active">${t.out("Style")}</a>\n                        <a title="${t.out("Layout")}" id="tabTableLayout" href="" data-content="divTableLayout">${t.out("Layout")}</a>\n                    </div>\n                    <div id="divTableGeneral" class="is-tab-content" data-group="table" style="display:block">\n\n                        <div style="display:flex;padding-bottom:12px">\n                            <div style="padding-right:15px">\n                                <div>${t.out("Background")}:</div>\n                                <div>\n                                    <button title="${t.out("Background Color")}" class="input-table-bgcolor is-btn-color"></button>\n                                </div>\n                            </div>\n                            <div>\n                                <div>${t.out("Text Color")}:</div>\n                                <div>\n                                    <button title="${t.out("Text Color")}" class="input-table-textcolor is-btn-color"></button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div style="padding-bottom:12px;">\n                            <div>${t.out("Border Thickness")}:</div>\n                            <div>\n                                <select id="selCellBorderWidth" style="width:120px;"><option value="0">No Border</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>  \n                            </div>\n                        </div>\n                        \n                        <div style="padding-bottom:12px;">\n                            <div>${t.out("Border Color")}:</div>\n                            <div>\n                                <button title="${t.out("Border Color")}" class="input-table-bordercolor is-btn-color"></button>\n                            </div>\n                        </div>\n                        \n                        <div style="padding-bottom:12px;">\n                            <div>${t.out("Apply To")}:</div>\n                            <div>\n                                <select id="selTableApplyTo" style="width:120px;">\n                                    <option value="table">${t.out("Table")}</option>\n                                    <option value="currentrow">${t.out("Current Row")}</option>\n                                    <option value="currentcol">${t.out("Current Column")}</option>\n                                    <option value="evenrows">${t.out("Even Rows")}</option>\n                                    <option value="oddrows">${t.out("Odd Rows")}</option>  \n                                    <option value="currentcell">${t.out("Current Cell")}</option>  \n                                </select>\n                            </div>\n                        </div>\n\n                    </div>\n\n                    <div id="divTableLayout" class="is-tab-content" data-group="table">\n                    \n                        <div style="padding-bottom:12px;">\n                            <div>${t.out("Insert Row")}:</div>\n                            <div style="display:flex">\n                                <button class="classic" title="${t.out("Above")}" data-table-cmd="rowabove" title="${t.out("Above")}" style="margin-right:15px"> ${t.out("Above")} </button>\n                                <button class="classic" title="${t.out("Below")}" data-table-cmd="rowbelow" title="${t.out("Below")}" style=""> ${t.out("Below")} </button>\n                            </div> \n                        </div>\n                        \n                        <div style="padding-bottom:15px;">\n                            <div>${t.out("Insert Column")}:</div>\n                            <div style="display:flex">\n                                <button class="classic" title="${t.out("Left")}" data-table-cmd="columnleft" title="${t.out("Left")}" style="margin-right:15px"> ${t.out("Left")} </button> \n                                <button class="classic" title="${t.out("Right")}" data-table-cmd="columnright" title="${t.out("Right")}" style=""> ${t.out("Right")} </button> \n                            </div> \n                        </div>\n\n                        <div style="padding-bottom:15px;">\n                            <button class="classic" title="${t.out("Delete Row")}" data-table-cmd="delrow" title="Delete Row" style=""> ${t.out("Delete Row")} </button> \n                        </div>\n\n                        <div style="padding-bottom:15px;">    \n                            <button class="classic" title="${t.out("Delete Column")}" data-table-cmd="delcolumn" title="Delete Column" style=""> ${t.out("Delete Column")} </button> \n                        </div>\n                        \n                        <div>    \n                            <button class="classic" title="${t.out("Merge Cell")}" data-table-cmd="mergecell" style="">${t.out("Merge Cell")}</button> \n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            `;Gm.appendHtml(i,e),o=i.querySelector(".is-table-tool"),n=i.querySelector(".is-modal.edittable");let s=o.querySelector("button");Gm.addEventListener(s,"click",(()=>{Gm.hasClass(n,"active")?Gm.removeClass(n,"active"):Gm.addClass(n,"active")}));let a=n.querySelector(".is-modal-close");Gm.addEventListener(a,"click",(()=>{Gm.removeClass(n,"active")})),s=n.querySelector(".input-table-bgcolor"),s.addEventListener("click",(e=>{this.builder.uo.saveForUndo();let t=e.target;this.builder.colorPicker.open((e=>{if(this.builder.activeTd){var i=n.querySelector("#selTableApplyTo").value,o=this.builder.activeTable,s=this.builder.activeTd.parentNode,a=this.builder.activeTd;"currentcell"===i&&(this.builder.activeTd.style.backgroundColor=e);for(var r=0;r<o.rows.length;r++)for(var l=o.rows[r],d=0;d<l.cells.length;d++){var c=l.cells[d];("table"===i||"evenrows"===i&&Ym(r+1)||"oddrows"===i&&!Ym(r+1)||"currentrow"===i&&l===this.builder.activeTd.parentNode||"currentcol"===i&&d===Xm(o,s,a))&&(c.style.backgroundColor=e)}t.style.backgroundColor=e}}),s.style.backgroundColor)})),s=n.querySelector(".input-table-textcolor"),s.addEventListener("click",(e=>{this.builder.uo.saveForUndo();let t=e.target;this.builder.colorPicker.open((e=>{if(this.builder.activeTd){var i=n.querySelector("#selTableApplyTo").value,o=this.builder.activeTable,s=this.builder.activeTd.parentNode,a=this.builder.activeTd;"currentcell"===i&&(this.builder.activeTd.style.color=e);for(var r=0;r<o.rows.length;r++)for(var l=o.rows[r],d=0;d<l.cells.length;d++){var c=l.cells[d];("table"===i||"evenrows"===i&&Ym(r+1)||"oddrows"===i&&!Ym(r+1)||"currentrow"===i&&l===this.builder.activeTd.parentNode||"currentcol"===i&&d===Xm(o,s,a))&&(c.style.color=e)}t.style.backgroundColor=e}}),s.style.backgroundColor)})),s=n.querySelector(".input-table-bordercolor"),s.addEventListener("click",(e=>{this.builder.uo.saveForUndo();let t=e.target;this.builder.colorPicker.open((e=>{if(this.builder.activeTd){var i=n.querySelector("#selCellBorderWidth").value;"0"===i&&(n.querySelector("#selCellBorderWidth").value=1,i=1);var o=n.querySelector("#selTableApplyTo").value,s=this.builder.activeTable,a=this.builder.activeTd.parentNode,r=this.builder.activeTd;"currentcell"===o&&(this.builder.activeTd.style.borderWidth=i+"px",this.builder.activeTd.style.borderStyle="solid",this.builder.activeTd.style.borderColor=e);for(var l=0;l<s.rows.length;l++)for(var d=s.rows[l],c=0;c<d.cells.length;c++){var u=d.cells[c];("table"===o||"evenrows"===o&&Ym(l+1)||"oddrows"===o&&!Ym(l+1)||"currentrow"===o&&d===this.builder.activeTd.parentNode||"currentcol"===o&&c===Xm(s,a,r))&&(u.style.borderWidth=i+"px",u.style.borderStyle="solid",u.style.borderColor=e)}t.style.backgroundColor=e}}),s.style.backgroundColor)}));let r=n.querySelector("#selCellBorderWidth");r.addEventListener("change",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=r.value,t=n.querySelector(".input-table-bordercolor").style.backgroundColor;""===t&&(t="#000000");var i=n.querySelector("#selTableApplyTo").value,o=this.builder.activeTable,s=this.builder.activeTd.parentNode,a=this.builder.activeTd;"currentcell"===i&&(this.builder.activeTd.style.borderWidth=e+"px",this.builder.activeTd.style.borderStyle="solid",this.builder.activeTd.style.borderColor=t,"0"===e&&(this.builder.activeTd.style.borderWidth="",this.builder.activeTd.style.borderStyle="",this.builder.activeTd.style.borderColor="",n.querySelector(".input-table-bordercolor").style.backgroundColor=""));for(var l=0;l<o.rows.length;l++)for(var d=o.rows[l],c=0;c<d.cells.length;c++){var u=d.cells[c];("table"===i||"evenrows"===i&&Ym(l+1)||"oddrows"===i&&!Ym(l+1)||"currentrow"===i&&d===this.builder.activeTd.parentNode||"currentcol"===i&&c===Xm(o,s,a))&&(u.style.borderWidth=e+"px",u.style.borderStyle="solid",u.style.borderColor=t,"0"===e&&(u.style.borderWidth="",u.style.borderStyle="",u.style.borderColor="",n.querySelector(".input-table-bordercolor").style.backgroundColor=""))}this.builder.opts.onChange()})),s=n.querySelector('[data-table-cmd="rowabove"]'),s.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable,t=this.builder.activeTd.parentNode,i=e.insertRow(t.rowIndex);for(var n=0;n<t.cells.length;n++){var o=i.insertCell(i.cells.length);o.setAttribute("style",this.builder.activeTd.getAttribute("style")),o.setAttribute("valign","top"),o.innerHTML="<br>"}this.builder.opts.onChange()})),s=n.querySelector('[data-table-cmd="rowbelow"]'),s.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable,t=this.builder.activeTd.parentNode,i=e.insertRow(t.rowIndex+1);for(var n=0;n<t.cells.length;n++){var o=i.insertCell(i.cells.length);o.setAttribute("style",this.builder.activeTd.getAttribute("style")),o.setAttribute("valign","top"),o.innerHTML="<br>"}this.builder.opts.onChange()})),s=n.querySelector('[data-table-cmd="columnleft"]'),s.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable;for(var t=this.builder.activeTd.cellIndex,i=0;i<e.rows.length;i++){var n=e.rows[i].insertCell(t);n.setAttribute("style",this.builder.activeTd.getAttribute("style")),n.setAttribute("valign","top"),n.innerHTML="<br>"}this.builder.opts.onChange()})),s=n.querySelector('[data-table-cmd="columnright"]'),s.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable;for(var t=this.builder.activeTd.cellIndex,i=0;i<e.rows.length;i++){var n=e.rows[i].insertCell(t+1);n.setAttribute("style",this.builder.activeTd.getAttribute("style")),n.setAttribute("valign","top"),n.innerHTML="<br>"}this.builder.opts.onChange()})),s=n.querySelector('[data-table-cmd="delrow"]'),s.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable,t=this.builder.activeTd.parentNode;e.deleteRow(t.rowIndex),this.builder.activeTable=null,this.builder.activeTd=null,0===e.rows.length&&e.parentNode.removeChild(e),this.builder.opts.onChange()})),s=n.querySelector('[data-table-cmd="delcolumn"]'),s.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable;for(var t=this.builder.activeTd.cellIndex,i=0;i<e.rows.length;i++)e.rows[i].deleteCell(t);this.builder.activeTable=null,this.builder.activeTd=null,0===e.rows[0].cells.length&&e.parentNode.removeChild(e),this.builder.opts.onChange()})),s=n.querySelector('[data-table-cmd="mergecell"]'),s.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable,t=this.builder.activeTd.parentNode,i=this.builder.activeTd;i.colSpan=i.colSpan+1,i.cellIndex+1<e.rows[t.rowIndex].cells.length&&e.rows[t.rowIndex].deleteCell(i.cellIndex+1),this.builder.opts.onChange()}))}this.tableTool=o,this.tableModal=n}click(e){if(Gm.parentsHasElement(e.target,"table")){let t,i,n=e.target;if("td"===n.tagName.toLowerCase())t=n;else{for(;"td"!==n.tagName.toLowerCase();)n=n.parentNode;t=n}for(;"table"!==n.tagName.toLowerCase();)n=n.parentNode;if(i=n,Gm.hasClass(i,"default")){this.builder.activeTd=t,this.builder.activeTable=i;let e=i;this.tableTool.style.display="flex";let n=this.tableTool.offsetWidth,o=e.offsetWidth*this.builder.opts.zoom,s=e.getBoundingClientRect().top+window.pageYOffset,a=e.getBoundingClientRect().left-2;a+=o-n;n+a>window.innerWidth&&(a=e.getBoundingClientRect().left),this.tableTool.style.top=s+"px",this.tableTool.style.left=a+"px"}else this.builder.activeTd=null,this.builder.activeTable=null,this.tableTool.style.display=""}else this.builder.activeTd=null,this.builder.activeTable=null,this.tableTool.style.display="";if(Gm.hasClass(this.tableModal,"active")&&this.builder.activeTable){let e=this.builder.activeTd;this.tableModal.querySelector(".input-table-bgcolor").style.backgroundColor=e.style.backgroundColor,this.tableModal.querySelector(".input-table-textcolor").style.backgroundColor=e.style.color,this.tableModal.querySelector(".input-table-bordercolor").style.backgroundColor=e.style.borderColor,this.tableModal.querySelector("#selCellBorderWidth").value=parseInt(e.style.borderWidth)}else this.tableModal.querySelector(".input-table-bgcolor").style.backgroundColor="",this.tableModal.querySelector(".input-table-textcolor").style.backgroundColor="",this.tableModal.querySelector(".input-table-bordercolor").style.backgroundColor="",this.tableModal.querySelector("#selCellBorderWidth").value=0}}function Ym(e){return e%2==0}function Xm(e,t,i){for(var n=0,o=!1,s=0;s<t.cells.length;s++)!1===o&&(n+=t.cells[s].colSpan),i===t.cells[s]&&(o=!0);return(n-=i.colSpan-1)-1}const Km=new ni;class Zm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector(".is-video-tool");if(!n){let e=`\n            <div class="is-tool is-video-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;background:none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            \n            <div class="is-modal videolink">\n                <div class="is-modal-content">\n                    <label for="inpVideoLinkSource" style="display:block">${t.out("Source")}:</label>\n                    <div class="video-url">\n                        <input id="inpVideoLinkSource" class="input-url" type="text"/>\n                        <button title="${t.out("Select")}" class="input-select" style="flex:none;width:50px;height:50px;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                        <div class="video-larger1" style="position:relative;flex:none;width:50px;height:50px;box-shadow: 0px 3px 6px -6px rgba(0, 0, 0, 0.32);">\n                            <form class="form-upload-larger" target="frameTargetVideoUpload" method="post" action="${this.builder.opts.videoHandler}" enctype="multipart/form-data" style="position:absolute;top:0;left:0;width:100%;height:100%;">\n                                <input id="hidRefId5" name="hidRefId" type="hidden" value="" />\n                                <svg class="is-icon-flex" style="position: absolute;top: 16px;left: 15px;width: 18px;height: 18px;"><use xlink:href="#ion-ios-film-outline"></use></svg>\n                                <input title="${t.out("Select")}" id="fileVideo1" name="fileImage" type="file" accept="video/mp4" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                            </form>\n\n                            <iframe id="frameTargetVideoUpload" name="frameTargetVideoUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                        </div>\n                    </div>\n                    \n                    <label style="display:block;margin-top:14px;">\n                        <input class="input-video-controls" type="checkbox" />  ${t.out("Show Controls")}&nbsp;\n                    </label>\n                    <label style="display:block;margin-top:5px;">\n                        <input class="input-video-loop" type="checkbox" />  ${t.out("Loop")}&nbsp;\n                    </label>\n                    <label style="display:block;margin-top:5px;">\n                        <input class="input-video-autoplay" type="checkbox" />  ${t.out("Autoplay")}&nbsp;\n                    </label>\n                    \n                    <div style="text-align:right;margin-top:14px;">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal videoselect" style="z-index:10005">\n                <div style="max-width:800px;height:80%;padding:0;">\n                    <iframe style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                </div>\n            </div>\n            `;Km.appendHtml(i,e),n=i.querySelector(".is-video-tool");const o=i.querySelector(".is-modal.videolink");this.videoTool=n,this.videoModal=o;let s=this.videoTool.querySelector("button");Km.addEventListener(s,"click",(()=>{let e=this.builder.activeVideo,t=e.querySelector("source"),i="";t&&(i=t.getAttribute("src")),o.querySelector(".input-url").value=i;const n=o.querySelector(".input-video-controls");e.hasAttribute("controls")?n.checked=!0:n.checked=!1;const s=o.querySelector(".input-video-loop");e.hasAttribute("loop")?s.checked=!0:s.checked=!1;const a=o.querySelector(".input-video-autoplay");e.hasAttribute("autoplay")?a.checked=!0:a.checked=!1,this.util.showModal(o,!0)})),""!==this.builder.opts.videoHandler||this.builder.opts.onVideoUpload||(o.querySelector(".video-larger1").style.display="none"),this.builder.opts.onVideoSelectClick||""!==this.builder.opts.videoSelect||(o.querySelector(".input-select").style.display="none");let a=o.querySelector(".input-select");a&&Km.addEventListener(a,"click",(()=>{if(this.builder.opts.onVideoSelectClick)this.builder.opts.onVideoSelectClick({targetInput:o.querySelector(".input-url"),theTrigger:a});else{let e=i.querySelector(".is-modal.videoselect"),n=e.querySelector("iframe");this.builder.opts.assetRefresh&&(n.src=this.builder.opts.videoSelect),"about:blank"===n.src&&(n.src=this.builder.opts.videoSelect),t.showModal(e)}this.builder.targetInput=o.querySelector(".input-url"),this.builder.targetCallback=null,this.builder.targetAssetType="video"}));let r=o.querySelector("#fileVideo1");Km.addEventListener(r,"change",(e=>{let t=r;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;Km.addClass(i,"please-wait"),o.querySelector("#hidRefId5").value=this.builder.opts.customval,this.builder.opts.onVideoUpload?this.builder.opts.onVideoUpload(e):i.submit(),r.value=""}));let l=o.querySelector(".input-ok");Km.addEventListener(l,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeVideo;if(o.querySelector(".input-video-controls").checked?e.setAttribute("controls",""):e.removeAttribute("controls"),o.querySelector(".input-video-loop").checked?e.setAttribute("loop",""):e.removeAttribute("loop"),o.querySelector(".input-video-autoplay").checked?e.setAttribute("autoplay",""):e.removeAttribute("autoplay"),""!==o.querySelector(".input-url").value){let t=o.querySelector(".input-url").value,i=e.querySelector("source");t!==i.getAttribute("src")&&(i&&i.setAttribute("src",t),setTimeout((function(){e.pause(),e.load()}),100)),this.builder.opts.onChange()}this.util.hideModal(o)}));let d=o.querySelector(".input-cancel");Km.addEventListener(d,"click",(()=>{this.util.hideModal(o)}))}}click(e){let t=e.target;if("video"===t.tagName.toLowerCase()){this.builder.activeVideo=t,this.videoTool.style.display="flex";let e=this.videoTool.offsetWidth,i=t.offsetWidth*this.builder.opts.zoom,n=t.getBoundingClientRect().top+window.pageYOffset,o=t.getBoundingClientRect().left;o+=i-e;e+o>window.innerWidth&&(o=t.getBoundingClientRect().left),this.videoTool.style.top=n+"px",this.videoTool.style.left=o+"px"}else this.builder.activeVideo=null,this.videoTool.style.display=""}}const Qm=new ni;class Jm{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector("#divSvgTool");if(!n){let e='\n            <div id="divSvgTool" class="is-tool">\n                \n            </div>\n            ';Qm.appendHtml(i,e),n=i.querySelector("#divSvgTool")}this.svgTool=n}click(){}}const ev=new ni;class tv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i,this.hyperlink=new Bm(e),this.button=new Dm(e),this.image=new Mm(e),this.spacer=new Pm(e),this.module=new zm(e),this.code=new jm(e),this.iframe=new Wm(e),this.table=new Vm(e),this.video=new Zm(e),this.svg=new Jm(e),window.addEventListener("keydown",(e=>{if(46===e.keyCode&&this.builder.activeIcon&&ev.parentsHasClass(e.target,"is-builder")){if("a"===this.builder.activeIcon.parentNode.tagName.toLowerCase()&&1===this.builder.activeIcon.parentNode.childNodes.length){let e=this.builder.activeIcon.parentNode;e.parentNode.removeChild(e);i.querySelector("#divLinkTool").style.display=""}else this.builder.activeIcon.parentNode.removeChild(this.builder.activeIcon);e.preventDefault()}if(8===e.keyCode&&this.builder.activeIcon&&ev.parentsHasClass(e.target,"is-builder")){if("a"===this.builder.activeIcon.parentNode.tagName.toLowerCase()&&1===this.builder.activeIcon.parentNode.childNodes.length){let e=this.builder.activeIcon.parentNode;e.parentNode.removeChild(e);i.querySelector("#divLinkTool").style.display=""}else this.builder.activeIcon.parentNode.removeChild(this.builder.activeIcon);e.preventDefault()}}),!1)}applyBehavior(e){let t=!1;e.hasAttribute("data-html")&&(t=!0);let i=!1;e.hasAttribute("data-noedit")&&(i=!0);let n=!1;if(e.hasAttribute("data-protected")&&(n=!0),t||i||n){if(i){let t=e.querySelectorAll("[contenteditable]");Array.prototype.forEach.call(t,(e=>{e.contentEditable=!1}))}return}let o=e.querySelectorAll(".is-social");Array.prototype.forEach.call(o,(e=>{e.contentEditable=!1}));let s=e.querySelectorAll(".spacer");Array.prototype.forEach.call(s,(e=>{e.contentEditable=!1}));let a=e.querySelectorAll("hr");Array.prototype.forEach.call(a,(e=>{e.contentEditable=!1}));let r=e.querySelectorAll("a");Array.prototype.forEach.call(r,(t=>{"inline-block"===ev.getStyle(t,"display")&&(t.contentEditable=!0,t.parentNode!==e&&(t.parentNode.contentEditable=!1))}));let l=e.querySelectorAll(".embed-responsive");Array.prototype.forEach.call(l,(e=>{let t=e.querySelector(".ovl");t||(ev.appendHtml(e,'<div class="ovl" style="position:absolute;background:#fff;opacity:0.01;cursor:pointer;top:0;left:0px;width:100%;height:100%;z-index:1"></div>'),t=e.querySelector(".ovl"),ev.addEventListener(t,"click",(()=>{t.style.display="none"})))}))}click(e,t){const i=t.target;let n=!1;e.hasAttribute("data-noedit")&&(n=!0);let o=!1;e.hasAttribute("data-protected")&&(o=!0);let s=!1,a=!1;if(e.hasAttribute("data-html")&&(s=!0,ev.parentsHasAttribute(i,"data-subblock")&&(a=!0)),!s&&!n&&!o||a){const n=document.querySelectorAll(".icon-active");Array.prototype.forEach.call(n,(e=>{ev.removeClass(e,"icon-active")})),this.builder.activeIcon=null,"i"===i.tagName.toLowerCase()&&""===i.innerHTML&&(ev.addClass(i,"icon-active"),ev.selectElementContents(i),this.builder.activeIcon=i,document.selection?document.selection.empty():window.getSelection().removeAllRanges()),this.image.click(t),this.button.click(e,t),this.hyperlink.click(e,t),"a"!==i.tagName.toLowerCase()&&!ev.parentsHasTag(i,"a")||s||t.preventDefault(),this.table.click(t),this.iframe.click(t),this.video.click(t),this.spacer.click(t),this.svg.click(t)}else if(this.util.hideControls(),"img"===t.target.tagName.toLowerCase()&&t.target.hasAttribute("data-image-embed")){if(this.image.click(t),t.target.hasAttribute("data-sync")){let e=t.target;e.setAttribute("data-src",e.src)}}else"img"===t.target.tagName.toLowerCase()&&e.hasAttribute("data-image-allowed")&&this.image.click(t);this.code.click(e,t),this.module.click(e,t)}}const iv=new ni;class nv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.grid=new ts(e);const n=new Wo(e);let o=i.querySelector(".rowmore"),s="";if(e.opts.rowHtmlEditor&&(s=`<button type="button" title="${t.out("HTML")}" class="row-html">\n                <span><svg class="is-icon-flex" style="margin-right:-3px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></span>${t.out("HTML")}\n            </button>`),!o){let e=`<div class="is-pop rowmore" style="z-index:10002;">\n                <div style="display:flex;flex-flow:wrap;">\n                    <button type="button" title="${t.out("Move Up")}" class="row-up"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></span>${t.out("Move Up")}</button>\n                    <button type="button" title="${t.out("Move Down")}" class="row-down"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></span>${t.out("Move Down")}</button>\n                    <button type="button" title="${t.out("Duplicate")}" class="row-duplicate"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></span>${t.out("Duplicate")}</button>\n                    ${s}\n                </div>\n            </div>`;iv.appendHtml(i,e),o=i.querySelector(".rowmore");let a=o.querySelector(".row-up");a&&iv.addEventListener(a,"click",(()=>{this.grid.moveRowUp(),t.clearControls()})),a=o.querySelector(".row-down"),a&&iv.addEventListener(a,"click",(()=>{this.grid.moveRowDown(),t.clearControls()})),a=o.querySelector(".row-duplicate"),a&&iv.addEventListener(a,"click",(()=>{this.grid.duplicateRow(),this.rowMore.style.display="",t.clearControls()})),a=o.querySelector(".row-html"),a&&iv.addEventListener(a,"click",(()=>{t.cellSelected()&&n.view("row")}))}this.rowMore=o,document.addEventListener("mousedown",(e=>{var t=(e=e||window.event).target||e.srcElement;if("flex"===o.style.display){let e=iv.parentsHasClass(t,"rowmore"),i=iv.parentsHasClass(t,"row-more");if(e||i)return;o.style.display=""}}))}render(e){const t=this.builder.util,i=this.builder.builderStuff;let n=this.rowMore,o=e.querySelector(".is-row-tool");if(!o){let s=`<div class="is-tool is-row-tool">\n                <div title="${t.out("Move")}" class="row-handle" style="width:100%;cursor:move;text-align:center;"><svg class="is-icon-flex"><use xlink:href="#ion-move"></use></svg></div>\n                <button type="button" title="${t.out("More")}" class="row-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                <button type="button" title="${t.out("Grid Editor")}" class="row-grideditor"><svg class="is-icon-flex"><use xlink:href="#ion-grid"></use></svg></button>\n                <button type="button" title="${t.out("Delete")}" class="row-remove"><svg class="is-icon-flex"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>`;iv.appendHtml(e,s),o=e.querySelector(".is-row-tool");let a=o.querySelectorAll("[title]");Array.prototype.forEach.call(a,(e=>{e.setAttribute("data-title",e.getAttribute("title")),this.builder.tooltip.set(e,5,3)}));let r=o.querySelector(".row-grideditor");r&&iv.addEventListener(r,"click",(()=>{const e=i.querySelector(".grideditor");if(iv.hasClass(e,"active")){iv.removeClass(e,"active");const t=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(e=>{e.removeAttribute("grideditor")}))}else{iv.addClass(e,"active");const i=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(i,(e=>{e.setAttribute("grideditor","")}));const n=e.querySelector(".grid-outline");document.querySelector(this.builder.opts.container).hasAttribute("gridoutline")?iv.addClass(n,"on"):iv.removeClass(n,"on");const o=e.querySelector(".cell-locking");let s=t.cellSelected();s&&s.hasAttribute("data-noedit")?iv.addClass(o,"on"):iv.removeClass(o,"on")}})),r=o.querySelector(".row-more"),r&&iv.addEventListener(r,"click",(()=>{let e=t.cellSelected();if(!e)return;let s=e.parentNode;iv.removeClass(s,"row-outline");let a=i.querySelector(".is-column-tool");iv.removeClass(a,"active");const r=o.querySelector(".row-more"),l=r.getBoundingClientRect().top+window.pageYOffset,d=r.getBoundingClientRect().left+window.pageXOffset;n.style.display="flex",n.style.top=l-8+"px",iv.removeClass(n,"arrow-bottom"),iv.removeClass(n,"arrow-left"),iv.removeClass(n,"arrow-right"),iv.removeClass(n,"center"),iv.removeClass(n,"right"),iv.removeClass(n,"left"),"right"===this.builder.opts.rowTool?(n.style.left=d-n.offsetWidth-10+"px",iv.addClass(n,"arrow-right"),iv.addClass(n,"left")):(n.style.left=d+35+"px",iv.addClass(n,"arrow-left"),iv.addClass(n,"left"));let c=n.querySelector(".row-html"),u=n.querySelector(".row-duplicate");e.getAttribute("data-html")?(c&&(c.style.display="none"),u&&(u.style.display="none")):(c&&(c.style.display=""),u&&(u.style.display=""))})),r=o.querySelector(".row-remove"),r&&iv.addEventListener(r,"click",(()=>{this.grid.removeRow(),t.clearControls()}))}}}const ov=new ni;class sv{constructor(e){this.builder=e}render(e){const t=this.builder.util,i=Jo(this.builder);let n=e.querySelector(".is-rowadd-tool");if(!n){const i=`<div class="is-rowadd-tool" style="height:0">\n                <button type="button" title="${t.out("Add")}" title="${t.out("Add")}" style="outline:none;line-height:1;margin:0;padding:0;cursor:pointer;background-color:rgba(255,255,255,0.9);"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:17px;height:17px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            </div>`;ov.appendHtml(e,i),n=e.querySelector(".is-rowadd-tool");let o=n.querySelectorAll("[title]");Array.prototype.forEach.call(o,(e=>{e.setAttribute("data-title",e.getAttribute("title")),this.builder.tooltip.set(e,5,3)}))}let o=n.querySelector("button");ov.addEventListener(o,"click",(()=>{i.querySelector(".is-pop-tabs").style.display="none";const e=window.innerHeight,t=o.getBoundingClientRect().top,n=o.getBoundingClientRect().left;i.style.display="flex";const s=i.offsetWidth,a=i.offsetHeight;return e-t>a?(i.style.top=t+window.pageYOffset+27+"px",i.style.left=n-s/2+7+"px",ov.removeClass(i,"arrow-bottom"),ov.removeClass(i,"arrow-right"),ov.removeClass(i,"arrow-left"),ov.removeClass(i,"center"),ov.addClass(i,"arrow-top"),ov.addClass(i,"center")):(i.style.top=t+window.pageYOffset-a-8+"px",i.style.left=n-s/2+7+"px",ov.removeClass(i,"arrow-top"),ov.removeClass(i,"arrow-right"),ov.removeClass(i,"arrow-left"),ov.removeClass(i,"center"),ov.addClass(i,"arrow-bottom"),ov.addClass(i,"center")),i.setAttribute("data-mode","row"),!1}))}}class av{constructor(e={}){this.opts=Object.assign(this,{animateModal:!1,elementToAnimate:"",stuffPlacement:"#_cbhtml"},e),this.id=this.makeId();let t=document.querySelector(this.opts.stuffPlacement);t||(t=document.createElement("div"),t.id="_cbhtml",document.body.appendChild(t)),this.builderStuff=t;const i=document.createElement("div");i.id=this.id,t.appendChild(i),this.objStuff=i}confirm(e,t,i){let n=`<div class="is-modal is-confirm">\n            <div class="is-modal-content" style="padding-bottom:20px;">\n                <p>${e}</p>\n                <button title="${this.out("Delete")}" class="input-ok classic">${this.out("Delete")}</button>\n            </div>\n        </div>`,o=this.objStuff.querySelector(".is-confirm");o||(this.objStuff.insertAdjacentHTML("beforeend",n),o=this.builderStuff.querySelector(".is-confirm")),this.show(o,!1,(()=>{o.parentNode.removeChild(o),t(!1)}),i);let s=o.querySelector(".is-confirm .input-ok");this.addEventListener(s,"click",(()=>{this.hide(o),o.parentNode.removeChild(o),t(!0)}))}show(e,t,i,n){this.addClass(e,"active");let o=!1;if(o=null!=n?n:this.opts.animateModal,o){const e=document.querySelectorAll(this.opts.elementToAnimate);Array.prototype.forEach.call(e,(e=>{e.style.transform=`scale(${this.builder.opts.zoom-.02})`,e.style.WebkitTransform=`scale(${this.builder.opts.zoom-.02})`,e.style.MozTransform=`scale(${this.builder.opts.zoom-.02})`,e.setAttribute("scaled-down","1")}))}if(!e.querySelector(".is-modal-overlay")){let n;if(n=t?'<div class="is-modal-overlay overlay-stay"></div>':'<div class="is-modal-overlay"></div>',e.insertAdjacentHTML("afterbegin",n),!t){let t=e.querySelector(".is-modal-overlay");this.addEventListener(t,"click",(()=>{i&&i(),this.hide(e)}))}}}hide(e){if(""!==this.opts.elementToAnimate){const e=document.querySelectorAll(this.opts.elementToAnimate);Array.prototype.forEach.call(e,(e=>{e.getAttribute("scaled-down")&&(e.style.transform=`scale(${this.builder.opts.zoom})`,e.style.WebkitTransform=`scale(${this.builder.opts.zoom})`,e.style.MozTransform=`scale(${this.builder.opts.zoom})`,e.removeAttribute("scaled-down"))}))}this.removeClass(e,"active")}makeId(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}addClass(e,t){e&&(this.hasClass(e,t)||(0===e.classList.length?e.className=t:e.className=e.className+" "+t))}removeClass(e,t){e&&e.classList.length>0&&(e.className=e.className.replace(t,""))}hasClass(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className))}addEventListener(e,t,i){e.addEventListener(t,i)}}class rv{constructor(e={}){this.opts=Object.assign(this,{onPick:function(){},color:"",colors:["#ff9f01","#f57c00","#e64918","#d32f2f","#5d4038","#37474f","#353535","#fbc02c","#b0b42a","#689f39","#c21f5b","#7b21a2","#522da8","#616161","#01b8c9","#009688","#388d3c","#0388d0","#1465c0","#2f3f9e","#9e9e9e"],renderOn:"",animateModal:!1,elementToAnimate:"",stuffPlacement:"#_cbhtml",lang:[]},e),this.id=function(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}();let t=document.querySelector(this.opts.stuffPlacement);t||(t=document.createElement("div"),t.id="_cbhtml",t.className="is-ui",document.body.appendChild(t)),this.builderStuff=t;const i=document.createElement("div");i.id=this.id,t.appendChild(i),this.objStuff=i;const n=new av({animateModal:this.opts.animateModal,elementToAnimate:this.opts.elementToAnimate,stuffPlacement:this.opts.stuffPlacement});this.modal=n;let o="";if(this.opts.colors.length>0){o+='<div class="color-default clearfix">';for(var s=0;s<this.opts.colors.length;s++)"#ffffff"===this.opts.colors[s]?o+='<button title="'+this.opts.colors[s]+'" data-color="'+this.opts.colors[s]+'" style="background:'+this.opts.colors[s]+';outline:rgba(222,222,222,0.75) 1px solid"></button>':o+='<button title="'+this.opts.colors[s]+'" data-color="'+this.opts.colors[s]+'" style="background:'+this.opts.colors[s]+';"></button>';o+="</div>"}let a="";for(s=0;s<105;s++)a+=s%2==0?'<div class="dot-1"></div>':'<div class="dot-2"></div>';let r="";for(s=0;s<25;s++)r+=s%2==0?'<div class="dot-3"></div>':'<div class="dot-4"></div>';let l,d=`<div class="pickcolor" style="width:269px;padding:12px;box-sizing:border-box;">\n            ${o}\n            <div class="color-gradient clearfix"></div>\n\n            <div class="div-color-opacity" style="height: 10px; margin: 12px 0px 17px;position:relative;">\n                <div style="position:absolute;top:0;left:0;width:100%;height:21px;display:flex;flex-direction:column;flex-flow:wrap">\n                    ${a}\n                </div>\n                <input type="range" min="0" max="100" value="100" class="color-opacity is-rangeslider" style="position:relative;background: transparent;margin: 0 !important;">\n            </div>\n            <div class="clearfix" style="margin:25px 0 3px;">\n                <button title="${this.out("B")}" data-color="#000000" style="background:#111;color:#f3f3f3;border:transparent 1px solid;width:35px;height:35px;line-height:35px;font-size:10px;border-right:none;">${this.out("B")}</button>\n                <button title="${this.out("W")}" data-color="#ffffff" style="border: rgb(0 0 0 / 6%) 1px solid;background:#fff;color:#111;width:35px;height:35px;line-height:35px;font-size:10px;">${this.out("W")}</button>\n                <button title="${this.out("Clear")}" data-color="" class="clear" style="width:140px;height:35px;line-height:35px;border-right:none;">${this.out("Clear")}</button>\n                <button title="${this.out("More")}" class="input-hsl" style="width:35px;height:35px;line-height:35px;font-size:10px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>\n            </div>\n            <div style="display:flex">\n                <div style="flex-grow: 0;flex-shrink: 0;flex-basis: 37px;height:34px;box-sizing:border-box;margin-top:8px;position:relative;">\n                    <div style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;flex-flow:wrap;overflow:hidden;">\n                        ${r}\n                    </div>\n                    <button class="is-color-preview" style="position:absolute;top:0;left:0;width:100%;height:100%;transition:none;"></button>\n                </div>\n                <input class="input-text" type="text" style="width:209px;height:35px;margin-top:8px;font-size:13px;"/>\n                <button title="${this.out("Apply")}" class="input-ok" style="height:35px;margin-top:8px;"><svg class="is-icon-flex"><use xlink:href="#icon-ok"></use></svg></use></svg></svg></button>\n            </div>\n        </div>`,c=`<div class="is-modal pickcolor" style="">\n            <div class="is-modal-content">\n                <div class="is-modal-bar is-draggable"></div>\n                <div>\n\n                    ${o}\n                    <div class="color-gradient clearfix"></div>\n        \n                    <div class="div-color-opacity" style="height: 10px; margin: 12px 0px 17px;position:relative;">\n                        <div style="position:absolute;top:0;left:0;width:100%;height:21px;display:flex;flex-direction:column;flex-flow:wrap">\n                            ${a}\n                        </div>\n                        <input type="range" min="0" max="100" value="100" class="color-opacity is-rangeslider" style="position:relative;background: transparent;margin: 0 !important;">\n                    </div>\n                    <div class="clearfix" style="margin:25px 0 3px;">\n                        <button title="${this.out("B")}" data-color="#000000" style="background:#111;color:#f3f3f3;border:transparent 1px solid;width:35px;height:35px;line-height:35px;font-size:10px;border-right:none;">${this.out("B")}</button>\n                        <button title="${this.out("W")}" data-color="#ffffff" style="background:#fff;color:#111;width:35px;height:35px;line-height:35px;font-size:10px;">${this.out("W")}</button>\n                        <button title="${this.out("Clear")}" data-color="" class="clear" style="width:140px;height:35px;line-height:35px;border-right:none;">${this.out("Clear")}</button>\n                        <button title="${this.out("More")}" class="input-hsl" style="width:35px;height:35px;line-height:35px;font-size:10px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>\n                    </div>\n                    <div style="display:flex">\n                        <div style="flex-grow: 0;flex-shrink: 0;flex-basis: 37px;height:35px;box-sizing:border-box;margin-top:8px;position:relative;">\n                            <div style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;flex-flow:wrap;overflow:hidden;">\n                                ${r}\n                            </div>\n                            <button class="is-color-preview" style="cursor:default;position:absolute;top:0;left:0;width:100%;height:100%;transition:none;"></button>\n                        </div>\n                        <input class="input-text" type="text" style="width:209px;height:35px;margin-top:8px;font-size:13px;"/>\n                        <button title="${this.out("Apply")}" class="input-ok" style="height:35px;margin-top:8px;"><svg class="is-icon-flex"><use xlink:href="#icon-ok"></use></svg></use></svg></svg></button>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>`;""!==this.opts.renderOn?(l=document.querySelector(this.opts.renderOn),l.insertAdjacentHTML("beforeend",d)):(i.insertAdjacentHTML("beforeend",c),l=i.querySelector(".is-modal.pickcolor")),i.insertAdjacentHTML("beforeend",'<div class="is-modal pickcolormore">\n            <div class="is-modal-content" style="padding: 12px">\n                <div class="is-modal-bar is-draggable"></div>\n                <div>\n                    \n                    <div class="color-swatch clearfix"></div>\n                    \n                    <div class="div-color-hue" style="height: 23px;margin: 10px 0 0;position:relative">\n                        <input type="range" min="0" max="360" value="0" class="color-hue is-rangeslider" style="position:relative;background:transparent;margin:0 !important;z-index:1">\n                    </div>\n\n                </div>\n            </div>\n        </div>');const u=i.querySelector(".is-modal.pickcolormore");this.pickcolor=l,this.pickcolormore=u,new ps({selector:"#"+this.id+" .is-draggable"});let p=document.createElement("div");p.style.backgroundColor=this.opts.color;let h,g=p.style.backgroundColor;""!==g&&(h=bv.color(g),this.baseRGB=h);let f=u.querySelector(".color-swatch"),m=l.querySelector(".color-gradient");if(h){let e;e=""!==g?mv(h.r,h.g,h.b):0,uv(f,e);let t=yv(h.r,h.g,h.b);pv(m,e,t[1])}else{let e;e=0,uv(f,e);let t=yv(255,255,255);pv(m,e,t[1])}let v=l.querySelector(".input-hsl");this.addEventListener(v,"click",(()=>{this.modal.show(u,!1,null,!1)}));var b=u.querySelector(".color-hue");b.oninput=()=>{let e=b.value/360;uv(f,361*e)};let y=document.createElement("div");y.style.display="flex",y.style.position="absolute",y.style.width="calc(100% + 1px)",y.style.top=0,y.style.left=0;let _=function(e,t,i,n){let o=[],s=Math.trunc(360/n);for(let a=0;a<n;a++){let n=a*s;o.push(`hsla(${n},${t}%,${e}%,${i})`)}return o}(45,100,1,360);for(s=0;s<_.length-1;s++){let e=document.createElement("div");e.style.backgroundColor=_[s],e.style.width="1px",e.style.height="24px",y.appendChild(e)}u.querySelector(".div-color-hue").appendChild(y);const x=l.querySelector(".color-opacity");x.oninput=()=>{let e=x.value/100,t=this.baseRGB;if(t){let i;i=1===e?"rgb("+t.r+","+t.g+","+t.b+")":"rgba("+t.r+","+t.g+","+t.b+","+e+")",l.querySelector(".is-color-preview").style.backgroundColor=i,l.querySelector(".input-text").value=i,this.opts.onPick(i)}},h&&(h.a?x.value=100*h.a:x.value=100);let w=x.value/100,S="",C="";h&&(S=1*w==1?"rgb("+h.r+","+h.g+","+h.b+")":"rgba("+h.r+","+h.g+","+h.b+","+w+")",C="linear-gradient(90deg, rgba("+h.r+","+h.g+","+h.b+",0), rgba("+h.r+","+h.g+","+h.b+",1))"),l.querySelector(".div-color-opacity .color-opacity").style.backgroundImage=C;let k=l.querySelector(".is-color-preview");k.style.background="none",""!==S&&(k.style.backgroundColor=S);let E=l.querySelector(".input-text");E.value=S,this.addEventListener(E,"keydown",(e=>{13!==e.which&&13!==e.keyCode&&"Enter"!==e.key||(this.setColor(e.target.value),e.preventDefault(),e.stopImmediatePropagation())}));let A=l.querySelector(".input-ok");this.addEventListener(A,"click",(()=>{this.setColor(E.value)}));let q=l.querySelectorAll("[data-color]");Array.prototype.forEach.call(q,(e=>{this.addEventListener(e,"click",(e=>{let t=e.target,i=t.getAttribute("data-color"),n=lv(i);if(this.baseRGB=n,!this.parentsHasClass(t,"color-gradient")&&""!==i)if(n.r===n.g&&n.g===n.b)hv(m);else{let e=mv(n.r,n.g,n.b);uv(f,e),pv(l.querySelector(".color-gradient"),e,yv(n.r,n.g,n.b)[1])}let o=x.value/100,s="",a="";n&&(s=1*o==1?"rgb("+n.r+","+n.g+","+n.b+")":"rgba("+n.r+","+n.g+","+n.b+","+o+")",a="linear-gradient(90deg, rgba("+n.r+","+n.g+","+n.b+",0), rgba("+n.r+","+n.g+","+n.b+",1))"),l.querySelector(".div-color-opacity .color-opacity").style.backgroundImage=a,l.querySelector(".is-color-preview").style.backgroundColor=s,l.querySelector(".input-text").value=s,this.opts.onPick(s)}))})),q=u.querySelectorAll("[data-color]"),Array.prototype.forEach.call(q,(e=>{this.addEventListener(e,"click",(()=>{let t=lv(e.getAttribute("data-color"));this.baseRGB=t;let i=mv(t.r,t.g,t.b),n=yv(t.r,t.g,t.b);pv(m,i,n[1]);let o=x.value/100,s="",a="";t&&(s=1*o==1?"rgb("+t.r+","+t.g+","+t.b+")":"rgba("+t.r+","+t.g+","+t.b+","+o+")",a="linear-gradient(90deg, rgba("+t.r+","+t.g+","+t.b+",0), rgba("+t.r+","+t.g+","+t.b+",1))"),l.querySelector(".div-color-opacity .color-opacity").style.backgroundImage=a,l.querySelector(".is-color-preview").style.backgroundColor=s,l.querySelector(".input-text").value=s,this.opts.onPick(s)}))}))}out(e){if(this.opts.lang){let t=this.opts.lang[e];return t||e}return e}open(e,t){e&&(this.opts.onPick=e),t&&(this.opts.color=t,this.setColor(t,!0)),this.modal.show(this.pickcolor,!1,null,!1)}setColor(e,t){let i=this.pickcolor,n=this.pickcolormore;var o=i.querySelector(".color-opacity");let s,a=i.querySelector(".color-gradient"),r=e;if(-1!==r.indexOf("rgb")&&(s=bv.color(r)),-1!==r.indexOf("#")&&(s=lv(r)),!s){return hv(a),o.value=100,i.querySelector(".div-color-opacity .color-opacity").style.backgroundImage="",i.querySelector(".is-color-preview").style.background="none",void(i.querySelector(".input-text").value="")}if(this.baseRGB=s,s.r===s.g&&s.g===s.b)hv(a);else{let e=n.querySelector(".color-swatch"),t=mv(s.r,s.g,s.b);uv(e,t),pv(a,t,yv(s.r,s.g,s.b)[1])}s.a||0===s.a?o.value=100*s.a:o.value=100;let l=o.value/100,d="",c="";s&&(d=1*l==1?"rgb("+s.r+","+s.g+","+s.b+")":"rgba("+s.r+","+s.g+","+s.b+","+l+")",c="linear-gradient(90deg, rgba("+s.r+","+s.g+","+s.b+",0), rgba("+s.r+","+s.g+","+s.b+",1))"),i.querySelector(".div-color-opacity .color-opacity").style.backgroundImage=c,i.querySelector(".is-color-preview").style.backgroundColor=d,i.querySelector(".input-text").value=d,t||this.opts.onPick(d)}addEventListener(e,t,i){e.addEventListener(t,i)}parentsHasClass(e,t){for(;e;){if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(!e.classList)return!1;if(e.classList.contains(t))return!0;e=e.parentNode}}}function lv(e){if(""===e)return null;var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function dv(e){var t="0123456789abcdef",i=parseInt(e);return 0===i||isNaN(e)?"00":(i=Math.round(Math.min(Math.max(0,i),255)),t.charAt((i-i%16)/16)+t.charAt(i%16))}function cv(e){return dv(e[0])+dv(e[1])+dv(e[2])}function uv(e,t){let i,n,o=10;if(""===e.innerHTML)for(i=0;i<o;++i){let s=document.createElement("div");for(s.style.width="100%",s.id="row-"+i,e.appendChild(s),n=0;n<o;++n){let o=i*(100/9)+5,s=10*n+5;s>50&&s<=55&&(s=50),o>100&&(o=100);let a="#"+cv(fv(t,o,s)),r=document.createElement("div");r.title=a,r.style.background=a,r.setAttribute("data-color",a),e.querySelector("#row-"+i).appendChild(r)}}else for(i=0;i<o;++i){let s=e.childNodes[i];for(n=0;n<o;++n){let e=s.childNodes[n],o=i*(100/9)+5,a=10*n+5;a>50&&a<=55&&(a=50),o>100&&(o=100);let r="#"+cv(fv(t,o,a));e.title=r,e.style.background=r,e.setAttribute("data-color",r)}}}function pv(e,t,i){let n,o,s=100/7*2-100/7;if(""===e.innerHTML)for(n=0;n<5;++n){let a=document.createElement("div");for(a.style.width="100%",a.id="row-"+n,e.appendChild(a),o=0;o<7;++o){let a=o*(100/7);a+=(-1*(n-5)-1)*(s/5),0===o&&(a=o*(100/7));let r="#"+cv(fv(t,i,a)),l=document.createElement("div");l.title=r,l.style.background=r,l.setAttribute("data-color",r),e.querySelector("#row-"+n).appendChild(l)}}else{let a,r;for(n=0;n<5;++n)for(a=e.childNodes[n],o=0;o<7;++o){r=a.childNodes[o];let e=o*(100/7);e+=(-1*(n-5)-1)*(s/5),6===n&&0===o&&(e=0);let l="#"+cv(fv(t,i,e));r.title=l,r.style.background=l,r.setAttribute("data-color",l)}}}function hv(e){let t,i,n=100/7*2-100/7;if(""===e.innerHTML)for(t=0;t<5;++t){let o=document.createElement("div");for(o.style.width="100%",o.id="row-"+t,e.appendChild(o),i=0;i<7;++i){let o=i*(100/7);o+=(-1*(t-5)-1)*(n/5),0===i&&(o=i*(100/7));let s="#"+cv(fv(0,0,o)),a=document.createElement("div");a.title=s,a.style.background=s,a.setAttribute("data-color",s),e.querySelector("#row-"+t).appendChild(a)}}else{let o,s;for(t=0;t<5;++t)for(o=e.childNodes[t],i=0;i<7;++i){s=o.childNodes[i];let e=i*(100/7);e+=(-1*(t-5)-1)*(n/5),6===t&&0===i&&(e=0);let a="#"+cv(fv(0,0,e));s.title=a,s.style.background=a,s.setAttribute("data-color",a)}}}function gv(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function fv(e,t,i){e/=360,t/=100;var n=(i/=100)<=.5?i*(t+1):i+t-i*t,o=2*i-n;return[parseInt(255*gv(o,n,e+1/3)),parseInt(255*gv(o,n,e)),parseInt(255*gv(o,n,e-1/3))]}function mv(e,t,i){e/=255,t/=255,i/=255;var n,o,s,a=Math.max(e,t,i),r=a-Math.min(e,t,i);if(0===r)n=0;else switch(a){case e:s=0,(o=(t-i)/r)<0&&(s=6),n=o+s;break;case t:n=(o=(i-e)/r)+(s=2);break;case i:n=(o=(e-t)/r)+(s=4)}return 60*n}var vv,bv=(vv=function(e){return parseInt(e,16)},{color:function(e){var t,i,n,o,s=e.slice(0,1);return"#"===s?function(e){var t;return 4===e.length?(t=e.replace("#","").split(""),{r:vv(t[0]+t[0]),g:vv(t[1]+t[1]),b:vv(t[2]+t[2])}):{r:vv(e.slice(1,3)),g:vv(e.slice(3,5)),b:vv(e.slice(5))}}(e):"r"===s.toLowerCase()?(n=(t=e).slice(t.indexOf("(")+1,t.indexOf(")")).split(","),o=!1,i={r:(n=n.map((function(e,t){return 3!==t?parseInt(e,10):(o=!0,parseFloat(e))})))[0],g:n[1],b:n[2]},o&&(i.a=n[3]),i):void console.log("!Ooops! RGBvalues.color("+e+") : HEX, RGB, or RGBa strings only")}});function yv(e,t,i){e/=255,t/=255,i/=255;var n,o,s=Math.max(e,t,i),a=Math.min(e,t,i),r=(s+a)/2;if(s===a)n=o=0;else{var l=s-a;switch(o=r>.5?l/(2-s-a):l/(s+a),s){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return[100*n+.5|0,100*o+.5|0,100*r+.5|0]}class _v{constructor(e={}){this.opts=Object.assign(this,{colors:["#ff9f01","#f57c00","#e64918","#d32f2f","#5d4038","#37474f","#353535","#fbc02c","#b0b42a","#689f39","#c21f5b","#7b21a2","#522da8","#616161","#01b8c9","#009688","#388d3c","#0388d0","#1465c0","#2f3f9e","#9e9e9e"],gradientcolors:[["linear-gradient(0deg, rgb(255, 57, 25), rgb(249, 168, 37))"],["linear-gradient(0deg, rgb(255, 57, 25), rgb(255, 104, 15))"],["linear-gradient(0deg, #FF5722, #FF9800)"],["linear-gradient(0deg, #613ca2, rgb(110, 123, 217))"],["linear-gradient(0deg, rgb(65, 70, 206), rgb(236, 78, 130))"],["linear-gradient(0deg, rgb(0, 150, 102), rgb(90, 103, 197))"],["linear-gradient(30deg, rgb(249, 119, 148), rgb(98, 58, 162))"],["linear-gradient(0deg, rgb(223, 70, 137), rgb(90, 103, 197))"],["linear-gradient(0deg, rgb(40, 53, 147), rgb(90, 103, 197))"],["linear-gradient(0deg, rgb(21, 101, 192), rgb(52, 169, 239))"],["linear-gradient(0deg, rgb(32, 149, 219), rgb(139, 109, 230))"],["linear-gradient(0deg, rgb(90, 103, 197), rgb(0, 184, 201))"],["linear-gradient(0deg, rgb(0, 184, 201), rgb(253, 187, 45))"],["linear-gradient(0deg, rgb(255, 208, 100), rgb(239, 98, 159))"],["linear-gradient(0deg, rgb(0, 214, 223), rgb(130, 162, 253))"],["linear-gradient(0deg, rgb(50, 234, 251), rgb(248, 247, 126))"],["linear-gradient(0deg, rgb(141, 221, 255), rgb(255, 227, 255))"],["linear-gradient(0deg, rgb(255, 170, 170), rgb(255, 255, 200))"],["linear-gradient(0deg, rgb(239, 239, 239), rgb(252, 252, 252))"]],animateModal:!1,elementToAnimate:"",stuffPlacement:"#_cbhtml",lang:[]},e),this.id=function(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}();let t=document.querySelector(this.opts.stuffPlacement);t||(t=document.createElement("div"),t.id="_cbhtml",t.className="is-ui",document.body.appendChild(t)),this.builderStuff=t;const i=document.createElement("div");i.id=this.id,t.appendChild(i),this.objStuff=i;const n=new av({animateModal:this.opts.animateModal,elementToAnimate:this.opts.elementToAnimate,stuffPlacement:this.opts.stuffPlacement});this.modal=n;let o="";for(var s=0;s<this.opts.gradientcolors.length;s++)o+=`<button data-elmgradient="${this.opts.gradientcolors[s][0]}" data-textcolor="${this.opts.gradientcolors[s][1]?this.opts.gradientcolors[s][1]:""}" style="background-image:${this.opts.gradientcolors[s][0]};width:35px;height:35px;border:none;"></button>`;let a=`\n            <div class="is-modal pickgradientcolor">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable"></div>\n                    <div style="padding:12px 12px 12px">\n                        <div class="div-gradients" style="display: flex;flex-flow: wrap;margin-bottom:10px;">\n                            ${o}\n                            <button class="input-gradient-clear" title="${this.out("Clear")}" data-value="" style="width:35px;height:35px;"><svg class="is-icon-flex" style="width:23px;height:23px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                        </div>\n                        <div class="is-settings" style="margin-bottom:0">\n                            <div class="is-label" style="margin-top:0">${this.out("Custom")}:</div>\n                            <div class="div-custom-gradients clearfix" style="height:auto;display: flex;flex-flow: wrap;"></div>\n                            <div>\n                                <button title="${this.out("Select Color")}" class="input-gradient-color1 is-btn-color" data-value="dark" style="border-right:none"></button>\n                                <button title="${this.out("Select Color")}" class="input-gradient-color2 is-btn-color" data-value="dark"></button>\n                                <input type="text" class="input-gradient-deg" value="0" style="width:60px;height:35px;margin-left:7px;margin-right:5px;font-size:14px;"/> deg\n                            </div>\n                        </div>\n                        <div class="is-settings clearfix" style="margin-bottom:0">\n                            <button title="${this.out("Add")}" class="input-gradient-save classic" style="width:100%;border:none;"> ${this.out("Add")} </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;i.insertAdjacentHTML("beforeend",a);const r=i.querySelector(".is-modal.pickgradientcolor");this.pickGradient=r,new ps({selector:"#"+this.id+" .is-draggable"});const l=new rv({colors:this.opts.colors,animateModal:this.opts.animateModal,elementToAnimate:this.opts.container,lang:this.opts.lang});let d=i.querySelector(".input-gradient-color1");d.addEventListener("click",(()=>{l.open((e=>{""===e&&(e="transparent");let t=e,n=i.querySelector(".input-gradient-color2").style.backgroundColor;""===n&&(n="#ffffff");let o=`linear-gradient(${i.querySelector(".input-gradient-deg").value}deg, ${t}, ${n})`;this.targetElement.style.backgroundImage=o,this.opts.onChange&&this.opts.onChange(o),d.style.backgroundColor=e}),d.style.backgroundColor)}));let c=i.querySelector(".input-gradient-color2");c.addEventListener("click",(()=>{l.open((e=>{""===e&&(e="transparent");let t=i.querySelector(".input-gradient-color1").style.backgroundColor,n=e;""===t&&(t="#ffffff");let o=`linear-gradient(${i.querySelector(".input-gradient-deg").value}deg, ${t}, ${n})`;this.targetElement.style.backgroundImage=o,this.opts.onChange&&this.opts.onChange(o),c.style.backgroundColor=e}),c.style.backgroundColor)}));let u=i.querySelectorAll(".div-gradients [data-elmgradient]");Array.prototype.forEach.call(u,(e=>{let t=e.getAttribute("data-elmgradient"),n=e.getAttribute("data-textcolor");e.addEventListener("click",(()=>{this.targetElement.style.backgroundImage=t,this.opts.onChange&&this.opts.onChange(t,n);const o=this.targetElement.style.backgroundImage;if(-1!==o.indexOf("linear-gradient")){const e=xv(o);if(null!==e)try{let t=e.colorStopList[0].color,i=e.colorStopList[1].color,n=e.line;this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor=t,this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor=i,-1!==n.indexOf("deg")&&(this.objStuff.querySelector(".input-gradient-deg").value=n.replace("deg",""))}catch(e){}}let s=i.querySelectorAll(".div-gradients [data-elmgradient]");Array.prototype.forEach.call(s,(e=>{this.removeClass(e,"active")})),this.addClass(e,"active")}))})),i.querySelector(".input-gradient-clear").addEventListener("click",(()=>{this.targetElement.style.backgroundImage="",this.opts.onChange&&this.opts.onChange(""),this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor="",this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor="",this.objStuff.querySelector(".input-gradient-deg").value="0"}));let p=i.querySelector(".input-gradient-deg");p.addEventListener("keyup",(()=>{let e=i.querySelector(".input-gradient-color1").style.backgroundColor,t=i.querySelector(".input-gradient-color2").style.backgroundColor,n=`linear-gradient(${p.value}deg, ${e}, ${t})`;this.targetElement.style.backgroundImage=n,this.opts.onChange&&this.opts.onChange(n)})),i.querySelector(".input-gradient-save").addEventListener("click",(()=>{let e=i.querySelector(".input-gradient-color1").style.backgroundColor,t=i.querySelector(".input-gradient-color2").style.backgroundColor,n=`linear-gradient(${p.value}deg, ${e}, ${t})`,o=[];if(null!==localStorage.getItem("_customgradcolors")&&(o=JSON.parse(localStorage.getItem("_customgradcolors"))),o.push(n),localStorage.setItem("_customgradcolors",JSON.stringify(o)),null!==localStorage.getItem("_customgradcolors")){let e=JSON.parse(localStorage.getItem("_customgradcolors")),t="";for(var s=0;s<e.length;s++)t+=`<button class="is-elmgrad-item" data-elmgradient="${e[s]}" style="background-image:${e[s]};width:35px;height:35px;padding:0;border:none;"><div class="is-elmgrad-remove"><svg class="is-icon-flex" style="fill:rgba(255, 255, 255, 1);width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></div></button>`;this.objStuff.querySelector(".div-custom-gradients").innerHTML=t}let a=this.objStuff.querySelectorAll(".div-custom-gradients [data-elmgradient]");Array.prototype.forEach.call(a,(e=>{let t=e.getAttribute("data-elmgradient");e.addEventListener("click",(()=>{this.targetElement.style.backgroundImage=t,this.opts.onChange&&this.opts.onChange(t);const n=this.targetElement.style.backgroundImage;if(-1!==n.indexOf("linear-gradient")){const e=xv(n);if(null!==e)try{let t=e.colorStopList[0].color,i=e.colorStopList[1].color,n=e.line;this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor=t,this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor=i,-1!==n.indexOf("deg")&&(this.objStuff.querySelector(".input-gradient-deg").value=n.replace("deg",""))}catch(e){}}let o=i.querySelectorAll(".div-custom-gradients [data-elmgradient]");Array.prototype.forEach.call(o,(e=>{this.removeClass(e,"active")})),this.addClass(e,"active")}))}));let r=this.objStuff.querySelectorAll(".div-custom-gradients .is-elmgrad-remove");Array.prototype.forEach.call(r,(e=>{e.addEventListener("click",(()=>{let t=[];null!==localStorage.getItem("_customgradcolors")&&(t=JSON.parse(localStorage.getItem("_customgradcolors")));for(var i=e.parentNode.getAttribute("data-elmgradient"),n=0;n<t.length;n++)t[n]===i&&t.splice(n,1);return localStorage.setItem("_customgradcolors",JSON.stringify(t)),e.parentNode.parentNode.removeChild(e.parentNode),!1}))}))}))}out(e){if(this.opts.lang){let t=this.opts.lang[e];return t||e}return e}open(e,t,i){this.opts.onChange=t,this.opts.onFinish=i,this.targetElement=e,this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor="",this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor="",this.objStuff.querySelector(".input-gradient-deg").value="0";const n=e.style.backgroundImage;if(-1!==n.indexOf("linear-gradient")){const e=xv(n);if(null!==e)try{let t=e.colorStopList[0].color,i=e.colorStopList[1].color,n=e.line;this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor=t,this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor=i,-1!==n.indexOf("deg")&&(this.objStuff.querySelector(".input-gradient-deg").value=n.replace("deg",""))}catch(e){}}this.original=n;let o=[];if(null!==localStorage.getItem("_customgradcolors")){o=JSON.parse(localStorage.getItem("_customgradcolors"));let e="";for(var s=0;s<o.length;s++)e+=`<button class="is-elmgrad-item" data-elmgradient="${o[s]}" style="background-image:${o[s]};width:35px;height:35px;padding:0;border:none;"><div class="is-elmgrad-remove"><svg class="is-icon-flex" style="fill:rgba(255, 255, 255, 1);width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></div></button>`;this.objStuff.querySelector(".div-custom-gradients").innerHTML=e}let a=this.objStuff.querySelectorAll(".div-custom-gradients [data-elmgradient]");Array.prototype.forEach.call(a,(e=>{let t=e.getAttribute("data-elmgradient");e.addEventListener("click",(()=>{this.targetElement.style.backgroundImage=t,this.opts.onChange&&this.opts.onChange(t);const i=this.targetElement.style.backgroundImage;if(-1!==i.indexOf("linear-gradient")){const e=xv(i);if(null!==e)try{let t=e.colorStopList[0].color,i=e.colorStopList[1].color,n=e.line;this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor=t,this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor=i,-1!==n.indexOf("deg")&&(this.objStuff.querySelector(".input-gradient-deg").value=n.replace("deg",""))}catch(e){}}let n=this.objStuff.querySelectorAll(".div-custom-gradients [data-elmgradient]");Array.prototype.forEach.call(n,(e=>{this.removeClass(e,"active")})),this.addClass(e,"active")}))}));let r=this.objStuff.querySelectorAll(".div-custom-gradients .is-elmgrad-remove");Array.prototype.forEach.call(r,(e=>{e.addEventListener("click",(()=>{let t=[];null!==localStorage.getItem("_customgradcolors")&&(t=JSON.parse(localStorage.getItem("_customgradcolors")));for(var i=e.parentNode.getAttribute("data-elmgradient"),n=0;n<t.length;n++)t[n]===i&&t.splice(n,1);return localStorage.setItem("_customgradcolors",JSON.stringify(t)),e.parentNode.parentNode.removeChild(e.parentNode),!1}))})),this.modal.show(this.pickGradient,!1,(()=>{this.original===this.targetElement.style.backgroundImage?this.opts.onFinish&&this.opts.onFinish(!1):this.opts.onFinish&&this.opts.onFinish(!0)}),!1)}addClass(e,t){e&&(this.hasClass(e,t)||(0===e.classList.length?e.className=t:e.className=e.className+" "+t))}removeClass(e,t){e&&e.classList.length>0&&(e.className=e.className.replace(t,""))}hasClass(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className))}}function xv(e){var t,i=Sv(),n=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/.exec(e);return null!==n?(t=Cv(i,n[1])).original.trim()!==n[1].trim()&&(t.parseWarning=!0):t="Failed to find gradient",t}var wv=function(e,t){var i,n="";for(i=0;i<e.length;i++)"string"==typeof e[i]?n+=e[i]:n+=e[i].source;return new RegExp(n,t)},Sv=function(){var e=/\s*,\s*/,t=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,i=wv(["(?:",/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,"|",/[_a-z-][_a-z0-9-]*/,")"],""),n=wv([i,"(?:\\s+",t,"(?:\\s+",t,")?)?"],""),o=wv(["(?:",n,e,")*",n],""),s=wv(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right)(?:\s+(?:top|bottom))?))/,")"],"");return{gradientSearch:wv(["(?:(",s,")",e,")?(",o,")"],"gi"),colorStopSearch:wv(["\\s*(",i,")","(?:\\s+","(",t,"))?","(?:",e,"\\s*)?"],"gi")}},Cv=function(e,t){var i,n,o,s;if(e.gradientSearch.lastIndex=0,null!==(n=e.gradientSearch.exec(t)))for(i={original:n[0],colorStopList:[]},n[1]&&(i.line=n[1]),n[2]&&(i.angle=n[2]),n[3]&&(i.sideCorner=n[3]),e.colorStopSearch.lastIndex=0,o=e.colorStopSearch.exec(n[4]);null!==o;)s={color:o[1]},o[2]&&(s.position=o[2]),i.colorStopList.push(s),o=e.colorStopSearch.exec(n[4]);return i};const kv=new ni;class Ev{constructor(e){this.builder=e,this.grid=new ts(e);const t=this.builder.util,i=this.builder.builderStuff;this.util=t;let n,o=i.querySelector(".is-column-tool"),s="";if(e.opts.columnHtmlEditor&&(s=`<button type="button" title="${t.out("HTML")}" class="cell-html">\n                <span><svg class="is-icon-flex" style="margin-right:-3px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></span>${t.out("HTML")}\n            </button>`),!o){let a=`<div class="is-tool is-column-tool">\n                <button type="button" title="${t.out("Add")}" class="cell-add"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n                <button type="button" title="${t.out("More")}" class="cell-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                <button type="button" title="${t.out("Delete")}" class="cell-remove"><svg class="is-icon-flex" style="margin-left:-1px"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>\n            \n            <div class="is-pop columnmore">\n                <div style="display:flex;flex-flow:wrap;">\n                    <button type="button" title="${t.out("Move Left")}" class="cell-prev"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-left"></use></svg></span>${t.out("Move Left")}</button>\n                    <button type="button" title="${t.out("Move Right")}" class="cell-next"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-right"></use></svg></span>${t.out("Move Right")}</button>\n                    <button type="button" title="${t.out("Move Up")}" class="cell-up"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></span>${t.out("Move Up")}</button>\n                    <button type="button" title="${t.out("Move Down")}" class="cell-down"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></span>${t.out("Move Down")}</button>\n                    <button type="button" title="${t.out("Increase")}" class="cell-increase"><span><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-increase"></use></svg></span>${t.out("Increase")}</button>\n                    <button type="button" title="${t.out("Decrease")}" class="cell-decrease"><span><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-decrease"></use></svg></span>${t.out("Decrease")}</button>\n                    <button type="button" title="${t.out("Duplicate")}" class="cell-duplicate"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></span>${t.out("Duplicate")}</button>\n                    ${s}\n                    <div class="is-separator"></div>\n                    <button type="button" title="${t.out("Lock")}" class="cell-locking"><span><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-lock"></use></svg></span>${t.out("Lock")}</button>\n                    <button type="button" title="${t.out("Settings")}" class="cell-settings"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></span>${t.out("Settings")}</button>\n                    \n                    \x3c!--\n                    <button title="${t.out("Lock")}" class="cell-locking">\n                        <svg class="is-icon-flex"><use xlink:href="#icon-lock"></use></svg>\n                    </button>\n                    <button title="${t.out("Settings")}" class="cell-settings">\n                        <svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg>\n                        <span>${t.out("Settings")}</span>\n                    </button>\n                    --\x3e\n                </div>\n            </div>\n\n            <div class="is-modal columnsettings">\n                <div class="is-modal-content" style="width:370px;min-height:435px;padding: 0px;">\n                    <div class="is-modal-bar is-draggable">\n                        ${t.out("Column Settings")}\n                        <div class="is-modal-close" role="button" tabindex="0" title="${t.out("Close")}">&#10005;</div>\n                    </div>\n\n                    <div style="padding:0;margin-top:35px;">\n\n                        <div class="is-tabs clearfix" data-group="cellsettings">\n                            <a title="${t.out("General")}" id="tabCellGeneral" href="" data-content="divCellGeneral" class="active">${t.out("General")}</a>\n                            <a title="${t.out("Content")}" id="tabCellContent" href="" data-content="divCellContent">${t.out("Content")}</a>\n                            ${this.builder.useLightbox?`\n                            <a title="${t.out("On Click")}" id="tabCellClick" href="" data-content="divCellClick">${t.out("On Click")}</a>\n                            `:""}\n                        </div>\n                        <div id="divCellGeneral" class="is-tab-content" data-group="cellsettings" style="display:flex">\n                        \n                            <div style="padding-bottom: 3px;">${t.out("Background Color")}:</div>\n                            <div style="display:flex;">\n                                <button title="${t.out("Background Color")}" class="input-cell-bgcolor is-btn-color" style="margin-right:15px"></button>\n                                <button title="${t.out("Gradient")}" class="input-cell-gradient classic" data-value="+"> ${t.out("Gradient")} </button>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom: 3px;">${t.out("Background Image")}:</div>\n                            <div>\n                                <div class="cell-bgimage-preview"></div>\n                                <div style="display: flex">\n                                    <button title="${t.out("Image")}" class="input-cell-bgimage">\n                                        <svg class="is-icon-flex"><use xlink:href="#ion-image"></use></svg>\n                                        <span>${t.out("Image")}</span>\n                                    </button>\n                                    <button title="${t.out("Remove")}" class="input-cell-bgremove"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>\n                                    <button title="${t.out("Adjust")}" class="input-cell-bgimageadjust"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button>\n                                </div>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom:3px;">${t.out("Text Color")}:</div>\n                            <div class="div-content-textcolor">\n                                <button title="0" class="input-cell-textcolor" data-command="dark">${t.out("Dark")}</button>\n                                <button title="10" class="input-cell-textcolor" data-command="light">${t.out("Light")}</button>\n                                \n                                <button title="${t.out("Clear")}" class="input-cell-textcolor" data-command=""><svg class="is-icon-flex" style="flex:none;width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                            </div>\n\n                            <div style="padding-top:20px;">\n                                <label class="label-cell-grayscale label-checkbox" for="chkCellGrayscale"><input id="chkCellGrayscale" class="chk-cell-grayscale" type="checkbox" /> ${t.out("Grayscale")}</label>\n                            </div>\n                            \n                            <div style="display:none;padding-top:20px;padding-bottom:3px;">${t.out("Enlarge Row")}:</div>\n                            <div style="display: none;">\n                                <button title="${t.out("Normal")}" class="input-row-enlarge" data-command="0" style="margin-right:1px;">${t.out("Normal")}</button>\n                                <button title="+10%" class="input-row-enlarge" data-command="10" style="width:50px;margin-right:1px;">+10%</button>\n                                <button title="+20%" class="input-row-enlarge" data-command="20" style="width:50px;margin-right:1px;">+20%</button>\n                                <button title="+30%" class="input-row-enlarge" data-command="30" style="width:50px;margin-right:1px;">+30%</button>\n                                <button title="+40%" class="input-row-enlarge" data-command="40" style="width:50px;margin-right:1px;">+40%</button>\n                                <button title="+50%" class="input-row-enlarge" data-command="50" style="width:50px;margin-right:1px;">+50%</button>\n                                <button title="+60%" class="input-row-enlarge" data-command="60" style="width:50px;margin-right:1px;">+60%</button>\n                            </div>\n\n                        </div>\n\n                        <div id="divCellContent" class="is-tab-content" data-group="cellsettings">\n\n                            <div style="padding-bottom:3px;">${t.out("Padding")}:</div>\n\n                            <div class="div-content-padding-pos" style="align-items:center;${this.builder.useCssClasses?"":"display:none"}">\n                                <div style="width:130px">\n                                    <div style="display: flex;justify-content: center;">\n                                        <button title="${t.out("Top")}" class="input-cell-padding-pos on" data-command="top">${t.out("Top")}</button>\n                                    </div>\n                                    <div style="display: flex;justify-content: center;">\n                                        <button title="${t.out("Left")}" class="input-cell-padding-pos on" data-command="left">${t.out("Left")}</button>\n                                        <button title="${t.out("Right")}" class="input-cell-padding-pos on" data-command="right">${t.out("Right")}</button>\n                                    </div>\n                                    <div style="display: flex;justify-content: center;">\n                                        <button title="${t.out("Bottom")}" class="input-cell-padding-pos on" data-command="bottom">${t.out("Bottom")}</button>\n                                    </div>\n                                </div>\n                                <button title="${t.out("All")}" class="input-cell-padding-pos" data-command="all">${t.out("All")}</button>\n                                <button title="x" class="input-cell-padding-pos" data-command="x" style="width:50px">x</button>\n                                <button title="y" class="input-cell-padding-pos" data-command="y" style="width:50px">y</button>\n                            </div>\n\n                            <div class="div-content-padding" style="flex-flow:wrap;margin-top:7px">\n                                <div style="display:flex;flex-flow:wrap;${this.builder.useCssClasses?"display:none":""}">\n                                    <button title="0" class="input-cell-padding" data-command="0">0</button>\n                                    <button title="10" class="input-cell-padding" data-command="10">10</button>\n                                    <button title="20" class="input-cell-padding" data-command="20">20</button>\n                                    <button title="30" class="input-cell-padding" data-command="30">30</button>\n                                    <button title="40" class="input-cell-padding" data-command="40">40</button>\n                                    <button title="50" class="input-cell-padding" data-command="50">50</button>\n                                    <button title="60" class="input-cell-padding" data-command="60">60</button>\n                                </div>\n\n                                <div style="display:flex;flex-flow:wrap;${this.builder.useCssClasses?"":"display:none"}">\n                                    <button title="0" class="input-cell-padding" data-command="0">0</button>\n                                    <button title="20" class="input-cell-padding" data-command="1">10</button>\n                                    <button title="40" class="input-cell-padding" data-command="2">20</button>\n                                    <button title="60" class="input-cell-padding" data-command="3">30</button>\n                                    <button title="60" class="input-cell-padding" data-command="4">40</button>\n                                    <button title="60" class="input-cell-padding" data-command="5">50</button>\n                                    <button title="60" class="input-cell-padding" data-command="6">60</button>\n                                    <button title="60" class="input-cell-padding" data-command="7">70</button>\n                                    <button title="60" class="input-cell-padding" data-command="8">80</button>\n                                    <button title="60" class="input-cell-padding" data-command="9">90</button>\n                                    <button title="60" class="input-cell-padding" data-command="10">100</button>\n                                    <button title="60" class="input-cell-padding" data-command="11">110</button>\n                                    <button title="60" class="input-cell-padding" data-command="12">120</button>\n                                    <button title="60" class="input-cell-padding" data-command="14">140</button>\n                                    <button title="60" class="input-cell-padding" data-command="16">160</button>\n                                    <button title="${t.out("Clear")}" class="input-cell-padding" data-command=""><svg class="is-icon-flex" style="flex:none;width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                                </div>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom:3px;">${t.out("Height")}:</div>\n                            <div class="div-content-height">\n                                <button title="Decrease" class="input-cell-height" data-command="-">-</button>\n                                <button title="Increase" class="input-cell-height" data-command="+">+</button>\n                                <button title="300" class="input-cell-height" data-command="300">300</button>\n                                <button title="400" class="input-cell-height" data-command="400">400</button>\n                                <button title="500" class="input-cell-height" data-command="500">500</button>\n                                <button title="600" class="input-cell-height" data-command="600">600</button>\n                                <button title="700" class="input-cell-height" data-command="700">700</button>\n                                <button title="${t.out("Clear")}" class="input-cell-height" data-command=""><svg class="is-icon-flex" style="flex:none;width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom:3px;">${t.out("Content Alignment")}:</div>\n                            <div style="display:flex;align-items: flex-end;">\n                                <div style="width:120px">\n                                    <div class="div-content-position">\n                                        <button class="cmd-content-pos" data-pos="topleft" title="${t.out("Top Left")}" type="button" style=""><svg class="is-icon-flex" style="transform: rotate(315deg);"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="topcenter" title="${t.out("Top Center")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="topright" topright="${t.out("Top Right")}" type="button"><svg class="is-icon-flex" style="transform: rotate(45deg);"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                    </div>\n                                    <div class="div-content-position">\n                                        <button class="cmd-content-pos" data-pos="centerleft" title="${t.out("Center Left")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-left"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="center" title="${t.out("Center")}" type="button"><svg class="is-icon-flex" style="width:6px;height:6px;"><use xlink:href="#ion-android-contract"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="centerright" title="${t.out("Center Right")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-right"></use></svg></button>\n                                    </div>\n                                    <div class="div-content-position">\n                                        <button class="cmd-content-pos" data-pos="bottomleft" title="${t.out("Bottom Left")}" type="button" style=";"><svg class="is-icon-flex" style="transform: rotate(45deg);"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="bottomcenter" title="${t.out("Bottom Center")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="bottomright" title="${t.out("Bottom Right")}" type="button"><svg class="is-icon-flex" style="transform: rotate(315deg);"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                    </div>\n                                </div>\n                                <div>\n                                    <button title="${t.out("Clear")}" class="cmd-content-pos" data-pos=""><svg class="is-icon-flex" style="flex:none;width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div id="divCellClick" class="is-tab-content" data-group="cellsettings">\n\n                            <label for="inpCellLinkSource" style="display:block">${t.out("Open")}:</label>\n                            <div class="image-src">\n                                \x3c!--<div class="div-input-text">--\x3e\n                                <input id="inpCellLinkSource" class="input-src" type="text" style="height:38px;">\n                                \x3c!--<button title="${t.out("Clear")}" class="input-clear"><svg class="is-icon-flex"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                                </div>--\x3e\n                                <button title="${t.out("Select")}" class="input-select" style="flex:none;width:40px;height:38px;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                                <div class="image-larger4" style="position: relative; flex: 0 0 auto; width: 40px; height: 38px; box-shadow: rgba(0, 0, 0, 0.32) 0px 3px 6px -6px;">\n                                    <form class="form-upload-larger" target="frameTargetLinkUpload" method="post" action="${this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="position:absolute;top:0;left:0;width:100%;height:100%;">\n                                        <input id="hidRefId4" name="hidRefId" type="hidden" value="">\n                                        <svg class="is-icon-flex" style="position: absolute;top: 10px;left: 15px;"><use xlink:href="#ion-image"></use></svg>\n                                        <input title="${t.out("Select")}" id="fileImage4" name="fileImage" type="file" accept="image/*,video/mp4" style="position:absolute;top:-30px;left:0;width:100%;height:68px;opacity: 0;cursor: pointer;">\n                                    </form>\n\n                                    <iframe id="frameTargetLinkUpload" name="frameTargetLinkUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                                </div>\n                            </div>\n                            <div style="padding-top:20px">\n                                <button class="input-testclick">${t.out("Test")}</button>\n                            </div>\n\n                            <p>${t.out("You can test the On-Click action on page if you lock the column by clicking the lock button")} <svg class="is-icon-flex"><use xlink:href="#icon-lock"></use></svg>.</p>\n\n                        </div>\n                    \n                    </div>\n                        \n                </div>\n            </div>\n\n            <div class="is-modal imageadjust">\n                <div class="is-modal-content" style="max-width:420px;">\n                    <div class="is-modal-bar is-draggable">\n                        ${t.out("Background Image Adjustments")}\n                        <div class="is-modal-close" role="button" tabindex="0" title="${t.out("Close")}">&#10005;</div>\n                    </div>\n\n                    <div style="padding:0;margin-top:25px;">\n\n                        <div style="padding-bottom:3px;">${t.out("Scale")}:</div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="100" max="500" value="0" class="image-scale-slider is-rangeslider">\n                        </div>\n\n                        <div style="padding-bottom:3px;padding-top: 20px;">${t.out("Horizontal")}:</div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="0" max="100" value="0" class="image-hor-slider is-rangeslider">\n                        </div>\n\n                        <div style="padding-bottom:3px;padding-top: 20px;">${t.out("Vertical")}:</div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="0" max="100" value="0" class="image-vert-slider is-rangeslider">\n                        </div>\n\n                    </div>\n\n                </div>\n            </div> \n\n\n            <div class="is-modal imagesource">\n                <div class="is-modal-content" style="max-width:550px;">\n\n                    <label for="inpCellImageBgSource" style="display:block">${t.out("Source")}:</label>\n                    <div class="image-src">\n                        <input id="inpCellImageBgSource" class="input-src" type="text">\n                        <button title="${t.out("Select")}" class="input-select" style="flex:none;width:50px;height:50px;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                        <div class="image-larger3" style="position: relative; flex: 0 0 auto; width: 50px; height: 50px; box-shadow: rgba(0, 0, 0, 0.32) 0px 3px 6px -6px;">\n                            <form class="form-upload-larger" target="frameTargetCellImageUpload" method="post" action="${this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="position:absolute;top:0;left:0;width:100%;height:100%;">\n                                <input id="hidRefId3" name="hidRefId" type="hidden" value="">\n                                <svg class="is-icon-flex" style="position: absolute;top: 16px;left: 15px;"><use xlink:href="#ion-image"></use></svg>\n                                <input title="${t.out("Select")}" id="fileImage3" name="fileImage" type="file" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                            </form>\n\n                            <iframe id="frameTargetCellImageUpload" name="frameTargetCellImageUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                        </div>\n                    </div>\n\n                    <div style="text-align:right;margin-top:20px;">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n\n                </div>\n            </div>\n\n            <div class="is-locked-indicator">\n                <svg class="is-icon-flex"><use xlink:href="#icon-lock"></use></svg>\n            </div>\n            `;kv.appendHtml(i,a),o=i.querySelector(".is-column-tool"),n=i.querySelector(".columnmore"),this.lockIndicator=i.querySelector(".is-locked-indicator"),this.cellSettings=i.querySelector(".is-modal.columnsettings");const r=Jo(e);let l=o.querySelectorAll("[title]");Array.prototype.forEach.call(l,(e=>{e.setAttribute("data-title",e.getAttribute("title"))}));let d=o.querySelector(".cell-add");kv.addEventListener(d,"click",(()=>{if(!t.cellSelected())return;r.querySelector(".is-pop-tabs").style.display="flex";const e=o.querySelector(".cell-add"),i=e.getBoundingClientRect().top+window.pageYOffset,n=e.getBoundingClientRect().left+window.pageXOffset;r.style.display="flex",r.style.top=i+35+"px",r.style.left=n+"px",kv.removeClass(r,"arrow-bottom"),kv.removeClass(r,"arrow-left"),kv.removeClass(r,"arrow-right"),kv.removeClass(r,"center"),kv.removeClass(r,"right"),kv.addClass(r,"arrow-top"),kv.addClass(r,"left"),"left"===r.querySelector(".active").getAttribute("data-value")?r.setAttribute("data-mode","cell-left"):r.setAttribute("data-mode","cell-right")})),d=o.querySelector(".cell-more"),kv.addEventListener(d,"click",(()=>{let e=t.cellSelected();if(!e)return;const i=o.querySelector(".cell-more"),s=i.getBoundingClientRect().top+window.pageYOffset,a=i.getBoundingClientRect().left+window.pageXOffset;n.style.display="flex",n.style.top=s+35+"px",n.style.left=a-7+"px",kv.removeClass(n,"arrow-bottom"),kv.removeClass(n,"arrow-left"),kv.removeClass(n,"arrow-right"),kv.removeClass(n,"center"),kv.removeClass(n,"right"),kv.addClass(n,"arrow-top"),kv.addClass(n,"left");const r=this.columnMore.querySelector(".cell-locking");e.hasAttribute("data-noedit")?kv.addClass(r,"on"):kv.removeClass(r,"on")})),d=o.querySelector(".cell-remove"),kv.addEventListener(d,"click",(()=>{this.grid.removeColumn(),t.clearControls()})),d=n.querySelector(".cell-prev"),kv.addEventListener(d,"click",(()=>{this.grid.moveColumnPrevious(),t.clearControls()})),d=n.querySelector(".cell-next"),kv.addEventListener(d,"click",(()=>{this.grid.moveColumnNext(),t.clearControls()})),d=n.querySelector(".cell-up"),kv.addEventListener(d,"click",(()=>{this.grid.moveColumnUp(),t.clearControls()})),d=n.querySelector(".cell-down"),kv.addEventListener(d,"click",(()=>{this.grid.moveColumnDown(),t.clearControls()})),d=n.querySelector(".cell-increase"),kv.addEventListener(d,"click",(()=>{this.grid.increaseColumn(),t.clearControls()})),d=n.querySelector(".cell-decrease"),kv.addEventListener(d,"click",(()=>{this.grid.decreaseColumn(),t.clearControls()})),d=n.querySelector(".cell-duplicate"),kv.addEventListener(d,"click",(()=>{this.grid.duplicateColumn(),this.columnMore.style.display="",t.clearControls()})),d=n.querySelector(".cell-html"),d&&kv.addEventListener(d,"click",(()=>{if(!t.cellSelected())return;new Wo(this.builder).view("cell")})),document.addEventListener("mousedown",(e=>{var t=(e=e||window.event).target||e.srcElement;if("flex"===n.style.display){let e=kv.parentsHasClass(t,"columnmore"),i=kv.parentsHasClass(t,"cell-more");if(e||i)return;n.style.display=""}}));const c=document.querySelector(".is-modal.columnsettings"),u=document.querySelector(".is-modal.imagesource"),p=document.querySelector(".is-modal.imageadjust");this.cellSettings=c,this.imageSource=u,this.imageAdjust=p;const h=n.querySelector(".cell-locking");h&&kv.addEventListener(h,"click",(e=>{let i=t.cellSelected();i&&(i.hasAttribute("data-noedit")?(i.removeAttribute("data-noedit"),i.contentEditable=!0,kv.removeClass(h,"on")):(i.setAttribute("data-noedit",""),i.contentEditable=!1,kv.addClass(h,"on"),this.util.clearActiveElement(!0)),this.showHideLockIndicator(i),this.builder.element.applyBehavior(i),this.columnMore.style.display="",e.preventDefault())})),d=n.querySelector(".cell-settings"),d&&kv.addEventListener(d,"click",(()=>{let e=t.cellSelected();e&&(this.readCellStyles(e),t.saveSelection(),t.showModal(c,!1,(()=>{"flex"===i.querySelector(".is-rte-tool").style.display&&t.restoreSelection()})),this.columnMore.style.display="")}));c.querySelector(".is-modal-close").addEventListener("click",(()=>{t.hideModal(c)})),c.querySelector(".input-cell-bgcolor").addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let i=e.target;this.builder.colorPicker.open((e=>{t.cellSelected().style.backgroundColor=e,i.style.backgroundColor=e,this.builder.opts.onChange()}),c.querySelector(".input-cell-bgcolor").style.backgroundColor)})),d=c.querySelector(".input-cell-bgimage"),d&&kv.addEventListener(d,"click",(()=>{let e=t.cellSelected();if(!e)return;let i="";e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")&&(i=e.style.backgroundImage.slice(4,-1).replace(/["']/g,"")),this.openImagePicker(i,(e=>{let i=t.cellSelected();if(!i)return;this.builder.uo.saveForUndo(),i.style.backgroundImage=`url("${e}")`,i.style.backgroundSize="cover",i.style.backgroundRepeat="no-repeat";const n=c.querySelector(".cell-bgimage-preview"),o=this.cellSettings.querySelector(".input-cell-bgimageadjust"),s=this.cellSettings.querySelector(".input-cell-bgremove");o.style.display="none",s.style.display="none",""!==e?(n.innerHTML=`<img src="${e}">`,o.style.display="flex",s.style.display="flex"):n.innerHTML="",this.builder.opts.onChange()}))})),d=c.querySelector(".input-cell-bgimageadjust"),d&&kv.addEventListener(d,"click",(()=>{let e=t.cellSelected();e&&this.openImageAdjust(e)})),d=c.querySelector(".input-cell-bgremove"),d&&kv.addEventListener(d,"click",(()=>{let e=t.cellSelected();if(!e)return;this.builder.uo.saveForUndo(),e.style.backgroundImage="",e.style.backgroundSize="",e.style.backgroundRepeat="";const i=c.querySelector(".cell-bgimage-preview"),n=this.cellSettings.querySelector(".input-cell-bgimageadjust"),o=this.cellSettings.querySelector(".input-cell-bgremove");n.style.display="none",o.style.display="none",i.innerHTML="",this.builder.opts.onChange()}));p.querySelector(".is-modal-close").addEventListener("click",(()=>{t.hideModal(p)})),""!==this.builder.opts.largerImageHandler||this.builder.opts.onLargerImageUpload||(u.querySelector(".image-larger3").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(u.querySelector(".input-select").style.display="none");let g=u.querySelector(".image-src");this.builder.opts.onImageSelectClick||this.builder.opts.imageselect?(d=u.querySelector(".input-select"),d&&kv.addEventListener(d,"click",(()=>{if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:u.querySelector(".input-src"),theTrigger:d});else{let e=i.querySelector(".is-modal.imageselect"),n=e.querySelector("iframe");this.builder.opts.assetRefresh&&(n.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===n.src&&(n.src=this.builder.opts.imageselect),t.showModal(e)}this.builder.targetInput=u.querySelector(".input-src"),this.builder.targetCallback=null,this.builder.targetAssetType="image"}))):kv.removeClass(g,"image-select");let f=u.querySelector("#fileImage3");kv.addEventListener(f,"change",(e=>{let t=f;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;kv.addClass(i,"please-wait"),u.querySelector("#hidRefId3").value=this.builder.opts.customval,this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):i.submit(),f.value=""}));const m=u.querySelector(".input-ok");kv.addEventListener(m,"click",(()=>{const e=this.imageSource.querySelector(".input-src").value;this.builder.imageSelectedCallback&&this.builder.imageSelectedCallback(e),t.hideModal(u)}));const v=u.querySelector(".input-cancel");kv.addEventListener(v,"click",(()=>{t.hideModal(u)}));const b=p.querySelector(".image-scale-slider");b.onfocus=()=>{this.builder.uo.saveForUndo(!0),b.blur()},b.oninput=()=>{let e=b.value;this.builder.elementSelected.style.backgroundSize=e+"%"},b.onchange=()=>{this.builder.opts.onChange()};const y=p.querySelector(".image-hor-slider");y.onfocus=()=>{this.builder.uo.saveForUndo(!0),y.blur()},y.oninput=()=>{let e=y.value;this.builder.elementSelected.style.backgroundPositionX=e+"%"},y.onchange=()=>{this.builder.opts.onChange()};const _=p.querySelector(".image-vert-slider");_.onfocus=()=>{this.builder.uo.saveForUndo(!0),_.blur()},_.oninput=()=>{let e=_.value;this.builder.elementSelected.style.backgroundPositionY=e+"%"},_.onchange=()=>{this.builder.opts.onChange()},l=c.querySelectorAll(".input-row-enlarge"),Array.prototype.forEach.call(l,(e=>{kv.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();let i=e.getAttribute("data-command"),n=t.cellSelected().parentNode;kv.removeClass(n,"expand-10"),kv.removeClass(n,"expand-20"),kv.removeClass(n,"expand-30"),kv.removeClass(n,"expand-40"),kv.removeClass(n,"expand-50"),kv.removeClass(n,"expand-60"),kv.addClass(n,"expand-"+i),this.builder.opts.onChange()}))}));const x=new _v({colors:this.builder.colors,gradientcolors:this.builder.opts.gradientcolors,lang:this.builder.opts.lang});c.querySelector(".input-cell-gradient").addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0);let e=t.cellSelected();x.open(e,(()=>{this.cellSettings.querySelector(".input-cell-bgimageadjust").style.display="none";this.cellSettings.querySelector(".input-cell-bgremove").style.display="none";this.cellSettings.querySelector(".cell-bgimage-preview").innerHTML="";this.imageSource.querySelector(".input-src").value="",this.builder.opts.onChange()}),(e=>{}))})),l=c.querySelectorAll(".input-cell-textcolor"),Array.prototype.forEach.call(l,(e=>{kv.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();let i=e.getAttribute("data-command"),n=t.cellSelected();"dark"===i?(kv.removeClass(n,"is-light-text"),kv.addClass(n,"is-dark-text")):"light"===i?(kv.removeClass(n,"is-dark-text"),kv.addClass(n,"is-light-text")):(kv.removeClass(n,"is-dark-text"),kv.removeClass(n,"is-light-text"));let o=n.querySelectorAll("*");Array.prototype.forEach.call(o,(e=>{e.style.color&&(e.style.color="")})),this.builder.opts.onChange()}))})),l=c.querySelectorAll(".input-cell-padding-pos"),Array.prototype.forEach.call(l,(e=>{kv.addEventListener(e,"click",(()=>{let t=e.getAttribute("data-command"),i=this.cellSettings.querySelectorAll(".input-cell-padding-pos");Array.prototype.forEach.call(i,(e=>{kv.removeClass(e,"on")})),"all"===t?(kv.addClass(this.cellSettings.querySelector('button[data-command="top"]'),"on"),kv.addClass(this.cellSettings.querySelector('button[data-command="left"]'),"on"),kv.addClass(this.cellSettings.querySelector('button[data-command="right"]'),"on"),kv.addClass(this.cellSettings.querySelector('button[data-command="bottom"]'),"on")):"x"===t?(kv.addClass(this.cellSettings.querySelector('button[data-command="left"]'),"on"),kv.addClass(this.cellSettings.querySelector('button[data-command="right"]'),"on")):"y"===t?(kv.addClass(this.cellSettings.querySelector('button[data-command="top"]'),"on"),kv.addClass(this.cellSettings.querySelector('button[data-command="bottom"]'),"on")):kv.addClass(e,"on");let n=this.cellSettings.querySelectorAll(".input-cell-padding");Array.prototype.forEach.call(n,(e=>{kv.removeClass(e,"on")}))}))})),l=c.querySelectorAll(".input-cell-padding"),Array.prototype.forEach.call(l,(e=>{kv.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();let i=e.getAttribute("data-command"),n=t.cellSelected(),o=this.cellSettings.querySelectorAll(".input-cell-padding");if(Array.prototype.forEach.call(o,(e=>{kv.removeClass(e,"on")})),this.builder.useCssClasses){let t;kv.removeClass(n,"padding-0"),kv.removeClass(n,"padding-10"),kv.removeClass(n,"padding-20"),kv.removeClass(n,"padding-30"),kv.removeClass(n,"padding-40"),kv.removeClass(n,"padding-50"),kv.removeClass(n,"padding-60");let o=this.cellSettings.querySelectorAll(".input-cell-padding-pos.on");if(2===o.length)if(t=o[0].getAttribute("data-command"),"left"===t){let e=this.builder.cssClasses.padding.left;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.right;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.x;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}""!==i&&kv.addClass(n,this.builder.cssClasses.padding.x[`px_${i}`])}else{let e=this.builder.cssClasses.padding.top;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.bottom;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.y;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}""!==i&&kv.addClass(n,this.builder.cssClasses.padding.y[`py_${i}`])}else if(4===o.length){let e=this.builder.cssClasses.padding.top;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.bottom;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.left;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.right;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.all;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.x;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}e=this.builder.cssClasses.padding.y;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}""!==i&&kv.addClass(n,this.builder.cssClasses.padding.all[`p_${i}`])}else if(t=o[0].getAttribute("data-command"),"top"===t){let e=this.builder.cssClasses.padding.top;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}""!==i&&kv.addClass(n,this.builder.cssClasses.padding.top[`pt_${i}`])}else if("bottom"===t){let e=this.builder.cssClasses.padding.bottom;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}""!==i&&kv.addClass(n,this.builder.cssClasses.padding.bottom[`pb_${i}`])}else if("left"===t){let e=this.builder.cssClasses.padding.left;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}""!==i&&kv.addClass(n,this.builder.cssClasses.padding.left[`pl_${i}`])}else if("right"===t){let e=this.builder.cssClasses.padding.right;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];kv.removeClass(n,i)}""!==i&&kv.addClass(n,this.builder.cssClasses.padding.right[`pr_${i}`])}kv.addClass(e,"on")}else kv.removeClass(n,"padding-0"),kv.removeClass(n,"padding-10"),kv.removeClass(n,"padding-20"),kv.removeClass(n,"padding-30"),kv.removeClass(n,"padding-40"),kv.removeClass(n,"padding-50"),kv.removeClass(n,"padding-60"),""!==i&&(kv.addClass(n,"padding-"+i),kv.addClass(e,"on"));this.builder.opts.onChange()}))}));const w=c.querySelector(".chk-cell-grayscale");if(kv.addEventListener(w,"click",(()=>{this.builder.uo.saveForUndo();let e=t.cellSelected();w.checked?e.style.filter="grayscale(1)":e.style.filter&&(e.style.filter=e.style.filter.replace("grayscale(1)","")),this.builder.opts.onChange()})),l=c.querySelectorAll(".input-cell-height"),Array.prototype.forEach.call(l,(e=>{kv.addEventListener(e,"click",(()=>{let i=this.builder.colHeight;this.builder.uo.saveForUndo();let n=e.getAttribute("data-command"),o=t.cellSelected(),s=this.cellSettings.querySelectorAll(".input-cell-height");if(Array.prototype.forEach.call(s,(e=>{kv.removeClass(e,"on")})),""===n)Array.prototype.forEach.call(i,(e=>{kv.removeClass(o,"min-height-"+e)}));else if("-"===n){let e=o.offsetHeight;Array.prototype.forEach.call(i,(t=>{if(e-t>0&&e-t<=50)if(Array.prototype.forEach.call(i,(e=>{kv.removeClass(o,"min-height-"+e)})),kv.addClass(o,"min-height-"+t),300===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="300"');kv.addClass(e,"on")}else if(400===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="400"');kv.addClass(e,"on")}else if(500===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="500"');kv.addClass(e,"on")}else if(600===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="600"');kv.addClass(e,"on")}else if(700===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="700"');kv.addClass(e,"on")}}))}else if("+"===n){let e=o.offsetHeight;Array.prototype.forEach.call(i,(t=>{if(t-e>0&&t-e<=50)if(Array.prototype.forEach.call(i,(e=>{kv.removeClass(o,"min-height-"+e)})),kv.addClass(o,"min-height-"+t),300===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="300"');kv.addClass(e,"on")}else if(400===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="400"');kv.addClass(e,"on")}else if(500===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="500"');kv.addClass(e,"on")}else if(600===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="600"');kv.addClass(e,"on")}else if(700===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="700"');kv.addClass(e,"on")}}))}else Array.prototype.forEach.call(i,(e=>{kv.removeClass(o,"min-height-"+e)})),kv.addClass(o,"min-height-"+n),kv.addClass(e,"on");this.builder.opts.onChange()}))})),l=c.querySelectorAll(".cmd-content-pos"),Array.prototype.forEach.call(l,(e=>{kv.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();let i=e.getAttribute("data-pos"),n=t.cellSelected();const o=this.cellSettings.querySelectorAll(".cmd-content-pos");if(Array.prototype.forEach.call(o,(e=>{kv.removeClass(e,"on")})),this.builder.useCssClasses)if(""!==i){let t=this.builder.cssClasses.display;if(kv.addCssClass(n,t.flex,t),t=this.builder.cssClasses.flexDirection,kv.addCssClass(n,t.column,t),"topleft"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.start,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.start,t),kv.addClass(e,"on")}if("topcenter"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.start,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.center,t),kv.addClass(e,"on")}if("topright"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.start,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.end,t),kv.addClass(e,"on")}if("centerleft"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.center,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.start,t),kv.addClass(e,"on")}if("center"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.center,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.center,t),kv.addClass(e,"on")}if("centerright"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.center,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.end,t),kv.addClass(e,"on")}if("bottomleft"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.end,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.start,t),kv.addClass(e,"on")}if("bottomcenter"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.end,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.center,t),kv.addClass(e,"on")}if("bottomright"===i){let t=this.builder.cssClasses.justifyContent;kv.addCssClass(n,t.end,t),t=this.builder.cssClasses.alignItems,kv.addCssClass(n,t.end,t),kv.addClass(e,"on")}}else kv.removeCssClasses(n,this.builder.cssClasses.display),kv.removeCssClasses(n,this.builder.cssClasses.flexDirection),kv.removeCssClasses(n,this.builder.cssClasses.justifyContent),kv.removeCssClasses(n,this.builder.cssClasses.alignItems);else n.style.display="flex",n.style.flexDirection="column","topleft"===i&&(n.style.justifyContent="flex-start",n.style.alignItems="flex-start",kv.addClass(e,"on")),"topcenter"===i&&(n.style.justifyContent="flex-start",n.style.alignItems="center",kv.addClass(e,"on")),"topright"===i&&(n.style.justifyContent="flex-start",n.style.alignItems="flex-end",kv.addClass(e,"on")),"centerleft"===i&&(n.style.justifyContent="center",n.style.alignItems="flex-start",kv.addClass(e,"on")),"center"===i&&(n.style.justifyContent="center",n.style.alignItems="center",kv.addClass(e,"on")),"centerright"===i&&(n.style.justifyContent="center",n.style.alignItems="flex-end",kv.addClass(e,"on")),"bottomleft"===i&&(n.style.justifyContent="flex-end",n.style.alignItems="flex-start",kv.addClass(e,"on")),"bottomcenter"===i&&(n.style.justifyContent="flex-end",n.style.alignItems="center",kv.addClass(e,"on")),"bottomright"===i&&(n.style.justifyContent="flex-end",n.style.alignItems="flex-end",kv.addClass(e,"on"));this.builder.opts.onChange()}))})),""!==this.builder.opts.largerImageHandler||this.builder.opts.onLargerImageUpload||(this.cellSettings.querySelector(".image-larger4").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(this.cellSettings.querySelector(".input-select").style.display="none"),this.builder.opts.onImageSelectClick||this.builder.opts.imageselect||this.builder.opts.onFileSelectClick||this.builder.opts.fileselect){const e=this.cellSettings.querySelector(".input-src");d=this.cellSettings.querySelector(".input-select"),d&&kv.addEventListener(d,"click",(()=>{if(this.builder.targetInput=e,this.builder.targetCallback=()=>{this.applyClick()},this.builder.targetAssetType="media",this.builder.opts.onFileSelectClick)this.builder.opts.onFileSelectClick({targetInput:e,theTrigger:d}),kv.observeElement(e,"value",(()=>{this.applyClick()}));else if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:e,theTrigger:d}),kv.observeElement(e,"value",(()=>{this.applyClick()}));else if(this.builder.opts.fileselect){let n=i.querySelector(".is-modal.fileselect"),o=n.querySelector("iframe");this.builder.opts.assetRefresh&&(o.src=this.builder.opts.fileselect,this.builder.opts.assetRefresh=!1),"about:blank"===o.src&&(o.src=this.builder.opts.fileselect),t.showModal(n),this.builder.targetInput=e,this.builder.targetCallback=()=>{this.applyClick()},this.builder.targetAssetType="media"}else if(this.builder.opts.imageselect){let n=i.querySelector(".is-modal.imageselect"),o=n.querySelector("iframe");this.builder.opts.assetRefresh&&(o.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===o.src&&(o.src=this.builder.opts.imageselect),t.showModal(n),this.builder.targetInput=e,this.builder.targetCallback=()=>{this.applyClick()},this.builder.targetAssetType="media"}}))}const S=this.cellSettings.querySelector(".input-src");kv.observeElement(S,"value",(()=>{this.applyClick()}));let C=this.cellSettings.querySelector("#fileImage4");kv.addEventListener(C,"change",(e=>{let t=C;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;kv.addClass(i,"please-wait"),this.cellSettings.querySelector("#hidRefId4").value=this.builder.opts.customval,this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):i.submit(),C.value=""}));const k=this.cellSettings.querySelector(".input-src");k.addEventListener("focus",(()=>{this.builder.uo.saveForUndo(!0)})),k.addEventListener("keyup",(()=>{let e=this.util.cellSelected();e&&(""===k.value?(kv.removeClass(e,"block-click"),e.removeAttribute("data-modal-url")):(kv.addClass(e,"block-click"),e.setAttribute("data-modal-url",k.value)),this.builder.opts.onChange())})),this.cellSettings.querySelector(".input-testclick").addEventListener("click",(()=>{let e=this.util.cellSelected();e&&""!==k.value&&this.builder.openMedia(e)}))}this.columnTool=o,this.columnMore=n}applyClick(){let e=this.util.cellSelected();if(!e)return;const t=this.cellSettings.querySelector(".input-src");let i=e.getAttribute("data-modal-url");i||(i=""),i!==t.value&&(this.builder.uo.saveForUndo(),kv.addClass(e,"block-click"),e.setAttribute("data-modal-url",t.value),this.builder.opts.onChange())}readCellStyles(e){this.util.clearActiveElement();let t=e.style.backgroundColor,i=this.cellSettings.querySelector(".input-cell-bgcolor");i.style.backgroundColor=t||"transparent";let n="";const o=this.cellSettings.querySelector(".cell-bgimage-preview"),s=this.cellSettings.querySelector(".input-cell-bgimageadjust");s.style.display="none";const a=this.cellSettings.querySelector(".input-cell-bgremove");a.style.display="none",e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")?(n=e.style.backgroundImage.slice(4,-1).replace(/["']/g,""),o.innerHTML=`<img src="${n}">`,s.style.display="flex",a.style.display="flex"):o.innerHTML="";const r=this.cellSettings.querySelector(".input-src");r.value="";let l=e.getAttribute("data-modal-url");l&&(r.value=l);let d=this.cellSettings.querySelectorAll(".input-cell-padding");if(Array.prototype.forEach.call(d,(e=>{kv.removeClass(e,"on")})),kv.hasClass(e,"padding-0")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="0"');kv.addClass(e,"on")}else if(kv.hasClass(e,"padding-10")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="10"');kv.addClass(e,"on")}else if(kv.hasClass(e,"padding-20")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="20"');kv.addClass(e,"on")}else if(kv.hasClass(e,"padding-30")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="30"');kv.addClass(e,"on")}else if(kv.hasClass(e,"padding-40")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="40"');kv.addClass(e,"on")}else if(kv.hasClass(e,"padding-50")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="50"');kv.addClass(e,"on")}const c=this.cellSettings.querySelector(".chk-cell-grayscale");c.checked=!1,e.style.filter&&-1!==e.style.filter.indexOf("grayscale")&&(c.checked=!0),d=this.cellSettings.querySelectorAll(".input-cell-height"),Array.prototype.forEach.call(d,(e=>{kv.removeClass(e,"on")}));let u=0,p=this.builder.colHeight;if(Array.prototype.forEach.call(p,(t=>{kv.hasClass(e,"min-height-"+t)&&(u=t)})),300===u){let e=this.cellSettings.querySelector('.input-cell-height[data-command="300"');kv.addClass(e,"on")}else if(400===u){let e=this.cellSettings.querySelector('.input-cell-height[data-command="400"');kv.addClass(e,"on")}else if(500===u){let e=this.cellSettings.querySelector('.input-cell-height[data-command="500"');kv.addClass(e,"on")}else if(600===u){let e=this.cellSettings.querySelector('.input-cell-height[data-command="600"');kv.addClass(e,"on")}else if(700===u){let e=this.cellSettings.querySelector('.input-cell-height[data-command="700"');kv.addClass(e,"on")}d=this.cellSettings.querySelectorAll(".cmd-content-pos"),Array.prototype.forEach.call(d,(e=>{kv.removeClass(e,"on")}));let h=e.style.alignItems,g=e.style.justifyContent,f="";if("flex-start"===g?"flex-start"===h?f="topleft":"center"===h?f="topcenter":"flex-end"===h&&(f="topright"):"center"===g?"flex-start"===h?f="centerleft":"center"===h?f="center":"flex-end"===h&&(f="centerright"):"flex-end"===g&&("flex-start"===h?f="bottomleft":"center"===h?f="bottomcenter":"flex-end"===h&&(f="bottomright")),"topleft"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="topleft"');kv.addClass(e,"on")}else if("topcenter"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="topcenter"');kv.addClass(e,"on")}else if("topright"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="topright"');kv.addClass(e,"on")}else if("centerleft"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="centerleft"');kv.addClass(e,"on")}else if("center"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="center"');kv.addClass(e,"on")}else if("centerright"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="centerright"');kv.addClass(e,"on")}else if("bottomleft"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="bottomleft"');kv.addClass(e,"on")}else if("bottomcenter"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="bottomcenter"');kv.addClass(e,"on")}else if("bottomright"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="bottomright"');kv.addClass(e,"on")}}openImagePicker(e,t){const i=this.imageSource;i.querySelector(".input-src").value=e,this.builder.imageSelectedCallback=t,i.style.zIndex="10005",this.util.showModal(i,!1)}openImageAdjust(e){const t=this.imageAdjust,i=t.querySelector(".image-scale-slider"),n=t.querySelector(".image-hor-slider"),o=t.querySelector(".image-vert-slider");if(i.value=100,n.value=0,o.value=0,e.style.backgroundSize){let t,n=e.style.backgroundSize;t=isNaN(parseInt(n))?100:parseInt(n),-1!==n.indexOf("%")&&(i.value=t)}if(e.style.backgroundPositionX){let t,i=e.style.backgroundPositionX;t=isNaN(parseInt(i))?0:parseInt(i),-1!==i.indexOf("%")&&(n.value=t)}if(e.style.backgroundPositionY){let t,i=e.style.backgroundPositionY;t=isNaN(parseInt(i))?0:parseInt(i),-1!==i.indexOf("%")&&(o.value=t)}this.builder.elementSelected=e,t.style.zIndex="10005",this.util.showModal(t,!1)}showHideLockIndicator(e){const t=this.lockIndicator;if(e.hasAttribute("data-noedit")){const i=e.getBoundingClientRect().top+window.pageYOffset,n=e.getBoundingClientRect().left+window.pageXOffset,o=e.offsetWidth*this.builder.zoom;t.style.display="flex",t.style.top=i+4+"px",t.style.left=n+o-33+"px"}else t.style.display=""}click(e){if(kv.addClass(this.columnTool,"active"),this.columnTool.style.top=e.getBoundingClientRect().top-29+window.pageYOffset+"px",this.columnTool.style.left=e.getBoundingClientRect().left-1+"px",kv.parentsHasAttribute(e,"nogrid")){this.columnMore.querySelector(".cell-prev").style.display="none",this.columnMore.querySelector(".cell-next").style.display="none",this.columnMore.querySelector(".cell-up").style.display="none",this.columnMore.querySelector(".cell-down").style.display="none",this.columnMore.querySelector(".cell-increase").style.display="none",this.columnMore.querySelector(".cell-decrease").style.display="none",this.columnMore.querySelector(".cell-duplicate").style.display="none";let t=this.columnMore.querySelector(".cell-html");t&&(t.style.display=""),this.columnTool.querySelector(".cell-add").style.display="none",this.columnTool.querySelector(".cell-remove").style.display="none",e.getAttribute("data-html")&&(this.columnMore.querySelector(".cell-html").style.display="none",this.columnTool.querySelector(".cell-more").style.display="none")}else{this.columnMore.querySelector(".cell-prev").style.display="",this.columnMore.querySelector(".cell-next").style.display="",this.columnMore.querySelector(".cell-up").style.display="",this.columnMore.querySelector(".cell-down").style.display="",this.columnMore.querySelector(".cell-increase").style.display="",this.columnMore.querySelector(".cell-decrease").style.display="",this.columnMore.querySelector(".cell-duplicate").style.display="";let t=this.columnMore.querySelector(".cell-html");t&&(t.style.display=""),this.columnTool.querySelector(".cell-add").style.display="",this.columnTool.querySelector(".cell-remove").style.display="";let i=e.parentNode,n=2;i.querySelector(".is-row-overlay")&&(n=3),i.childElementCount-n==1?(this.columnMore.querySelector(".cell-prev").style.display="none",this.columnMore.querySelector(".cell-next").style.display="none",this.columnMore.querySelector(".cell-increase").style.display="none",this.columnMore.querySelector(".cell-decrease").style.display="none"):(this.columnMore.querySelector(".cell-prev").style.display="",this.columnMore.querySelector(".cell-next").style.display="",this.columnMore.querySelector(".cell-increase").style.display="",this.columnMore.querySelector(".cell-decrease").style.display="");let o=this.columnMore.querySelector(".cell-duplicate");e.getAttribute("data-html")?(t&&(t.style.display="none"),o&&(o.style.display="none")):(t&&(t.style.display=""),o&&(o.style.display=""))}let t=e.parentNode;if(t.hasAttribute("data-protected")){t.querySelector(".is-row-tool").style.display="none",this.columnTool.style.display="none";let e=t.querySelector(".is-rowadd-tool");e&&(e.style.display="none")}else{this.columnTool.style.display="",kv.parentsHasAttribute(e,"data-protected")?(this.columnTool.querySelector(".cell-add").style.display="none",this.columnTool.querySelector(".cell-remove").style.display="none",this.columnTool.querySelector(".cell-more").style.display="none"):(this.columnTool.querySelector(".cell-add").style.display="",this.columnTool.querySelector(".cell-remove").style.display="",this.columnTool.querySelector(".cell-more").style.display="")}}refreshColumnTool(e){this.grid.refreshColumnTool(e)}showColumnTool(e){this.grid.showColumnTool(e)}hideColumnTool(){this.grid.hideColumnTool()}}const Av=new ni;class qv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector(".editstyles");if(!n){let e=`\n            <div class="is-modal is-modal-content editstyles">\n                <div class="is-modal-bar is-draggable">\n                    <div class="is-modal-close" role="button" tabindex="0" title="${t.out("Close")}">&#10005;</div>\n                </div>\n                <div style="padding:12px">\n                    <div class="is-settings clearfix" style="display:inline-block;width:100%;margin-bottom:0;">\n                        <div>${t.out("Style")}:</div>\n                        <div>\n                            <textarea id="inpElmInlineStyle" style="width:100%;height:256px;margin:0px;border:none;font-size: 14px;line-height: 1.5;letter-spacing: 0;"></textarea>\n                        </div>\n                    </div>\n                    <div class="is-settings clearfix" style="display:inline-block;width:100%;margin-bottom:0;">\n                        <div>${t.out("Class")}:</div>\n                        <div>\n                            <input type="text" id="inpElmClassName" value="" style="width:100%;padding-left: 16px;font-family: courier, monospace;font-size: 14px;line-height: 2;letter-spacing: 1px;border:none;"/>\n                        </div>\n                    </div>\n                </div>\n            </div>           \n            `;Av.appendHtml(i,e),n=i.querySelector(".editstyles");let o=n.querySelector(".is-modal-close");Av.addEventListener(o,"click",(()=>{Av.removeClass(n,"active");var e=this.builderStuff.querySelector(".is-side.elementstyles");if(!Av.hasClass(e,"active")){let e=document.querySelectorAll("[data-saveforundo]");Array.prototype.forEach.call(e,(e=>{e.removeAttribute("data-saveforundo")})),e=document.querySelectorAll(".elm-inspected"),Array.prototype.forEach.call(e,(e=>{Av.removeClass(e,"elm-inspected")}))}}));let s=n.querySelector("#inpElmClassName");s.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=n.querySelector("#inpElmClassName").value,i=!1;Av.hasClass(e,"elm-active")&&(i=!0);let o=!1;Av.hasClass(e,"elm-active")&&(o=!0);let s=!1;Av.hasClass(e,"row-active")&&(s=!0),e.setAttribute("class",t),i&&Av.addClass(e,"elm-active"),o&&Av.addClass(e,"cell-active"),s&&Av.addClass(e,"row-active"),Av.addClass(e,"elm-inspected"),this.builder.opts.onChange()})),s=n.querySelector("#inpElmInlineStyle"),s.addEventListener("keyup",(()=>{this.builder.inspectedElement.style.cssText=n.querySelector("#inpElmInlineStyle").value,this.builder.opts.onChange()}))}this.modalStyles=n}toggleStyleEditor(){Av.hasClass(this.modalStyles,"active")?Av.removeClass(this.modalStyles,"active"):Av.addClass(this.modalStyles,"active")}refresh(){this.modalStyles.querySelector("#inpElmInlineStyle").value=this.builder.inspectedElement.style.cssText;let e=this.builder.inspectedElement.getAttribute("class");e&&(e=e.replace("elm-active",""),e=e.replace("cell-active",""),e=e.replace("row-active",""),e=e.replace("elm-inspected",""),e=e.replace("  "," ").trim()),this.modalStyles.querySelector("#inpElmClassName").value=e}}const Tv=new ni;class Lv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementBox");this.panelStuff=o;const s=`\n                <div class="is-settings clearfix">\n                    <div class="is-label">${t.out("Background Color")}:</div>\n                    <div>\n                        <button title="${t.out("Background Color")}" class="input-elm-bgcolor is-btn-color" style="margin-right:15px"></button>\n                        <button title="${t.out("Gradient")}" class="input-elm-gradient classic" data-value="+"> ${t.out("Gradient")} </button>\n                    </div>\n                </div>\n\n                <div style="margin-top: 25px;font-weight:bold;width:100%;">${t.out("Dimension")}</div>\n                \n                <div class="is-settings clearfix" style="width:110px">\n                    <div><label for="inpElmWidth">${t.out("Width")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmWidth" value="" style="width:45px"/>\n                        <select id="inpElmWidthUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings clearfix" style="width:110px;">\n                    <div><label for="inpElmHeight">${t.out("Height")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmHeight" value="" style="width:45px"/>\n                        <select id="inpElmHeightUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings clearfix" style="width:110px;">\n                    <div><label for="inpElmMaxWidth">${t.out("Max Width")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmMaxWidth" value="" style="width:45px"/>\n                        <select id="inpElmMaxWidthUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings clearfix" style="width:110px;">\n                    <div><label for="inpElmMaxHeight">${t.out("Max Height")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmMaxHeight" value="" style="width:45px"/>\n                        <select id="inpElmMaxHeightUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings clearfix" style="width:110px;">\n                    <div><label for="inpElmMinWidth">${t.out("Min Width")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmMinWidth" value="" style="width:45px"/>\n                        <select id="inpElmMinWidthUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings clearfix" style="width:110px;">\n                    <div><label for="inpElmMinHeight">${t.out("Min Height")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmMinHeight" value="" style="width:45px"/>\n                        <select id="inpElmMinHeightUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                \n                <div class="is-settings clearfix" style="width:110px;">\n                    <div>${t.out("Overflow x")}:</div>\n                    <div>\n                        <select id="inpElmOverflowX"">\n                            <option value=""></option>\n                            <option value="auto">Auto</option>\n                            <option value="hidden">Hidden</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings clearfix" style="width:110px;">\n                    <div>${t.out("Overflow y")}:</div>\n                    <div>\n                        <select id="inpElmOverflowY"">\n                            <option value=""></option>\n                            <option value="auto">Auto</option>\n                            <option value="hidden">Hidden</option>\n                        </select>\n                    </div>\n                </div>\n        `;Tv.appendHtml(o,s),o.querySelector(".input-elm-bgcolor").addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.backgroundColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),o.querySelector(".input-elm-bgcolor").style.backgroundColor)}));const a=new _v({colors:this.builder.colors,gradientcolors:this.builder.opts.gradientcolors,lang:this.builder.opts.lang});o.querySelector(".input-elm-gradient").addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0),a.open(this.builder.inspectedElement,(()=>{n.refresh(),this.builder.opts.onChange()}),(e=>{e&&n.refresh()}))}));let r=o.querySelector("#inpElmMaxWidth");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),r.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmMaxWidth").value,i=o.querySelector("#inpElmMaxWidthUnit").value;isNaN(t)||""===t?e.style.maxWidth="":e.style.maxWidth=t+i,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmMaxWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmMaxWidth").value,i=o.querySelector("#inpElmMaxWidthUnit").value;isNaN(t)||""===t?e.style.maxWidth="":e.style.maxWidth=t+i,n.refresh(),this.builder.opts.onChange()}));let l=o.querySelector("#inpElmMaxHeight");l.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),l.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmMaxHeight").value,i=o.querySelector("#inpElmMaxHeightUnit").value;isNaN(t)||""===t?e.style.maxHeight="":e.style.maxHeight=t+i,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmMaxHeightUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmMaxHeight").value,i=o.querySelector("#inpElmMaxHeightUnit").value;isNaN(t)||""===t?e.style.maxHeight="":e.style.maxHeight=t+i,n.refresh(),this.builder.opts.onChange()}));let d=o.querySelector("#inpElmMinWidth");d.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),d.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmMinWidth").value,i=o.querySelector("#inpElmMinWidthUnit").value;isNaN(t)||""===t?e.style.minWidth="":e.style.minWidth=t+i,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmMinWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmMinWidth").value,i=o.querySelector("#inpElmMinWidthUnit").value;isNaN(t)||""===t?e.style.minWidth="":e.style.minWidth=t+i,n.refresh(),this.builder.opts.onChange()}));let c=o.querySelector("#inpElmMinHeight");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmMinHeight").value,i=o.querySelector("#inpElmMinHeightUnit").value;isNaN(t)||""===t?e.style.minHeight="":e.style.minHeight=t+i,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmMinHeightUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmMinHeight").value,i=o.querySelector("#inpElmMinHeightUnit").value;isNaN(t)||""===t?e.style.minHeight="":e.style.minHeight=t+i,n.refresh(),this.builder.opts.onChange()}));let u=o.querySelector("#inpElmWidth");u.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),u.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmWidth").value,i=o.querySelector("#inpElmWidthUnit").value;isNaN(t)||""===t?e.style.width="":e.style.width=t+i,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmWidth").value,i=o.querySelector("#inpElmWidthUnit").value;isNaN(t)||""===t?e.style.width="":e.style.width=t+i,n.refresh(),this.builder.opts.onChange()}));let p=o.querySelector("#inpElmHeight");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmHeight").value,i=o.querySelector("#inpElmHeightUnit").value;isNaN(t)||""===t?e.style.height="":e.style.height=t+i,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmHeightUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmHeight").value,i=o.querySelector("#inpElmHeightUnit").value;isNaN(t)||""===t?e.style.height="":e.style.height=t+i,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmOverflowX").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmOverflowX").value;e.style.overflowX=t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmOverflowY").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmOverflowY").value;e.style.overflowY=t,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff,i=e.style.backgroundColor,n=t.querySelector(".input-elm-bgcolor");n.style.backgroundColor=i||"transparent";const o=t.querySelector("#inpElmMaxWidth"),s=t.querySelector("#inpElmMaxWidthUnit");o.value="",s.value="px",i=e.style.maxWidth;let a=parseInt(i);isNaN(a)||(-1!==i.indexOf("%")&&(s.value="%"),-1!==i.indexOf("px")&&(s.value="px"),-1!==i.indexOf("vw")&&(s.value="vw"),-1!==i.indexOf("vh")&&(s.value="vh"),-1!==i.indexOf("em")&&(s.value="em"),o.value=a);const r=t.querySelector("#inpElmMaxHeight"),l=t.querySelector("#inpElmMaxHeightUnit");r.value="",l.value="px",i=e.style.maxHeight;let d=parseInt(i);isNaN(d)||(-1!==i.indexOf("%")&&(l.value="%"),-1!==i.indexOf("px")&&(l.value="px"),-1!==i.indexOf("vw")&&(l.value="vw"),-1!==i.indexOf("vh")&&(l.value="vh"),-1!==i.indexOf("em")&&(l.value="em"),r.value=d);const c=t.querySelector("#inpElmMinWidth"),u=t.querySelector("#inpElmMinWidthUnit");c.value="",u.value="px",i=e.style.minWidth;let p=parseInt(i);isNaN(p)||(-1!==i.indexOf("%")&&(u.value="%"),-1!==i.indexOf("px")&&(u.value="px"),-1!==i.indexOf("vw")&&(u.value="vw"),-1!==i.indexOf("vh")&&(u.value="vh"),-1!==i.indexOf("em")&&(u.value="em"),c.value=p);const h=t.querySelector("#inpElmMinHeight"),g=t.querySelector("#inpElmMinHeightUnit");h.value="",g.value="px",i=e.style.minHeight;let f=parseInt(i);isNaN(f)||(-1!==i.indexOf("%")&&(g.value="%"),-1!==i.indexOf("px")&&(g.value="px"),-1!==i.indexOf("vw")&&(g.value="vw"),-1!==i.indexOf("vh")&&(g.value="vh"),-1!==i.indexOf("em")&&(g.value="em"),h.value=f);const m=t.querySelector("#inpElmWidth"),v=t.querySelector("#inpElmWidthUnit");m.value="",v.value="px",i=e.style.width;let b=parseInt(i);isNaN(b)||(-1!==i.indexOf("%")&&(v.value="%"),-1!==i.indexOf("px")&&(v.value="px"),-1!==i.indexOf("vw")&&(v.value="vw"),-1!==i.indexOf("vh")&&(v.value="vh"),-1!==i.indexOf("em")&&(v.value="em"),m.value=b);const y=t.querySelector("#inpElmHeight"),_=t.querySelector("#inpElmHeightUnit");y.value="",_.value="px",i=e.style.height;let x=parseInt(i);isNaN(x)||(-1!==i.indexOf("%")&&(_.value="%"),-1!==i.indexOf("px")&&(_.value="px"),-1!==i.indexOf("vw")&&(_.value="vw"),-1!==i.indexOf("vh")&&(_.value="vh"),-1!==i.indexOf("em")&&(_.value="em"),y.value=x);const w=t.querySelector("#inpElmOverflowX");i=e.style.overflowX,w.value=i;const S=t.querySelector("#inpElmOverflowY");i=e.style.overflowY,S.value=i}}const Mv=new ni;class Ov{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementSpacing");this.panelStuff=o;const s=`\n            <div style="margin-top: 13px;font-weight: bold;width:100%">${t.out("Padding")}</div>\n            \n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Top")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmPaddingTop" value="" style="width:45px"/>\n                    <select id="inpElmPaddingTopUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Bottom")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmPaddingBottom" value="" style="width:45px"/>\n                    <select id="inpElmPaddingBottomUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Left")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmPaddingLeft" value="" style="width:45px"/>\n                    <select id="inpElmPaddingLeftUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Right")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmPaddingRight" value="" style="width:45px"/>\n                    <select id="inpElmPaddingRightUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n            \n            <div style="margin-top: 25px;font-weight: bold;width:100%">${t.out("Margin")}</div>\n            \n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Top")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmMarginTop" value="" style="width:45px"/>\n                    <select id="inpElmMarginTopUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                        <option value="auto">auto</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Bottom")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmMarginBottom" value="" style="width:45px"/>\n                    <select id="inpElmMarginBottomUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                        <option value="auto">auto</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Left")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmMarginLeft" value="" style="width:45px"/>\n                    <select id="inpElmMarginLeftUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                        <option value="auto">auto</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Right")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmMarginRight" value="" style="width:45px"/>\n                    <select id="inpElmMarginRightUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                        <option value="auto">auto</option>\n                    </select>\n                </div>\n            </div>\n            \n            <div style="margin-top: 25px;font-weight: bold;width:100%">${t.out("Responsive Positioning")}:</div>\n            \n            <div class="is-settings clearfix" style="width:100%;">\n                <div>\n                    <label for="chkResetMarginLeft" style="letter-spacing: 0.5px;"><input type="checkbox" id="chkResetMarginLeft" value="" /> ${t.out("Reset margin left on small screen")} </label>\n                </div>\n            </div>\n            <div class="is-settings clearfix" style="margin-top:0;width:100%;">\n                <div>\n                    <label for="chkResetMarginRight" style="letter-spacing: 0.5px;"><input type="checkbox" id="chkResetMarginRight" value="" /> ${t.out("Reset margin right on small screen")} </label>\n                </div>\n            </div>\n        `;Mv.appendHtml(o,s);let a=o.querySelector("#inpElmMarginLeft");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let r=o.querySelector("#inpElmMarginLeftUnit");a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=a.value,i=r.value;isNaN(t)||""===t?e.style.marginLeft="":e.style.marginLeft=t+i,"auto"===i&&(e.style.marginLeft="auto"),n.refresh(),this.builder.opts.onChange()})),r.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=a.value,i=r.value;"auto"===i?(e.style.marginLeft="auto",a.value=""):e.style.marginLeft=t+i,n.refresh(),this.builder.opts.onChange()}));let l=o.querySelector("#inpElmMarginRight");l.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let d=o.querySelector("#inpElmMarginRightUnit");l.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=l.value,i=d.value;isNaN(t)||""===t?e.style.marginRight="":e.style.marginRight=t+i,"auto"===i&&(e.style.marginRight="auto"),n.refresh(),this.builder.opts.onChange()})),d.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=l.value,i=d.value;"auto"===i?(e.style.marginRight="auto",l.value=""):e.style.marginRight=t+i,n.refresh(),this.builder.opts.onChange()}));let c=o.querySelector("#inpElmMarginTop");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let u=o.querySelector("#inpElmMarginTopUnit");c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=c.value,i=u.value;isNaN(t)||""===t?e.style.marginTop="":e.style.marginTop=t+i,"auto"===i&&(e.style.marginTop="auto"),n.refresh(),this.builder.opts.onChange()})),u.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=c.value,i=u.value;"auto"===i?(e.style.marginTop="auto",c.value=""):e.style.marginTop=t+i,n.refresh(),this.builder.opts.onChange()}));let p=o.querySelector("#inpElmMarginBottom");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let h=o.querySelector("#inpElmMarginBottomUnit");p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=p.value,i=h.value;isNaN(t)||""===t?e.style.marginBottom="":e.style.marginBottom=t+i,"auto"===i&&(e.style.marginBottom="auto"),n.refresh(),this.builder.opts.onChange()})),h.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=p.value,i=h.value;"auto"===i?(e.style.marginBottom="auto",p.value=""):e.style.marginBottom=t+i,n.refresh(),this.builder.opts.onChange()}));let g=o.querySelector("#inpElmPaddingLeft");g.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let f=o.querySelector("#inpElmPaddingLeftUnit");g.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=g.value,i=f.value;isNaN(t)||""===t?e.style.paddingLeft="":e.style.paddingLeft=t+i,n.refresh(),this.builder.opts.onChange()})),f.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=g.value,i=f.value;isNaN(t)||""===t?e.style.paddingLeft="":e.style.paddingLeft=t+i,n.refresh(),this.builder.opts.onChange()}));let m=o.querySelector("#inpElmPaddingRight");m.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let v=o.querySelector("#inpElmPaddingRightUnit");m.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=m.value,i=v.value;isNaN(t)||""===t?e.style.paddingRight="":e.style.paddingRight=t+i,n.refresh(),this.builder.opts.onChange()})),v.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=m.value,i=v.value;isNaN(t)||""===t?e.style.paddingRight="":e.style.paddingRight=t+i,n.refresh(),this.builder.opts.onChange()}));let b=o.querySelector("#inpElmPaddingTop");b.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let y=o.querySelector("#inpElmPaddingTopUnit");b.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=b.value,i=y.value;isNaN(t)||""===t?e.style.paddingTop="":e.style.paddingTop=t+i,n.refresh(),this.builder.opts.onChange()})),y.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=b.value,i=y.value;isNaN(t)||""===t?e.style.paddingTop="":e.style.paddingTop=t+i,n.refresh(),this.builder.opts.onChange()}));let _=o.querySelector("#inpElmPaddingBottom");_.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let x=o.querySelector("#inpElmPaddingBottomUnit");_.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=_.value,i=x.value;isNaN(t)||""===t?e.style.paddingBottom="":e.style.paddingBottom=t+i,n.refresh(),this.builder.opts.onChange()})),x.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=_.value,i=x.value;isNaN(t)||""===t?e.style.paddingBottom="":e.style.paddingBottom=t+i,n.refresh(),this.builder.opts.onChange()}));let w=o.querySelector("#chkResetMarginLeft");w.addEventListener("click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;w.checked?Mv.addClass(e,"margin-left-1024-reset"):Mv.removeClass(e,"margin-left-1024-reset"),n.refresh(),this.builder.opts.onChange()}));let S=o.querySelector("#chkResetMarginRight");S.addEventListener("click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;S.checked?Mv.addClass(e,"margin-right-1024-reset"):Mv.removeClass(e,"margin-right-1024-reset"),n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t,i=this.panelStuff;const n=i.querySelector("#inpElmMarginTop"),o=i.querySelector("#inpElmMarginTopUnit");n.value="",o.value="px",t=e.style.marginTop;let s=parseInt(t);isNaN(s)?t&&-1!==t.indexOf("auto")&&(o.value="auto",n.value=""):(-1!==t.indexOf("%")&&(o.value="%"),-1!==t.indexOf("px")&&(o.value="px"),-1!==t.indexOf("vw")&&(o.value="vw"),-1!==t.indexOf("vh")&&(o.value="vh"),-1!==t.indexOf("em")&&(o.value="em"),n.value=s);const a=i.querySelector("#inpElmMarginBottom"),r=i.querySelector("#inpElmMarginBottomUnit");a.value="",r.value="px",t=e.style.marginBottom;let l=parseInt(t);isNaN(l)?t&&-1!==t.indexOf("auto")&&(r.value="auto",a.value=""):(-1!==t.indexOf("%")&&(r.value="%"),-1!==t.indexOf("px")&&(r.value="px"),-1!==t.indexOf("vw")&&(r.value="vw"),-1!==t.indexOf("vh")&&(r.value="vh"),-1!==t.indexOf("em")&&(r.value="em"),a.value=l);const d=i.querySelector("#inpElmMarginLeft"),c=i.querySelector("#inpElmMarginLeftUnit");d.value="",c.value="px",t=e.style.marginLeft;let u=parseInt(t);isNaN(u)?t&&-1!==t.indexOf("auto")&&(c.value="auto",d.value=""):(-1!==t.indexOf("%")&&(c.value="%"),-1!==t.indexOf("px")&&(c.value="px"),-1!==t.indexOf("vw")&&(c.value="vw"),-1!==t.indexOf("vh")&&(c.value="vh"),-1!==t.indexOf("em")&&(c.value="em"),d.value=u);const p=i.querySelector("#inpElmMarginRight"),h=i.querySelector("#inpElmMarginRightUnit");p.value="",h.value="px",t=e.style.marginRight;let g=parseInt(t);isNaN(g)?t&&-1!==t.indexOf("auto")&&(h.value="auto",p.value=""):(-1!==t.indexOf("%")&&(h.value="%"),-1!==t.indexOf("px")&&(h.value="px"),-1!==t.indexOf("vw")&&(h.value="vw"),-1!==t.indexOf("vh")&&(h.value="vh"),-1!==t.indexOf("em")&&(h.value="em"),p.value=g);const f=i.querySelector("#inpElmPaddingTop"),m=i.querySelector("#inpElmPaddingTopUnit");f.value="",m.value="px",t=e.style.paddingTop;let v=parseInt(t);isNaN(v)||(-1!==t.indexOf("%")&&(m.value="%"),-1!==t.indexOf("px")&&(m.value="px"),-1!==t.indexOf("vw")&&(m.value="vw"),-1!==t.indexOf("vh")&&(m.value="vh"),-1!==t.indexOf("em")&&(m.value="em"),f.value=v);const b=i.querySelector("#inpElmPaddingBottom"),y=i.querySelector("#inpElmPaddingBottomUnit");b.value="",y.value="px",t=e.style.paddingBottom;let _=parseInt(t);isNaN(_)||(-1!==t.indexOf("%")&&(y.value="%"),-1!==t.indexOf("px")&&(y.value="px"),-1!==t.indexOf("vw")&&(y.value="vw"),-1!==t.indexOf("vh")&&(y.value="vh"),-1!==t.indexOf("em")&&(y.value="em"),b.value=_);const x=i.querySelector("#inpElmPaddingLeft"),w=i.querySelector("#inpElmPaddingLeftUnit");x.value="",w.value="px",t=e.style.paddingLeft;let S=parseInt(t);isNaN(S)||(-1!==t.indexOf("%")&&(w.value="%"),-1!==t.indexOf("px")&&(w.value="px"),-1!==t.indexOf("vw")&&(w.value="vw"),-1!==t.indexOf("vh")&&(w.value="vh"),-1!==t.indexOf("em")&&(w.value="em"),x.value=S);const C=i.querySelector("#inpElmPaddingRight"),k=i.querySelector("#inpElmPaddingRightUnit");C.value="",k.value="px",t=e.style.paddingRight;let E=parseInt(t);isNaN(E)||(-1!==t.indexOf("%")&&(k.value="%"),-1!==t.indexOf("px")&&(k.value="px"),-1!==t.indexOf("vw")&&(k.value="vw"),-1!==t.indexOf("vh")&&(k.value="vh"),-1!==t.indexOf("em")&&(k.value="em"),C.value=E),Mv.hasClass(e,"margin-left-1024-reset")?i.querySelector("#chkResetMarginLeft").checked=!0:i.querySelector("#chkResetMarginLeft").checked=!1,Mv.hasClass(e,"margin-right-1024-reset")?i.querySelector("#chkResetMarginRight").checked=!0:i.querySelector("#chkResetMarginRight").checked=!1}}const Rv=new ni;class Nv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementBorder");this.panelStuff=o;const s=`\n                <div style="margin-top: 13px;font-weight: bold;line-height: 1.7;">${t.out("Border")}</div>\n                \n                <div class="is-settings clearfix">\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Color")}" class="input-elm-bordercolor is-btn-color"></button>                             \n                    </div>\n                </div>\n                \n                <div style="margin-top: 25px;font-weight: bold;line-height: 1.7;">${t.out("Individual Sides")}</div>\n                \n                <div class="is-settings clearfix">\n                    <div>${t.out("Border Top")}:</div>\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderTopWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderTopWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderTopStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Top Color")}" class="input-elm-bordertopcolor is-btn-color"></button>\n                    </div>\n                </div>\n                \n                <div class="is-settings clearfix">\n                    <div>${t.out("Border Bottom")}:</div>\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderBottomWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderBottomWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderBottomStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Bottom Color")}" class="input-elm-borderbottomcolor is-btn-color"></button>\n                    </div>\n                </div>\n                \n                <div class="is-settings clearfix">\n                    <div>${t.out("Border Left")}:</div>\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderLeftWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderLeftWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderLeftStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Left Color")}" class="input-elm-borderleftcolor is-btn-color"></button>\n                    </div>\n                </div>\n                \n                <div class="is-settings clearfix">\n                    <div>${t.out("Border Right")}:</div>\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderRightWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderRightWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderRightStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Right Color")}" class="input-elm-borderrightcolor is-btn-color"></button> \n                    </div>\n                </div>                \n        `;Rv.appendHtml(o,s);let a=o.querySelector(".input-elm-bordercolor");a.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),a.style.backgroundColor)}));let r=o.querySelector(".input-elm-bordertopcolor");r.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderTopColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),r.style.backgroundColor)}));let l=o.querySelector(".input-elm-borderbottomcolor");l.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderBottomColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),l.style.backgroundColor)}));let d=o.querySelector(".input-elm-borderleftcolor");d.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderLeftColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),d.style.backgroundColor)}));let c=o.querySelector(".input-elm-borderrightcolor");c.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderRightColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),c.style.backgroundColor)}));let u=o.querySelector("#inpElmBorderWidth");u.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),u.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderWidth").value;isNaN(t)||""===t?(e.style.borderStyle="solid",e.style.borderWidth="",e.style.borderStyle=""):(e.style.borderStyle="solid",e.style.borderWidth=t+o.querySelector("#inpElmBorderWidthUnit").value,e.style.borderStyle=o.querySelector("#inpElmBorderStyle").value),n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderWidthUnit").value;"none"===t?(e.style.border="none",e.style.borderWidth="",e.style.borderStyle=""):e.style.borderWidth=o.querySelector("#inpElmBorderWidth").value+t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderStyle").value;e.style.borderStyle=t,n.refresh(),this.builder.opts.onChange()}));let p=o.querySelector("#inpElmBorderTopWidth");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderTopWidth").value;isNaN(t)||""===t?(e.style.borderTopStyle="solid",e.style.borderTopWidth="",e.style.borderTopStyle=""):(e.style.borderTopStyle="solid",e.style.borderTopWidth=t+o.querySelector("#inpElmBorderTopWidthUnit").value,e.style.borderTopStyle=o.querySelector("#inpElmBorderTopStyle").value),n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderTopWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderTopWidthUnit").value;"none"===t?(e.style.borderTop="none",e.style.borderTopWidth="",e.style.borderTopStyle="",this.panelStuff.querySelector("#inpElmBorderTopWidth").value="",this.panelStuff.querySelector("#inpElmBorderTopStyle").value=""):e.style.borderTopWidth=o.querySelector("#inpElmBorderTopWidth").value+t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderTopStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderTopStyle").value;e.style.borderTopStyle=t,n.refresh(),this.builder.opts.onChange()}));let h=o.querySelector("#inpElmBorderBottomWidth");h.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),h.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderBottomWidth").value;isNaN(t)||""===t?(e.style.borderBottomStyle="solid",e.style.borderBottomWidth="",e.style.borderBottomStyle=""):(e.style.borderBottomStyle="solid",e.style.borderBottomWidth=t+o.querySelector("#inpElmBorderBottomWidthUnit").value,e.style.borderBottomStyle=o.querySelector("#inpElmBorderBottomStyle").value),n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderBottomWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderBottomWidthUnit").value;"none"===t?(e.style.borderBottom="none",e.style.borderBottomWidth="",e.style.borderBottomStyle="",this.panelStuff.querySelector("#inpElmBorderBottomWidth").value="",this.panelStuff.querySelector("#inpElmBorderBottomStyle").value=""):e.style.borderBottomWidth=o.querySelector("#inpElmBorderBottomWidth").value+t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderBottomStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderBottomStyle").value;e.style.borderBottomStyle=t,n.refresh(),this.builder.opts.onChange()}));let g=o.querySelector("#inpElmBorderLeftWidth");g.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),g.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderLeftWidth").value;isNaN(t)||""===t?(e.style.borderLeftStyle="solid",e.style.borderLeftWidth="",e.style.borderLeftStyle=""):(e.style.borderLeftStyle="solid",e.style.borderLeftWidth=t+o.querySelector("#inpElmBorderLeftWidthUnit").value,e.style.borderLeftStyle=o.querySelector("#inpElmBorderLeftStyle").value),n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderLeftWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderLeftWidthUnit").value;"none"===t?(e.style.borderLeft="none",e.style.borderLeftWidth="",e.style.borderLeftStyle="",this.panelStuff.querySelector("#inpElmBorderLeftWidth").value="",this.panelStuff.querySelector("#inpElmBorderLeftStyle").value=""):e.style.borderLeftWidth=o.querySelector("#inpElmBorderLeftWidth").value+t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderLeftStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderLeftStyle").value;e.style.borderLeftStyle=t,n.refresh(),this.builder.opts.onChange()}));let f=o.querySelector("#inpElmBorderRightWidth");f.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),f.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderRightWidth").value;isNaN(t)||""===t?(e.style.borderRightStyle="solid",e.style.borderRightWidth="",e.style.borderRightStyle=""):(e.style.borderRightStyle="solid",e.style.borderRightWidth=t+o.querySelector("#inpElmBorderRightWidthUnit").value,e.style.borderRightStyle=o.querySelector("#inpElmBorderRightStyle").value),n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderRightWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderRightWidthUnit").value;"none"===t?(e.style.borderRight="none",e.style.borderRightWidth="",e.style.borderRightStyle="",this.panelStuff.querySelector("#inpElmBorderRightWidth").value="",this.panelStuff.querySelector("#inpElmBorderRightStyle").value=""):e.style.borderRightWidth=o.querySelector("#inpElmBorderRightWidth").value+t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmBorderRightStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=o.querySelector("#inpElmBorderRightStyle").value;e.style.borderRightStyle=t,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){this.panelStuff.querySelector(".input-elm-bordercolor").style.backgroundColor=e.style.borderColor,this.panelStuff.querySelector(".input-elm-bordertopcolor").style.backgroundColor=e.style.borderTopColor,this.panelStuff.querySelector(".input-elm-borderbottomcolor").style.backgroundColor=e.style.borderBottomColor,this.panelStuff.querySelector(".input-elm-borderleftcolor").style.backgroundColor=e.style.borderLeftColor,this.panelStuff.querySelector(".input-elm-borderrightcolor").style.backgroundColor=e.style.borderRightColor,this.panelStuff.querySelector("#inpElmBorderWidth").value="",this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderStyle").value="";var t=e.style.borderWidth,i=parseInt(t);isNaN(i)?-1!==(t=e.style.border).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderWidth").value="",this.panelStuff.querySelector("#inpElmBorderStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderWidth").value=i,-1!==(t=e.style.borderStyle).indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderStyle").value="dotted")),this.panelStuff.querySelector("#inpElmBorderTopWidth").value="",this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderTopStyle").value="",t=e.style.borderTopWidth;var n=parseInt(t);isNaN(n)?-1!==(t=e.style.borderTop).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderTopWidth").value="",this.panelStuff.querySelector("#inpElmBorderTopStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderTopWidth").value=n,-1!==t.indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderTopStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderTopStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderTopStyle").value="dotted")),this.panelStuff.querySelector("#inpElmBorderBottomWidth").value="",this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderBottomStyle").value="",t=e.style.borderBottomWidth;var o=parseInt(t);isNaN(o)?-1!==(t=e.style.borderBottom).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderBottomWidth").value="",this.panelStuff.querySelector("#inpElmBorderBottomStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderBottomWidth").value=o,-1!==t.indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderBottomStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderBottomStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderBottomStyle").value="dotted")),this.panelStuff.querySelector("#inpElmBorderLeftWidth").value="",this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderLeftStyle").value="",t=e.style.borderLeftWidth;var s=parseInt(t);isNaN(s)?-1!==(t=e.style.borderLeft).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderLeftWidth").value="",this.panelStuff.querySelector("#inpElmBorderLeftStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderLeftWidth").value=s,-1!==t.indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderLeftStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderLeftStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderLeftStyle").value="dotted")),this.panelStuff.querySelector("#inpElmBorderRightWidth").value="",this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderRightStyle").value="",t=e.style.borderRightWidth;var a=parseInt(t);isNaN(a)?-1!==(t=e.style.borderRight).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderRightWidth").value="",this.panelStuff.querySelector("#inpElmBorderRightStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderRightWidth").value=a,-1!==t.indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderRightStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderRightStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderRightStyle").value="dotted"))}}const Bv=new ni;class Iv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementText");this.panelStuff=o;const s=`\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>Text Color:</div>\n                <div>\n                    <button title="${t.out("Text Color")}" class="input-elm-color is-btn-color"></button>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Font Size")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmFontSize" value="" style="width:45px"/>\n                    <select id="inpElmFontSizeUnit">\n                        <option value=""></option>\n                        <option value="px">px</option>\n                        <option value="pt">pt</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="vmin">vmin</option>\n                        <option value="vmax">vmax</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Text Align")}:</div>\n                <div>\n                    <select id="inpElmTextAlign">\n                        <option value=""></option>\n                        <option value="left">${t.out("Left")}</option>\n                        <option value="center">${t.out("Center")}</option>\n                        <option value="right">${t.out("Right")}</option>\n                        <option value="justify">${t.out("Full")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Line Height")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmLineHeight" value="" style="width:45px"/>\n                    <select id="inpElmLineHeightUnit">\n                        <option value=""></option>\n                        <option value="px">px</option>\n                        <option value="pt">pt</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Font Weight")}:</div>\n                <div>\n                    <select id="inpElmFontWeight">\n                        <option value=""></option>\n                        <option value="100">100</option>\n                        <option value="200">200</option>\n                        <option value="300">300</option>\n                        <option value="400">400</option>\n                        <option value="500">500</option>\n                        <option value="600">600</option>\n                        <option value="700">700</option>\n                        <option value="800">800</option>\n                        <option value="900">900</option>\n                        <option value="bold">${t.out("Bold")}</option>\n                        <option value="normal">${t.out("Normal")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Font Style")}:</div>\n                <div>\n                    <select id="inpElmFontStyle">\n                        <option value=""></option>\n                        <option value="italic">${t.out("Italic")}</option>\n                        <option value="normal">${t.out("Normal")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Text Transform")}:</div>\n                <div>\n                    <select id="inpElmTextTransform">\n                        <option value=""></option>\n                        <option value="uppercase">${t.out("Uppercase")}</option>\n                        <option value="lowercase">${t.out("Lowercase")}</option>\n                        <option value="capitalize">${t.out("Capitalize")}</option>\n                        <option value="none">${t.out("None")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Text Decoration")}:</div>\n                <div>\n                    <select id="inpElmTextDecoration">\n                        <option value=""></option>\n                        <option value="underline">${t.out("Underline")}</option>\n                        <option value="line-through">${t.out("Line Through")}</option>\n                        <option value="overline">${t.out("Overline")}</option>\n                        <option value="none">${t.out("None")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Letter Spacing")}:</div>\n                <div>\n                    <input type="text" id="inpElmLetterSpacing" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:115px;">\n                <div>${t.out("Word Spacing")}:</div>\n                <div>\n                    <input type="text" id="inpElmWordSpacing" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div>${t.out("Font Family")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmFontFamily" value="" style="width:100%"/>\n                    <button title="${t.out("Select Font")}" class="input-elm-fontfamily classic" style="border-left: none;width:45px;padding:0;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                </div>\n            </div>\n        `;Bv.appendHtml(o,s);const a=`\n            <div class="is-modal pickfontfamily">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable"> ${t.out("Font")} </div>\n                    <div class="clearfix" style="margin-top:28px;padding:0px;height:300px;position:relative;">\n                        <iframe src="about:blank" style="width:100%;height:100%;position:absolute;top:0;left:0;border: none;"></iframe>\n                    </div>\n                </div>\n            </div>\n        `;Bv.appendHtml(i,a);const r=i.querySelector(".is-modal.pickfontfamily");let l=o.querySelector(".input-elm-color");l.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.color=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),l.style.backgroundColor)})),o.querySelector("#inpElmTextAlign").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmTextAlign").value;e.style.textAlign=t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmFontWeight").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmFontWeight").value;e.style.fontWeight=t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmFontStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmFontStyle").value;e.style.fontStyle=t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmTextTransform").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmTextTransform").value;e.style.textTransform=t,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmTextDecoration").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmTextDecoration").value;e.style.textDecoration=t,n.refresh(),this.builder.opts.onChange()}));let d=o.querySelector("#inpElmFontSize");d.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),d.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmFontSize").value,i=o.querySelector("#inpElmFontSizeUnit").value;""===i&&(o.querySelector("#inpElmFontSizeUnit").value="px",i="px"),isNaN(t)||""===t?e.style.fontSize="":e.style.fontSize=t+i;const s=this.builder.opts.fontSizeClassValues;for(var a=0;a<=s.length-1;a++)Bv.hasClass(e,"size-"+s[a])&&Bv.removeClass(e,"size-"+s[a]);n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmFontSizeUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmFontSize").value,i=o.querySelector("#inpElmFontSizeUnit").value;isNaN(t)||""===t?e.style.fontSize="":e.style.fontSize=t+i,n.refresh(),this.builder.opts.onChange()}));let c=o.querySelector("#inpElmLineHeight");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmLineHeight").value,i=o.querySelector("#inpElmLineHeightUnit").value;isNaN(t)||""===t?e.style.lineHeight="":e.style.lineHeight=t+i,n.refresh(),this.builder.opts.onChange()})),o.querySelector("#inpElmLineHeightUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmLineHeightUnit").value,i=o.querySelector("#inpElmLineHeight").value;isNaN(i)||""===i?e.style.lineHeight="":e.style.lineHeight=i+t,n.refresh(),this.builder.opts.onChange()}));let u=o.querySelector("#inpElmLetterSpacing");u.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),u.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmLetterSpacing").value;isNaN(t)||""===t?e.style.letterSpacing="":e.style.letterSpacing=t+"px",n.refresh(),this.builder.opts.onChange()}));let p=o.querySelector("#inpElmWordSpacing");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmWordSpacing").value;isNaN(t)||""===t?e.style.wordSpacing="":e.style.wordSpacing=t+"px",n.refresh(),this.builder.opts.onChange()}));let h=o.querySelector("#inpElmFontFamily");if(h.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),h.addEventListener("keyup",(()=>{let e=o.querySelector("#inpElmFontFamily").value;this.builder.inspectedElement.style.fontFamily=e,n.refresh(),this.builder.opts.onChange()})),!this.builder.renderIframeLater){let e=r.querySelector("iframe").contentWindow.document;e.open(),this.builder.opts.emailMode?e.write(this.util.getFontFamilyEmail(!0)):e.write(this.util.getFontFamilyHTML(!0)),e.close()}o.querySelector(".input-elm-fontfamily").addEventListener("click",(()=>{let e=this.builder.inspectedElement;this.util.showModal(r);var t=e.style.fontFamily;const i=r.querySelector("iframe");let n=i.contentDocument||i.contentWindow.document;if(""!==t){let e=t.split(",")[0];if(e=e.replace('"',"").replace('"',""),e=e.toLowerCase().trim(),n){[].forEach.call(n.querySelectorAll("#divFontList > div"),(function(t){var i=t.getAttribute("data-font-family");(i=(i=i.split(",")[0]).trim().toLowerCase())===e&&""!==i?Bv.addClass(t,"on"):Bv.removeClass(t,"on")}));let t=n.querySelector("#divFontList");var o=t.querySelector(".on");o&&(t.scrollTop=t.scrollTop+o.getBoundingClientRect().top)}}else n&&[].forEach.call(n.querySelectorAll("#divFontList > div"),(function(e){Bv.removeClass(e,"on")}))}))}readElementStyles(e){this.panelStuff.querySelector(".input-elm-color").style.backgroundColor=e.style.color,this.panelStuff.querySelector("#inpElmTextAlign").value="";var t=e.style.textAlign;this.panelStuff.querySelector("#inpElmTextAlign").value=t,this.panelStuff.querySelector("#inpElmFontSize").value="";var i=parseInt(e.style.fontSize);let n;isNaN(i)||(this.panelStuff.querySelector("#inpElmFontSize").value=i),this.panelStuff.querySelector("#inpElmFontSizeUnit").value="px";var o=e.style.fontSize;-1!==o.indexOf("px")&&(n="px"),-1!==o.indexOf("pt")&&(n="pt"),-1!==o.indexOf("em")&&(n="em"),-1!==o.indexOf("vw")&&(n="vw"),-1!==o.indexOf("vh")&&(n="vh"),-1!==o.indexOf("vmin")&&(n="vmin"),-1!==o.indexOf("vmax")&&(n="vmax"),-1!==o.indexOf("%")&&(n="%"),this.panelStuff.querySelector("#inpElmFontSizeUnit").value=n,this.panelStuff.querySelector("#inpElmFontWeight").value="";var s=e.style.fontWeight;this.panelStuff.querySelector("#inpElmFontWeight").value=s,this.panelStuff.querySelector("#inpElmFontStyle").value="";var a=e.style.fontStyle;this.panelStuff.querySelector("#inpElmFontStyle").value=a,this.panelStuff.querySelector("#inpElmTextTransform").value="";var r=e.style.textTransform;this.panelStuff.querySelector("#inpElmTextTransform").value=r,this.panelStuff.querySelector("#inpElmTextDecoration").value="";var l=e.style.textDecoration;if(this.panelStuff.querySelector("#inpElmTextDecoration").value=l,this.panelStuff.querySelector("#inpElmLineHeight").value="",isNaN(e.style.lineHeight)){var d=parseInt(e.style.lineHeight);isNaN(d)||(this.panelStuff.querySelector("#inpElmLineHeight").value=d)}else this.panelStuff.querySelector("#inpElmLineHeight").value=e.style.lineHeight;let c;this.panelStuff.querySelector("#inpElmLineHeightUnit").value="",-1!==(o=e.style.lineHeight).indexOf("px")&&(c="px"),-1!==o.indexOf("pt")&&(c="pt"),this.panelStuff.querySelector("#inpElmLineHeightUnit").value=c,this.panelStuff.querySelector("#inpElmLetterSpacing").value="";var u=parseInt(e.style.letterSpacing);isNaN(u)||(this.panelStuff.querySelector("#inpElmLetterSpacing").value=u),this.panelStuff.querySelector("#inpElmWordSpacing").value="";var p=parseInt(e.style.wordSpacing);isNaN(p)||(this.panelStuff.querySelector("#inpElmWordSpacing").value=p),this.panelStuff.querySelector("#inpElmFontFamily").value="";var h=e.style.fontFamily;""!==h&&(this.panelStuff.querySelector("#inpElmFontFamily").value=h)}}const Dv=new ni;class $v{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementCorner");this.panelStuff=o;const s=`\n            <div style="margin-top: 13px;font-weight: bold;width:100%;">${t.out("Corners")}</div>\n\n            <div class="is-settings clearfix" style="width:100%;margin-bottom:9px;">\n                <div>${t.out("Border Radius")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div style="margin-top: 25px;font-weight: bold;width:100%;">${t.out("Individual Corners")}</div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Top Left")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderTopLeftRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Top Right")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderTopRightRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Bottom Left")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderBottomLeftRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Bottom Right")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderBottomRightRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n        `;Dv.appendHtml(o,s);const a=o.querySelector("#inpElmBorderRadius");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmBorderRadius").value;isNaN(t)||""===t?e.style.borderRadius="":e.style.borderRadius=t+"px",n.refresh(),this.builder.opts.onChange()}));const r=o.querySelector("#inpElmBorderTopLeftRadius");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),r.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmBorderTopLeftRadius").value;isNaN(t)||""===t?e.style.borderTopLeftRadius="":e.style.borderTopLeftRadius=t+"px",n.refresh(),this.builder.opts.onChange()}));const l=o.querySelector("#inpElmBorderTopRightRadius");l.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),l.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmBorderTopRightRadius").value;isNaN(t)||""===t?e.style.borderTopRightRadius="":e.style.borderTopRightRadius=t+"px",n.refresh(),this.builder.opts.onChange()}));const d=o.querySelector("#inpElmBorderBottomLeftRadius");d.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),d.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmBorderBottomLeftRadius").value;isNaN(t)||""===t?e.style.borderBottomLeftRadius="":e.style.borderBottomLeftRadius=t+"px",n.refresh(),this.builder.opts.onChange()}));const c=o.querySelector("#inpElmBorderBottomRightRadius");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmBorderBottomRightRadius").value;isNaN(t)||""===t?e.style.borderBottomRightRadius="":e.style.borderBottomRightRadius=t+"px",n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmBorderRadius");i.value="";let n=e.style.borderRadius,o=parseInt(n);isNaN(o)||(i.value=o);const s=t.querySelector("#inpElmBorderTopLeftRadius");s.value="",n=e.style.borderTopLeftRadius;let a=parseInt(n);isNaN(a)||(s.value=a);const r=t.querySelector("#inpElmBorderTopRightRadius");r.value="",n=e.style.borderTopRightRadius;let l=parseInt(n);isNaN(l)||(r.value=l);const d=t.querySelector("#inpElmBorderBottomLeftRadius");d.value="",n=e.style.borderBottomLeftRadius;let c=parseInt(n);isNaN(c)||(d.value=c);const u=t.querySelector("#inpElmBorderBottomRightRadius");u.value="",n=e.style.borderBottomRightRadius;let p=parseInt(n);isNaN(p)||(u.value=p)}}const Pv=new ni;class Hv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementShadow");this.panelStuff=o;const s=`\n            <div style="margin-top:13px;font-weight:bold;width:100%;">${t.out("Shadow")}</div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("x Offset")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBoxShadowX" value="" style="width:45px"/>\n                    <select id="inpElmBoxShadowXUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("y Offset")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBoxShadowY" value="" style="width:45px"/>\n                    <select id="inpElmBoxShadowYUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Blur")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBoxShadowBlur" value="" style="width:45px"/>\n                    <select id="inpElmBoxShadowBlurUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Spread")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBoxShadowSpread" value="" style="width:45px"/>\n                    <select id="inpElmBoxShadowSpreadUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div>${t.out("Shadow Color")}:</div>\n                <div>\n                <button title="${t.out("Shadow Color")}" class="input-elm-shadowcolor is-btn-color"></button>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div>${t.out("Outer/Inner Shadow")}:</div>\n                <div>\n                    <select id="inpElmBoxShadowInset">\n                        <option value="">Outset</option>\n                        <option value="inset">Inset</option>\n                    </select>\n                </div>\n            </div>\n        `;Pv.appendHtml(o,s);let a=o.querySelector(".input-elm-shadowcolor");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0),this.builder.colorPicker.open((e=>{a.style.backgroundColor=e,this.updateShadow(this.builder.inspectedElement),n.refresh(),this.builder.opts.onChange()}),a.style.backgroundColor)}));let r=o.querySelectorAll("#inpElmBoxShadowX,#inpElmBoxShadowY,#inpElmBoxShadowBlur,#inpElmBoxShadowSpread");Array.prototype.forEach.call(r,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),e.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;this.updateShadow(e),n.refresh(),this.builder.opts.onChange()}))})),r=o.querySelectorAll("#inpElmBoxShadowXUnit,#inpElmBoxShadowYUnit,#inpElmBoxShadowBlurUnit,#inpElmBoxShadowSpreadUnit"),Array.prototype.forEach.call(r,(e=>{e.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;this.updateShadow(e),n.refresh(),this.builder.opts.onChange()}))}));o.querySelector("#inpElmBoxShadowInset").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;this.updateShadow(e),n.refresh(),this.builder.opts.onChange()}))}updateShadow(e){let t=this.panelStuff;var i=t.querySelector(".input-elm-shadowcolor").style.backgroundColor,n=t.querySelector("#inpElmBoxShadowInset").value,o=t.querySelector("#inpElmBoxShadowX").value,s=t.querySelector("#inpElmBoxShadowXUnit").value,a="";isNaN(o)||""===o||(a=o+s),o=t.querySelector("#inpElmBoxShadowY").value,s=t.querySelector("#inpElmBoxShadowYUnit").value;var r="";isNaN(o)||""===o||(r=o+s),o=t.querySelector("#inpElmBoxShadowBlur").value,s=t.querySelector("#inpElmBoxShadowBlurUnit").value;var l="";isNaN(o)||""===o||(l=o+s),o=t.querySelector("#inpElmBoxShadowSpread").value,s=t.querySelector("#inpElmBoxShadowSpreadUnit").value;var d="";isNaN(o)||""===o||(d=o+s),e.style.boxShadow=(a+" "+r+" "+l+" "+d+" "+i+" "+n).trim()}readElementStyles(e){let t,i,n=this.panelStuff,o=e.style.boxShadow,s=n.querySelectorAll("#inpElmBoxShadowX,#inpElmBoxShadowY,#inpElmBoxShadowBlur,#inpElmBoxShadowSpread");if(Array.prototype.forEach.call(s,(e=>{e.value=""})),s=n.querySelectorAll("#inpElmBoxShadowXUnit,#inpElmBoxShadowYUnit,#inpElmBoxShadowBlurUnit,#inpElmBoxShadowSpreadUnit"),Array.prototype.forEach.call(s,(e=>{e.value="px"})),n.querySelector("#inpElmBoxShadowInset").value="",-1!==o.indexOf("inset")&&(n.querySelector("#inpElmBoxShadowInset").value="inset",o=o.replace("inset","")),""!==o){-1!==o.indexOf("rgb")&&(t=o.substr(o.indexOf("rgb")),t=t.substr(0,t.indexOf(")")+1),n.querySelector(".input-elm-shadowcolor").style.backgroundColor=t,i=o.split("rgb")[1].indexOf(")"),o=o.split("rgb")[0]+o.split("rgb")[1].substr(i+2)),-1!==o.indexOf("#")&&(t=o.substr(o.indexOf("#")),t=t.substr(0,t.indexOf(" ")),n.querySelector(".input-elm-shadowcolor").style.backgroundColor=t,i=o.split("#")[1].indexOf(" "),o=o.split("#")[0]+o.split("#")[1].substr(i+2));let e=o.split(" "),s=e.length;i=1;for(let t=0;t<s;t++)1===i&&(n.querySelector("#inpElmBoxShadowX").value=parseInt(e[t]),-1!==e[t].indexOf("px")?n.querySelector("#inpElmBoxShadowXUnit").value="px":-1!==e[t].indexOf("em")?n.querySelector("#inpElmBoxShadowXUnit").value="em":n.querySelector("#inpElmBoxShadowX").value=""),2===i&&(n.querySelector("#inpElmBoxShadowY").value=parseInt(e[t]),-1!==e[t].indexOf("px")?n.querySelector("#inpElmBoxShadowYUnit").value="px":-1!==e[t].indexOf("em")?n.querySelector("#inpElmBoxShadowYUnit").value="em":n.querySelector("#inpElmBoxShadowY").value=""),3===i&&(n.querySelector("#inpElmBoxShadowBlur").value=parseInt(e[t]),-1!==e[t].indexOf("px")?n.querySelector("#inpElmBoxShadowBlurUnit").value="px":-1!==e[t].indexOf("em")?n.querySelector("#inpElmBoxShadowBlurUnit").value="em":n.querySelector("#inpElmBoxShadowBlur").value=""),4===i&&(n.querySelector("#inpElmBoxShadowSpread").value=parseInt(e[t]),-1!==e[t].indexOf("px")?n.querySelector("#inpElmBoxShadowSpreadUnit").value="px":-1!==e[t].indexOf("em")?n.querySelector("#inpElmBoxShadowSpreadUnit").value="em":n.querySelector("#inpElmBoxShadowSpread").value=""),i++}}}const zv=new ni;class Fv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementDisplay");this.panelStuff=o;const s=`\n            <div style="margin-top:13px;font-weight:bold;">${t.out("Display")}</div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div style="display:flex">\n                    <select id="inpElmDisplay" style="width:110px;">\n                        <option value=""></option>\n                        <option value="block">Block</option>\n                        <option value="inline-block">Inline Block</option>\n                        <option value="inline">Inline</option>\n                        <option value="flex">Flex</option>\n                        <option value="none">None</option>\n                    </select>\n                </div>\n            </div>\n\n            <div style="margin-top:25px;font-weight:bold;width:100%;">${t.out("Flex")}</div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div>${t.out("Direction")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmFlexDirection" style="width:110px;">\n                        <option value=""></option>\n                        <option value="row">Row</option>\n                        <option value="row-reverse">Row Reverse</option>\n                        <option value="column">Column</option>\n                        <option value="column-reverse">Column Reverse</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div>${t.out("Wrap")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmFlexWrap" style="width:110px;">\n                        <option value=""></option>\n                        <option value="no-wrap">No Wrap</option>\n                        <option value="wrap">Wrap</option>\n                        <option value="wrap-reverse">Wrap Reverse</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div>${t.out("Justify Content")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmJustifyContent" style="width:110px;">\n                        <option value=""></option>\n                        <option value="center">Center</option>\n                        <option value="flex-start">Flex Start</option>\n                        <option value="flex-end">Flex End</option>\n                        <option value="space-around">Space Around</option>\n                        <option value="space-between">Space Between</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div>${t.out("Align Items")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmAlignItems" style="width:110px;">\n                        <option value=""></option>\n                        <option value="center">Center</option>\n                        <option value="flex-start">Flex Start</option>\n                        <option value="flex-end">Flex End</option>\n                        <option value="stretch">Stretch</option>\n                        <option value="baseline">Baseline</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div>${t.out("Align Content")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmAlignContent" style="width:110px;">\n                        <option value=""></option>\n                        <option value="center">Center</option>\n                        <option value="flex-start">Flex Start</option>\n                        <option value="flex-end">Flex End</option>\n                        <option value="stretch">Stretch</option>\n                        <option value="space-around">Space Around</option>\n                        <option value="space-between">Space Between</option>\n                    </select>\n                </div>\n            </div>\n        `;zv.appendHtml(o,s);o.querySelector("#inpElmDisplay").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmDisplay").value;e.style.display=t,n.refresh(),this.builder.opts.onChange()}));o.querySelector("#inpElmFlexDirection").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmFlexDirection").value;e.style.flexDirection=t,n.refresh(),this.builder.opts.onChange()}));o.querySelector("#inpElmFlexWrap").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmFlexWrap").value;e.style.flexWrap=t,n.refresh(),this.builder.opts.onChange()}));o.querySelector("#inpElmJustifyContent").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmJustifyContent").value;e.style.justifyContent=t,n.refresh(),this.builder.opts.onChange()}));o.querySelector("#inpElmAlignItems").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmAlignItems").value;e.style.alignItems=t,n.refresh(),this.builder.opts.onChange()}));o.querySelector("#inpElmAlignContent").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmAlignContent").value;e.style.alignContent=t,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmDisplay");i.value="";let n=e.style.display;n&&(i.value=n);const o=t.querySelector("#inpElmFlexDirection");o.value="",n=e.style.flexDirection,n&&(o.value=n);const s=t.querySelector("#inpElmFlexWrap");s.value="",n=e.style.flexWrap,n&&(s.value=n);const a=t.querySelector("#inpElmJustifyContent");a.value="",n=e.style.justifyContent,n&&(a.value=n);const r=t.querySelector("#inpElmAlignItems");r.value="",n=e.style.alignItems,n&&(r.value=n);const l=t.querySelector("#inpElmAlignContent");l.value="",n=e.style.alignContent,n&&(l.value=n)}}const jv=new ni;class Uv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementPosition");this.panelStuff=o;const s=`\n            <div style="margin-top:13px;font-weight:bold;width:100%;">${t.out("Position")}</div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div style="display:flex">\n                    <select id="inpElmPosition">\n                        <option value=""></option>\n                        <option value="relative">Relative</option>\n                        <option value="absolute">Absolute</option>\n                        <option value="fixed">Fixed</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div>${t.out("Top")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmTop" value="" style="width:45px"/>\n                    <select id="inpElmTopUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div>${t.out("Left")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmLeft" value="" style="width:45px"/>\n                    <select id="inpElmLeftUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div>${t.out("Bottom")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBottom" value="" style="width:45px"/>\n                    <select id="inpElmBottomUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div>${t.out("Right")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmRight" value="" style="width:45px"/>\n                    <select id="inpElmRightUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div style="margin-top: 25px;font-weight: bold;width:100%;">${t.out("Float")}</div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div style="display:flex">\n                    <select id="inpElmFloat">\n                        <option value=""></option>\n                        <option value="left">Left</option>\n                        <option value="right">Right</option>\n                        <option value="none">None</option>\n                    </select>\n                </div>\n            </div>\n        `;jv.appendHtml(o,s);o.querySelector("#inpElmPosition").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmPosition").value;e.style.position=t,n.refresh(),this.builder.opts.onChange()}));o.querySelector("#inpElmFloat").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=o.querySelector("#inpElmFloat").value;e.style.float=t,n.refresh(),this.builder.opts.onChange()}));const a=o.querySelector("#inpElmTop");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));const r=o.querySelector("#inpElmTopUnit");a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=a.value,i=r.value;isNaN(t)||""===t?e.style.top="":e.style.top=t+i,n.refresh(),this.builder.opts.onChange()})),r.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=a.value,i=r.value;isNaN(t)||""===t?e.style.top="":e.style.top=t+i,n.refresh(),this.builder.opts.onChange()}));const l=o.querySelector("#inpElmBottom");l.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));const d=o.querySelector("#inpElmBottomUnit");l.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=l.value,i=d.value;isNaN(t)||""===t?e.style.bottom="":e.style.bottom=t+i,n.refresh(),this.builder.opts.onChange()})),d.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=l.value,i=d.value;isNaN(t)||""===t?e.style.bottom="":e.style.bottom=t+i,n.refresh(),this.builder.opts.onChange()}));const c=o.querySelector("#inpElmLeft");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));const u=o.querySelector("#inpElmLeftUnit");c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=c.value,i=u.value;isNaN(t)||""===t?e.style.left="":e.style.left=t+i,n.refresh(),this.builder.opts.onChange()})),u.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=c.value,i=u.value;isNaN(t)||""===t?e.style.left="":e.style.left=t+i,n.refresh(),this.builder.opts.onChange()}));const p=o.querySelector("#inpElmRight");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));const h=o.querySelector("#inpElmRightUnit");p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=p.value,i=h.value;isNaN(t)||""===t?e.style.right="":e.style.right=t+i,n.refresh(),this.builder.opts.onChange()})),h.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=p.value,i=h.value;isNaN(t)||""===t?e.style.right="":e.style.right=t+i,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmPosition");i.value="";let n=e.style.position;i.value=n;const o=t.querySelector("#inpElmFloat");o.value="",n=e.style.float,o.value=n;const s=t.querySelector("#inpElmTop"),a=t.querySelector("#inpElmTopUnit");s.value="",a.value="px",n=e.style.top;let r=parseInt(n);isNaN(r)||(-1!==n.indexOf("%")&&(a.value="%"),-1!==n.indexOf("px")&&(a.value="px"),-1!==n.indexOf("vw")&&(a.value="vw"),-1!==n.indexOf("vh")&&(a.value="vh"),-1!==n.indexOf("em")&&(a.value="em"),s.value=r);const l=t.querySelector("#inpElmBottom"),d=t.querySelector("#inpElmBottomUnit");l.value="",d.value="px",n=e.style.bottom;let c=parseInt(n);isNaN(c)||(-1!==n.indexOf("%")&&(d.value="%"),-1!==n.indexOf("px")&&(d.value="px"),-1!==n.indexOf("vw")&&(d.value="vw"),-1!==n.indexOf("vh")&&(d.value="vh"),-1!==n.indexOf("em")&&(d.value="em"),l.value=c);const u=t.querySelector("#inpElmLeft"),p=t.querySelector("#inpElmLeftUnit");u.value="",p.value="px",n=e.style.left;let h=parseInt(n);isNaN(h)||(-1!==n.indexOf("%")&&(p.value="%"),-1!==n.indexOf("px")&&(p.value="px"),-1!==n.indexOf("vw")&&(p.value="vw"),-1!==n.indexOf("vh")&&(p.value="vh"),-1!==n.indexOf("em")&&(p.value="em"),u.value=h);const g=t.querySelector("#inpElmRight"),f=t.querySelector("#inpElmRightUnit");g.value="",f.value="px",n=e.style.right;let m=parseInt(n);isNaN(m)||(-1!==n.indexOf("%")&&(f.value="%"),-1!==n.indexOf("px")&&(f.value="px"),-1!==n.indexOf("vw")&&(f.value="vw"),-1!==n.indexOf("vh")&&(f.value="vh"),-1!==n.indexOf("em")&&(f.value="em"),g.value=m)}}const Wv=new ni;class Gv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new qv(e);let o=i.querySelector("#divElementEffect");this.panelStuff=o;const s=`\n            <div style="margin-top:13px;font-weight:bold;">${t.out("Effects")}</div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div>${t.out("Opacity")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmOpacity" value="" style="width:45px"/>\n                </div>\n            </div>\n\n            <div style="margin-top:25px;font-weight:bold;width:100%;">${t.out("Filters")}</div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Blur")}:</div>\n                <div>\n                    <input type="text" id="inpElmBlur" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Brightness")}:</div>\n                <div>\n                    <input type="text" id="inpElmBrightness" value="" style="width:45px"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Contrast")}:</div>\n                <div>\n                    <input type="text" id="inpElmContrast" value="" style="width:45px"/> &nbsp;%\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Grayscale")}:</div>\n                <div>\n                    <input type="text" id="inpElmGrayscale" value="" style="width:45px"/> &nbsp;%\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Hue Rotate")}:</div>\n                <div>\n                    <input type="text" id="inpElmHueRotate" value="" style="width:45px"/> &nbsp;<span style="font-size:12px">deg</span>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Invert")}:</div>\n                <div>\n                    <input type="text" id="inpElmInvert" value="" style="width:45px"/> &nbsp;%\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Saturate")}:</div>\n                <div>\n                    <input type="text" id="inpElmSaturate" value="" style="width:45px"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div>${t.out("Sepia")}:</div>\n                <div>\n                    <input type="text" id="inpElmSepia" value="" style="width:45px"/> &nbsp;%\n                </div>\n            </div>\n        `;Wv.appendHtml(o,s);const a=o.querySelector("#inpElmOpacity");let r;a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmOpacity").value;e.style.opacity=t,n.refresh(),this.builder.opts.onChange()}));const l=o.querySelector("#inpElmBlur");l.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),l.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmBlur").value,i=e.style.filter;i=i.replace("none","");let s=i.split(" "),a=!1;for(r=0;r<s.length;r++){-1!==s[r].indexOf("blur")&&(isNaN(t)||""===t?s[r]="":s[r]="blur("+t+"px)",a=!0)}if(a)for(i="",r=0;r<s.length;r++)i+=" "+s[r];else i=i+" blur("+t+"px)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const d=o.querySelector("#inpElmBrightness");d.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),d.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmBrightness").value,i=e.style.filter;i=i.replace("none","");let s=i.split(" "),a=!1;for(r=0;r<s.length;r++){-1!==s[r].indexOf("brightness")&&(isNaN(t)||""===t?s[r]="":s[r]="brightness("+t+")",a=!0)}if(a)for(i="",r=0;r<s.length;r++)i+=" "+s[r];else i=i+" brightness("+t+")";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const c=o.querySelector("#inpElmContrast");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmContrast").value,i=e.style.filter;i=i.replace("none","");let s=i.split(" "),a=!1;for(r=0;r<s.length;r++){-1!==s[r].indexOf("contrast")&&(isNaN(t)||""===t?s[r]="":s[r]="contrast("+t+"%)",a=!0)}if(a)for(i="",r=0;r<s.length;r++)i+=" "+s[r];else i=i+" contrast("+t+"%)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const u=o.querySelector("#inpElmGrayscale");u.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),u.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmGrayscale").value,i=e.style.filter;i=i.replace("none","");let s=i.split(" "),a=!1;for(r=0;r<s.length;r++){-1!==s[r].indexOf("grayscale")&&(isNaN(t)||""===t?s[r]="":s[r]="grayscale("+t+"%)",a=!0)}if(a)for(i="",r=0;r<s.length;r++)i+=" "+s[r];else i=i+" grayscale("+t+"%)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const p=o.querySelector("#inpElmHueRotate");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmHueRotate").value,i=e.style.filter;i=i.replace("none","");let s=i.split(" "),a=!1;for(r=0;r<s.length;r++){-1!==s[r].indexOf("hue-rotate")&&(isNaN(t)||""===t?s[r]="":s[r]="hue-rotate("+t+"deg)",a=!0)}if(a)for(i="",r=0;r<s.length;r++)i+=" "+s[r];else i=i+" hue-rotate("+t+"deg)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const h=o.querySelector("#inpElmInvert");h.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),h.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmInvert").value,i=e.style.filter;i=i.replace("none","");let s=i.split(" "),a=!1;for(r=0;r<s.length;r++){-1!==s[r].indexOf("invert")&&(isNaN(t)||""===t?s[r]="":s[r]="invert("+t+"%)",a=!0)}if(a)for(i="",r=0;r<s.length;r++)i+=" "+s[r];else i=i+" invert("+t+"%)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const g=o.querySelector("#inpElmSaturate");g.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),g.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmSaturate").value,i=e.style.filter;i=i.replace("none","");let s=i.split(" "),a=!1;for(r=0;r<s.length;r++){-1!==s[r].indexOf("saturate")&&(isNaN(t)||""===t?s[r]="":s[r]="saturate("+t+")",a=!0)}if(a)for(i="",r=0;r<s.length;r++)i+=" "+s[r];else i=i+" saturate("+t+")";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const f=o.querySelector("#inpElmSepia");f.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),f.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=o.querySelector("#inpElmSepia").value,i=e.style.filter;i=i.replace("none","");let s=i.split(" "),a=!1;for(r=0;r<s.length;r++){-1!==s[r].indexOf("sepia")&&(isNaN(t)||""===t?s[r]="":s[r]="sepia("+t+"%)",a=!0)}if(a)for(i="",r=0;r<s.length;r++)i+=" "+s[r];else i=i+" sepia("+t+"%)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmOpacity");i.value="";let n=e.style.opacity;n&&(i.value=n);let o=e.style.filter.split(" ");const s=t.querySelector("#inpElmBlur");s.value="";const a=t.querySelector("#inpElmBrightness");a.value="";const r=t.querySelector("#inpElmGrayscale");r.value="";const l=t.querySelector("#inpElmContrast");l.value="";const d=t.querySelector("#inpElmHueRotate");d.value="";const c=t.querySelector("#inpElmInvert");c.value="";const u=t.querySelector("#inpElmSaturate");u.value="";const p=t.querySelector("#inpElmSepia");let h;p.value="";for(let e=0;e<o.length;e++)n=o[e],-1!==n.indexOf("blur")&&(h=n.replace("blur(","").replace(")",""),h=parseInt(h),s.value=h),-1!==n.indexOf("brightness")&&(h=n.replace("brightness(","").replace(")",""),h=parseInt(h),a.value=h),-1!==n.indexOf("grayscale")&&(h=n.replace("grayscale(","").replace(")",""),h=parseInt(h),r.value=h),-1!==n.indexOf("contrast")&&(h=n.replace("contrast(","").replace(")",""),h=parseInt(h),l.value=h),-1!==n.indexOf("hue-rotate")&&(h=n.replace("hue-rotate(","").replace(")",""),h=parseInt(h),d.value=h),-1!==n.indexOf("invert")&&(h=n.replace("invert(","").replace(")",""),h=parseInt(h),c.value=h),-1!==n.indexOf("saturate")&&(h=n.replace("saturate(","").replace(")",""),h=parseInt(h),u.value=h),-1!==n.indexOf("sepia")&&(h=n.replace("sepia(","").replace(")",""),h=parseInt(h),p.value=h)}}const Vv=new ni;class Yv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector("#divElementAttribute");this.panelStuff=n;const o=`\n            <div style="margin-top:13px;font-weight:bold;width:100%;">${t.out("Attributes")}</div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="width:100%">${t.out("Names")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr1" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="width:100%">${t.out("Values")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal1" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr2" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal2" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr3" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal3" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr4" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal4" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr5" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:120px;float:left;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal5" value="" style="width:90%"/>\n                </div>\n            </div>\n        `;Vv.appendHtml(n,o);let s=n.querySelectorAll("#inpElmAttr1,#inpElmAttr2,#inpElmAttr3,#inpElmAttr4,#inpElmAttr5,#inpElmAttrVal1,#inpElmAttrVal2,#inpElmAttrVal3,#inpElmAttrVal4,#inpElmAttrVal5");Array.prototype.forEach.call(s,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),e.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;this.updateAttributes(e),this.builder.opts.onChange()}))}))}updateAttributes(e){let t={};Array.prototype.forEach.call(e.attributes,(e=>{t[e.name]=e.value}));for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&"id"!==i&&"style"!==i&&"class"!==i&&"href"!==i&&"src"!==i&&"contenteditable"!==i&&"data-filename"!==i&&e.removeAttribute(i);const i=this.panelStuff;let n,o;n=i.querySelector("#inpElmAttr1").value,o=i.querySelector("#inpElmAttrVal1").value,""!==n&&e.setAttribute(n,o),n=i.querySelector("#inpElmAttr2").value,o=i.querySelector("#inpElmAttrVal2").value,""!==n&&e.setAttribute(n,o),n=i.querySelector("#inpElmAttr3").value,o=i.querySelector("#inpElmAttrVal3").value,""!==n&&e.setAttribute(n,o),n=i.querySelector("#inpElmAttr4").value,o=i.querySelector("#inpElmAttrVal4").value,""!==n&&e.setAttribute(n,o),n=i.querySelector("#inpElmAttr5").value,o=i.querySelector("#inpElmAttrVal5").value,""!==n&&e.setAttribute(n,o)}readElementStyles(e){const t=this.panelStuff;let i=t.querySelectorAll("#inpElmAttr1,#inpElmAttr2,#inpElmAttr3,#inpElmAttr4,#inpElmAttr5,#inpElmAttrVal1,#inpElmAttrVal2,#inpElmAttrVal3,#inpElmAttrVal4,#inpElmAttrVal5");Array.prototype.forEach.call(i,(e=>{e.value=""}));var n=1;Array.prototype.forEach.call(e.attributes,(e=>{"id"!==e.name&&"style"!==e.name&&"class"!==e.name&&"href"!==e.name&&"src"!==e.name&&"contenteditable"!==e.name&&"data-filename"!==e.name&&"data-saveforundo"!==e.name&&(t.querySelector("#inpElmAttr"+n).value=e.name,t.querySelector("#inpElmAttrVal"+n).value=e.value,n+=1)}))}}const Xv=new ni;class Kv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector("#divElementAnimation");this.panelStuff=n;const o=`\n            <div style="margin-top:13px;font-weight:bold;">${t.out("Animate")}</div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div style="display:flex">\n                    <select id="selElmAnim">\n                        <option value=""></option>\n                        <option value="fade">fade</option>\n                        <option value="fade-up">fade-up</option>\n                        <option value="fade-down">fade-down</option>\n                        <option value="fade-left">fade-left</option>\n                        <option value="fade-right">fade-right</option>\n                        <option value="fade-up-right">fade-up-right</option>\n                        <option value="fade-up-left">fade-up-left</option>\n                        <option value="fade-down-right">fade-down-right</option>\n                        <option value="fade-down-left">fade-down-left</option>\n                        <option value="flip-up">flip-up</option>\n                        <option value="flip-down">flip-down</option>\n                        <option value="flip-left">flip-left</option>\n                        <option value="flip-right">flip-right</option>\n                        <option value="slide-up">slide-up</option>\n                        <option value="slide-down">slide-down</option>\n                        <option value="slide-left">slide-left</option>\n                        <option value="slide-right">slide-right</option>\n                        <option value="zoom-in">zoom-in</option>\n                        <option value="zoom-in-up">zoom-in-up</option>\n                        <option value="zoom-in-down">zoom-in-down</option>\n                        <option value="zoom-in-left">zoom-in-left</option>\n                        <option value="zoom-in-right">zoom-in-right</option>\n                        <option value="zoom-out">zoom-out</option>\n                        <option value="zoom-out-up">zoom-out-up</option>\n                        <option value="zoom-out-down">zoom-out-down</option>\n                        <option value="zoom-out-left">zoom-out-left</option>\n                        <option value="zoom-out-right">zoom-out-right</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div> ${t.out("Delay")}:</div>\n                <div>\n                    <select id="selElmAnimDelay">\n                        <option value=""></option>\n                        <option value="0">0</option>\n                        <option value="100">100</option>\n                        <option value="200">200</option>\n                        <option value="300">300</option>\n                        <option value="400">400</option>\n                        <option value="500">500</option>\n                        <option value="600">600</option>\n                        <option value="700">700</option>\n                        <option value="800">800</option>\n                        <option value="900">900</option>\n                        <option value="1000">1000</option>\n                        <option value="1100">1100</option>\n                        <option value="1200">1200</option>\n                        <option value="1300">1300</option>\n                        <option value="1400">1400</option>\n                        <option value="1500">1500</option>\n                        <option value="1600">1600</option>\n                        <option value="1700">1700</option>\n                        <option value="1800">1800</option>\n                        <option value="1900">1900</option>\n                        <option value="2000">2000</option>\n                        <option value="2100">2100</option>\n                        <option value="2200">2200</option>\n                        <option value="2300">2300</option>\n                        <option value="2400">2400</option>\n                        <option value="2500">2500</option>\n                        <option value="2600">2600</option>\n                        <option value="2700">2700</option>\n                        <option value="2800">2800</option>\n                        <option value="2900">2900</option>\n                        <option value="3000">3000</option>\n                    </select> &nbsp;ms\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:110px;">\n                <div> ${t.out("Duration")}:</div>\n                <div>\n                    <select id="selElmAnimDuration">\n                        <option value=""></option>\n                        <option value="0">0</option>\n                        <option value="100">100</option>\n                        <option value="200">200</option>\n                        <option value="300">300</option>\n                        <option value="400">400</option>\n                        <option value="500">500</option>\n                        <option value="600">600</option>\n                        <option value="700">700</option>\n                        <option value="800">800</option>\n                        <option value="900">900</option>\n                        <option value="1000">1000</option>\n                        <option value="1100">1100</option>\n                        <option value="1200">1200</option>\n                        <option value="1300">1300</option>\n                        <option value="1400">1400</option>\n                        <option value="1500">1500</option>\n                        <option value="1600">1600</option>\n                        <option value="1700">1700</option>\n                        <option value="1800">1800</option>\n                        <option value="1900">1900</option>\n                        <option value="2000">2000</option>\n                        <option value="2100">2100</option>\n                        <option value="2200">2200</option>\n                        <option value="2300">2300</option>\n                        <option value="2400">2400</option>\n                        <option value="2500">2500</option>\n                        <option value="2600">2600</option>\n                        <option value="2700">2700</option>\n                        <option value="2800">2800</option>\n                        <option value="2900">2900</option>\n                        <option value="3000">3000</option>\n                    </select> &nbsp;ms\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div style="margin-top:15px">\n                    <label for="chkAnimateOnce"><input type="checkbox" id="chkAnimateOnce" value=""> ${t.out("Animate Once")} </label>\n                </div>\n            </div>\n\n            <div class="is-settings clearfix" style="width:100%;">\n                <div style="display:flex">\n                    <button title="${t.out("Test")}" id="btnPreviewAnim" class="classic" value=""> ${t.out("TEST")} </button>\n                </div>\n            </div>\n        `;Xv.appendHtml(n,o);let s=n.querySelector("#selElmAnim");s.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=n.querySelector("#selElmAnim").value;""===t?e.removeAttribute("data-aos"):(e.setAttribute("data-aos",t),n.querySelector("#btnPreviewAnim").click()),this.builder.opts.onChange()})),s=n.querySelector("#selElmAnimDelay"),s.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=n.querySelector("#selElmAnimDelay").value;""===t?e.removeAttribute("data-aos-delay"):e.setAttribute("data-aos-delay",t),this.builder.opts.onChange()})),s=n.querySelector("#selElmAnimDuration"),s.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=n.querySelector("#selElmAnimDuration").value;""===t?e.removeAttribute("data-aos-duration"):e.setAttribute("data-aos-duration",t),this.builder.opts.onChange()}));let a=n.querySelector("#chkAnimateOnce");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;n.querySelector("#chkAnimateOnce").checked?e.setAttribute("data-aos-once","true"):e.removeAttribute("data-aos-once"),this.builder.opts.onChange()})),a=n.querySelector("#btnPreviewAnim"),a.addEventListener("click",(()=>{let e=this.builder.inspectedElement,t=e.getAttribute("data-aos-duration");e.removeAttribute("data-aos-duration"),e.style.visibility="hidden",window.AOS&&window.AOS.init({duration:1}),Xv.removeClass(e,"aos-init"),Xv.removeClass(e,"aos-animate"),setTimeout((function(){e.style.visibility="",window.AOS&&window.AOS.init({duration:1200}),t&&e.setAttribute("data-aos-duration",t)}),10)}))}readElementStyles(e){this.panelStuff.querySelector("#selElmAnimDelay").value="";let t=e.getAttribute("data-aos-delay");this.panelStuff.querySelector("#selElmAnimDelay").value=t,this.panelStuff.querySelector("#selElmAnimDuration").value="",t=e.getAttribute("data-aos-duration"),this.panelStuff.querySelector("#selElmAnimDuration").value=t,this.panelStuff.querySelector("#chkAnimateOnce").checked=!1;let i=e.getAttribute("data-aos-once");i&&"true"===i&&(this.panelStuff.querySelector("#chkAnimateOnce").checked=!0),this.panelStuff.querySelector("#selElmAnim").value="",t=e.getAttribute("data-aos"),this.panelStuff.querySelector("#selElmAnim").value=t}}const Zv=new ni;let Qv=[];class Jv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector(".elementstyles");if(!n){let o=`\n            <div class="is-side${"right"===this.builder.opts.sidePanel?"":" fromleft"} elementstyles" style="display:none;">\n                    <div class="elm-list" style="z-index:1;width:100%;height:100px;position:absolute;top:0px;left:0px;box-sizing:border-box;display:flex;align-items:center;flex-wrap: wrap;padding:10px 23px 10px 18px;"></div>\n                    \n                    <button title="${t.out("Close")}" class="is-side-close" style="z-index:1;background:transparent;width:25px;height:25px;position:absolute;top:10px;right:13px;box-sizing:border-box;padding:0;line-height:25px;font-size: 12px;text-align:center;cursor:pointer;"><svg class="is-icon-flex" style="width:25px;height:25px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    \n                    <div style="position: absolute;bottom:7px;right:7px;width:40px;height:25px;z-index:1;display:flex">\n                        <button title="${t.out("css")}" class="elm-editstyle classic" style="width: 40px;height: 25px;font-family: sans-serif;font-size: 10px;padding: 0px;font-weight: bold;">${t.out("css")}</button>\n                    </div>\n                        \n                    <div style="width:100%;height:100%;overflow-y:auto;overflow-x:hidden;position:absolute;top:0px;left:0px;box-sizing:border-box;border-top:100px solid transparent;padding:0px;">\n                            \n                        <div class="is-tabs clearfix" data-group="element" style="padding-right:0;padding-bottom:0;">\n                            <a title="${t.out("Box")}" id="tabElementBox" href="" data-content="divElementBox" class="active">${t.out("Box")}</a>\n                            <a title="${t.out("Spacing")}" id="tabElementSpacing" href="" data-content="divElementSpacing">${t.out("Spacing")}</a>\n                            <a title="${t.out("Border")}" id="tabElementBorder" href="" data-content="divElementBorder">${t.out("Border")}</a>\n                            <a title="${t.out("Text")}" id="tabElementText" href="" data-content="divElementText">${t.out("Text")}</a>\n                            <a title="${t.out("More")}" id="tabElementMore" data-menu="divElementMore" href=""><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-more"></use></svg></a>\n                        </div>\n                        \n                        <div id="divElementMore" class="is-tabs-more" data-group="element">\n                            <a title="${t.out("Corners")}" id="tabElementCorner" href="" data-content="divElementCorner">${t.out("Corners")}</a>\n                            <a title="${t.out("Shadow")}" id="tabElementShadow" href="" data-content="divElementShadow">${t.out("Shadow")}</a>\n                            <a title="${t.out("Display")}" id="tabElementDisplay" href="" data-content="divElementDisplay">${t.out("Display")}</a>\n                            <a title="${t.out("Position")}" id="tabElementPosition" href="" data-content="divElementPosition">${t.out("Position")}</a>\n                            <a title="${t.out("Effects")}" id="tabElementEffect" href="" data-content="divElementEffect">${t.out("Effects")}</a>\n                            <a title="${t.out("Attributes")}" id="tabElementAttribute" href="" data-content="divElementAttribute">${t.out("Attributes")}</a>\n                            ${!0===this.builder.opts.elementAnimate?`<a title="${t.out("Animation")}" id="tabElementAnimation" href="" data-content="divElementAnimation">${t.out("Animation")}</a>`:""}\n                        </div>\n\n                        <div id="divElementBox" class="is-tab-content" data-group="element" style="display:flex;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementSpacing" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementBorder" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementText" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementCorner" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementShadow" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementDisplay" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementPosition" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementEffect" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementAttribute" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementAnimation" class="is-tab-content" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                    </div>\n            </div>              \n            `;Zv.appendHtml(i,o),this.elementStyleEditor=new qv(e),n=i.querySelector(".elementstyles");let s=n.querySelector(".is-side-close");Zv.addEventListener(s,"click",(()=>{this.hidePanel()})),s=n.querySelector(".elm-editstyle"),Zv.addEventListener(s,"click",(()=>{this.elementStyleEditor.toggleStyleEditor()}))}this.panel=n;const o=new Lv(e);this.elementBoxStyles=o;const s=new Ov(e);this.elementSpacingStyles=s;const a=new Nv(e);this.elementBorderStyles=a;const r=new Iv(e);this.elementTextStyles=r;const l=new $v(e);this.elementCornerStyles=l;const d=new Hv(e);this.elementShadowStyles=d;const c=new Fv(e);this.elementDisplayStyles=c;const u=new Uv(e);this.elementPositionStyles=u;const p=new Gv(e);this.elementEffectStyles=p;const h=new Yv(e);this.elementAttributeStyles=h;const g=new Kv(e);this.elementAnimationStyles=g}click(){(Zv.hasClass(this.panel,"active")||Zv.hasClass(this.elementStyleEditor.modalStyles,"active"))&&this.inspect(this.builder.inspectedElement)}inspect(e){this.elementBoxStyles.readElementStyles(e),this.elementSpacingStyles.readElementStyles(e),this.elementBorderStyles.readElementStyles(e),this.elementTextStyles.readElementStyles(e),this.elementCornerStyles.readElementStyles(e),this.elementShadowStyles.readElementStyles(e),this.elementDisplayStyles.readElementStyles(e),this.elementPositionStyles.readElementStyles(e),this.elementEffectStyles.readElementStyles(e),this.elementAttributeStyles.readElementStyles(e),this.elementAnimationStyles.readElementStyles(e);let t=this.panel,i=document.querySelectorAll("[data-saveforundo]");Array.prototype.forEach.call(i,(e=>{e.removeAttribute("data-saveforundo")})),e.setAttribute("data-saveforundo",""),i=document.querySelectorAll(".elm-inspected"),Array.prototype.forEach.call(i,(e=>{Zv.removeClass(e,"elm-inspected")})),setTimeout((()=>{Zv.addClass(e,"elm-inspected")}),10),t.querySelector(".elm-list").innerHTML="";let n=e,o=0;for(Qv=[];!Zv.hasClass(n,"is-builder")&&(Qv.push(n),n)&&n.tagName;){var s=n.tagName.toLowerCase(),a=Zv.createElement("a");a.setAttribute("data-index",o),o++,a.setAttribute("href","#"),a.innerHTML=s,""===t.querySelector(".elm-list").innerHTML?(Zv.addClass(a,"active"),t.querySelector(".elm-list").insertAdjacentHTML("afterbegin",a.outerHTML)):(t.querySelector(".elm-list").insertAdjacentHTML("afterbegin","&nbsp;>&nbsp; "),t.querySelector(".elm-list").insertAdjacentHTML("afterbegin",a.outerHTML)),n=n.parentNode}const r=t.querySelectorAll(".elm-list a");Array.prototype.forEach.call(r,(e=>{Zv.addEventListener(e,"click",(t=>{let i=e.getAttribute("data-index");this.builder.inspectedElement=Qv[i],this.inspect(Qv[i]),document.querySelector(".elm-inspected.elm-active")||(this.builderStuff.querySelector(".is-element-tool").style.display="none"),t.preventDefault(),t.stopImmediatePropagation()}))})),this.elementStyleEditor.refresh()}showPanel(){var e=this.builderStuff.querySelector(".is-side.elementstyles");e.style.display="block";let t=this.builderStuff.querySelectorAll(".is-side");Array.prototype.forEach.call(t,(e=>{Zv.removeClass(e,"active")})),setTimeout((()=>{Zv.addClass(e,"active")}),10),this.inspect(this.builder.inspectedElement)}hidePanel(){var e=this.builderStuff.querySelector(".is-side.elementstyles");Zv.removeClass(e,"active");let t=document.querySelectorAll("[data-saveforundo]");Array.prototype.forEach.call(t,(e=>{e.removeAttribute("data-saveforundo")})),t=document.querySelectorAll(".elm-inspected"),Array.prototype.forEach.call(t,(e=>{Zv.removeClass(e,"elm-inspected")}))}}const eb=new ni;class tb{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new Jv(e);this.elementPanel=n;let o=i.querySelector(".is-element-tool"),s=i.querySelector(".elmmore");if(!o){let e=`<div class="is-tool is-element-tool">\n                <button type="button" title="${t.out("Add")}" class="elm-add"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n                <button type="button" title="${t.out("More")}" class="elm-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                <button type="button" title="${t.out("Delete")}" class="elm-remove"><svg class="is-icon-flex" style="margin-left:-1px"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                <button type="button" title="${t.out("Settings")}" class="elm-settings"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            <div class="is-pop elmmore" style="z-index:10002;">\n                <div style="display:flex;flex-flow:wrap;">\n                    <button type="button" title="${t.out("Move Up")}" class="elm-up"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></span>${t.out("Move Up")}</button>\n                    <button type="button" title="${t.out("Move Down")}" class="elm-down"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></span>${t.out("Move Down")}</button>\n                    <button type="button" title="${t.out("Duplicate")}" class="elm-duplicate"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></span>${t.out("Duplicate")}</button>\n                    ${this.builder.opts.elementEditor?`\n                    <button type="button" title="${t.out("Settings")}" class="elm-settings"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></span>${t.out("Settings")}</button>\n                    `:""} \n                </div>\n            </div>\n            `;eb.appendHtml(i,e),o=i.querySelector(".is-element-tool"),s=i.querySelector(".elmmore");let n=o.querySelectorAll("[title]");Array.prototype.forEach.call(n,(e=>{e.setAttribute("data-title",e.getAttribute("title"))}))}this.elementTool=o,this.elementMore=s;const a=Jo(e),r=o.querySelector(".elm-add");eb.addEventListener(r,"click",(()=>{a.querySelector(".is-pop-tabs").style.display="none";const e=window.innerHeight,t=r.getBoundingClientRect().top,i=r.getBoundingClientRect().left;a.style.display="flex";const n=a.offsetWidth,o=a.offsetHeight;return e-t>o?(a.style.top=t+window.pageYOffset+27+"px",a.style.left=i-n/2+10+"px",eb.removeClass(a,"arrow-bottom"),eb.removeClass(a,"arrow-right"),eb.removeClass(a,"arrow-left"),eb.removeClass(a,"center"),eb.addClass(a,"arrow-top"),eb.addClass(a,"center")):(a.style.top=t+window.pageYOffset-o-8+"px",a.style.left=i-n/2+10+"px",eb.removeClass(a,"arrow-top"),eb.removeClass(a,"arrow-right"),eb.removeClass(a,"arrow-left"),eb.removeClass(a,"center"),eb.addClass(a,"arrow-bottom"),eb.addClass(a,"center")),a.setAttribute("data-mode","elm"),!1}));const l=o.querySelector(".elm-remove");eb.addEventListener(l,"click",(()=>{t.confirm(t.out("Are you sure you want to delete this element?"),(n=>{if(n){this.builder.uo.saveForUndo();let n=this.builder.activeElement;if(eb.hasClass(n.parentNode,"cell-active")||n.parentNode.hasAttribute("data-subblock"))n.parentNode.removeChild(n);else if(n.parentNode.childElementCount>1)n.parentNode.removeChild(n);else{let e=n;if(eb.parentsHasAttribute(e,"data-subblock"))for(;!e.parentNode.hasAttribute("data-subblock")&&1===n.parentNode.childElementCount;)e=e.parentNode;else for(;!eb.hasClass(e.parentNode,"cell-active")&&1===n.parentNode.childElementCount;)e=e.parentNode;e.parentNode.removeChild(e)}this.elementTool.style.display="none";let o=this.builder.activeCol;if(o){let n=o.parentNode;if(0===o.childElementCount&&3===n.childElementCount){n.parentNode.removeChild(n);let e=i.querySelector(".is-column-tool");eb.removeClass(e,"active"),t.checkEmpty()}else if(0===o.childElementCount){n.removeChild(o),t.fixLayout(n,e);let s=i.querySelector(".is-column-tool");eb.removeClass(s,"active")}}const s=document.querySelectorAll(".is-subblock");Array.prototype.forEach.call(s,(e=>{const t=eb.elementChildren(e);let i=!0;t.forEach((()=>{i=!1})),i&&(e.innerHTML='<div class="spacer height-40" contentEditable="false"></div>')})),t.clearControls(),this.builder.opts.onChange()}}))}));const d=o.querySelector(".elm-more");eb.addEventListener(d,"click",(()=>{const e=window.innerHeight,t=d.getBoundingClientRect().top,i=d.getBoundingClientRect().left;s.style.display="flex";const n=s.offsetWidth,o=s.offsetHeight;e-t>o?(s.style.top=t+window.pageYOffset+27+"px",s.style.left=i-n/2+10+"px",eb.removeClass(s,"arrow-bottom"),eb.removeClass(s,"arrow-right"),eb.removeClass(s,"arrow-left"),eb.removeClass(s,"center"),eb.addClass(s,"arrow-top"),eb.addClass(s,"center")):(s.style.top=t+window.pageYOffset-o-8+"px",s.style.left=i-n/2+10+"px",eb.removeClass(s,"arrow-top"),eb.removeClass(s,"arrow-right"),eb.removeClass(s,"arrow-left"),eb.removeClass(s,"center"),eb.addClass(s,"arrow-bottom"),eb.addClass(s,"center"))}));const c=s.querySelector(".elm-up");eb.addEventListener(c,"click",(()=>{let e=this.builder.activeElement;if(e.previousElementSibling)this.builder.uo.saveForUndo(),e.parentNode.insertBefore(e,e.previousElementSibling),e.click(),this.position(e),this.builder.opts.onChange();else{let t=e;for(;!eb.hasClass(t.parentNode,"cell-active")&&!t.parentNode.hasAttribute("data-subblock");)t=t.parentNode;t.previousElementSibling&&t!==e&&(this.builder.uo.saveForUndo(),t.parentNode.insertBefore(t,t.previousElementSibling),e.click(),this.position(e),this.builder.opts.onChange())}e.click(),o.querySelector(".elm-more").click()}));const u=s.querySelector(".elm-down");eb.addEventListener(u,"click",(()=>{let e=this.builder.activeElement;if(e.nextElementSibling)this.builder.uo.saveForUndo(),e.parentNode.insertBefore(e.nextElementSibling,e),e.click(),this.position(e),this.builder.opts.onChange();else{let t=e;for(;!eb.hasClass(t.parentNode,"cell-active")&&!t.parentNode.hasAttribute("data-subblock");)t=t.parentNode;t.nextElementSibling&&t!==e&&(this.builder.uo.saveForUndo(),t.parentNode.insertBefore(t.nextElementSibling,t),e.click(),this.position(e),this.builder.opts.onChange())}}));const p=s.querySelector(".elm-duplicate");eb.addEventListener(p,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeElement;const t=e.cloneNode(!0);eb.moveAfter(t,e),setTimeout((()=>{t.click(),this.position(t);let e=document.querySelector(".builder-active");e&&this.builder.applyBehaviorOn(e),this.builder.opts.onChange()}),100)}));const h=o.querySelector(".elm-settings");h&&eb.addEventListener(h,"click",(()=>{s.style.display="",this.elementPanel.showPanel()}));const g=s.querySelector(".elm-settings");g&&eb.addEventListener(g,"click",(()=>{s.style.display="",this.elementPanel.showPanel()})),document.addEventListener("mousedown",(e=>{var t=(e=e||window.event).target||e.srcElement;if("flex"===s.style.display){let e=eb.parentsHasClass(t,"elmmore"),i=eb.parentsHasClass(t,"elm-more");if(e||i)return;s.style.display=""}}))}hide(){this.elementTool.style.display="";let e=document.querySelectorAll(".elm-active");Array.prototype.forEach.call(e,(e=>{eb.removeClass(e,"elm-active")}))}position(){let e=this.elementTool,t=this.elementMore;eb.addClass(t,"transition1");let i=e.querySelector(".elm-more");const n=window.innerHeight,o=i.getBoundingClientRect().top,s=i.getBoundingClientRect().left;t.style.display="flex";const a=t.offsetWidth,r=t.offsetHeight;n-o>r?(t.style.top=o+window.pageYOffset+27+"px",t.style.left=s-a/2+10+"px",eb.removeClass(t,"arrow-bottom"),eb.removeClass(t,"arrow-right"),eb.removeClass(t,"arrow-left"),eb.removeClass(t,"center"),eb.addClass(t,"arrow-top"),eb.addClass(t,"center")):(t.style.top=o+window.pageYOffset-r-8+"px",t.style.left=s-a/2+10+"px",eb.removeClass(t,"arrow-top"),eb.removeClass(t,"arrow-right"),eb.removeClass(t,"arrow-left"),eb.removeClass(t,"center"),eb.addClass(t,"arrow-bottom"),eb.addClass(t,"center")),setTimeout((()=>{eb.removeClass(t,"transition1")}),300)}click(e,t){const i=t.target;this.elementTool.style.display="none";let n=document.querySelectorAll(".elm-active");Array.prototype.forEach.call(n,(e=>{eb.removeClass(e,"elm-active")}));let o=null,s=!1;e.hasAttribute("data-noedit")&&(s=!0);let a=!1;e.hasAttribute("data-protected")&&(a=!0);let r=!1;e.hasAttribute("data-html")&&(r=!0);let l=!1;if(eb.parentsHasClass(i,"is-subblock")&&(l=!0),(r||s||a)&&!l);else{const e=i.tagName.toLowerCase();if("h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e||"p"===e||"pre"===e||"blockquote"===e||"li"===e||"img"===e||"iframe"===e){if(o=i,"img"===e){eb.hasClass(i.parentNode,"img-circular")&&(o=i.parentNode),eb.getParentByTag(i,"a")&&(o=i.parentNode)}}else if(eb.hasClass(i,"cell-active")||i.hasAttribute("data-subblock"));else if(eb.hasClass(i,"cell-active")||i.parentNode.hasAttribute("data-subblock"))o=i;else{let e=i;for(;"BODY"!==e.tagName&&"HTML"!==e.tagName;){let t=e.tagName.toLowerCase();if(eb.hasClass(e,"spacer")||"h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t||"p"===t||"pre"===t||"blockquote"===t||"li"===t||"img"===t||"iframe"===t){o=e;break}if(eb.hasClass(e.parentNode,"cell-active")||e.parentNode.hasAttribute("data-subblock")){o=e;break}e=e.parentNode}}}if(this.builder.activeElement=o,o){let e=o;this.pos(),eb.addClass(e,"elm-active")}this.builder.inspectedElement=t.target,this.elementPanel.click(t)}refresh(){if(this.builder.activeElement){this.elementTool.style.display="",setTimeout((()=>{this.pos()}),300)}}repositionElementTool(e){if(this.builder.activeElement)try{if(e){"flex"===this.elementTool.style.display&&this.pos()}else this.pos()}catch(e){}}pos(){let e=this.elementTool,t=this.builder.activeElement;const i=t.getBoundingClientRect().top+window.pageYOffset,n=t.getBoundingClientRect().left+window.pageXOffset,o=t.offsetWidth*this.builder.opts.zoom,s=t.offsetHeight*this.builder.opts.zoom;e.style.display="flex",e.style.top=i+s+"px",e.style.left=n+o-e.offsetWidth+"px";const a=window.innerWidth;n+o>a&&(e.style.left=a-e.offsetWidth+"px")}}const ib=new ni;class nb{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;let n="";if(this.builder.themes){n='<div class="div-themes">';let e=0;this.builder.themes.forEach((i=>{""===i[1]?n+=`<button type="button" title="${t.out("Set theme")}" class="input-setcolor" data-index="${e}" style="background:${i[0]};border:rgba(0,0,0,0.15) 1px solid;"></button>`:"light"===i[1]?n+=`<button type="button" title="${t.out("Set theme")}" class="input-setcolor" data-index="${e}" style="background:${i[0]};border:rgb(132 132 132 / 16%) 1px solid;"></button>`:n+=`<button type="button" title="${t.out("Set theme")}" class="input-setcolor" data-index="${e}" style="background:${i[0]};"></button>`,e++})),n+="</div>"}let o=i.querySelector(".viewconfig");if(!o){let s=`<div class="is-modal viewconfig">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable">${t.out("Preferences")}</div>\n                \n                    <div style="display:flex;flex-wrap:wrap;width:100%;padding-top:32px;">\n                        <div style="width:50%">\n                            <label id="divBuilderMode" style="display:block;margin-top:14px;margin-bottom:5px;">\n                                ${t.out("Builder Mode")}:&nbsp;\n                                <select class="select-buildermode">\n                                    <option value="">${t.out("Default")}</option>\n                                    <option value="minimal">${t.out("Minimal")}</option>\n                                    <option value="clean">${t.out("Clean")}</option>\n                                </select>\n                            </label>\n                            \n                            <label id="divOutlineMode" style="display:block;margin-top:14px;margin-bottom:5px;">\n                                ${t.out("Outline Mode")}:&nbsp;\n                                <select class="select-outlinemode">\n                                    <option value="">${t.out("Row & column")}</option>\n                                    <option value="row">${t.out("Row only")}</option>\n                                </select>\n                            </label>\n\n                            <label style="display:block;margin-top:14px;margin-bottom:5px;">\n                                ${t.out("Outline Style")}:&nbsp;\n                                <select class="select-outlinestyle">\n                                    <option value="">${t.out("Colored")}</option>\n                                    <option value="grayoutline">${t.out("Gray")}</option>\n                                </select>\n                            </label>\n                            \n                            <label style="display:block;margin-top:14px;margin-bottom:10px;">\n                                <input class="input-hiderowcoloutline" type="checkbox" /> ${t.out("Hide Outline")}&nbsp;\n                            </label>  \n\n                            <label id="divHideCellTool" style="display:block;margin-top:14px;margin-bottom:10px;">\n                                <input class="input-hidecelltool" type="checkbox" />  ${t.out("Hide Column Tool")}&nbsp;\n                            </label>\n\n                            <label style="display:block;margin-top:5px;margin-bottom:5px;">\n                                ${t.out("Row Tool Position")}:&nbsp;\n                                <select class="select-rowtool">\n                                    <option value="right">${t.out("Right")}</option>\n                                    <option value="left">${t.out("Left")}</option>\n                                </select>\n                            </label>   \n\n                            <label style="display:block;margin-top:5px;margin-bottom:5px;">\n                                ${t.out("Tool Style")}:&nbsp;\n                                <select class="select-toolstyle">\n                                    <option value="">${t.out("Colored")}</option>\n                                    <option value="gray">${t.out("Mono")}</option>\n                                </select>\n                            </label>  \n\n                        </div>\n                        <div style="width:50%">\n\n                            <label style="display:block;margin-top:14px;margin-bottom:10px;">\n                                <input class="input-hidesnippetaddtool" type="checkbox" />  ${t.out("Hide Snippet (+) Tool")}&nbsp;\n                            </label>\n\n                            <label style="display:block;margin-top:14px;margin-bottom:10px;">\n                                <input class="input-hideelementtool" type="checkbox" /> ${t.out("Hide element tool")}&nbsp;\n                            </label>  \n\n                            <label style="display:block;margin-top:14px;margin-bottom:10px;">\n                                <input class="input-hideelementhighlight" type="checkbox" /> ${t.out("Hide element highlight")}&nbsp;\n                            </label>  \n\n                            <label class="option-opensnippets" style="display:block;margin-top:14px;margin-bottom:10px;">\n                                <input class="input-opensnippets" type="checkbox" />  ${t.out("Open snippets sidebar on start")}&nbsp;\n                            </label>\n\n                            <label style="display:${"#divSnippetList"===e.opts.snippetList?"block":"none"};margin-top:14px;margin-bottom:5px;">\n                               ${t.out("Snippets sidebar visibility")}:&nbsp;\n                                <select class="select-snippetssidebardisplay">\n                                    <option value="auto">${t.out("Auto")}</option>\n                                    <option value="always">${t.out("Always Visible")}</option>\n                                </select>\n                            </label>\n\n                            <label style="display:block;margin-top:5px;margin-bottom:5px;">\n                                ${t.out("Paste result")}:&nbsp;\n                                <select class="select-pasteresult">\n                                    <option value="html-without-styles">${t.out("HTML (without styles)")}</option>\n                                    <option value="html">${t.out("HTML (with styles)")}</option>\n                                    <option value="text">${t.out("Text only")}</option>\n                                </select>\n                            </label>  \n\n                            <label style="display:none;margin-top:14px;margin-bottom:5px;">\n                                ${t.out("Toolbar visibility")}:&nbsp;\n                                <select class="select-editingtoolbardisplay">\n                                    <option value="auto">${t.out("Auto")}</option>\n                                    <option value="always">${t.out("Always Visible")}</option>\n                                </select>\n                            </label>\n\n                            <label style="${this.builder.isTouchSupport?"display:none;":"display:block;"}margin-top:5px;margin-bottom:5px;">\n                                ${t.out("Toolbar position")}:&nbsp;\n                                <select class="select-editingtoolbar">\n                                    <option value="top">${t.out("Top")}</option>\n                                    <option value="left">${t.out("Left")}</option>\n                                    <option value="right">${t.out("Right")}</option>\n                                </select>\n                            </label> \n\n                            ${this.builder.themes?`\n                                <label style="${this.builder.isTouchSupport?"display:none;":"display:block;"}margin-top:5px;margin-bottom:5px;">\n                                    ${t.out("Theme")}:&nbsp;\n                                </label> \n                                ${n}\n                            `:""}\n\n                        </div>\n                    </div>\n                    <div style="text-align:right;margin-top:30px">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>`;ib.appendHtml(i,s),o=i.querySelector(".viewconfig"),"#divSnippetList"===e.opts.snippetList&&e.opts.snippetJSON.snippets.length>0||(o.querySelector(".option-opensnippets").style.display="none");let a=o.querySelector(".input-cancel");if(ib.addEventListener(a,"click",(()=>{t.hideModal(o)})),a=o.querySelector(".input-ok"),ib.addEventListener(a,"click",(()=>{this.update(),t.hideModal(o)})),null!==localStorage.getItem("_hiderowcoloutline")&&("1"===localStorage.getItem("_hiderowcoloutline")?this.builder.opts.rowcolOutline=!1:this.builder.opts.rowcolOutline=!0),this.setOutline(!this.builder.opts.rowcolOutline),null!==localStorage.getItem("_outlinemode")&&(this.builder.opts.outlineMode=localStorage.getItem("_outlinemode")),this.setOutlineMode(this.builder.opts.outlineMode),null!==localStorage.getItem("_outlinestyle")&&(this.builder.opts.outlineStyle=localStorage.getItem("_outlinestyle")),this.setOutlineStyle(this.builder.opts.outlineStyle),null!==localStorage.getItem("_pasteresult")&&(this.builder.opts.paste=localStorage.getItem("_pasteresult")),null!==localStorage.getItem("_hidecelltool")&&("1"===localStorage.getItem("_hidecelltool")?this.builder.opts.columnTool=!1:this.builder.opts.columnTool=!0),this.setColumnTool(!this.builder.opts.columnTool),null!==localStorage.getItem("_hidesnippetaddtool")&&("1"===localStorage.getItem("_hidesnippetaddtool")?this.builder.opts.snippetAddTool=!1:this.builder.opts.snippetAddTool=!0),this.setSnippetAddTool(!this.builder.opts.snippetAddTool),null!==localStorage.getItem("_hideelementtool")&&("1"===localStorage.getItem("_hideelementtool")?this.builder.opts.elementTool=!1:this.builder.opts.elementTool=!0),this.setElementTool(!this.builder.opts.elementTool),null!==localStorage.getItem("_hideelementhighlight")&&("1"===localStorage.getItem("_hideelementhighlight")?this.builder.opts.elementHighlight=!1:this.builder.opts.elementHighlight=!0),this.setElementHighlight(!this.builder.opts.elementHighlight),null!==localStorage.getItem("_opensnippets")&&("1"===localStorage.getItem("_opensnippets")?this.builder.opts.snippetOpen=!0:this.builder.opts.snippetOpen=!1),null!==localStorage.getItem("_buildermode")&&(this.builder.opts.builderMode=localStorage.getItem("_buildermode")),this.setBuilderMode(this.builder.opts.builderMode),null!==localStorage.getItem("_rowtool")&&(this.builder.opts.rowTool=localStorage.getItem("_rowtool")),this.setRowToolPosition(this.builder.opts.rowTool),null!==localStorage.getItem("_toolstyle")&&(this.builder.opts.toolStyle=localStorage.getItem("_toolstyle")),this.setToolStyle(this.builder.opts.toolStyle),this.builder.opts.toolbarDisplay="auto",null!==localStorage.getItem("_snippetssidebardisplay")&&(this.builder.opts.snippetsSidebarDisplay=localStorage.getItem("_snippetssidebardisplay")),null!=localStorage.getItem("_editingtoolbar")&&(this.builder.opts.toolbar=localStorage.getItem("_editingtoolbar")),this.setToolbar(this.builder.opts.toolbar),null!=localStorage.getItem("_theme")){const e=localStorage.getItem("_theme");if(this.builder.themeIndex=e,this.builder.themes&&this.builder.themes.length>0){const t=this.builder.themes[e];t&&(this.builder.setUIColor(t[1],t[2]),this.builder.renderIframeLater=!0)}}else this.builder.setUIColor("",""),this.builder.renderIframeLater=!0;this.builder.renderIframeLater||t.getUIStyles(),this.builder.opts.emailMode&&(this.builder.opts.outlineMode="row",this.builder.opts.columnTool=!1,this.builder.opts.builderMode="",null!=localStorage.getItem("_outlinemode")&&localStorage.setItem("_outlinemode","row"),null!==localStorage.getItem("_hidecelltool")&&localStorage.setItem("_hidecelltool","1"),null!==localStorage.getItem("_buildermode")&&localStorage.setItem("_buildermode",""),this.setColumnTool(!0),this.setBuilderMode(""),this.setEmailMode(),i.querySelector("#divHideCellTool").style.display="none",i.querySelector("#divOutlineMode").style.display="none",i.querySelector("#divBuilderMode").style.display="none")}this.config=o;document.querySelectorAll(".input-setcolor").forEach((e=>{e.addEventListener("click",(t=>{const i=e.getAttribute("data-index"),n=this.builder.themes[i];this.builder.setUIColor(n[1],n[2]),this.builder.themeIndex=i,t.preventDefault(),t.stopImmediatePropagation()}))}))}view(){const e=new ii(this.builder);let t=this.config;e.showModal(t,!1,null,!1),this.builder.opts.rowcolOutline?t.querySelector(".input-hiderowcoloutline").checked=!1:t.querySelector(".input-hiderowcoloutline").checked=!0,this.builder.opts.columnTool?t.querySelector(".input-hidecelltool").checked=!1:t.querySelector(".input-hidecelltool").checked=!0,this.builder.opts.snippetAddTool?t.querySelector(".input-hidesnippetaddtool").checked=!1:t.querySelector(".input-hidesnippetaddtool").checked=!0,this.builder.opts.elementTool?t.querySelector(".input-hideelementtool").checked=!1:t.querySelector(".input-hideelementtool").checked=!0,this.builder.opts.elementHighlight?t.querySelector(".input-hideelementhighlight").checked=!1:t.querySelector(".input-hideelementhighlight").checked=!0,this.builder.opts.snippetOpen?t.querySelector(".input-opensnippets").checked=!0:t.querySelector(".input-opensnippets").checked=!1,this.config.querySelector(".select-buildermode").value=this.builder.opts.builderMode,this.config.querySelector(".select-rowtool").value=this.builder.opts.rowTool,this.config.querySelector(".select-outlinemode").value=this.builder.opts.outlineMode,this.config.querySelector(".select-outlinestyle").value=this.builder.opts.outlineStyle,this.config.querySelector(".select-toolstyle").value=this.builder.opts.toolStyle,this.config.querySelector(".select-pasteresult").value=this.builder.opts.paste,this.config.querySelector(".select-editingtoolbardisplay").value=this.builder.opts.toolbarDisplay,this.config.querySelector(".select-editingtoolbar").value=this.builder.opts.toolbar,this.config.querySelector(".select-snippetssidebardisplay").value=this.builder.opts.snippetsSidebarDisplay}update(){let e=this.config.querySelector(".input-hiderowcoloutline").checked;e?(this.builder.opts.rowcolOutline=!1,localStorage.setItem("_hiderowcoloutline","1")):(this.builder.opts.rowcolOutline=!0,localStorage.setItem("_hiderowcoloutline","0")),this.setOutline(e),this.config.querySelector(".input-hidecelltool").checked?(this.builder.opts.columnTool=!1,localStorage.setItem("_hidecelltool","1"),this.setColumnTool(!0)):(this.builder.opts.columnTool=!0,localStorage.setItem("_hidecelltool","0"),this.setColumnTool(!1)),this.config.querySelector(".input-hidesnippetaddtool").checked?(this.builder.opts.snippetAddTool=!1,localStorage.setItem("_hidesnippetaddtool","1"),this.setSnippetAddTool(!0)):(this.builder.opts.snippetAddTool=!0,localStorage.setItem("_hidesnippetaddtool","0"),this.setSnippetAddTool(!1)),this.config.querySelector(".input-hideelementtool").checked?(this.builder.opts.elementTool=!1,localStorage.setItem("_hideelementtool","1"),this.setElementTool(!0)):(this.builder.opts.elementTool=!0,localStorage.setItem("_hideelementtool","0"),this.setElementTool(!1)),this.config.querySelector(".input-hideelementhighlight").checked?(this.builder.opts.elementHighlight=!1,localStorage.setItem("_hideelementhighlight","1"),this.setElementHighlight(!0)):(this.builder.opts.elementHighlight=!0,localStorage.setItem("_hideelementhighlight","0"),this.setElementHighlight(!1)),this.config.querySelector(".input-opensnippets").checked?(this.builder.opts.snippetOpen=!0,localStorage.setItem("_opensnippets","1")):(this.builder.opts.snippetOpen=!1,localStorage.setItem("_opensnippets","0"));let t=this.config.querySelector(".select-buildermode").value;this.builder.opts.builderMode=t,localStorage.setItem("_buildermode",t),this.setBuilderMode(t);let i=this.config.querySelector(".select-rowtool").value;this.builder.opts.rowTool=i,localStorage.setItem("_rowtool",i),this.setRowToolPosition(i);let n=this.config.querySelector(".select-outlinemode").value;this.builder.opts.outlineMode=n,localStorage.setItem("_outlinemode",n),this.setOutlineMode(n);let o=this.config.querySelector(".select-outlinestyle").value;this.builder.opts.outlineStyle=o,localStorage.setItem("_outlinestyle",o),this.setOutlineStyle(o);let s=this.config.querySelector(".select-toolstyle").value;this.builder.opts.toolStyle=s,localStorage.setItem("_toolstyle",s),this.setToolStyle(s);let a=this.config.querySelector(".select-pasteresult").value;this.builder.opts.paste=a,localStorage.setItem("_pasteresult",a);let r=this.config.querySelector(".select-snippetssidebardisplay").value;this.builder.opts.snippetsSidebarDisplay=r,localStorage.setItem("_snippetssidebardisplay",r);let l=this.config.querySelector(".select-editingtoolbar").value;if(this.builder.opts.toolbar=l,localStorage.setItem("_editingtoolbar",l),this.setToolbar(l),this.builder.themes){const e=this.builder.themeIndex;this.builder.themeIndex&&localStorage.setItem("_theme",e)}}setToolbar(e){const t=this.builder.builderStuff;"top"===e?(t.removeAttribute("toolbarleft",""),t.removeAttribute("toolbarright","")):"left"===e?(t.setAttribute("toolbarleft",""),t.removeAttribute("toolbarright","")):"right"===e&&(t.setAttribute("toolbarright",""),t.removeAttribute("toolbarleft",""));const i=t.querySelector(".is-rte-tool"),n=t.querySelector(".rte-more-options"),o=t.querySelector(".elementrte-more-options");i&&this.builder.rte.positionToolbar(),n&&(ib.removeClass(n,"active"),ib.addClass(n,"deactive"),ib.removeClass(o,"active"),ib.addClass(o,"deactive"))}setEmailMode(){this.builder.builderStuff.setAttribute("emailmode","")}setElementTool(e){const t=this.builder.builderStuff;e?t.setAttribute("hideelementtool",""):t.removeAttribute("hideelementtool","")}setElementHighlight(e){const t=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{e?t.setAttribute("hideelementhighlight",""):t.removeAttribute("hideelementhighlight","")}))}setOutlineStyle(e){const t=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{"grayoutline"===e?t.setAttribute("grayoutline",""):t.removeAttribute("grayoutline")}))}setColumnTool(e){const t=this.builder.builderStuff;e?t.setAttribute("hidecolumntool",""):t.removeAttribute("hidecolumntool","")}setSnippetAddTool(e){const t=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{e?t.setAttribute("hidesnippetaddtool",""):t.removeAttribute("hidesnippetaddtool","")}))}setToolStyle(e){const t=this.builder.builderStuff,i=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(i,(i=>{"gray"===e?(i.setAttribute("gray",""),t.setAttribute("gray","")):(i.removeAttribute("gray"),t.removeAttribute("gray",""))}))}setOutlineMode(e){const t=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{"row"===e?t.setAttribute("rowoutline",""):t.removeAttribute("rowoutline")}))}setOutline(e){const t=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{e?t.setAttribute("hideoutline",""):t.removeAttribute("hideoutline")}))}setRowToolPosition(e){const t=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{"right"===e?t.removeAttribute("leftrowtool"):t.setAttribute("leftrowtool","")}))}setBuilderMode(e){const t=this.builder.builderStuff,i=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(i,(i=>{""===e?(i.removeAttribute("minimal"),i.removeAttribute("clean"),t.removeAttribute("minimal"),t.removeAttribute("clean")):"minimal"===e?(i.setAttribute("minimal",""),i.removeAttribute("clean"),t.setAttribute("minimal",""),t.removeAttribute("clean")):"clean"===e&&(i.setAttribute("clean",""),i.removeAttribute("minimal"),t.setAttribute("clean",""),t.removeAttribute("minimal"))}))}initBuilder(e){const t=this.builder.opts.builderMode;""===t?(e.removeAttribute("minimal"),e.removeAttribute("clean")):"minimal"===t?(e.setAttribute("minimal",""),e.removeAttribute("clean")):"clean"===t&&(e.setAttribute("clean",""),e.removeAttribute("minimal"));"right"===this.builder.opts.rowTool?e.removeAttribute("leftrowtool"):e.setAttribute("leftrowtool","");!this.builder.opts.rowcolOutline?e.setAttribute("hideoutline",""):e.removeAttribute("hideoutline");"row"===this.builder.opts.outlineMode?e.setAttribute("rowoutline",""):e.removeAttribute("rowoutline");"gray"===this.builder.opts.toolStyle?e.setAttribute("gray",""):e.removeAttribute("gray");!this.builder.opts.snippetAddTool?e.setAttribute("hidesnippetaddtool",""):e.removeAttribute("hidesnippetaddtool","");"grayoutline"===this.builder.opts.outlineStyle?e.setAttribute("grayoutline",""):e.removeAttribute("grayoutline");!this.builder.opts.elementHighlight?e.setAttribute("hideelementhighlight",""):e.removeAttribute("hideelementhighlight","")}}const ob=new ni;class sb{constructor(e={},t){this.opts=Object.assign(this,{onPick:function(){},quickColors:{black:"bg-black",white:"bg-white",transparent:""},baseColors:{amber:{preview:"bg-amber-500",colors:["bg-amber-50","bg-amber-100","bg-amber-200","bg-amber-300","bg-amber-400","bg-amber-500","bg-amber-600","bg-amber-700","bg-amber-800","bg-amber-900"]},orange:{preview:"bg-orange-500",colors:["bg-orange-50","bg-orange-100","bg-orange-200","bg-orange-300","bg-orange-400","bg-orange-500","bg-orange-600","bg-orange-700","bg-orange-800","bg-orange-900"]},red:{preview:"bg-red-600",colors:["bg-red-50","bg-red-100","bg-red-200","bg-red-300","bg-red-400","bg-red-500","bg-red-600","bg-red-700","bg-red-800","bg-red-900"]},rose:{preview:"bg-rose-700",colors:["bg-rose-50","bg-rose-100","bg-rose-200","bg-rose-300","bg-rose-400","bg-rose-500","bg-rose-600","bg-rose-700","bg-rose-800","bg-rose-900"]},fuchsia:{preview:"bg-fuchsia-700",colors:["bg-fuchsia-50","bg-fuchsia-100","bg-fuchsia-200","bg-fuchsia-300","bg-fuchsia-400","bg-fuchsia-500","bg-fuchsia-600","bg-fuchsia-700","bg-fuchsia-800","bg-fuchsia-900"]},gray:{preview:"bg-gray-700",colors:["bg-gray-50","bg-gray-100","bg-gray-200","bg-gray-300","bg-gray-400","bg-gray-500","bg-gray-600","bg-gray-700","bg-gray-800","bg-gray-900"]},yellow:{preview:"bg-yellow-500",colors:["bg-yellow-50","bg-yellow-100","bg-yellow-200","bg-yellow-300","bg-yellow-400","bg-yellow-500","bg-yellow-600","bg-yellow-700","bg-yellow-800","bg-yellow-900"]},lime:{preview:"bg-lime-600",colors:["bg-lime-50","bg-lime-100","bg-lime-200","bg-lime-300","bg-lime-400","bg-lime-500","bg-lime-600","bg-lime-700","bg-lime-800","bg-lime-900"]},green:{preview:"bg-green-700",colors:["bg-green-50","bg-green-100","bg-green-200","bg-green-300","bg-green-400","bg-green-500","bg-green-600","bg-green-700","bg-green-800","bg-green-900"]},pink:{preview:"bg-pink-600",colors:["bg-pink-50","bg-pink-100","bg-pink-200","bg-pink-300","bg-pink-400","bg-pink-500","bg-pink-600","bg-pink-700","bg-pink-800","bg-pink-900"]},violet:{preview:"bg-violet-700",colors:["bg-violet-50","bg-violet-100","bg-violet-200","bg-violet-300","bg-violet-400","bg-violet-500","bg-violet-600","bg-violet-700","bg-violet-800","bg-violet-900"]},purple:{preview:"bg-purple-700",colors:["bg-purple-50","bg-purple-100","bg-purple-200","bg-purple-300","bg-purple-400","bg-purple-500","bg-purple-600","bg-purple-700","bg-purple-800","bg-purple-900"]},cyan:{preview:"bg-cyan-400",colors:["bg-cyan-50","bg-cyan-100","bg-cyan-200","bg-cyan-300","bg-cyan-400","bg-cyan-500","bg-cyan-600","bg-cyan-700","bg-cyan-800","bg-cyan-900"]},teal:{preview:"bg-teal-500",colors:["bg-teal-50","bg-teal-100","bg-teal-200","bg-teal-300","bg-teal-400","bg-teal-500","bg-teal-600","bg-teal-700","bg-teal-800","bg-teal-900"]},emerald:{preview:"bg-emerald-600",colors:["bg-emerald-50","bg-emerald-100","bg-emerald-200","bg-emerald-300","bg-emerald-400","bg-emerald-500","bg-emerald-600","bg-emerald-700","bg-emerald-800","bg-emerald-900"]},sky:{preview:"bg-sky-500",colors:["bg-sky-50","bg-sky-100","bg-sky-200","bg-sky-300","bg-sky-400","bg-sky-500","bg-sky-600","bg-sky-700","bg-sky-800","bg-sky-900"]},blue:{preview:"bg-blue-600",colors:["bg-blue-50","bg-blue-100","bg-blue-200","bg-blue-300","bg-blue-400","bg-blue-500","bg-blue-600","bg-blue-700","bg-blue-800","bg-blue-900"]},indigo:{preview:"bg-indigo-600",colors:["bg-indigo-50","bg-indigo-100","bg-indigo-200","bg-indigo-300","bg-indigo-400","bg-indigo-500","bg-indigo-600","bg-indigo-700","bg-indigo-800","bg-indigo-900"]}},stuffPlacement:"#_cbhtml",lang:[]},e);let i=document.querySelector(this.opts.stuffPlacement);i||(i=document.createElement("div"),i.id="_cbhtml",i.className="is-ui",document.body.appendChild(i)),this.builderStuff=i,this.mode=t;const n=new av({stuffPlacement:this.opts.stuffPlacement});this.modal=n;let o=document.querySelector(".pickcolorclass");if(!o){let e=`<div class="is-modal pickcolorclass" style="z-index:10005">\n                <div class="is-modal-content" style="padding: 12px;max-width:295px;">\n                    <div class="is-modal-bar is-draggable" style="height:12px"></div>\n                    <div>\n                        <div class="color-list"></div>\n                        <div class="color-details"></div>\n                        <div class="color-quick" style="display:flex">\n                            <button class="quick-color" data-value="${this.opts.quickColors.black}" style="background-color:#222;color:#f7f7f7;display:flex;justify-content:center;align-items:center;width:54px;height:54px;cursor:pointer;">${this.out("B")}</button>\n                            <button class="quick-color" data-value="${this.opts.quickColors.white}" style="border: rgb(0 0 0 / 6%) 1px solid;border-top:none;border-left:none;background-color:#fff;color:#333;display:flex;justify-content:center;align-items:center;width:54px;height:54px;cursor:pointer;">${this.out("W")}</button>\n                            <button class="quick-color" data-value="${this.opts.quickColors.transparent}" style="display:flex;justify-content:center;align-items:center;width:162px;height:54px;cursor:pointer;">${this.out("Clear")}</button>\n                        </div>\n                    </div>\n                </div>\n            </div>`;i.insertAdjacentHTML("beforeend",e),o=document.querySelector(".pickcolorclass")}this.modalPicker=o;const s=o.querySelector(".color-list"),a=this.opts.baseColors;let r="";for(let e=0;e<Object.keys(a).length;e++){let t=Object.values(a)[e];r+=`<div class="${t.preview} base-color" data-value="${t.preview}" data-base="${Object.keys(a)[e]}" style="width:45px;height:45px;cursor:pointer;"></div>`}r=`<div style="display:flex;flex-flow:wrap;width:270px;height:135px;flex-direction:row;">${r}</div>`,s.innerHTML=r,this.showColorGradient("gray");let l=document.querySelectorAll(".base-color");Array.prototype.forEach.call(l,(e=>{ob.addEventListener(e,"click",(()=>{const t=e.getAttribute("data-base");this.showColorGradient(t);let i=e.getAttribute("data-value");"text"===this.mode&&(i=i.replace("bg-","text-")),this.opts.onPick(i)}))})),l=document.querySelectorAll(".quick-color"),Array.prototype.forEach.call(l,(e=>{ob.addEventListener(e,"click",(t=>{t.preventDefault();let i=e.getAttribute("data-value");"text"===this.mode&&(i=i.replace("bg-","text-")),this.opts.onPick(i)}))}))}showColorGradient(e){const t=this.modalPicker.querySelector(".color-details"),i=this.opts.baseColors[e].colors;let n="";for(let e=i.length-1;e>=0;e--){const t=i[e];n+=`<div class="${t} detail-color" data-value="${t}" style="width:54px;height:54px;cursor:pointer;"></div>`}n=`<div style="display:flex;flex-flow:wrap;width:270px;height:108px;flex-direction:column;">${n}</div>`,t.innerHTML=n;const o=document.querySelectorAll(".detail-color");Array.prototype.forEach.call(o,(e=>{ob.addEventListener(e,"click",(()=>{let t=e.getAttribute("data-value");"text"===this.mode&&(t=t.replace("bg-","text-")),this.opts.onPick(t)}))}))}open(e,t){e&&(this.opts.onPick=e),this.mode=t,this.modal.show(this.modalPicker,!1,null,!1)}out(e){if(this.opts.lang){let t=this.opts.lang[e];return t||e}return e}}const ab=new ni;class rb{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i,this.elementStyleEditor=new qv(e),this.hyperlink=new Bm(e);let n,o,s,a,r,l,d,c,u,p,h,g,f,m,v,b=i.querySelector("#divRteTool");if(!b){let w="";var y="";if(e.opts.customTags.length>0){w=`<button title="${t.out("Tags")}" class="rte-tags"><svg class="is-icon-flex" style="width:14px;height:14px"><use xlink:href="#ion-code-working"></use></svg></button>`;for(let t=0;t<e.opts.customTags.length;t++)y+=`<button data-value="${e.opts.customTags[t][1]}"> ${e.opts.customTags[t][0]} </button>`}let S="";for(var _=0;_<e.opts.buttonsMore.length;_++){var x=e.opts.buttonsMore[_].toLowerCase();"createlink"===x?S+=`<button title="${t.out("Hyperlink")}" class="rte-link"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-link"></use></svg></button>`:"icon"!==x||this.builder.opts.emailMode?S+="removeformat"===x?`<button title="${t.out("Clean")}" class="rte-clean"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>`:"bold"===x?`<button title="${t.out("Bold")}" class="rte-format" data-command="bold"><span style="font-family:serif;font-size:14px;">B</span></button>`:"italic"===x?`<button title="${t.out("Italic")}" class="rte-format" data-command="italic"><span style="font-family:serif;font-size:16px;font-style:italic;">i</span></button>`:"underline"===x?`<button title="${t.out("Underline")}" class="rte-format" data-command="underline"><span style="font-family:serif;font-size:14px;text-decoration:underline;">U</span></button>`:"align"===x?`<button title="${t.out("Align")}" class="rte-align"><svg class="is-icon-flex" style="width:12px;height:12px;margin-top:-2px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"list"===x?`<button title="${t.out("List")}" class="rte-list"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#icon-list-bullet"></use></svg></button>`:"color"===x?`<button title="${t.out("Color")}" class="rte-color"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-contrast"></use></svg></button>`:"formatting"===x?`<button title="${t.out("Formatting")}" class="rte-formatting"><span style="font-family:serif;font-size:15px;display:inline-block;">A</span></button>`:"tags"===x?w:"image"===x?`<button title="${t.out("Image")}" class="rte-image"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-image"></use></svg></button>`:"gridtool"===x?`<button title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===x?`<button title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===x?`<button title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===x?`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"formatpara"===x?`<button title="${t.out("Paragraph")}" class="rte-paragraph"><span style="font-family:serif;font-size:14px;display:inline-block;margin-top:2px;">H</span></button>`:"font"===x?`<button title="${t.out("Font")}" class="rte-fontfamily"><span style="font-family:serif;font-size:18px;text-transform:none;display:inline-block;margin-top: -3px;">a</span></button>`:"textsettings"===x?`<button title="${t.out("Text Settings")}" class="rte-textsettings"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-settings"></use></svg></button>`:"undo"===x?`<button title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===x?`<button title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"zoom"===x?`<button title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"|"===x?'<div class="rte-separator"></div>':`<button title="button not found" data-plugin="${x}"></button>`:S+=`<button title="${t.out("Icon")}" class="rte-icon"><svg class="is-icon-flex" style="width:14px;height:14px;margin-top:2px;"><use xlink:href="#ion-android-happy"></use></svg></button>`}let C="";for(_=0;_<e.opts.buttons.length;_++)"bold"===(x=e.opts.buttons[_].toLowerCase())?C+=`<button title="${t.out("Bold")}" class="rte-format" data-command="bold"><span style="font-family:serif;font-size:14px;">B</span></button>`:"italic"===x?C+=`<button title="${t.out("Italic")}" class="rte-format" data-command="italic"><span style="font-family:serif;font-size:16px;font-style:italic;">i</span></button>`:"underline"===x?C+=`<button title="${t.out("Underline")}" class="rte-format" data-command="underline"><span style="font-family:serif;font-size:14px;text-decoration:underline;">U</span></button>`:"createlink"===x?C+=`<button title="${t.out("Hyperlink")}" class="rte-link"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-link"></use></svg></button>`:"align"===x?C+=`<button title="${t.out("Align")}" class="rte-align"><svg class="is-icon-flex" style="width:12px;height:12px;margin-top:-2px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"formatpara"===x?C+=`<button title="${t.out("Paragraph")}" class="rte-paragraph"><span style="font-family:serif;font-size:14px;display:inline-block;margin-top:2px;">H</span></button>`:"color"===x?C+=`<button title="${t.out("Color")}" class="rte-color"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-contrast"></use></svg></button>`:"formatting"===x?C+=`<button title="${t.out("Formatting")}" class="rte-formatting"><span style="font-family:serif;font-size:15px;display:inline-block;">A</span></button>`:"list"===x?C+=`<button title="${t.out("List")}" class="rte-list"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#icon-list-bullet"></use></svg></button>`:"textsettings"===x?C+=`<button title="${t.out("Text Settings")}" class="rte-textsettings"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-settings"></use></svg></button>`:"icon"!==x||this.builder.opts.emailMode?C+="tags"===x?w:"removeformat"===x?`<button title="${t.out("Clean")}" class="rte-format" data-command="clean"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>`:"font"===x?`<button title="${t.out("Font")}" class="rte-fontfamily"><span style="font-family:serif;font-size:18px;text-transform:none;display:inline-block;margin-top: -3px;">a</span></button>`:"image"===x?`<button title="${t.out("Image")}" class="rte-image"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-image"></use></svg></button>`:"gridtool"===x?`<button title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;width:17px;height:17px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===x?`<button title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===x?`<button title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===x?`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"undo"===x?`<button title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===x?`<button title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"more"===x&&""!==S?`<button title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`:"zoom"===x?`<button title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"|"===x?'<div class="rte-separator"></div>':`<button title="button not found" data-plugin="${x}"></button>`:C+=`<button title="${t.out("Icon")}" class="rte-icon"><svg class="is-icon-flex" style="width:14px;height:14px;margin-top:2px"><use xlink:href="#ion-android-happy"></use></svg></button>`;this.builder.opts.toolbarAddSnippetButton&&-1===C.indexOf("rte-addsnippet")&&-1===S.indexOf("rte-addsnippet")&&(C=`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`+C),""!==S&&-1===C.indexOf("rte-more")&&(C+=`<button title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let k="";for(_=0;_<e.opts.elementButtonsMore.length;_++)k+="left"===(x=e.opts.elementButtonsMore[_].toLowerCase())?`<button title="${t.out("Align Left")}" data-align="left"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-left"></use></svg></button>`:"center"===x?`<button title="${t.out("Align Center")}" data-align="center"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-center"></use></svg></button>`:"right"===x?`<button title="${t.out("Align Right")}" data-align="right"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-right"></use></svg></button>`:"full"===x?`<button title="${t.out("Align Full")}" data-align="justify"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"gridtool"===x?`<button title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===x?`<button title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===x?`<button title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===x?`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"undo"===x?`<button title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===x?`<button title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"zoom"===x?`<button title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"|"===x?'<div class="rte-separator"></div>':`<button title="button not found" data-plugin="${x}"></button>`;let E="";for(_=0;_<e.opts.elementButtons.length;_++)E+="left"===(x=e.opts.elementButtons[_].toLowerCase())?`<button title="${t.out("Align Left")}" data-align="left"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-left"></use></svg></button>`:"center"===x?`<button title="${t.out("Align Center")}" data-align="center"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-center"></use></svg></button>`:"right"===x?`<button title="${t.out("Align Right")}" data-align="right"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-right"></use></svg></button>`:"full"===x?`<button title="${t.out("Align Full")}" data-align="justify"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"gridtool"===x?`<button title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;width:17px;height:17px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===x?`<button title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===x?`<button title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===x?`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"undo"===x?`<button title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===x?`<button title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"more"===x&&""!==k?`<button title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`:"zoom"===x?`<button title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"|"===x?'<div class="rte-separator"></div>':`<button title="button not found" data-plugin="${x}"></button>`;this.builder.opts.toolbarAddSnippetButton&&-1===E.indexOf("rte-addsnippet")&&-1===k.indexOf("rte-addsnippet")&&(E=`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`+C),""!==k&&-1===E.indexOf("rte-more")&&(E+=`<button title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let A="",q="";for(_=0;_<e.opts.iconButtonsMore.length;_++)"createlink"===(x=e.opts.iconButtonsMore[_].toLowerCase())?A+=`<button title="${t.out("Hyperlink")}" class="rte-link"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-link"></use></svg></button>`:"icon"!==x||this.builder.opts.emailMode?A+="align"===x?`<button title="${t.out("Align")}" class="rte-align"><svg class="is-icon-flex" style="width:12px;height:12px;margin-top:-2px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"color"===x?`<button title="${t.out("Color")}" class="rte-color"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-contrast"></use></svg></button>`:"gridtool"===x?`<button title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===x?`<button title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===x?`<button title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===x?`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"textsettings"===x?`<button title="${t.out("Text Settings")}" class="rte-textsettings"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-settings"></use></svg></button>`:"undo"===x?`<button title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===x?`<button title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"zoom"===x?`<button title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"|"===x?'<div class="rte-separator"></div>':`<button title="button not found" data-plugin="${x}"></button>`:A+=`<button title="${t.out("Icon")}" class="rte-icon"><svg class="is-icon-flex" style="width:14px;height:14px;margin-top:2px;"><use xlink:href="#ion-android-happy"></use></svg></button>`;for(_=0;_<e.opts.iconButtons.length;_++)"createlink"===(x=e.opts.iconButtons[_].toLowerCase())?q+=`<button title="${t.out("Hyperlink")}" class="rte-link"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-link"></use></svg></button>`:"icon"!==x||this.builder.opts.emailMode?q+="align"===x?`<button title="${t.out("Align")}" class="rte-align"><svg class="is-icon-flex" style="width:12px;height:12px;margin-top:-2px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"color"===x?`<button title="${t.out("Color")}" class="rte-color"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-contrast"></use></svg></button>`:"gridtool"===x?`<button title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===x?`<button title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===x?`<button title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===x?`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"textsettings"===x?`<button title="${t.out("Text Settings")}" class="rte-textsettings"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-settings"></use></svg></button>`:"undo"===x?`<button title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===x?`<button title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"zoom"===x?`<button title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"more"===x&&""!==S?`<button title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`:"|"===x?'<div class="rte-separator"></div>':`<button title="button not found" data-plugin="${x}"></button>`:q+=`<button title="${t.out("Icon")}" class="rte-icon"><svg class="is-icon-flex" style="width:14px;height:14px;margin-top:2px;"><use xlink:href="#ion-android-happy"></use></svg></button>`;this.builder.opts.toolbarAddSnippetButton&&-1===q.indexOf("rte-addsnippet")&&-1===A.indexOf("rte-addsnippet")&&(q=`<button title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`+C),""!==A&&-1===q.indexOf("rte-more")&&(q+=`<button title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let T="";for(_=0;_<e.opts.defaultFontSizes.length;_++)T+=`<button title="${e.opts.defaultFontSizes[_]}px" data-value="${e.opts.defaultFontSizes[_]}">${e.opts.defaultFontSizes[_]}</button>`;let L=`<div class="is-rte-tool" style="position:fixed;flex-direction:column;display:none;">\n                <div class="rte-for-text" style="display:flex">\n                    ${C}\n                </div>\n                <div class="rte-for-icon" class="" style="display:flex">\n                    ${q}\n                </div>\n            </div>\n\n            <div class="is-elementrte-tool" style="position:fixed;flex-direction:column;display:none;">\n                <div style="display:flex">\n                    ${E}\n                </div>\n            </div>\n\n            <div class="rte-formatting-options is-rte-pop">\n                <div>\n                    <button title="${t.out("Strikethrough")}" class="rte-format" data-command="strikethrough" style="float:left"><svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#icon-strike"></use></svg></button>\n                    <button title="${t.out("Superscript")}" class="rte-format" data-command="superscript" style="float:left"><span style="font-family:serif;font-size:13px;">x</span><sup style="font-size:10px">2</sup></button>\n                    <button title="${t.out("Subscript")}" class="rte-format" data-command="subscript" style="float:left"><span style="font-family:serif;font-size:13px;">x</span><sub style="font-size:10px">2</sub></button>\n                    <button title="${t.out("Uppercase")}" class="rte-format" data-command="uppercase" style="float:left"><span style="font-family:serif;font-size:14px;display:inline-block;text-transform: none;">Aa</span></button>\n                    <button title="${t.out("Clean")}" class="rte-format" data-command="clean"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>\n                </div>\n            </div>\n\n            <div class="rte-align-options is-rte-pop">\n                <div>\n                    <button title="${t.out("Align Left")}" data-align="left"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-left"></use></svg></button>\n                    <button title="${t.out("Align Center")}" data-align="center"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-center"></use></svg></button>\n                    <button title="${t.out("Align Right")}" data-align="right"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-right"></use></svg></button>\n                    <button title="${t.out("Align Full")}" data-align="justify"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-full"></use></svg></button>\n                </div>\n            </div>\n\n            <div class="rte-list-options is-rte-pop">\n                <div>\n                    <button title="${t.out("Bullets")}" data-action="insertUnorderedList"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-list-bullet"></use></svg></button>\n                    <button title="${t.out("Numbering")}" data-action="insertOrderedList"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-list-number"></use></svg></button>\n                    <button title="${t.out("Indent")}" data-action="indent"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-indent"></use></svg></button>\n                    <button title="${t.out("Outdent")}" data-action="outdent"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-outdent"></use></svg></use></svg></svg></button>\n                </div>\n            </div>\n\n            <div class="rte-paragraph-options is-rte-pop">\n                <div>\n                    <div title="${t.out("Heading 1")}" data-block="h1" role="button" tabindex="0"><h1>Heading 1</h1></div>\n                    <div title="${t.out("Heading 2")}" data-block="h2" role="button" tabindex="0"><h2>Heading 2</h2></div>\n                    <div title="${t.out("Heading 3")}" data-block="h3" role="button" tabindex="0"><h3>Heading 3</h3></div>\n                    <div title="${t.out("Heading 4")}" data-block="h4" role="button" tabindex="0"><h4>Heading 4</h4></div>\n                    <div title="${t.out("Paragraph")}" data-block="p" role="button" tabindex="0"><p>Paragraph</p></div>\n                    <div title="${t.out("Preformatted")}" data-block="pre" role="button" tabindex="0"><p style="font-family:courier, monospace;">Preformatted</p></div>\n                </div>\n            </div>\n\n            <div class="rte-fontfamily-options is-rte-pop">\n                <iframe src="about:blank"></iframe>\n            </div>\n\n            <div class="rte-color-picker is-rte-pop" data-command="forecolor">\n                <div class="is-pop-tabs">\n                    <div class="is-pop-tab-item active" data-value="forecolor">${t.out("Forecolor")}</div>\n                    <div class="is-pop-tab-item" data-value="backcolor">${t.out("Backcolor")}</div>\n                </div>\n                <div class="rte-color-picker-area"></div>\n            </div>\n            \n            <div class="rte-textsetting-options is-rte-pop">\n                <div>\n                    <div class="is-label">${t.out("Font Size")}</div>\n                    <div class="rte-fontsize-options" style="display: flex;flex-flow: wrap;">\n                        ${T}\n\n                        <button title="${t.out("Decrease")}" data-value="-" style="font-size:13px">-</button>\n                        <button title="${t.out("Increase")}" data-value="+" style="font-size:13px">+</button>\n                        <button title="${t.out("Clear")}" data-value=""><svg class="is-icon-flex" style="width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    </div>\n                    <div class="is-label separator">${t.out("Line Spacing")}</div>\n                    <div class="rte-lineheight-options" style="display: flex;flex-flow: wrap;">\n                        <button title="1" data-value="1">1</button>\n                        <button title="1.2" data-value="1.2">1.2</button>\n                        <button title="1.4" data-value="1.4">1.4</button>\n                        <button title="1.6" data-value="1.6">1.6</button>\n                        <button title="1.8" data-value="1.8">1.8</button>\n                        <button title="2" data-value="2">2</button>\n                        <button title="2.2" data-value="2.2">2.2</button>\n                        <button title="${t.out("Decrease")}" data-value="-" style="font-size:13px">-</button>\n                        <button title="${t.out("Increase")}" data-value="+" style="font-size:13px">+</button>\n                        <button title="${t.out("Clear")}" data-value=""><svg class="is-icon-flex" style="width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    </div>\n                    <div class="is-label separator">${t.out("Letter Spacing")}</div>\n                    <div class="rte-letterspacing-options" style="display: flex;flex-flow: wrap;">\n                        <button title="1" data-value="1">1</button>\n                        <button title="2" data-value="2">2</button>\n                        <button title="${t.out("Decrease")}" data-value="-" style="font-size:13px">-</button>\n                        <button title="${t.out("Increase")}" data-value="+" style="font-size:13px">+</button>\n                        <button title="${t.out("Clear")}" data-value=""><svg class="is-icon-flex" style="width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="rte-zoom-options is-rte-pop">\n                <div>\n                    <div class="is-label">${t.out("Zoom")}</div>\n                    <div style="padding-top:4px">\n                        <input type="range" min="50" max="100" value="1" class="rte-zoom-slider is-rangeslider">\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal viewzoom">\n                <div class="is-modal-content" style="max-width:250px;height:150px;display:flex;flex-flow:column;justify-content:center;">\n                    <div class="is-modal-bar is-draggable">${t.out("Zoom")}</div>\n                \n                    <div style="display:flex;flex-wrap:wrap;width:100%;padding-top:32px;">\n                        <input type="range" min="50" max="100" value="1" class="inp-zoom-slider is-rangeslider">\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal insertimage">\n                <div class="is-modal-content" style="max-width:560px;">\n                    <div class="is-browse-area">\n                        <div class="is-drop-area">\n                            <input id="fileInsertImage" type="file" accept="image/*" />\n                            <div class="drag-text">\n                                <p style="display:flex;justify-content:center;align-items:center;"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-camera"></use></svg> <span style="margin-left:5px;margin-top:3px;"> ${t.out("Drag and drop an image or click to browse.")} </span></p>\n                            </div>\n                        </div>\n                        <div class="is-preview-area">\n                            <div><img id="imgInsertImagePreview" alt="" /><i class="ion-ios-close-empty" role="button" tabindex="0"></i></div>\n                        </div>\n                    </div>    \n                    <label for="inpInsertImageSrc" style="margin:10px 0 5px;display:block;">${t.out("Or Specify Image Source")}:</label>\n                    ${"function(){}"!==(this.builder.opts.onImageSelectClick+"").replace(/\s/g,"")||""!==this.builder.opts.imageselect?`<div class="image-src clearfix" style="margin-bottom: 12px;"><input id="inpInsertImageSrc" class="input-src" type="text" placeholder="${t.out("Source")}"><button title="${t.out("Select")}" class="input-select" style="flex:none;width:50px;height:50px;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button></div>`:`<div class="image-src clearfix" style="margin-bottom: 12px;"><input id="inpInsertImageSrc" class="input-src" type="text" placeholder="${t.out("Source")}"></div>`}\n                    <div style="text-align:right">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="rte-icon-options is-rte-pop">\n                <iframe id="ifrIconInsert" src="about:blank"></iframe>\n            </div>\n\n            <div class="rte-customtag-options is-rte-pop scroll">\n                <div>${y}</div>\n            </div>\n\n            <div class="rte-more-options is-rte-pop">\n                <div class="rte-for-text">\n                ${S}\n                </div>\n                <div class="rte-for-icon">\n                ${A}\n                </div>\n            </div>\n\n            <div class="elementrte-more-options is-rte-pop">\n                <div>\n                ${k}\n                </div>\n            </div>\n            `;ab.appendHtml(i,L),b=i.querySelector(".is-rte-tool"),n=i.querySelector(".is-elementrte-tool"),c=i.querySelector(".rte-more-options"),u=i.querySelector(".elementrte-more-options"),o=i.querySelector(".rte-align-options"),s=i.querySelector(".rte-formatting-options"),a=i.querySelector(".rte-color-picker"),r=i.querySelector(".rte-list-options"),l=i.querySelector(".rte-fontfamily-options"),d=i.querySelector(".rte-paragraph-options"),p=i.querySelector(".rte-textsetting-options"),h=i.querySelector(".rte-zoom-options"),g=i.querySelector(".rte-icon-options"),f=i.querySelector(".rte-customtag-options"),m=i.querySelector(".rte-zoom-slider"),v=i.querySelector(".inp-zoom-slider");let M=b.querySelectorAll("[title]");Array.prototype.forEach.call(M,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),M=n.querySelectorAll("[title]"),Array.prototype.forEach.call(M,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),M=o.querySelectorAll("[title]"),Array.prototype.forEach.call(M,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),M=s.querySelectorAll("[title]"),Array.prototype.forEach.call(M,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),M=r.querySelectorAll("[title]"),Array.prototype.forEach.call(M,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),M=c.querySelectorAll("[title]"),Array.prototype.forEach.call(M,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),M=u.querySelectorAll("[title]"),Array.prototype.forEach.call(M,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),this.builder.isTouchSupport&&document.addEventListener("selectionchange",(function(){ab.checkEditable()&&(""!==ab.getSelected().trim()&&t.saveSelection())}),!1)}if(this.rteTool=b,this.elementRteTool=n,this.rteAlignOptions=o,this.rteFormattingOptions=s,this.rteColorPicker=a,this.rteListOptions=r,this.rteFontFamilyOptions=l,this.rteParagraphOptions=d,this.rteMoreOptions=c,this.elementRteMoreOptions=u,this.rteTextSettingOptions=p,this.rteZoomOptions=h,this.rteIconOptions=g,this.rteCustomTagOptions=f,this.rteZoomSlider=m,this.inpZoomSlider=v,this.positionToolbar(),i.querySelectorAll("button.rte-formatting").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteFormattingOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";ab.removeClass(t,"deactive"),ab.addClass(t,"active")}}))})),i.querySelectorAll("button.rte-align").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteAlignOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";ab.removeClass(t,"deactive"),ab.addClass(t,"active")}}))})),i.querySelectorAll("button.rte-list").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteListOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";ab.removeClass(t,"deactive"),ab.addClass(t,"active")}}))})),i.querySelectorAll("button.rte-tags").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteCustomTagOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";if(ab.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",e.getBoundingClientRect().left+45-parseInt(this.rteMoreOptions.style.left)<t.offsetWidth?t.style.left=parseInt(this.rteMoreOptions.style.left)+"px":parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-e.getBoundingClientRect().left+45<t.offsetWidth&&(t.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-o+"px"),t.style.right="auto";ab.removeClass(t,"deactive"),ab.addClass(t,"active")}}))})),i.querySelectorAll("button.rte-paragraph").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteParagraphOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";if(ab.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-o+"px",t.style.right="auto";ab.removeClass(t,"deactive"),ab.addClass(t,"active")}this.getState()}))})),!this.builder.renderIframeLater){let e=l.querySelector("iframe").contentWindow.document;e.open(),this.builder.opts.emailMode?e.write(t.getFontFamilyEmail()):e.write(t.getFontFamilyHTML()),e.close()}if(i.querySelectorAll("button.rte-fontfamily").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteFontFamilyOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";if(ab.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-o+"px",t.style.right="auto";ab.removeClass(t,"deactive"),ab.addClass(t,"active")}this.getState();let a=t.querySelector("iframe").contentWindow.document.querySelector("#divFontList");var r=a.querySelector(".on");r&&(a.scrollTop=a.scrollTop+r.getBoundingClientRect().top)}))})),!this.builder.renderIframeLater){let e=g.querySelector("iframe").contentWindow.document;e.open(),e.write(this.getIconsHTML()),e.close()}let w=i.querySelectorAll("button.rte-icon");w.forEach((e=>{e.addEventListener("click",(e=>{this.openIcon(e)}))})),i.querySelectorAll("button.rte-color").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteColorPicker,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if(this.builder.uo.saveForUndo(!0),"left"===this.builder.opts.toolbar)t.style.top=this.rteTool.style.top,t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=this.rteTool.style.top,t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";ab.removeClass(t,"deactive"),ab.addClass(t,"active")}}))})),i.querySelectorAll("button.rte-preferences").forEach((e=>{e.addEventListener("click",(()=>{this.builder.viewPreferences()}))})),i.querySelectorAll("button.rte-html").forEach((e=>{e.addEventListener("click",(()=>{this.builder.viewHtml()}))})),i.querySelectorAll("button.rte-grideditor").forEach((e=>{e.addEventListener("click",(()=>{const e=this.builderStuff.querySelector(".grideditor");ab.addClass(e,"active");const t=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(e=>{e.setAttribute("grideditor","")}))}))})),i.querySelectorAll("button.rte-undo").forEach((e=>{e.addEventListener("click",(()=>{this.builder.uo.doUndo()}))})),i.querySelectorAll("button.rte-redo").forEach((e=>{e.addEventListener("click",(()=>{this.builder.uo.doRedo()}))})),i.querySelectorAll("button.rte-addsnippet").forEach((e=>{e.addEventListener("click",(()=>{this.viewSnippets()}))})),i.querySelectorAll("button.rte-link").forEach((e=>{e.addEventListener("click",(()=>{new ii(this.builder).clearActiveCell(),this.hyperlink.createLink()}))})),i.querySelectorAll("button.rte-image").forEach((e=>{e.addEventListener("click",(()=>{const e=this.builderStuff.querySelector(".insertimage");t.showModal(e,!0,(function(){}),!1),e.querySelector("#fileInsertImage").value="",e.querySelector(".is-preview-area").style.display="none",e.querySelector(".is-drop-area").style.display="block",ab.removeClass(e.querySelector(".is-drop-area"),"image-dropping"),e.querySelector(".input-src").value=""}))}));const S=this.builderStuff.querySelector(".insertimage"),C=S.querySelector("#fileInsertImage");ab.addEventListener(C,"change",(e=>{var t=e.target;if(t.files&&t.files[0]){var i=new FileReader;i.onload=function(e){S.querySelector(".is-drop-area").style.display="none",S.querySelector("#imgInsertImagePreview").src=e.target.result,S.querySelector(".is-preview-area").style.display="block";let i=t.files[0].name;S.querySelector("#imgInsertImagePreview").setAttribute("data-filename",i)},i.readAsDataURL(t.files[0]),S.querySelector(".input-src").value=""}}));const k=S.querySelector(".input-ok");ab.addEventListener(k,"click",(()=>{if(!this.builder.activeCol)return void t.hideModal(S);this.builder.uo.saveForUndo(),t.restoreSelection();let e="";if(e="none"===S.querySelector(".is-drop-area").style.display?S.querySelector("#imgInsertImagePreview").src:S.querySelector(".input-src").value,""===e)return;let i=S.querySelector("#imgInsertImagePreview").getAttribute("data-filename");t.pasteHtmlAtCaret('<img data-filename="'+i+'" src="'+e+'" alt="" />',!1),t.hideModal(S);let n=document.querySelector(".builder-active");n&&this.builder.applyBehaviorOn(n),t.saveSelection(),this.builder.opts.onChange(),this.builder.opts.onRender()}));const E=S.querySelector(".input-cancel");ab.addEventListener(E,"click",(()=>{t.hideModal(S)}));const A=S.querySelector(".is-drop-area");ab.addEventListener(A,"dragover",(()=>{ab.addClass(A,"image-dropping")})),ab.addEventListener(A,"dragleave",(()=>{ab.removeClass(A,"image-dropping")}));const q=S.querySelector(".is-preview-area i");ab.addEventListener(q,"click",(()=>{S.querySelector("#fileInsertImage").value="",S.querySelector(".is-preview-area").style.display="none",A.style.display="block",ab.removeClass(A,"image-dropping")}));const T=S.querySelector(".input-src");if(ab.addEventListener(T,"keyup",(()=>{S.querySelector("#fileInsertImage").value="",S.querySelector(".is-preview-area").style.display="none",A.style.display="block",ab.removeClass(A,"image-dropping")})),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(S.querySelector(".input-select").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect){ab.addClass(S.querySelector(".image-src"),"image-select");const e=S.querySelector(".input-select");e&&ab.addEventListener(e,"click",(()=>{if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:S.querySelector(".input-src"),theTrigger:e});else{let e=this.builderStuff.querySelector(".is-modal.imageselect"),i=e.querySelector("iframe");this.builder.opts.assetRefresh&&(i.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===i.src&&(i.src=this.builder.opts.imageselect),t.showModal(e)}this.builder.targetInput=S.querySelector(".input-src"),this.builder.targetCallback=null,this.builder.targetAssetType="image"}))}else ab.removeClass(T,"image-select");i.querySelectorAll("button.rte-zoom").forEach((e=>{ab.addEventListener(e,"click",(()=>{const t=this.rteZoomOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if("none"!==this.rteTool.style.display){if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else{t.style.top=i+54-6+"px";const e=parseInt(this.rteTool.style.left)+this.rteTool.offsetWidth,s=n-o/2+23+o,a=0;t.style.left=s>e?parseInt(this.rteTool.style.left)+this.rteTool.offsetWidth-o+a+"px":n-o/2+23+"px",t.style.right="auto"}if(ab.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-o+"px",t.style.right="auto"}else{if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else{t.style.top=i+54-6+"px";const e=parseInt(this.elementRteTool.style.left)+this.elementRteTool.offsetWidth,s=n-o/2+23+o;t.style.left=s>e?parseInt(this.elementRteTool.style.left)+this.elementRteTool.offsetWidth-o+"px":n-o/2+23+"px",t.style.right="auto"}if(ab.parentsHasClass(e,"elementrte-more-optionss"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.elementRteMoreOptions.style.top)+this.elementRteMoreOptions.offsetHeight-s+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.elementRteMoreOptions.style.top)+this.elementRteMoreOptions.offsetHeight-s+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=parseInt(this.elementRteMoreOptions.style.left)+this.elementRteMoreOptions.offsetWidth-o+"px",t.style.right="auto"}ab.removeClass(t,"deactive"),ab.addClass(t,"active")}}))})),this.rteZoomSlider.value=100*this.builder.opts.zoom,this.rteZoomSlider.onfocus=()=>{this.builder.onZoomStart&&this.builder.onZoomStart(),this.rteZoomSlider.blur()},this.rteZoomSlider.oninput=()=>{let e=this.rteZoomSlider.value/100;this.builder.opts.zoom=e,localStorage.setItem("_zoom",e),this.builder.setZoomOnArea();let t=this.builderStuff.querySelectorAll(".is-tool");if(Array.prototype.forEach.call(t,(e=>{e.style.display=""})),this.builderStuff.querySelector(".is-column-tool").style.display="none",t=document.querySelectorAll(".is-row-tool"),t.forEach((e=>{e.style.display="none"})),t=document.querySelectorAll(".is-rowadd-tool"),t.forEach((e=>{e.style.opacity=0})),this.builder.onZoom){let e=this.rteZoomSlider.value/100;this.builder.onZoom(e)}},this.rteZoomSlider.onchange=()=>{setTimeout((()=>{if(""!==this.builder.opts.page){const e=document.querySelector(this.builder.opts.page);this.builder.setZoomOnControl(e)}else{document.querySelectorAll(this.builder.opts.container).forEach((e=>{this.builder.setZoomOnControl(e)}))}this.builder.elmTool.repositionElementTool();let e=this.builder.activeCol,t=this.builderStuff.querySelector(".is-column-tool");t.style.display="",t.style.top=e.getBoundingClientRect().top-29+window.pageYOffset+"px",t.style.left=e.getBoundingClientRect().left-1+"px";let i=document.querySelectorAll(".is-row-tool");if(i.forEach((e=>{e.style.display=""})),i=document.querySelectorAll(".is-rowadd-tool"),i.forEach((e=>{e.style.opacity=""})),this.builder.onZoomEnd){let e=this.rteZoomSlider.value/100;this.builder.onZoomEnd(e)}}),300)},this.inpZoomSlider.onfocus=()=>{this.builder.onZoomStart&&this.builder.onZoomStart(),this.inpZoomSlider.blur()},this.inpZoomSlider.oninput=()=>{let e=this.inpZoomSlider.value/100;if(this.builder.opts.zoom=e,localStorage.setItem("_zoom",e),this.builder.setZoomOnArea(),this.builder.onZoom){let e=this.inpZoomSlider.value/100;this.builder.onZoom(e)}},this.inpZoomSlider.onchange=()=>{setTimeout((()=>{if(""!==this.builder.opts.page){const e=document.querySelector(this.builder.opts.page);this.builder.setZoomOnControl(e)}else{document.querySelectorAll(this.builder.opts.container).forEach((e=>{this.builder.setZoomOnControl(e)}))}if(this.builder.onZoomEnd){let e=this.inpZoomSlider.value/100;this.builder.onZoomEnd(e)}this.rteZoomSlider.value=this.inpZoomSlider.value}),300)},i.querySelectorAll("button.rte-textsettings").forEach((e=>{ab.addEventListener(e,"click",(()=>{const t=this.rteTextSettingOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if(ab.hasClass(t,"active"))ab.removeClass(t,"active"),ab.addClass(t,"deactive");else{if("left"===this.builder.opts.toolbar)t.style.top=i-s/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-s/2+20+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";if(ab.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-s+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-o/2+23+"px",t.style.right="auto";ab.removeClass(t,"deactive"),ab.addClass(t,"active")}}))})),this.rteTool.querySelectorAll("button.rte-more").forEach((e=>{e.addEventListener("click",(()=>{this.showRteMore()}))}));let L=this.elementRteTool.querySelector("button.rte-more");L&&ab.addEventListener(L,"click",(()=>{this.showElementRteMore()}));var M=Array.prototype.slice.call(this.rteTool.querySelectorAll(".rte-format")).concat(Array.prototype.slice.call(this.rteFormattingOptions.querySelectorAll(".rte-format"))).concat(Array.prototype.slice.call(this.rteMoreOptions.querySelectorAll(".rte-format")));Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{let i;this.builder.uo.saveForUndo();try{let e;window.getSelection?(e=window.getSelection().getRangeAt(0).commonAncestorContainer,i=3===e.nodeType?e.parentNode:e):document.selection&&(e=document.selection.createRange(),i=document.selection.createRange().parentElement())}catch(e){return}const n=e.getAttribute("data-command");var o=ab.getSelected();if("bold"===n)if(this.builder.useCssClasses)ab.execCommandToggle("fontWeight","",this.builder.cssClasses);else if(""===o.trim()){var s=i.tagName.toLowerCase();"b"===s?(ab.selectElementContents(i),document.execCommand("bold",!1,null)):"bold"===i.style.fontWeight||i.style.fontWeight>400?i.style.fontWeight="":i.style.fontWeight="bold"}else document.execCommand("bold",!1,null);if("italic"===n)if(this.builder.useCssClasses)ab.execCommandToggle("fontStyle","",this.builder.cssClasses);else if(""===o.trim())if("i"===(s=i.tagName.toLowerCase()))ab.selectElementContents(i),document.execCommand("italic",!1,null);else{let e=window.getComputedStyle(i).getPropertyValue("font-style");i.style.fontStyle="italic"===e?"normal":"italic"}else document.execCommand("italic",!1,null);if("underline"===n&&(this.builder.useCssClasses?ab.execCommandToggle("textUnderline","",this.builder.cssClasses):""===o.trim()?"u"===(s=i.tagName.toLowerCase())?(ab.selectElementContents(i),document.execCommand("underline",!1,null)):-1!==i.style.textDecoration.indexOf("underline")?i.style.textDecoration="":i.style.textDecoration="underline":document.execCommand("underline",!1,null)),"strikethrough"===n&&(this.builder.useCssClasses?ab.execCommandToggle("textLinethrough","",this.builder.cssClasses):""===o.trim()?"strike"===(s=i.tagName.toLowerCase())?(ab.selectElementContents(i),document.execCommand("strikethrough",!1,null)):-1!==i.style.textDecoration.indexOf("line-through")?i.style.textDecoration="":i.style.textDecoration="line-through":document.execCommand("strikethrough",!1,null)),"superscript"===n&&(this.builder.useCssClasses?ab.execCommandToggle("extend","superscript",this.builder.cssClasses):document.execCommand("superscript",!1,null)),"subscript"===n&&(this.builder.useCssClasses?ab.execCommandToggle("extend","subscript",this.builder.cssClasses):document.execCommand("subscript",!1,null)),"uppercase"===n)if(this.builder.useCssClasses)ab.execCommandToggle("textTransform","",this.builder.cssClasses);else{let e=window.getComputedStyle(i).getPropertyValue("text-transform");i.style.textTransform="uppercase"===e?"lowercase":"lowercase"===e?"capitalize":"capitalize"===e?"none":"none"===e?"uppercase":"none"}if("clean"===n&&(this.builder.useCssClasses?(document.execCommand("removeFormat",!1,null),ab.execCommandToggle("clean","",this.builder.cssClasses)):""===o.trim()?(i.style.cssText="",i.className=""):i.innerText.replace(/(\r\n|\n|\r)/gm,"")===o.trim().replace(/(\r\n|\n|\r)/gm,"")?(i.style.cssText="",i.className="",document.execCommand("removeFormat",!1,null),document.execCommand("removeFormat",!1,null)):(document.execCommand("removeFormat",!1,null),document.execCommand("removeFormat",!1,null))),this.getState(),this.builder.isTouchSupport||t.saveSelection(),""===o.trim()&&(t.restoreSelection(),this.builder.isTouchSupport)){this.rteTool.querySelector("button").focus()}this.builder.opts.onChange()}))})),M=this.rteAlignOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{if(this.builder.uo.saveForUndo(),t.restoreSelection(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}const i=e.getAttribute("data-align");let n;try{let e;window.getSelection?(e=window.getSelection().getRangeAt(0).commonAncestorContainer,n=3===e.nodeType?e.parentNode:e):document.selection&&(e=document.selection.createRange(),n=document.selection.createRange().parentElement())}catch(e){return}let o=n,s=o.closest("table.button");if(s){if("center"===i)if("center"!==s.parentNode.tagName.toLowerCase()){let e=document.createElement("CENTER");s.parentNode.insertBefore(e,s),e.appendChild(s)}else s.setAttribute("align","");else s.setAttribute("align",i);ab.removeClass(s,"float-center")}else{for(;"p"!==o.tagName.toLowerCase()&&"h1"!==o.tagName.toLowerCase()&&"h2"!==o.tagName.toLowerCase()&&"h3"!==o.tagName.toLowerCase()&&"h4"!==o.tagName.toLowerCase()&&"h5"!==o.tagName.toLowerCase()&&"h6"!==o.tagName.toLowerCase()&&"pre"!==o.tagName.toLowerCase()&&"blockquote"!==o.tagName.toLowerCase()&&"div"!==o.tagName.toLowerCase()&&"td"!==o.tagName.toLowerCase()&&"th"!==o.tagName.toLowerCase();)o=o.parentNode;this.builder.useCssClasses?(o.style.textAlign="",ab.removeClass(o,this.builder.cssClasses.textAlign.left),ab.removeClass(o,this.builder.cssClasses.textAlign.center),ab.removeClass(o,this.builder.cssClasses.textAlign.right),ab.removeClass(o,this.builder.cssClasses.textAlign.justify),"left"===i&&ab.addClass(o,this.builder.cssClasses.textAlign.left),"center"===i&&ab.addClass(o,this.builder.cssClasses.textAlign.center),"right"===i&&ab.addClass(o,this.builder.cssClasses.textAlign.right),"justify"===i&&ab.addClass(o,this.builder.cssClasses.textAlign.justify)):o.style.textAlign=i}this.getState(),t.saveSelection(),this.builder.opts.onChange()}))})),M=this.elementRteTool.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-align");let i=this.builder.inspectedElement;for(;"p"!==i.tagName.toLowerCase()&&"h1"!==i.tagName.toLowerCase()&&"h2"!==i.tagName.toLowerCase()&&"h3"!==i.tagName.toLowerCase()&&"h4"!==i.tagName.toLowerCase()&&"h5"!==i.tagName.toLowerCase()&&"h6"!==i.tagName.toLowerCase()&&"pre"!==i.tagName.toLowerCase()&&"blockquote"!==i.tagName.toLowerCase()&&"div"!==i.tagName.toLowerCase()&&"td"!==i.tagName.toLowerCase()&&"th"!==i.tagName.toLowerCase();)i=i.parentNode;this.builder.useCssClasses?(i.style.textAlign="",ab.removeClass(i,this.builder.cssClasses.textAlign.left),ab.removeClass(i,this.builder.cssClasses.textAlign.center),ab.removeClass(i,this.builder.cssClasses.textAlign.right),ab.removeClass(i,this.builder.cssClasses.textAlign.justify),"left"===t&&ab.addClass(i,this.builder.cssClasses.textAlign.left),"center"===t&&ab.addClass(i,this.builder.cssClasses.textAlign.center),"right"===t&&ab.addClass(i,this.builder.cssClasses.textAlign.right),"justify"===t&&ab.addClass(i,this.builder.cssClasses.textAlign.justify)):i.style.textAlign=t,this.getState(),this.builder.opts.onChange()}))})),M=this.elementRteMoreOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-align");let i=this.builder.inspectedElement;for(;"p"!==i.tagName.toLowerCase()&&"h1"!==i.tagName.toLowerCase()&&"h2"!==i.tagName.toLowerCase()&&"h3"!==i.tagName.toLowerCase()&&"h4"!==i.tagName.toLowerCase()&&"h5"!==i.tagName.toLowerCase()&&"h6"!==i.tagName.toLowerCase()&&"pre"!==i.tagName.toLowerCase()&&"blockquote"!==i.tagName.toLowerCase()&&"div"!==i.tagName.toLowerCase()&&"td"!==i.tagName.toLowerCase()&&"th"!==i.tagName.toLowerCase();)i=i.parentNode;this.builder.useCssClasses?(i.style.textAlign="",ab.removeClass(i,this.builder.cssClasses.textAlign.left),ab.removeClass(i,this.builder.cssClasses.textAlign.center),ab.removeClass(i,this.builder.cssClasses.textAlign.right),ab.removeClass(i,this.builder.cssClasses.textAlign.justify),"left"===t&&ab.addClass(i,this.builder.cssClasses.textAlign.left),"center"===t&&ab.addClass(i,this.builder.cssClasses.textAlign.center),"right"===t&&ab.addClass(i,this.builder.cssClasses.textAlign.right),"justify"===t&&ab.addClass(i,this.builder.cssClasses.textAlign.justify)):i.style.textAlign=t,this.getState(),this.builder.opts.onChange()}))})),M=this.rteListOptions.querySelectorAll("button[data-action]"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo(),t.restoreSelection();let i=this.builder.activeCol,n=i.querySelectorAll("span");Array.prototype.forEach.call(n,(e=>{e.setAttribute("data-keep","")}));const o=e.getAttribute("data-action");if(document.execCommand(o,!1,null),i=this.builder.activeCol,n=i.querySelectorAll("span"),Array.prototype.forEach.call(n,(e=>{e.getAttribute("data-keep")||(e.outerHTML=e.innerHTML)})),Array.prototype.forEach.call(n,(e=>{e.getAttribute("data-keep")&&ab.removeAttribute(e,"data-keep")})),this.getState(),t.saveSelection(),this.builder.opts.onChange(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}}))})),M=this.rteCustomTagOptions.querySelectorAll("[data-value]"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();const i=e.getAttribute("data-value");t.pasteHtmlAtCaret(i,!0),this.rteCustomTagOptions.style.display=""}))})),M=this.rteParagraphOptions.querySelectorAll("[data-block]"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo(),t.restoreSelection();const i=e.getAttribute("data-block");let n=document.queryCommandValue("FormatBlock");if(n=n.toLowerCase(),"pre"===n){let e=ab.textSelection();if(e){let t=e;for(;"pre"!==t.tagName.toLowerCase();)t=t.parentNode;let n=t.cloneNode(!0).outerHTML.replace("<pre","<"+i);n=n.replace("</pre>","</"+i+">"),t.outerHTML=n;let o=this.rteParagraphOptions.querySelectorAll("[data-block]");Array.prototype.forEach.call(o,(e=>{ab.removeClass(e,"on")})),ab.addClass(this.rteParagraphOptions.querySelector('[data-block="'+i+'"]'),"on")}}else document.execCommand("formatBlock",!1,"<"+i+">");if(this.rteParagraphOptions.style.display="none",ab.removeClass(this.rteParagraphOptions,"active"),ab.addClass(this.rteParagraphOptions,"deactive"),this.getState(),t.saveSelection(),this.builder.opts.onChange(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}}))}));let O=a.querySelectorAll(".is-pop-tab-item");Array.prototype.forEach.call(O,(e=>{ab.addEventListener(e,"click",(e=>{this.builder.uo.saveForUndo(!0);let t=a.querySelectorAll(".is-pop-tab-item");Array.prototype.forEach.call(t,(e=>{ab.removeClass(e,"active")})),ab.addClass(e.target,"active"),"forecolor"===a.querySelector(".active").getAttribute("data-value")?a.setAttribute("data-command","forecolor"):a.setAttribute("data-command","backcolor")}))})),new rv({colors:this.builder.opts.colors,onPick:e=>{let i;t.restoreSelection();try{let e;window.getSelection?(e=window.getSelection().getRangeAt(0).commonAncestorContainer,i=3===e.nodeType?e.parentNode:e):document.selection&&(e=document.selection.createRange(),i=document.selection.createRange().parentElement())}catch(e){if(!this.builder.activeIcon)return;i=this.builder.activeIcon}this.builder.activeIcon&&(i=this.builder.activeIcon);const n=a.getAttribute("data-command");var o=ab.getSelected();if(""===o.trim())"forecolor"===n?i.style.color=e:i.style.backgroundColor=e;else if(i.innerText===o)"forecolor"===n?i.style.color=e:i.style.backgroundColor=e;else{"forecolor"===n?document.execCommand("ForeColor",!1,e):document.execCommand("BackColor",!1,e);for(var s=document.getElementsByTagName("font"),r=0,l=s.length;r<l;++r){""!==s[r].color&&"forecolor"===n&&(s[r].removeAttribute("color"),s[r].style.color=e)}}if(this.builder.isTouchSupport||t.saveSelection(),""===o.trim()&&t.restoreSelection(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}this.builder.opts.onChange()},renderOn:".rte-color-picker-area",animateModal:this.builder.opts.animateModal,elementToAnimate:this.builder.opts.container,lang:this.builder.opts.lang}),M=p.querySelectorAll(".rte-fontsize-options button"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{let i=e.getAttribute("data-value");t.restoreSelection(),this.builder.uo.saveForUndo();const n=ab.getSelection();if(!n)return;const o=n.anchorNode;let s=1;if(o){const e=o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE?o:o.parentElement;s=Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0])}if(ab.execCommand("font-size",s+1+"px",((e,t)=>{if(!e&&this.builder.activeIcon){let e=this.builder.activeIcon;this.builder.opts.fontSizeClassValues.length>0?this.applyClassFontSize(e,i):this.applyInlineFontSize(e,i)}t&&(this.builder.opts.fontSizeClassValues.length>0?this.applyClassFontSize(t,i):this.applyInlineFontSize(t,i),t.style.fontSize="")})),t.saveSelection(),this.getState(),this.builder.opts.onChange(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}}))})),M=p.querySelectorAll(".rte-lineheight-options button"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{let i=e.getAttribute("data-value");if(t.restoreSelection(),this.builder.uo.saveForUndo(),this.builder.useCssClasses){const e=ab.getSelection();if(!e)return;const t=e.anchorNode;let n,o;if(t&&(n=t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE?t:t.parentElement),!n)return;const s=this.builder.cssClasses.leading;if(""===i)o="";else if("+"===i||"-"===i)for(let e=0;e<Object.keys(s).length;e++){let t=Object.values(s)[e];if(ab.hasClass(n,t)){if("+"===i){if(e+1===Object.keys(s).length)return;o=Object.values(s)[e+1];break}if("-"===i){if(e-1<0)return;o=Object.values(s)[e-1];break}}}else"1"===i?o=s.leading_10:"1.2"===i?o=s.leading_12:"1.4"===i?o=s.leading_14:"1.6"===i?o=s.leading_16:"1.8"===i?o=s.leading_18:"2"===i?o=s.leading_20:"2.2"===i&&(o=s.leading_22);o||("+"===i?o=s.leading_16:"-"===i&&(o=s.leading_14)),ab.execCommandClass(o,s,!0,"block")}else{let e;try{let t;window.getSelection?(t=window.getSelection().getRangeAt(0).commonAncestorContainer,e=3===t.nodeType?t.parentNode:t):document.selection&&(t=document.selection.createRange(),e=document.selection.createRange().parentElement())}catch(t){if(!this.builder.activeIcon)return;e=this.builder.activeIcon}this.builder.activeIcon&&(e=this.builder.activeIcon);let t=e;for(;t;){if("BODY"===t.tagName||"HTML"===t.tagName)return!1;if("inline"!==window.getComputedStyle(t).getPropertyValue("display")){e=t;break}t=t.parentNode}let n,o=!1,s=e.style.lineHeight;if(s&&-1===s.indexOf("px")?s=parseFloat(s):o=!0,o){let t=Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0]);s=Number(window.getComputedStyle(e).getPropertyValue("line-height").match(/\d+/)[0]),t>s?s=t/s:t<s?s/=t:s=1}"+"===i?n=s+.1:"-"===i?(n=s-.1,n<.2&&(n=.2)):n=""===i?"":i,ab.doFunction(e,(function(e){"inline"!==window.getComputedStyle(e).getPropertyValue("display")&&(e.style.lineHeight=n)}),!0)}if(t.saveSelection(),this.getState(),this.builder.opts.onChange(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}}))})),M=p.querySelectorAll(".rte-letterspacing-options button"),Array.prototype.forEach.call(M,(e=>{ab.addEventListener(e,"click",(()=>{let i=e.getAttribute("data-value");if(t.restoreSelection(),this.builder.uo.saveForUndo(),this.builder.useCssClasses){const e=ab.getSelection();if(!e)return;const t=e.anchorNode;let n,o;if(t&&(n=t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE?t:t.parentElement),!n)return;const s=this.builder.cssClasses.tracking;if(""===i)o="";else if("+"===i||"-"===i)for(let e=0;e<Object.keys(s).length;e++){let t=Object.values(s)[e];if(ab.hasClass(n,t)){if("+"===i){if(e+1===Object.keys(s).length)return;o=Object.values(s)[e+1];break}if("-"===i){if(e-1<0)return;o=Object.values(s)[e-1];break}}}else"1"===i&&(o=s.tracking_025),"2"===i&&(o=s.tracking_050);o||("+"===i?o=s.tracking_025:"-"===i&&(o=s.tracking__025)),o===s.tracking_000&&(o=""),ab.execCommandClass(o,s)}else{let e;try{let t;window.getSelection?(t=window.getSelection().getRangeAt(0).commonAncestorContainer,e=3===t.nodeType?t.parentNode:t):document.selection&&(t=document.selection.createRange(),e=document.selection.createRange().parentElement())}catch(t){if(!this.builder.activeIcon)return;e=this.builder.activeIcon}this.builder.activeIcon&&(e=this.builder.activeIcon);let t,n=parseInt(window.getComputedStyle(e).getPropertyValue("letter-spacing"));isNaN(n)&&(n=0),t="+"===i?n+1+"px":"-"===i?n-1+"px":""===i?"":i+"px",ab.doFunction(e,(function(e){e.style.letterSpacing=t}),!0)}if(t.saveSelection(),this.getState(),this.builder.opts.onChange(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}}))})),document.addEventListener("click",(e=>{var t=(e=e||window.event).target||e.srcElement;if(!this.builderStuff)return;if(this.builderStuff.getAttribute("preventDevault"))return void setTimeout((()=>{this.builderStuff.removeAttribute("preventDevault")}),30);let i,n,o,s,a;"flex"===this.rteAlignOptions.style.display&&(i=ab.parentsHasClass(t,"rte-align"),n=ab.parentsHasClass(t,"rte-align-options"),i||n||(this.rteAlignOptions.style.display="",ab.removeClass(this.rteAlignOptions,"active"),ab.addClass(this.rteAlignOptions,"deactive"))),"flex"===this.rteListOptions.style.display&&(i=ab.parentsHasClass(t,"rte-list"),n=ab.parentsHasClass(t,"rte-list-options"),i||n||(this.rteListOptions.style.display="",ab.removeClass(this.rteListOptions,"active"),ab.addClass(this.rteListOptions,"deactive"))),"flex"===this.rteFormattingOptions.style.display&&(i=ab.parentsHasClass(t,"rte-formatting"),n=ab.parentsHasClass(t,"rte-formatting-options"),i||n||(this.rteFormattingOptions.style.display="",ab.removeClass(this.rteFormattingOptions,"active"),ab.addClass(this.rteFormattingOptions,"deactive"))),"flex"===this.rteColorPicker.style.display&&(i=ab.parentsHasClass(t,"rte-color"),n=ab.parentsHasClass(t,"rte-color-picker"),o=ab.parentsHasClass(t,"pickcolormore"),i||n||o||(this.rteColorPicker.style.display="",ab.removeClass(this.rteColorPicker,"active"),ab.addClass(this.rteColorPicker,"deactive"))),"flex"===this.rteFontFamilyOptions.style.display&&(i=ab.parentsHasClass(t,"rte-fontfamily"),n=ab.parentsHasClass(t,"rte-fontfamily-options"),i||n||(this.rteFontFamilyOptions.style.display="",ab.removeClass(this.rteFontFamilyOptions,"active"),ab.addClass(this.rteFontFamilyOptions,"deactive"))),"flex"===this.rteIconOptions.style.display&&(i=ab.parentsHasClass(t,"rte-icon"),n=ab.parentsHasClass(t,"rte-icon-options"),o=!1,t.tagName&&(o="i"===t.tagName.toLowerCase()&&""===t.innerHTML),i||n||o||(this.rteIconOptions.style.display="",ab.removeClass(this.rteIconOptions,"active"),ab.addClass(this.rteIconOptions,"deactive"))),"flex"===this.rteCustomTagOptions.style.display&&(i=ab.parentsHasClass(t,"rte-tags"),n=ab.parentsHasClass(t,"rte-customtag-options"),i||n||(this.rteCustomTagOptions.style.display="",ab.removeClass(this.rteCustomTagOptions,"active"),ab.addClass(this.rteCustomTagOptions,"deactive"))),"flex"===this.rteParagraphOptions.style.display&&(i=ab.parentsHasClass(t,"rte-paragraph"),n=ab.parentsHasClass(t,"rte-paragraph-options"),i||n||(this.rteParagraphOptions.style.display="",ab.removeClass(this.rteParagraphOptions,"active"),ab.addClass(this.rteParagraphOptions,"deactive"))),"flex"===this.rteTextSettingOptions.style.display&&(i=ab.parentsHasClass(t,"rte-textsettings"),n=ab.parentsHasClass(t,"rte-textsetting-options"),i||n||(this.rteTextSettingOptions.style.display="",ab.removeClass(this.rteTextSettingOptions,"active"),ab.addClass(this.rteTextSettingOptions,"deactive"))),"flex"===this.rteZoomOptions.style.display&&(i=ab.parentsHasClass(t,"rte-zoom"),n=ab.parentsHasClass(t,"rte-zoom-options"),i||n||(this.rteZoomOptions.style.display="",ab.removeClass(this.rteZoomOptions,"active"),ab.addClass(this.rteZoomOptions,"deactive"))),"flex"===this.rteMoreOptions.style.display&&(i=ab.parentsHasClass(t,"rte-more"),n=ab.parentsHasClass(t,"rte-more-options"),o=ab.parentsHasClass(t,"is-rte-pop"),s=ab.parentsHasClass(t,"is-modal"),a=!1,t.tagName&&(a="i"===t.tagName.toLowerCase()&&""===t.innerHTML&&ab.parentsHasClass(w,"rte-more-options")),i||n||o||s||a||(this.rteMoreOptions.style.display="",ab.removeClass(this.rteMoreOptions,"active"),ab.addClass(this.rteMoreOptions,"deactive"))),"flex"===this.elementRteMoreOptions.style.display&&(i=ab.parentsHasClass(t,"rte-more"),n=ab.parentsHasClass(t,"elementrte-more-options"),o=ab.parentsHasClass(t,"is-rte-pop"),s=ab.parentsHasClass(t,"is-modal"),a=!1,i||n||o||s||a||(this.elementRteMoreOptions.style.display="",ab.removeClass(this.elementRteMoreOptions,"active"),ab.addClass(this.elementRteMoreOptions,"deactive")))}))}viewSnippets(){const e=new Zo(this.builder);let t=this.builderStuff.querySelector(".snippets");this.util.showModal(t,!1,null,!1);var i=t.querySelector("iframe").contentWindow.document;""===i.body.innerHTML&&(i.open(),i.write(e.getSnippetsHtml()),i.close())}openIcon(e){let t=e.target;const i=this.rteIconOptions,n=t.getBoundingClientRect().top,o=t.getBoundingClientRect().left;i.style.display="flex";const s=i.offsetWidth,a=i.offsetHeight;if(ab.hasClass(i,"active"))ab.removeClass(i,"active"),ab.addClass(i,"deactive");else{if("left"===this.builder.opts.toolbar)i.style.top=n-a/2+20+"px",i.style.left=o+54+"px",i.style.right="auto";else if("right"===this.builder.opts.toolbar){i.style.top=n-a/2+20+"px",i.style.left="auto";const e=window.innerWidth;i.style.right=e-o+9+"px"}else i.style.top=n+54-6+"px",i.style.left=o-s/2+23+"px",i.style.right="auto",t.getBoundingClientRect().left+45-parseInt(this.rteTool.style.left)<i.offsetWidth?i.style.left=parseInt(this.rteTool.style.left)+"px":parseInt(this.rteTool.style.left)+this.rteTool.offsetWidth-t.getBoundingClientRect().left+45<i.offsetWidth&&(i.style.left=parseInt(this.rteTool.style.left)+this.rteTool.offsetWidth-s+"px");if(ab.parentsHasClass(t,"rte-more-options"))if("left"===this.builder.opts.toolbar)i.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",i.style.left=o+54+"px",i.style.right="auto";else if("right"===this.builder.opts.toolbar){i.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",i.style.left="auto";const e=window.innerWidth;i.style.right=e-o+9+"px"}else i.style.top=n+54-6+"px",t.getBoundingClientRect().left+45-parseInt(this.rteMoreOptions.style.left)<i.offsetWidth?i.style.left=parseInt(this.rteMoreOptions.style.left)+"px":parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-t.getBoundingClientRect().left+45<i.offsetWidth&&(i.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-s+"px"),ab.hasClass(this.builder.inspectedElement,"icon")&&(i.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-s+"px"),i.style.right="auto";ab.removeClass(i,"deactive"),ab.addClass(i,"active")}}showRteMore(){const e=this.rteMoreOptions;ab.hasClass(e,"active")?(ab.removeClass(e,"active"),ab.addClass(e,"deactive")):(this.positionRteMore(),ab.removeClass(e,"deactive"),ab.addClass(e,"active"))}positionRteMore(){let e,t;this.rteTool.querySelectorAll("button.rte-more").forEach((i=>{i.getBoundingClientRect().top>0&&(e=i.getBoundingClientRect().top,t=i.getBoundingClientRect().left)}));const i=this.rteMoreOptions;i.style.display="flex";const n=i.offsetWidth,o=i.offsetHeight;if("left"===this.builder.opts.toolbar)i.style.top=parseFloat(this.rteTool.style.top)+this.rteTool.offsetHeight-o+"px",i.style.left=t+54+"px",i.style.right="auto";else if("right"===this.builder.opts.toolbar){i.style.top=parseFloat(this.rteTool.style.top)+this.rteTool.offsetHeight-o+"px",i.style.left="auto";const e=window.innerWidth;i.style.right=e-t+9+"px"}else{const t=0;i.style.top=e+54-6+"px",i.style.left=parseFloat(this.rteTool.style.left)+this.rteTool.offsetWidth-n+t+"px",i.style.right="auto"}}showElementRteMore(){const e=this.elementRteMoreOptions;ab.hasClass(e,"active")?(ab.removeClass(e,"active"),ab.addClass(e,"deactive")):(this.positionElementRteMore(),ab.removeClass(e,"deactive"),ab.addClass(e,"active"))}positionElementRteMore(){const e=this.elementRteTool.querySelector("button.rte-more"),t=this.elementRteMoreOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,s=t.offsetHeight;if("left"===this.builder.opts.toolbar)t.style.top=parseFloat(this.elementRteTool.style.top)+this.elementRteTool.offsetHeight-s+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseFloat(this.elementRteTool.style.top)+this.elementRteTool.offsetHeight-s+"px",t.style.left="auto";const e=window.innerWidth;t.style.right=e-n+9+"px"}else{const e=0;t.style.top=i+54-6+"px",t.style.left=parseFloat(this.elementRteTool.style.left)+this.elementRteTool.offsetWidth-o+e+"px",t.style.right="auto"}}applyInlineFontSize(e,t){let i,n=Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0]);i="+"===t?n+1+"px":"-"===t?n-1+"px":""===t?"":t+"px",ab.doFunction(e,(function(e){e.style.fontSize=i}),!0)}applyClassFontSize(e,t){let i=Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0]),n="";n="+"===t||"-"===t||""===t?t:"size-"+t;const o=this.builder.opts.fontSizeClassValues;for(var s="",a=0;a<=o.length-1;a++)if(ab.hasClass(e,"size-"+o[a])){s="size-"+o[a];let t=o[a];ab.doFunction(e,(e=>{ab.removeClass(e,"size-"+t)}),!0)}else{let t=o[a];ab.doFunction(e,(e=>{ab.removeClass(e,"size-"+t)}),!0)}if(""===s&&("+"===n||"-"===n))for(a=0;a<=o.length-1;a++)i>=o[a]&i<o[a+1]&&(s="size-"+o[a]);if("+"===n){a=1*s.replace("size-","");var r=o.indexOf(a);r<o.length-1&&(s="size-"+o[r+1]),ab.doFunction(e,(function(e){ab.addClass(e,s)}),!0)}else"-"===n?(a=1*s.replace("size-",""),(r=o.indexOf(a))>=1&&(s="size-"+o[r-1]),ab.doFunction(e,(function(e){ab.addClass(e,s)}),!0)):""===n||ab.doFunction(e,(function(e){ab.addClass(e,n)}),!0);ab.doFunction(e,(function(e){e.style.fontSize=""}),!0),ab.cleanClassSize(e,n)}click(e){let t=this.builder.inspectedElement;this.rteTool.style.display="none",this.elementRteTool.style.display="none";let i=!1;e.hasAttribute("data-noedit")&&(i=!0);let n=!1;e.hasAttribute("data-protected")&&(n=!0);let o=!1,s=!1;if(e.hasAttribute("data-html")&&(o=!0,ab.parentsHasAttribute(t,"data-subblock")&&(s=!0)),this.rteTool.querySelector(".rte-for-text").style.display="flex",this.rteTool.querySelector(".rte-for-icon").style.display="none",this.rteMoreOptions.querySelector(".rte-for-text").style.display="flex",this.rteMoreOptions.querySelector(".rte-for-icon").style.display="none",!o&&!i&&!n||s){if(("img"===t.tagName.toLowerCase()||ab.hasClass(t,"is-social")||ab.hasClass(t,"is-rounded-button-medium")||ab.hasClass(t,"cell-active"))&&!ab.getSelected()){if("none"===this.elementRteTool.style.display||""===this.elementRteTool.style.display){this.elementRteTool.style.display="flex",this.rteTool.style.display="none";let e=this.elementRteTool.querySelectorAll("button[data-align]");Array.prototype.forEach.call(e,(e=>{e.style.display=""})),e=this.elementRteMoreOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(e,(e=>{e.style.display=""})),this.positionToolbar()}}else if(ab.hasClass(t,"spacer")||"video"===t.tagName.toLowerCase()||ab.hasClass(t,"ovl")||e.getAttribute("data-html")){if("none"===this.elementRteTool.style.display||""===this.elementRteTool.style.display){this.elementRteTool.style.display="flex",this.rteTool.style.display="none";let e=this.elementRteTool.querySelectorAll("button[data-align]");Array.prototype.forEach.call(e,(e=>{e.style.display="none"})),e=this.elementRteMoreOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(e,(e=>{e.style.display="none"})),this.positionToolbar()}}else if(ab.hasClass(t,"icon"))"none"!==this.rteTool.style.display&&""!==this.rteTool.style.display||(this.rteTool.style.display="flex",this.elementRteTool.style.display="none",this.rteTool.querySelector(".rte-for-text").style.display="none",this.rteTool.querySelector(".rte-for-icon").style.display="flex",this.rteMoreOptions.querySelector(".rte-for-text").style.display="none",this.rteMoreOptions.querySelector(".rte-for-icon").style.display="flex",this.positionToolbar());else if(ab.textSelection())"none"!==this.rteTool.style.display&&""!==this.rteTool.style.display||(this.rteTool.style.display="flex",this.elementRteTool.style.display="none",this.positionToolbar());else if("none"===this.elementRteTool.style.display||""===this.elementRteTool.style.display){this.elementRteTool.style.display="flex",this.rteTool.style.display="none";let e=this.elementRteTool.querySelectorAll("button[data-align]");Array.prototype.forEach.call(e,(e=>{e.style.display=""})),e=this.elementRteMoreOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(e,(e=>{e.style.display=""})),this.positionToolbar()}}else if("none"===this.elementRteTool.style.display||""===this.elementRteTool.style.display){this.elementRteTool.style.display="flex",this.rteTool.style.display="none";let e=this.elementRteTool.querySelectorAll("button[data-align]");Array.prototype.forEach.call(e,(e=>{e.style.display="none"})),e=this.elementRteMoreOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(e,(e=>{e.style.display="none"})),this.positionToolbar()}this.util.saveSelection(),this.getState()}getState(){document.queryCommandState("bold")?ab.addClass(this.rteTool.querySelector("button[data-command=bold]"),"on"):ab.removeClass(this.rteTool.querySelector("button[data-command=bold]"),"on"),document.queryCommandState("italic")?ab.addClass(this.rteTool.querySelector("button[data-command=italic]"),"on"):ab.removeClass(this.rteTool.querySelector("button[data-command=italic]"),"on"),document.queryCommandState("underline")?ab.addClass(this.rteTool.querySelector("button[data-command=underline]"),"on"):ab.removeClass(this.rteTool.querySelector("button[data-command=underline]"),"on"),document.queryCommandState("strikethrough")?ab.addClass(this.rteFormattingOptions.querySelector("[data-command=strikethrough]"),"on"):ab.removeClass(this.rteFormattingOptions.querySelector("[data-command=strikethrough]"),"on"),document.queryCommandState("superscript")?ab.addClass(this.rteFormattingOptions.querySelector("[data-command=superscript]"),"on"):ab.removeClass(this.rteFormattingOptions.querySelector("[data-command=superscript]"),"on"),document.queryCommandState("subscript")?ab.addClass(this.rteFormattingOptions.querySelector("[data-command=subscript]"),"on"):ab.removeClass(this.rteFormattingOptions.querySelector("[data-command=subscript]"),"on");let e=ab.textSelection();if(!e)return;"uppercase"===e.style.textTransform?ab.addClass(this.rteFormattingOptions.querySelector("[data-command=uppercase]"),"on"):ab.removeClass(this.rteFormattingOptions.querySelector("[data-command=uppercase]"),"on"),document.queryCommandState("JustifyFull")?ab.addClass(this.rteAlignOptions.querySelector("[data-align=justify]"),"on"):ab.removeClass(this.rteAlignOptions.querySelector("[data-align=justify]"),"on"),document.queryCommandState("JustifyLeft")?ab.addClass(this.rteAlignOptions.querySelector("[data-align=left]"),"on"):ab.removeClass(this.rteAlignOptions.querySelector("[data-align=left]"),"on"),document.queryCommandState("JustifyRight")?ab.addClass(this.rteAlignOptions.querySelector("[data-align=right]"),"on"):ab.removeClass(this.rteAlignOptions.querySelector("[data-align=right]"),"on"),document.queryCommandState("JustifyCenter")?ab.addClass(this.rteAlignOptions.querySelector("[data-align=center]"),"on"):ab.removeClass(this.rteAlignOptions.querySelector("[data-align=center]"),"on");var t=document.queryCommandValue("FontName").split(",")[0];t=(t=(t=(t=t.replace(/"/g,"")).replace(/'/g,"")).replace(/&quot;/g,"")).trim().toLowerCase();let i=this.rteTool.querySelector("button.rte-fontfamily");if(i=i||this.rteMoreOptions.querySelector("button.rte-fontfamily"),i){const e=this.rteFontFamilyOptions.querySelector("iframe");let i=e.contentDocument||e.contentWindow.document;i&&[].forEach.call(i.querySelectorAll("#divFontList > div"),(function(e){var i=e.getAttribute("data-font-family");(i=(i=(i=i.split(",")[0]).replace(/'/g,"")).trim().toLowerCase())===t&&""!==i?ab.addClass(e,"on"):ab.removeClass(e,"on")}))}let n=this.rteParagraphOptions.querySelectorAll("[data-block]");Array.prototype.forEach.call(n,(e=>{ab.removeClass(e,"on")}));var o=document.queryCommandValue("FormatBlock");"normal"===(o=o.toLowerCase())&&(o="p"),"heading 1"===o&&(o="h1"),"heading 2"===o&&(o="h2"),"heading 3"===o&&(o="h3"),"heading 4"===o&&(o="h4"),"formatted"===o&&(o="pre"),"p"!==o&&"h1"!==o&&"h2"!==o&&"h3"!==o&&"h4"!==o&&"pre"!==o||ab.addClass(this.rteParagraphOptions.querySelector('[data-block="'+o+'"]'),"on")}getIconsStyle(){return`\n            html, body {height:100%}\n            body {overflow:hidden;margin:0;\n                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                font-size:100%; \n                line-height:1.7;\n            }\n            #divIcons {display:flex;flex-direction:row;flex-wrap:wrap;margin:0;padding:9px 11px 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;}\n            #divIcons > div {width:40px;height:37px;line-height:37px;font-size:14px;cursor:pointer;overflow:hidden;text-align:center;position:relative;}                \n            // #divIcons > div:hover {background:#f5f5f5;}\n\n            #divIcons {\n                background: ${this.builder.styleToolBackground};\n            }\n            #divIcons > div {\n                color: ${this.builder.styleButtonColor};\n            }\n            #divIcons > div svg {\n                fill: ${this.builder.styleButtonSvgFill};\n            }\n            #divIcons > div:hover {\n                background: ${this.builder.styleButtonBackgroundHover};\n            }\n\n            .dark #divIcons > div {\n                opacity: 0.93;\n            }\n\n            /* Scrollbar for toolbar/RTE, not modal */\n\n            .dark * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n            }\n            .dark *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .dark *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .dark *::-webkit-scrollbar-thumb {\n                background-color:rgba(255, 255, 255, 0.3);\n            } \n\n            .colored-dark * {\n                scrollbar-width: thin;\n                scrollbar-color: rgb(100, 100, 100) auto;\n            }\n            .colored-dark *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .colored-dark *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .colored-dark *::-webkit-scrollbar-thumb {\n                background-color:rgb(100, 100, 100);\n            } \n\n            .colored * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n            }\n            .colored *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .colored *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .colored *::-webkit-scrollbar-thumb {\n                background-color: rgba(0, 0, 0, 0.4);\n            } \n\n            .light * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n            }\n            .light *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .light *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .light *::-webkit-scrollbar-thumb {\n                background-color: rgba(0, 0, 0, 0.4);\n            }`}refreshIconsStyle(){this.builder.rte.rteIconOptions.querySelector("iframe").contentWindow.document.querySelector("#mainstyle").innerHTML=this.getIconsStyle()}getIcons(){return'\n        <div role="button" tabindex="0"><i class="icon ion-alert"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-alert-circled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-add"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-add-circle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-alarm-clock"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-alert"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-apps"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-archive"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-back"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-down"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-dropdown"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-dropdown-circle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-dropleft"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-dropleft-circle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-dropright"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-dropright-circle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-dropup"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-dropup-circle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-forward"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-arrow-up"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-attach"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-bar"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-bicycle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-boat"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-bookmark"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-bulb"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-bus"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-calendar"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-call"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-camera"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-cancel"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-car"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-cart"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-chat"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-checkbox"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-checkbox-blank"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-checkbox-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-checkbox-outline-blank"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-checkmark-circle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-clipboard"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-close"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-cloud"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-cloud-circle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-cloud-done"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-cloud-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-color-palette"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-compass"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-contact"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-contacts"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-contract"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-create"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-delete"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-desktop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-document"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-done"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-done-all"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-download"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-drafts"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-exit"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-expand"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-favorite"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-favorite-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-film"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-folder"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-folder-open"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-funnel"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-globe"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-hand"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-hangout"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-happy"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-home"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-image"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-laptop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-list"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-locate"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-lock"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-mail"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-map"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-menu"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-microphone"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-microphone-off"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-more-horizontal"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-more-vertical"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-navigate"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-notifications"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-notifications-none"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-notifications-off"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-open"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-options"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-people"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-person"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-person-add"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-phone-landscape"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-phone-portrait"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-pin"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-plane"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-playstore"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-print"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-radio-button-off"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-radio-button-on"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-refresh"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-remove"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-remove-circle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-restaurant"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-sad"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-search"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-send"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-settings"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-share"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-share-alt"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-star"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-star-half"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-star-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-stopwatch"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-subway"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-sunny"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-sync"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-textsms"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-time"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-train"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-unlock"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-upload"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-volume-down"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-volume-mute"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-volume-off"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-volume-up"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-walk"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-warning"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-watch"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-android-wifi"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-aperture"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-archive"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-down-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-down-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-down-c"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-expand"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-graph-down-left"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-graph-down-right"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-graph-up-left"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-graph-up-right"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-left-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-left-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-left-c"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-move"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-resize"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-return-left"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-return-right"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-right-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-right-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-right-c"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-shrink"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-swap"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-up-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-up-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-arrow-up-c"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-asterisk"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-at"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-backspace"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-backspace-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-bag"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-battery-charging"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-battery-empty"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-battery-full"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-battery-half"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-battery-low"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-beaker"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-beer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-bluetooth"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-bonfire"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-bookmark"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-bowtie"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-briefcase"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-bug"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-calculator"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-calendar"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-camera"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-card"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-cash"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chatbox"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chatbox-working"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chatboxes"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chatbubble"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chatbubble-working"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chatbubbles"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-checkmark"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-checkmark-circled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-checkmark-round"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chevron-down"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chevron-left"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chevron-right"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-chevron-up"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-clipboard"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-clock"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-close"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-close-circled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-close-round"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-closed-captioning"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-cloud"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-code"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-code-download"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-code-working"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-coffee"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-compass"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-compose"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-connection-bars"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-contrast"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-crop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-cube"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-disc"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-document"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-document-text"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-drag"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-earth"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-easel"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-edit"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-egg"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-eject"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-email"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-email-unread"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-erlenmeyer-flask"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-erlenmeyer-flask-bubbles"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-eye"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-eye-disabled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-female"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-filing"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-film-marker"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-fireball"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-flag"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-flame"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-flash"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-flash-off"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-folder"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-fork"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-fork-repo"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-forward"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-funnel"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-gear-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-gear-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-grid"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-hammer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-happy"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-happy-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-headphone"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-heart"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-heart-broken"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-help"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-help-buoy"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-help-circled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-home"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-icecream"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-image"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-images"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-information"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-information-circled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ionic"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-alarm"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-alarm-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-albums"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-albums-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-americanfootball"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-americanfootball-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-analytics"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-analytics-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-back"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-down"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-forward"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-left"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-right"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-thin-down"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-thin-left"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-thin-right"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-thin-up"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-arrow-up"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-at"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-at-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-barcode"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-barcode-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-baseball"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-baseball-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-basketball"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-basketball-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-bell"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-bell-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-body"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-body-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-bolt"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-bolt-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-book"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-book-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-bookmarks"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-bookmarks-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-box"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-box-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-briefcase"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-briefcase-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-browsers"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-browsers-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-calculator"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-calculator-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-calendar"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-calendar-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-camera"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-camera-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cart"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cart-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-chatboxes"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-chatboxes-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-chatbubble"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-chatbubble-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-checkmark"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-checkmark-empty"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-checkmark-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-circle-filled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-circle-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-clock"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-clock-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-close"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-close-empty"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-close-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloud"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloud-download"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloud-download-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloud-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloud-upload"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloud-upload-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloudy"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloudy-night"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloudy-night-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cloudy-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cog"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-cog-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-color-filter"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-color-filter-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-color-wand"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-color-wand-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-compose"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-compose-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-contact"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-contact-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-copy"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-copy-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-crop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-crop-strong"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-download"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-download-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-drag"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-email"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-email-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-eye"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-eye-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-fastforward"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-fastforward-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-filing"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-filing-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-film"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-film-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-flag"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-flag-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-flame"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-flame-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-flask"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-flask-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-flower"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-flower-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-folder"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-folder-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-football"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-football-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-game-controller-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-game-controller-a-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-game-controller-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-game-controller-b-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-gear"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-gear-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-glasses"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-glasses-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-grid-view"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-grid-view-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-heart"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-heart-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-help"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-help-empty"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-help-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-home"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-home-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-infinite"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-infinite-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-information"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-information-empty"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-information-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-ionic-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-keypad"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-keypad-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-lightbulb"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-lightbulb-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-list"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-list-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-location"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-location-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-locked"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-locked-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-loop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-loop-strong"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-medical"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-medical-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-medkit"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-medkit-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-mic"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-mic-off"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-mic-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-minus"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-minus-empty"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-minus-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-monitor"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-monitor-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-moon"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-moon-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-more"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-more-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-musical-note"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-musical-notes"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-navigate"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-navigate-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-nutrition"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-nutrition-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-paper"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-paper-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-paperplane"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-paperplane-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-partlysunny"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-partlysunny-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pause"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pause-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-paw"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-paw-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-people"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-people-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-person"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-person-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-personadd"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-personadd-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-photos"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-photos-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pie"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pie-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pint"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pint-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-play"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-play-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-plus"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-plus-empty"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-plus-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pricetag"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pricetag-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pricetags"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pricetags-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-printer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-printer-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pulse"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-pulse-strong"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-rainy"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-rainy-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-recording"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-recording-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-redo"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-redo-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-refresh"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-refresh-empty"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-refresh-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-reload"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-reverse-camera"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-reverse-camera-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-rewind"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-rewind-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-rose"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-rose-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-search"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-search-strong"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-settings"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-settings-strong"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-shuffle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-shuffle-strong"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-skipbackward"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-skipbackward-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-skipforward"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-skipforward-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-snowy"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-speedometer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-speedometer-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-star"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-star-half"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-star-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-stopwatch"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-stopwatch-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-sunny"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-sunny-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-telephone"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-telephone-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-tennisball"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-tennisball-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-thunderstorm"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-thunderstorm-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-time"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-time-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-timer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-timer-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-toggle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-toggle-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-trash"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-trash-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-undo"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-undo-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-unlocked"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-unlocked-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-upload"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-upload-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-videocam"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-videocam-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-volume-high"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-volume-low"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-wineglass"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-wineglass-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-world"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ios-world-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ipad"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-iphone"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ipod"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-jet"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-key"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-knife"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-laptop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-leaf"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-levels"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-lightbulb"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-link"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-load-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-load-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-load-c"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-load-d"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-location"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-lock-combination"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-locked"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-log-in"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-log-out"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-loop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-magnet"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-male"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-man"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-map"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-medkit"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-merge"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-mic-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-mic-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-mic-c"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-minus"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-minus-circled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-minus-round"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-model-s"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-monitor"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-more"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-mouse"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-music-note"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-navicon"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-navicon-round"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-navigate"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-network"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-no-smoking"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-nuclear"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-outlet"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-paintbrush"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-paintbucket"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-paper-airplane"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-paperclip"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pause"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-person"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-person-add"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-person-stalker"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pie-graph"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pin"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pinpoint"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pizza"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-plane"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-planet"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-play"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-playstation"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-plus"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-plus-circled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-plus-round"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-podium"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pound"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-power"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pricetag"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pricetags"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-printer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-pull-request"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-qr-scanner"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-quote"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-radio-waves"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-record"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-refresh"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-reply"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-reply-all"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ribbon-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-ribbon-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-sad"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-sad-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-scissors"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-search"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-settings"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-share"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-shuffle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-skip-backward"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-skip-forward"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-android"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-android-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-angular"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-angular-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-apple"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-apple-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-bitcoin"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-bitcoin-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-buffer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-buffer-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-chrome"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-chrome-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-codepen"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-codepen-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-css3"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-css3-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-designernews"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-designernews-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-dribbble"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-dribbble-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-dropbox"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-dropbox-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-euro"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-euro-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-facebook"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-facebook-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-foursquare"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-foursquare-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-freebsd-devil"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-github"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-github-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-google"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-google-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-googleplus"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-googleplus-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-hackernews"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-hackernews-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-html5"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-html5-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-instagram"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-instagram-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-javascript"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-javascript-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-linkedin"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-linkedin-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-markdown"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-nodejs"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-octocat"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-pinterest"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-pinterest-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-python"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-reddit"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-reddit-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-rss"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-rss-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-sass"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-skype"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-skype-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-snapchat"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-snapchat-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-tumblr"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-tumblr-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-tux"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-twitch"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-twitch-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-twitter"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-twitter-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-usd"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-usd-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-vimeo"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-vimeo-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-whatsapp"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-whatsapp-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-windows"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-windows-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-wordpress"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-wordpress-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-yahoo"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-yahoo-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-yen"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-yen-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-youtube"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-social-youtube-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-soup-can"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-soup-can-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-speakerphone"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-speedometer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-spoon"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-star"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-stats-bars"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-steam"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-stop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-thermometer"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-thumbsdown"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-thumbsup"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-toggle"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-toggle-filled"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-transgender"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-trash-a"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-trash-b"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-trophy"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-tshirt"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-tshirt-outline"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-umbrella"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-university"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-unlocked"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-upload"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-usb"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-videocamera"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-volume-high"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-volume-low"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-volume-medium"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-volume-mute"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-wand"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-waterdrop"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-wifi"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-wineglass"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-woman"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-wrench"> </i></div>\n        <div role="button" tabindex="0"><i class="icon ion-xbox"> </i></div>        \n        '}getIconsHTML(){return`\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title>Fonts</title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">  \n            <link href="${this.builder.assetPath+"ionicons/"}css/ionicons.min.css" rel="stylesheet" type="text/css" />\n            <style id="mainstyle">\n                html, body {height:100%}\n                body {overflow:hidden;margin:0;\n                    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                    font-size:100%; \n                    line-height:1.7;\n                }\n                #divIcons {display:flex;flex-direction:row;flex-wrap:wrap;margin:0;padding:9px 11px 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;}\n                #divIcons > div {width:40px;height:37px;line-height:37px;font-size:14px;cursor:pointer;overflow:hidden;text-align:center;position:relative;}                \n                // #divIcons > div:hover {background:#f5f5f5;}\n\n                #divIcons {\n                    background: ${this.builder.styleToolBackground};\n                }\n                #divIcons > div {\n                    color: ${this.builder.styleButtonColor};\n                }\n                #divIcons > div svg {\n                    fill: ${this.builder.styleButtonSvgFill};\n                }\n                #divIcons > div:hover {\n                    background: ${this.builder.styleButtonBackgroundHover};\n                }\n\n                .dark #divIcons > div {\n                    opacity: 0.93;\n                }\n\n                /* Scrollbar for toolbar/RTE, not modal */\n\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgba(255, 255, 255, 0.3);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n            </style>\n        </head>\n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n        <div id="divIcons">\n        ${this.getIcons()}\n        </div>\n\n        <script type="text/javascript">\n            var elms = document.querySelectorAll('#divIcons > div');\n            for(var i=0;i<elms.length;i++) {\n                elms[i].addEventListener('click', function(e){\n\n                    var elm = e.target;\n                    if(!elm.className) elm = elm.childNodes[0];\n                    parent._cb.addIcon(elm.className)\n\n                });\n            }\n        <\/script>\n\n        </body>\n        </html>\n                \n        \n        `}addIcon(e){if(this.util.restoreSelection(),this.builder.activeIcon){this.builder.uo.saveForUndo();const n=this.builder.opts.fontSizeClassValues;for(var t="",i=0;i<=n.length-1;i++)ab.hasClass(this.builder.activeIcon,"size-"+n[i])&&(t="size-"+n[i]);this.builder.activeIcon.className=e+(""!==t?" "+t:""),ab.addClass(this.builder.activeIcon,"icon-active"),ab.selectElementContents(this.builder.activeIcon),this.util.saveSelection()}else{if(!ab.textSelection())return;this.builder.uo.saveForUndo(),this.util.pasteHtmlAtCaret('<i class="'+e+' icon-active"></i>',!0),this.builder.activeIcon=document.querySelector(".icon-active"),ab.selectElementContents(this.builder.activeIcon),this.util.saveSelection()}this.builder.opts.onChange(),this.builder.opts.onRender()}clearFont(){this.builder.uo.saveForUndo(),this.applyFont("","","")}applyFont(e,t,i){let n;var o=this.builderStuff.querySelector(".is-side.elementstyles");if(ab.hasClass(o,"active"))this.builder.uo.saveForUndo(),n=this.builder.inspectedElement,n.style.fontFamily=e,this.builderStuff.querySelector("#inpElmFontFamily").value=e,this.elementStyleEditor.refresh();else{try{let e;window.getSelection?(e=window.getSelection().getRangeAt(0).commonAncestorContainer,n=3===e.nodeType?e.parentNode:e,"H1"!==n.tagName&&"H2"!==n.tagName&&"H3"!==n.tagName&&"H4"!==n.tagName&&"H5"!==n.tagName&&"H6"!==n.tagName&&"P"!==n.tagName&&(n=n.parentNode)):document.selection&&(e=document.selection.createRange(),n=document.selection.createRange().parentElement(),"H1"!==n.tagName&&"H2"!==n.tagName&&"H3"!==n.tagName&&"H4"!==n.tagName&&"H5"!==n.tagName&&"H6"!==n.tagName&&"P"!==n.tagName&&(n=n.parentElement()))}catch(e){return}this.builder.uo.saveForUndo();var s=ab.getSelected();if(""!==s.trim()&&n.innerText!==s){document.execCommand("fontName",!1,e);for(var a=document.getElementsByTagName("font"),r=0,l=a.length;r<l;++r)a[r].face===e&&(a[r].removeAttribute("face"),a[r].style.fontFamily=e,ab.selectElementContents(a[r]))}else""!==s.trim()&&n.innerText,n.style.fontFamily=e}var d=t;d=d?":"+d:"";var c=e.split(",")[0];if("google"===i){var u=!1,p=document.getElementsByTagName("link");for(r=0;r<p.length;r++){var h=p[r].href.toLowerCase();-1!==(h=h.replace(/\+/g," ").replace(/%20/g," ")).indexOf(c.toLowerCase())&&(u=!0)}if(!u){for(var g=n;!ab.hasClass(g,"is-builder");)g=g.parentNode;ab.appendHtml(g,'<link href="//fonts.googleapis.com/css?family='+c+d+'" rel="stylesheet" property="stylesheet" type="text/css">')}}if(!this.builder.inspectedElement){if(this.util.saveSelection(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}this.getState()}for(this.builder.opts.onChange(),setTimeout((()=>{this.builder.opts.onChange()}),300),p=document.getElementsByTagName("link"),r=0;r<p.length;r++){if(-1!==(h=p[r].href.toLowerCase()).indexOf("googleapis"))if(-1!==(c=(h=h.replace(/\+/g," ").replace(/%20/g," ")).substr(h.indexOf("family=")+7)).indexOf(":")&&(c=c.split(":")[0]),-1!==c.indexOf("|")&&(c=c.split("|")[0]),document.body.innerHTML.toLowerCase().split(c).length<3)p[r].getAttribute("data-protect")||p[r].setAttribute("data-rel","_del")}[].forEach.call(document.querySelectorAll('link[data-rel="_del"]'),(function(e){e.parentNode.removeChild(e)}))}setFont(e,t,i,n){let o;var s=this.builderStuff.querySelector(".is-side.elementstyles");if(ab.hasClass(s,"active"))this.builder.uo.saveForUndo(),o=this.builder.inspectedElement,o.style.fontFamily=e,this.builderStuff.querySelector("#inpElmFontFamily").value=e,this.elementStyleEditor.refresh();else{this.builder.isIE&&this.util.restoreSelection();try{let e;window.getSelection?(e=window.getSelection().getRangeAt(0).commonAncestorContainer,o=3===e.nodeType?e.parentNode:e,"H1"!==o.tagName&&"H2"!==o.tagName&&"H3"!==o.tagName&&"H4"!==o.tagName&&"H5"!==o.tagName&&"H6"!==o.tagName&&"P"!==o.tagName&&(o=o.parentNode)):document.selection&&(e=document.selection.createRange(),o=document.selection.createRange().parentElement(),"H1"!==o.tagName&&"H2"!==o.tagName&&"H3"!==o.tagName&&"H4"!==o.tagName&&"H5"!==o.tagName&&"H6"!==o.tagName&&"P"!==o.tagName&&(o=o.parentElement()))}catch(e){return}this.builder.uo.saveForUndo();var a=ab.getSelected();if(""!==a.trim()&&o.innerText!==a){document.execCommand("fontName",!1,e);for(var r=document.getElementsByTagName("font"),l=0,d=r.length;l<d;++l)r[l].face.replace(/'/g,"")===e.replace(/'/g,"")&&(r[l].removeAttribute("face"),r[l].style.fontFamily=e,ab.selectElementContents(r[l]));for(l=0,d=(r=document.querySelectorAll("[face]")).length;l<d;++l){let e=r[l].getAttribute("face");if(-1!==e.indexOf(",")){var c=e.split(",")[0],u=e.split(",")[1];-1!==c.indexOf(" ")&&(e=`'${c}',${u}`)}r[l].style.fontFamily=e,r[l].removeAttribute("face")}}else if(""!==a.trim()&&o.innerText===a){o.style.fontFamily=e;let t=o.querySelectorAll("*");Array.prototype.forEach.call(t,(e=>{""!==e.style.fontFamily&&(e.style.fontFamily="")}))}else o.style.fontFamily=e}var p=t;p=p?":"+p:"";var h="";i&&(h="&display=swap");var g=e.split(",")[0];if(g=g.replace(/'/g,""),"google"===n){var f=!1,m=document.getElementsByTagName("link");for(l=0;l<m.length;l++){var v=m[l].href.toLowerCase();-1!==(v=v.replace(/\+/g," ").replace(/%20/g," ")).indexOf(g.toLowerCase())&&(f=!0)}if(!f){for(var b=o;!ab.hasClass(b,"is-builder");)b=b.parentNode;ab.appendHtml(b,'<link href="//fonts.googleapis.com/css?family='+g+h+p+'" rel="stylesheet" property="stylesheet" type="text/css">')}}if(!this.builder.inspectedElement){if(this.util.saveSelection(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}this.getState()}for(this.builder.opts.onChange(),m=document.getElementsByTagName("link"),l=0;l<m.length;l++)if(-1!==(v=m[l].href.toLowerCase()).indexOf("googleapis")){if(-1!==(g=(v=v.replace(/\+/g," ").replace(/%20/g," ")).substr(v.indexOf("family=")+7)).indexOf(":")&&(g=g.split(":")[0]),-1!==g.indexOf("|")&&(g=g.split("|")[0]),g=g.replace("&display=swap",""),document.body.innerHTML.toLowerCase().split(g).length<3)m[l].getAttribute("data-protect")||m[l].setAttribute("data-rel","_del")}[].forEach.call(document.querySelectorAll('link[data-rel="_del"]'),(function(e){e.parentNode.removeChild(e)}))}positionToolbar(){const e=window.innerWidth,t=window.innerHeight;if("left"===this.builder.opts.toolbar||"right"===this.builder.opts.toolbar){let e=this.rteTool.offsetHeight,i=t/2-e/2;this.rteTool.style.left="",this.rteTool.style.top=i+"px",e=this.elementRteTool.offsetHeight,i=t/2-e/2,this.elementRteTool.style.left="",this.elementRteTool.style.top=i+"px"}else{let t=this.rteTool.offsetWidth,i=e/2-t/2;this.rteTool.style.top="",this.rteTool.style.left=i+"px",t=this.elementRteTool.offsetWidth,i=e/2-t/2,this.elementRteTool.style.top="",this.elementRteTool.style.left=i+"px"}}viewZoom(){this.builder.onZoomOpen&&this.builder.onZoomOpen(),this.inpZoomSlider.value=100*this.builder.opts.zoom;const e=this.builderStuff.querySelector(".viewzoom");this.util.showModal(e,!1,null,!1)}}const lb=new ni;class db{constructor(e={}){this.opts=Object.assign(this,{page:"",container:".container",handler:"saveimage.php",onComplete:function(){},customval:"",stuffPlacement:"#_cbhtml",hiquality:!1},e),this.count=0;let t=document.querySelector(this.opts.stuffPlacement);t||(t=document.createElement("div"),t.id="_cbhtml",t.className="is-ui",lb.appendChild(document.body,t)),this.builderStuff=t}save(){if(""!==this.opts.page){let e=document.querySelector(this.opts.page);this.uploadImages(e)}else{let e=document.querySelectorAll(this.opts.container);Array.prototype.forEach.call(e,(e=>{this.uploadImages(e)}))}var e=setInterval((()=>{let t=!0;if(""!==this.opts.page){let e=document.querySelector(this.opts.page);t=this.checkImages(e)}else{let e=document.querySelectorAll(this.opts.container);Array.prototype.forEach.call(e,(e=>{!1===this.checkImages(e)&&(t=!1)}))}t&&(this.opts.onComplete(),window.clearInterval(e))}),2e3)}checkImages(e){const t=e.querySelectorAll("img");let i=!0;return Array.prototype.forEach.call(t,(e=>{let t=e.getAttribute("src");void 0!==t&&!1!==t&&-1!==t.indexOf("base64")&&(i=!1)})),i}uploadImages(e){if(!e)return;const t=e.querySelectorAll("img");Array.prototype.forEach.call(t,(e=>{let t=e.getAttribute("src");if(void 0!==t&&!1!==t&&-1!==t.indexOf("base64"))if(this.opts.onBase64Upload){let i=t;i=i.replace(/^data:image\/(png|jpeg);base64,/,"");let n=e.getAttribute("data-filename");this.opts.onBase64Upload(e,i,n)}else{this.count++;let o=t;if(o=o.replace(/^data:image\/(png|jpeg);base64,/,""),!this.builderStuff.querySelector("#form-"+this.count)){var i='<form id="form-'+this.count+'" target="frame-'+this.count+'" method="post" enctype="multipart/form-data"><input id="hidimg-'+this.count+'" name="hidimg-'+this.count+'" type="hidden" /><input id="hidname-'+this.count+'" name="hidname-'+this.count+'" type="hidden" /><input id="hidtype-'+this.count+'" name="hidtype-'+this.count+'" type="hidden" /><input id="hidcustomval-'+this.count+'" name="hidcustomval-'+this.count+'" type="hidden" /><input name="count" value="'+this.count+'" type="hidden" /><iframe id="frame-'+this.count+'" name="frame-'+this.count+'" style="width:1px;height:1px;border:none;position:absolute;z-index:-100000;left:-5px;"></iframe></form>';this.builderStuff.insertAdjacentHTML("beforeend",i)}e.setAttribute("id","img-"+this.count),this.builderStuff.querySelector("#hidimg-"+this.count).value=o,this.builderStuff.querySelector("#hidcustomval-"+this.count).value=this.customval;let s=e.getAttribute("data-filename");if(s){let e=s.substr(0,s.lastIndexOf("."))||s;e=e.toLowerCase().replace(/ /g,"-"),this.builderStuff.querySelector("#hidname-"+this.count).value=e}if(this.opts.hiquality)this.builderStuff.querySelector("#hidtype-"+this.count).value="png";else{var n=s.substr(s.lastIndexOf(".")+1);n=n.toLowerCase(),this.builderStuff.querySelector("#hidtype-"+this.count).value="jpg"===n||"jpeg"===n?"jpg":"png"}this.builderStuff.querySelector("#form-"+this.count).setAttribute("action",this.opts.handler+(this.opts.handler.indexOf("?")>=0?"&":"?")+"count="+this.count),this.builderStuff.querySelector("#form-"+this.count).submit()}}))}}const cb=new ni;class ub{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector(".is-tooltip");if(!n){let e='<div class="is-tooltip"></div>';cb.appendHtml(i,e),n=i.querySelector(".is-tooltip")}this.tooltip=n}setAll(e){let t;t=e||this.builderStuff;let i=t.querySelectorAll("[data-title]");Array.prototype.forEach.call(i,(e=>{this.set(e,0,0)}))}set(e,t,i){t||(t=0),i||(i=0);let n=this.tooltip;e.addEventListener("mouseover",(function(o){var s=o.relatedTarget;if(this===s||pb(this,s))return;e=this;let a=window.getComputedStyle(e.parentNode).getPropertyValue("flex-direction"),r=e.getAttribute("data-title");n.innerHTML=r;const l=e.getBoundingClientRect().top+window.pageYOffset,d=e.getBoundingClientRect().left+window.pageXOffset;n.style.display="flex",n.style.whiteSpace="nowrap";const c=e.offsetWidth,u=e.offsetHeight;n.style.marginRight="";const p=window.innerWidth;if(n.style.top=l+u+5+t+"px",u<30&&(n.style.top=l+u+2+t+"px"),"column"===a)n.style.top=l+u/2-n.offsetHeight/2+t+"px",n.style.left=d+c+3+i+"px",p-(d+c)<100&&(n.style.left=d-n.offsetWidth-3+i+"px");else{let e=d+c/2-n.offsetWidth/2+i;n.style.left=e+"px";let t=e+n.offsetWidth;if(t>p){let i=t-p;n.style.left=e-i-3+"px",n.offsetHeight>25&&(n.style.marginRight="5px")}e<0&&(n.style.left="3px")}e.hasAttribute("data-tooltip-top")&&(n.style.top=l-n.offsetHeight-3+"px"),e.removeAttribute("title")}),!1),e.addEventListener("mouseout",(function(t){var i=t.relatedTarget;this===i||pb(this,i)||((e=this).setAttribute("title",e.getAttribute("data-title")),n.style.display="none")}),!1),e.addEventListener("click",(function(t){var i=t.relatedTarget;this===i||pb(this,i)||((e=this).setAttribute("title",e.getAttribute("data-title")),n.style.display="none")}),!1)}}function pb(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}const hb=new ni;class gb{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=`\n            <div class="is-lightbox lightbox-externalvideo">\n                <button class="cmd-lightbox-close" title="${t.out("Close")}" type="button" style="flex:none;position:absolute;top:0;right:0;background:none;z-index:1;">\n                    <svg><use xlink:href="#icon-close"></use></svg>\n                </button>\n                <div class="lightbox-content" style="width:100%;">\n                    <div class="embed-responsive embed-responsive-16by9" style="width:100%;">\n                    <iframe width="560" height="315" src="about:blank" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                    </div>\n                </div>\n            </div>\n            <div class="is-lightbox lightbox-video light">\n                <button class="cmd-lightbox-close" title="${t.out("Close")}" type="button" style="flex:none;position:absolute;top:0;right:0;background:none;z-index:1;">\n                    <svg><use xlink:href="#icon-close"></use></svg>\n                </button>\n                <div class="lightbox-content" style="width:100%;"></div>\n            </div>\n            <div class="is-lightbox lightbox-image light">\n                <button class="cmd-lightbox-close" title="${t.out("Close")}" type="button" style="flex:none;position:absolute;top:0;right:0;background:none;z-index:1;">\n                    <svg><use xlink:href="#icon-close"></use></svg>\n                </button>\n                <div class="lightbox-content" style="width:100%;"></div>\n            </div>\n            <svg width="0" height="0" style="position:absolute;display:none;">\n                <defs>\n                    <symbol viewBox="0 0 24 24" id="icon-close" stroke-width="0.7" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>\n                    </symbol>\n                </defs>\n            </svg>\n        `;hb.appendHtml(this.builderStuff,n);this.builderStuff.querySelectorAll("div.is-lightbox").forEach((e=>{e.addEventListener("click",(t=>{if(hb.parentsHasClass(t.target,"lightbox-content"))return;hb.removeClass(e,"active");e.querySelector(".cmd-lightbox-close").style.opacity=0,document.body.style.overflowY="",setTimeout((()=>{let t=e.querySelector("iframe");t&&t.setAttribute("src","about:blank"),e.style.display="",this.builder.preserveSelection=!1}),300)}))}))}openImage(e,t,i){this.builder.preserveSelection=!0;let n=this.builderStuff.querySelector("div.is-lightbox.lightbox-image");window.frameElement&&!n&&(n=parent.document.querySelector(".is-lightbox.lightbox-image"));const o=n.querySelector(".cmd-lightbox-close");o.style.opacity=0,i&&(n.style.backgroundColor=i);n.querySelector(".lightbox-content").innerHTML="<img src="+e+">","light"===t?(hb.addClass(n,"light"),hb.removeClass(n,"dark")):(hb.addClass(n,"dark"),hb.removeClass(n,"light")),n.style.display="flex",window.frameElement||(document.body.style.overflowY="hidden"),setTimeout((()=>{hb.addClass(n,"active"),setTimeout((()=>{o.style.opacity=1}),450)}),10)}openVideo(e,t,i){this.builder.preserveSelection=!0;let n=document.querySelector(".is-lightbox.lightbox-video");window.frameElement&&!n&&(n=parent.document.querySelector(".is-lightbox.lightbox-video"));const o=n.querySelector(".cmd-lightbox-close");o.style.opacity=0,i&&(n.style.backgroundColor=i);n.querySelector(".lightbox-content").innerHTML='<video class="is-video-bg" playsinline controls autoplay width="100%"><source src="'+e+'" type="video/mp4"></video>',"light"===t?(hb.addClass(n,"light"),hb.removeClass(n,"dark")):(hb.addClass(n,"dark"),hb.removeClass(n,"light")),n.style.display="flex",window.frameElement||(document.body.style.overflowY="hidden"),setTimeout((()=>{hb.addClass(n,"active"),setTimeout((()=>{o.style.opacity=1}),450)}),10)}openExternalVideo(e,t,i){this.builder.preserveSelection=!0;let n=document.querySelector(".is-lightbox.lightbox-externalvideo");window.frameElement&&!n&&(n=parent.document.querySelector(".is-lightbox.lightbox-externalvideo"));const o=n.querySelector(".cmd-lightbox-close");o.style.opacity=0,i&&(n.style.backgroundColor=i),"light"===t?(hb.addClass(n,"light"),hb.removeClass(n,"dark")):(hb.addClass(n,"dark"),hb.removeClass(n,"light"));const s=n.querySelector("iframe");""!==(e=this.getIframeVideoUrl(e))&&s.setAttribute("src",e),n.style.display="flex",window.frameElement||(document.body.style.overflowY="hidden");const a=n.querySelector(".lightbox-content");a.style.width=16*a.offsetHeight/9+"px",setTimeout((()=>{hb.addClass(n,"active"),setTimeout((()=>{o.style.opacity=1}),450)}),10)}getIframeVideoUrl(e){let t=e.match(/^.*(?:https?:)?(?:\/\/)?(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/\S*?[^\w\s-])((?!videoseries)[\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/),i=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/)|(video\/))?([0-9]+)\/?/.exec(e);if((null!==t||null!==i)&&-1===e.indexOf("player.vimeo.com")&&-1===e.indexOf("youtube.com/embed/")){if(null!==t){e="https://www.youtube.com/embed/"+t[1]+"?rel=0&autoplay=1&color=white"}if(null!==i&&i.length>=7){e="https://player.vimeo.com/video/"+i[6]}}return e}}const fb=new ni;class mb{constructor(){let e=document.querySelectorAll(".is-tabs a");Array.prototype.forEach.call(e,(e=>{fb.addEventListener(e,"click",(t=>{const i=e.getAttribute("data-menu");if(i)return document.querySelector("#"+i).style.display="block",t.preventDefault(),!1;if(fb.hasClass(e,"active"))return t.preventDefault(),!1;const n=e.getAttribute("data-content");if(!n)return t.preventDefault(),!1;const o=e.parentNode.getAttribute("data-group");let s=document.querySelectorAll('.is-tabs[data-group="'+o+'"] > a');Array.prototype.forEach.call(s,(e=>{fb.removeClass(e,"active")})),s=document.querySelectorAll('.is-tabs-more[data-group="'+o+'"] > a'),Array.prototype.forEach.call(s,(e=>{fb.removeClass(e,"active")})),fb.addClass(e,"active");let a=document.querySelectorAll('.is-tab-content[data-group="'+o+'"]');return Array.prototype.forEach.call(a,(e=>{e.style.display="none"})),document.querySelector("#"+n).style.display="flex",document.querySelector(".is-tabs-more").style.display="none",t.preventDefault(),!1}))})),e=document.querySelectorAll(".is-tabs-more a"),Array.prototype.forEach.call(e,(e=>{fb.addEventListener(e,"click",(t=>{if(fb.hasClass(e,"active"))return t.preventDefault(),!1;const i=e.getAttribute("data-content");if(!i)return t.preventDefault(),!1;const n=e.parentNode.getAttribute("data-group");let o=document.querySelectorAll('.is-tabs[data-group="'+n+'"] > a');Array.prototype.forEach.call(o,(e=>{fb.removeClass(e,"active")})),o=document.querySelectorAll('.is-tabs-more[data-group="'+n+'"] > a'),Array.prototype.forEach.call(o,(e=>{fb.removeClass(e,"active")})),fb.addClass(e,"active");const s=document.querySelectorAll('.is-tab-content[data-group="'+n+'"]');return Array.prototype.forEach.call(s,(e=>{e.style.display="none"})),document.querySelector("#"+i)&&(document.querySelector("#"+i).style.display="flex"),document.querySelector(".is-tabs-more")&&(document.querySelector(".is-tabs-more").style.display="none"),t.preventDefault(),!1}))}));let t=!1;document.addEventListener("mousedown",(e=>{var i=(e=e||window.event).target||e.srcElement;let n=document.querySelectorAll(".is-tabs-more");if(Array.prototype.forEach.call(n,(e=>{"block"===e.style.display&&(t=!0)})),t){let e=fb.parentsHasAttribute(i,"data-menu"),t=fb.parentsHasClass(i,"is-tabs-more");e||t||document.querySelector(".is-tabs-more")&&(document.querySelector(".is-tabs-more").style.display="none")}})),document.addEventListener("click",(e=>{var i=(e=e||window.event).target||e.srcElement;if(t){let e=fb.parentsHasAttribute(i,"data-menu"),t=fb.parentsHasClass(i,"is-tabs-more");e||t||document.querySelector(".is-tabs-more")&&(document.querySelector(".is-tabs-more").style.display="none")}}))}}const vb=new ni;class bb{constructor(e={}){if(this.opts=Object.assign(this,{page:"",container:".container",row:"",cols:[],colequal:[],colsizes:[],imageQuality:.92,elementSelection:!0,paste:"text",snippetJSON:{snippets:[]},scriptPath:"",plugins:[],pluginPath:"contentbuilder/",disableConfig:!1,modulePath:"assets/modules/",assetPath:"assets/",fontAssetPath:"assets/fonts/",snippetData:"assets/minimalist-blocks/snippetlist.html",snippetUrl:"assets/minimalist-blocks/content.js",snippetPath:"assets/minimalist-blocks/",snippetPathReplace:[],snippetCategories:[[120,"Basic"],[118,"Article"],[101,"Headline"],[119,"Buttons"],[102,"Photos"],[103,"Profile"],[116,"Contact"],[104,"Products"],[105,"Features"],[106,"Process"],[107,"Pricing"],[108,"Skills"],[109,"Achievements"],[110,"Quotes"],[111,"Partners"],[112,"As Featured On"],[113,"Page Not Found"],[114,"Coming Soon"],[115,"Help, FAQ"]],defaultSnippetCategory:120,snippetHandle:!0,sidePanel:"right",snippetList:"#divSnippetList",onRender:function(){},onChange:function(){},largerImageHandler:"",mediaHandler:"",videoHandler:"",colors:["#ff8f00","#ef6c00","#d84315","#c62828","#58362f","#37474f","#353535","#f9a825","#9e9d24","#558b2f","#ad1457","#6a1b9a","#4527a0","#616161","#00b8c9","#009666","#2e7d32","#0277bd","#1565c0","#283593","#9e9e9e"],builderMode:"",rowTool:"right",rowcolOutline:!0,columnTool:!0,outlineMode:"",toolStyle:"",outlineStyle:"",snippetAddTool:!0,elementTool:!0,elementHighlight:!0,columnHtmlEditor:!0,rowHtmlEditor:!0,htmlSyntaxHighlighting:!0,snippetOpen:!1,toolbar:"top",toolbarDisplay:"auto",snippetsSidebarDisplay:"auto",imageEmbed:!0,imageselect:"",fileselect:"",imageSelect:"",fileSelect:"",videoSelect:"",assetRefresh:!1,customTags:[],buttons:["bold","italic","underline","formatting","color","align","textsettings","createLink","tags","|","undo","redo","zoom","more"],buttonsMore:["icon","image","|","list","font","formatPara","|","html","preferences"],elementButtons:["left","center","right","full","undo","redo","zoom","more"],elementButtonsMore:["|","html","preferences"],iconButtons:["icon","color","textsettings","createLink","|","undo","redo","zoom","more"],iconButtonsMore:["|","html","preferences"],lang:[],checkLang:!1,clearPreferences:!1,toolbarAddSnippetButton:!1,animateModal:!0,defaultFontSizes:[16,17,18,19,24,32,48,76,96,120,200,300],fontSizeClassValues:[12,14,15,16,17,18,19,21,24,28,32,35,38,42,46,48,50,54,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,256,260,264,268,272,276,280,284,288,292,296,300,304,308,312,316,320,324,328,332,336,340,344,348,352,356,360,364,368,372,376,380,384,388,392,396,400],gradientcolors:[["linear-gradient(0deg, rgb(255, 57, 25), rgb(249, 168, 37))"],["linear-gradient(0deg, rgb(255, 57, 25), rgb(255, 104, 15))"],["linear-gradient(0deg, #FF5722, #FF9800)"],["linear-gradient(0deg, #613ca2, rgb(110, 123, 217))"],["linear-gradient(0deg, rgb(65, 70, 206), rgb(236, 78, 130))"],["linear-gradient(0deg, rgb(0, 150, 102), rgb(90, 103, 197))"],["linear-gradient(30deg, rgb(249, 119, 148), rgb(98, 58, 162))"],["linear-gradient(0deg, rgb(223, 70, 137), rgb(90, 103, 197))"],["linear-gradient(0deg, rgb(40, 53, 147), rgb(90, 103, 197))"],["linear-gradient(0deg, rgb(21, 101, 192), rgb(52, 169, 239))"],["linear-gradient(0deg, rgb(32, 149, 219), rgb(139, 109, 230))"],["linear-gradient(0deg, rgb(90, 103, 197), rgb(0, 184, 201))"],["linear-gradient(0deg, rgb(0, 184, 201), rgb(253, 187, 45))"],["linear-gradient(0deg, rgb(255, 208, 100), rgb(239, 98, 159))"],["linear-gradient(0deg, rgb(0, 214, 223), rgb(130, 162, 253))"],["linear-gradient(0deg, rgb(50, 234, 251), rgb(248, 247, 126))"],["linear-gradient(0deg, rgb(141, 221, 255), rgb(255, 227, 255))"],["linear-gradient(0deg, rgb(255, 170, 170), rgb(255, 255, 200))"],["linear-gradient(0deg, rgb(239, 239, 239), rgb(252, 252, 252))"]],elementEditor:!0,customval:"",moduleConfig:[],elementAnimate:!1,framework:"",cellFormat:"",rowFormat:"",emailMode:!1,absolutePath:!1,emailSnippetCategories:[[1,"Logo"],[14,"Call to Action"],[2,"Title"],[3,"Title, Subtitle"],[4,"Info, Title"],[7,"Paragraph"],[6,"Heading"],[8,"Buttons"],[9,"Callouts"],[10,"Images + Caption"],[12,"Images"],[13,"List"],[15,"Pricing"],[16,"Quotes"],[17,"Profile"],[18,"Contact Info"],[19,"Footer"],[20,"Separator"]],defaultEmailSnippetCategory:14,undoRedoStyles:!1,maxEmbedImageWidth:1600,zoom:1,useLightbox:!1,imageRenameOnEdit:!0,disableAutoEmbedVideo:!1,colHeight:[300,350,400,450,500,550,600,650,700],cssClasses:{fontWeight:{thin:"font-thin",extralight:"font-extralight",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black",defaultBold:"font-semibold",defaultNormal:"font-light"},fontStyle:{italic:"italic",normal:"not-italic"},textDecoration:{underline:"underline",linethrough:"line-through",normal:"no-underline"},textTransform:{uppercase:"uppercase",lowercase:"lowercase",capitalize:"capitalize",normal:"normal-case"},tracking:{tracking__100:"tracking--100",tracking__075:"tracking--75",tracking__050:"tracking-tighter",tracking__025:"tracking-tight",tracking_000:"tracking-normal",tracking_025:"tracking-wide",tracking_050:"tracking-wider",tracking_075:"tracking-75",tracking_100:"tracking-widest",tracking_125:"tracking-125",tracking_150:"tracking-150",tracking_175:"tracking-175",tracking_200:"tracking-200",tracking_225:"tracking-225",tracking_250:"tracking-250",tracking_275:"tracking-275",tracking_300:"tracking-300",tracking_325:"tracking-325",tracking_350:"tracking-350",tracking_375:"tracking-375",tracking_400:"tracking-400",tracking_425:"tracking-425",tracking_450:"tracking-450",tracking_475:"tracking-475",tracking_500:"tracking-500"},leading:{leading_5:"leading-05",leading_6:"leading-06",leading_7:"leading-07",leading_8:"leading-08",leading_9:"leading-09",leading_10:"leading-none",leading_11:"leading-11",leading_12:"leading-12",leading_125:"leading-tight",leading_13:"leading-13",leading_1375:"leading-snug",leading_14:"leading-14",leading_15:"leading-normal",leading_16:"leading-16",leading_1625:"leading-relaxed",leading_17:"leading-17",leading_18:"leading-18",leading_19:"leading-19",leading_20:"leading-loose",leading_21:"leading-21",leading_22:"leading-22",leading_23:"leading-23",leading_24:"leading-24",leading_25:"leading-25",leading_26:"leading-26",leading_27:"leading-27",leading_28:"leading-28",leading_29:"leading-29",leading_30:"leading-30"},opacity:{opacity_0:"opacity-0",opacity_2:"opacity-2",opacity_4:"opacity-4",opacity_5:"opacity-5",opacity_6:"opacity-6",opacity_8:"opacity-8",opacity_10:"opacity-10",opacity_12:"opacity-12",opacity_15:"opacity-15",opacity_20:"opacity-20",opacity_25:"opacity-25",opacity_30:"opacity-30",opacity_35:"opacity-35",opacity_40:"opacity-40",opacity_45:"opacity-45",opacity_50:"opacity-50",opacity_55:"opacity-55",opacity_60:"opacity-60",opacity_65:"opacity-65",opacity_70:"opacity-70",opacity_75:"opacity-75",opacity_80:"opacity-80",opacity_85:"opacity-85",opacity_90:"opacity-90",opacity_95:"opacity-95",opacity_100:"opacity-100"},padding:{all:{p_0:"p-0",p_1:"p-1",p_2:"p-2",p_3:"p-3",p_4:"p-4",p_5:"p-5",p_6:"p-6",p_7:"p-7",p_8:"p-8",p_9:"p-9",p_10:"p-10",p_11:"p-11",p_12:"p-12",p_14:"p-14",p_16:"p-16",p_20:"p-20"},x:{px_0:"px-0",px_1:"px-1",px_2:"px-2",px_3:"px-3",px_4:"px-4",px_5:"px-5",px_6:"px-6",px_7:"px-7",px_8:"px-8",px_9:"px-9",px_10:"px-10",px_11:"px-11",px_12:"px-12",px_14:"px-14",px_16:"px-16",px_20:"px-20"},y:{py_0:"py-0",py_1:"py-1",py_2:"py-2",py_3:"py-3",py_4:"py-4",py_5:"py-5",py_6:"py-6",py_7:"py-7",py_8:"py-8",py_9:"py-9",py_10:"py-10",py_11:"py-11",py_12:"py-12",py_14:"py-14",py_16:"py-16",py_20:"py-20"},top:{pt_0:"pt-0",pt_1:"pt-1",pt_2:"pt-2",pt_3:"pt-3",pt_4:"pt-4",pt_5:"pt-5",pt_6:"pt-6",pt_7:"pt-7",pt_8:"pt-8",pt_9:"pt-9",pt_10:"pt-10",pt_11:"pt-11",pt_12:"pt-12",pt_14:"pt-14",pt_16:"pt-16",pt_20:"pt-20"},right:{pr_0:"pr-0",pr_1:"pr-1",pr_2:"pr-2",pr_3:"pr-3",pr_4:"pr-4",pr_5:"pr-5",pr_6:"pr-6",pr_7:"pr-7",pr_8:"pr-8",pr_9:"pr-9",pr_10:"pr-10",pr_11:"pr-11",pr_12:"pr-12",pr_14:"pr-14",pr_16:"pr-16",pr_20:"pr-20"},bottom:{pb_0:"pb-0",pb_1:"pb-1",pb_2:"pb-2",pb_3:"pb-3",pb_4:"pb-4",pb_5:"pb-5",pb_6:"pb-6",pb_7:"pb-7",pb_8:"pb-8",pb_9:"pb-9",pb_10:"pb-10",pb_11:"pb-11",pb_12:"pb-12",pb_14:"pb-14",pb_16:"pb-16",pb_20:"pb-20"},left:{pl_0:"pl-0",pl_1:"pl-1",pl_2:"pl-2",pl_3:"pl-3",pl_4:"pl-4",pl_5:"pl-5",pl_6:"pl-6",pl_7:"pl-7",pl_8:"pl-8",pl_9:"pl-9",pl_10:"pl-10",pl_11:"pl-11",pl_12:"pl-12",pl_14:"pl-14",pl_16:"pl-16",pl_20:"pl-20"}},extend:{superscript:"sup",subscript:"sub"},textAlign:{left:"text-left",center:"text-center",right:"text-right",justify:"text-justify"},display:{flex:"flex",block:"block",inline:"inline",inline_block:"inline-block"},flexDirection:{row:"flex-row",column:"flex-col",row_reverse:"flex-row-reverse",column_reverse:"flex-col-reverse"},flexWrap:{wrap:"flex-wrap",nowrap:"flex-nowrap",wrap_reverse:"flex-wrap-reverse"},justifyContent:{start:"justify-start",end:"justify-end",center:"justify-center",between:"justify-between",around:"justify-around",evenly:"justify-evenly"},alignItems:{start:"items-start",end:"items-end",center:"items-center",baseline:"items-baseline",stretch:"items-stretch"}},useCssClasses:!0,useButtonPlugin:!1},e),window.data_basic&&(this.opts.snippetJSON=window.data_basic,""===this.opts.snippetPath&&(this.opts.snippetPath=window._snippets_path)),this.opts.snippetDisplay&&("auto"===this.opts.snippetDisplay?this.opts.snippetsSidebarDisplay="auto":this.opts.snippetsSidebarDisplay="always"),""===this.opts.scriptPath&&(this.opts.scriptPath=this.currentScriptPath()),window._txt&&(this.opts.lang=window._txt),this.settings=this.opts,""!==this.opts.imageSelect?this.opts.imageselect=this.opts.imageSelect:""!==this.opts.imageselect&&(this.opts.imageSelect=this.opts.imageselect),""!==this.opts.fileSelect?this.opts.fileselect=this.opts.fileSelect:""!==this.opts.fileselect&&(this.opts.fileSelect=this.opts.fileselect),""!==this.opts.videoSelect?this.opts.videoselect=this.opts.videoSelect:""!==this.opts.videoselect&&(this.opts.videoSelect=this.opts.videoselect),""!==this.opts.largerImageHandler?this.opts.mediaHandler=this.opts.largerImageHandler:""!==this.opts.mediaHandler&&(this.opts.largerImageHandler=this.opts.mediaHandler),this.opts.onLargerImageUpload?this.opts.onMediaUpload=this.opts.onLargerImageUpload:this.opts.onMediaUpload&&(this.opts.onLargerImageUpload=this.opts.onMediaUpload),this.opts.emailMode&&(this.useButtonPlugin=!0),!this.useButtonPlugin){let e=this.plugins.filter((e=>"buttoneditor"!==e.name));this.plugins=[...e]}"bootstrap"===this.opts.framework?(this.opts.row="row",this.opts.cols=["col-md-1","col-md-2","col-md-3","col-md-4","col-md-5","col-md-6","col-md-7","col-md-8","col-md-9","col-md-10","col-md-11","col-md-12"],this.opts.colequal=[],this.opts.colsizes=[]):"tailwind"===this.opts.framework?(this.opts.row="flex flex-col md:flex-row",this.opts.cols=["w-full md:w-1/12 px-4","w-full md:w-2/12 px-4","w-full md:w-3/12 px-4","w-full md:w-4/12 px-4","w-full md:w-5/12 px-4","w-full md:w-6/12 px-4","w-full md:w-7/12 px-4","w-full md:w-8/12 px-4","w-full md:w-9/12 px-4","w-full md:w-10/12 px-4","w-full md:w-11/12 px-4","w-full px-4"],this.opts.colequal=[],this.opts.colsizes=[]):"foundation"===this.opts.framework?(this.opts.row="row",this.opts.cols=["large-1 columns","large-2 columns","large-3 columns","large-4 columns","large-5 columns","large-6 columns","large-7 columns","large-8 columns","large-9 columns","large-10 columns","large-11 columns","large-12 columns"],this.opts.colequal=[],this.opts.colsizes=[]):"material"===this.opts.framework?(this.opts.row="mdl-grid",this.opts.cols=["mdl-cell mdl-cell--1-col","mdl-cell mdl-cell--2-col","mdl-cell mdl-cell--3-col","mdl-cell mdl-cell--4-col","mdl-cell mdl-cell--5-col","mdl-cell mdl-cell--6-col","mdl-cell mdl-cell--7-col","mdl-cell mdl-cell--8-col","mdl-cell mdl-cell--9-col","mdl-cell mdl-cell--10-col","mdl-cell mdl-cell--11-col","mdl-cell mdl-cell--12-col"],this.opts.colequal=[],this.opts.colsizes=[]):"uikit"===this.opts.framework?(this.opts.row="",this.opts.cols=[],this.opts.colequal=[],this.opts.colsizes=[],this.opts.cellFormat='<div class="uk-width-1-1"></div>',this.opts.rowFormat='<div class="uk-grid"></div>'):""!==this.opts.row&&this.opts.cols.length>0||""===this.opts.cellFormat&&""===this.opts.rowFormat&&(this.opts.row="row clearfix",this.opts.cols=["column sixth","column fifth","column fourth","column third","column half","column two-third","column two-fourth","column two-fifth","column two-sixth","column full"],this.opts.colequal=[["column sixth","column sixth","column sixth","column sixth","column sixth","column sixth"],["column fifth","column fifth","column fifth","column fifth","column fifth"],["column fourth","column fourth","column fourth","column fourth"],["column third","column third","column third"],["column half","column half"]],this.opts.colsizes=[[["column third","column third","column third"],["column half","column fourth","column fourth"]],[["column sixth","column two-sixth"],["column fifth","column two-fifth"],["column fourth","column two-fourth"],["column third","column two-third"],["column half","column half"],["column two-third","column third"],["column two-fourth","column fourth"],["column two-fifth","column fifth"],["column two-sixth","column sixth"]]]),this.sortableObjects=[];const t=new ii(this);this.util=t,this.isTouchSupport=t.isTouchSupport(),this.isIE=t.detectIE(),this.opts.clearPreferences&&t.clearPreferences(),this.uoTm=null,this.uo=new Vo(this),this.dom=vb,this.cbDom=vb,this.autoclean=!1,this.filesAdded="",this.opts.emailMode&&this.applyStyle("emailmode",".is-builder > div {display: block}");let i=document.querySelector("#_cbhtml");i||(i=vb.createElement("div"),i.id="_cbhtml",i.className="is-ui",vb.appendChild(document.body,i)),this.builderStuff=i,Ko(),this.preferences=new nb(this),(e=>{const t=e.util,i=e.builderStuff,n=new ts(e),o=new Wo(e);let s="";e.opts.rowHtmlEditor&&(s=`<button title="${t.out("HTML")}" class="row-html">\n            <svg class="is-icon-flex" style="margin-right:-3px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>\n        </button>`);let a="";e.opts.columnHtmlEditor&&(a=`<button title="${t.out("HTML")}" class="cell-html">\n            <svg class="is-icon-flex" style="margin-right:-3px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>\n        </button>`);const r=`<div class="is-modal is-modal-content grideditor">\n        <div class="is-modal-bar is-draggable">\n            <div class="is-modal-close" role="button" tabindex="0" title="${t.out("Close")}">&#10005;</div>\n        </div>\n        <div style="padding:13px 0 5px 18px;font-size:10px;text-transform:uppercase;letter-spacing:1px;">${t.out("Row")}</div>\n        <div style="display:flex;flex-flow:wrap;">\n            <button title="${t.out("Add")}" class="row-add"><svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            <button title="${t.out("Duplicate")}" class="row-duplicate" style="display: block;"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n            <button title="${t.out("Move Up")}" class="row-up" style="display: block;"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n            <button title="${t.out("Move Down")}" class="row-down" style="display: block;"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n            ${s}\n            <button title="${t.out("Delete")}" class="row-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n        </div>\n        <div style="padding:8px 0 5px 18px;font-size:11px;text-transform:uppercase;letter-spacing:1px;">${t.out("Column")}</div>\n        <div style="display:flex;flex-flow:wrap;">\n            <button title="${t.out("Add")}" class="cell-add"><svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            <button title="${t.out("Duplicate")}" class="cell-duplicate"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n            <button title="${t.out("Move Up")}" class="cell-up"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n            <button title="${t.out("Move Down")}" class="cell-down"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n            <button title="${t.out("Move Left")}" class="cell-prev"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-left"></use></svg></button>\n            <button title="${t.out("Move Right")}" class="cell-next"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-right"></use></svg></button>\n            <button title="${t.out("Increase")}" class="cell-increase"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-increase"></use></svg></button>\n            <button title="${t.out("Decrease")}" class="cell-decrease"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-decrease"></use></svg></button>\n            ${a}\n            <button title="${t.out("Delete")}" class="cell-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            <button title="${t.out("Lock")}" class="cell-locking"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#icon-lock"></use></svg></button>\n            <button title="${t.out("Column Settings")}" class="cell-settings"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></button>\n               \n            <div class="is-separator">\n                <button title="${t.out("Outline")}" class="grid-outline"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-grid-view-outline"></use></svg></button>\n                \x3c!--<button title="${t.out("Element Tool")}" class="cell-elmtool"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></button>--\x3e\n            </div>\n        </div>\n    </div>`;hs.appendHtml(i,r),new ps({selector:".is-draggable"});const l=document.querySelector(".grideditor");document.addEventListener("click",(e=>{var t=(e=e||window.event).target||e.srcElement;if(hs.hasClass(l,"active")){let e=hs.parentsHasClass(t,"is-builder"),i=hs.parentsHasClass(t,"grideditor"),n=hs.parentsHasClass(t,"is-modal"),o=hs.parentsHasClass(t,"is-pop"),s=hs.parentsHasClass(t,"rte-grideditor")||hs.hasClass(t,"rte-grideditor");if(e||i||n||o||s)return void(l.style.display="");l.style.display="none"}}),!1);let d=l.querySelector(".is-modal-close");hs.addEventListener(d,"click",(()=>{hs.removeClass(l,"active");const t=document.querySelectorAll(e.opts.container);Array.prototype.forEach.call(t,(e=>{e.removeAttribute("grideditor")}))}));const c=l.querySelector(".grid-outline");hs.addEventListener(c,"click",(()=>{const t=document.querySelectorAll(e.opts.container);Array.prototype.forEach.call(t,(e=>{e.hasAttribute("gridoutline")?(e.removeAttribute("gridoutline"),hs.removeClass(c,"on")):(e.setAttribute("gridoutline",""),hs.addClass(c,"on"))}))}));const u=Jo(e);d=l.querySelector(".cell-add"),hs.addEventListener(d,"click",(()=>{u.querySelector(".is-pop-tabs").style.display="flex";const e=l.querySelector(".cell-add"),t=e.getBoundingClientRect().top+window.pageYOffset,i=e.getBoundingClientRect().left+window.pageXOffset;u.style.display="flex";const n=u.offsetWidth;u.style.top=t+"px",u.style.left=i-n-8+"px",hs.removeClass(u,"arrow-bottom"),hs.removeClass(u,"arrow-left"),hs.removeClass(u,"arrow-top"),hs.removeClass(u,"center"),hs.removeClass(u,"left"),hs.addClass(u,"arrow-right"),hs.addClass(u,"right"),"left"===u.querySelector(".active").getAttribute("data-value")?u.setAttribute("data-mode","cell-left"):u.setAttribute("data-mode","cell-right")})),d=l.querySelector(".cell-prev"),hs.addEventListener(d,"click",(()=>{n.moveColumnPrevious(),t.clearControls()})),d=l.querySelector(".cell-next"),hs.addEventListener(d,"click",(()=>{n.moveColumnNext(),t.clearControls()})),d=l.querySelector(".cell-increase"),hs.addEventListener(d,"click",(()=>{n.increaseColumn(),t.clearControls()})),d=l.querySelector(".cell-decrease"),hs.addEventListener(d,"click",(()=>{n.decreaseColumn(),t.clearControls()})),d=l.querySelector(".cell-up"),hs.addEventListener(d,"click",(()=>{n.moveColumnUp(),t.clearControls()})),d=l.querySelector(".cell-down"),hs.addEventListener(d,"click",(()=>{n.moveColumnDown(),t.clearControls()})),d=l.querySelector(".cell-duplicate"),hs.addEventListener(d,"click",(()=>{n.duplicateColumn(),t.clearControls()})),d=l.querySelector(".cell-remove"),hs.addEventListener(d,"click",(()=>{n.removeColumn(),t.clearControls()})),d=l.querySelector(".cell-html"),d&&hs.addEventListener(d,"click",(()=>{t.cellSelected()&&o.view("cell")})),d=l.querySelector(".cell-settings"),d&&hs.addEventListener(d,"click",(()=>{const i=t.cellSelected();if(!i)return;e.colTool.readCellStyles(i),t.saveSelection();const n=document.querySelector(".is-modal.columnsettings");t.showModal(n,!1,(()=>{"flex"===e.builderStuff.querySelector(".is-rte-tool").style.display&&t.restoreSelection()}))}));const p=l.querySelector(".cell-locking");p&&hs.addEventListener(p,"click",(i=>{let n=t.cellSelected();n&&(n.hasAttribute("data-noedit")?(n.removeAttribute("data-noedit"),n.contentEditable=!0,hs.removeClass(p,"on")):(n.setAttribute("data-noedit",""),n.contentEditable=!1,hs.addClass(p,"on"),t.clearActiveElement(!0)),e.colTool.showHideLockIndicator(n),e.element.applyBehavior(n),i.preventDefault())})),d=l.querySelector(".row-add"),hs.addEventListener(d,"click",(()=>{u.querySelector(".is-pop-tabs").style.display="none";const e=l.querySelector(".row-add"),t=e.getBoundingClientRect().top+window.pageYOffset,i=e.getBoundingClientRect().left+window.pageXOffset;u.style.display="flex";const n=u.offsetWidth;u.style.top=t+"px",u.style.left=i-n-8+"px",hs.removeClass(u,"arrow-bottom"),hs.removeClass(u,"arrow-left"),hs.removeClass(u,"arrow-top"),hs.removeClass(u,"center"),hs.removeClass(u,"left"),hs.addClass(u,"arrow-right"),hs.addClass(u,"right"),u.setAttribute("data-mode","row")})),d=l.querySelector(".row-up"),hs.addEventListener(d,"click",(()=>{n.moveRowUp(),t.clearControls()})),d=l.querySelector(".row-down"),hs.addEventListener(d,"click",(()=>{n.moveRowDown(),t.clearControls()})),d=l.querySelector(".row-duplicate"),hs.addEventListener(d,"click",(()=>{n.duplicateRow(),t.clearControls()})),d=l.querySelector(".row-remove"),hs.addEventListener(d,"click",(()=>{n.removeRow(),t.clearControls()})),d=l.querySelector(".row-html"),d&&hs.addEventListener(d,"click",(()=>{t.cellSelected()&&o.view("row")}))})(this),this.preview=!1;const n=document.querySelectorAll(this.opts.container);Array.prototype.forEach.call(n,(e=>{vb.hasClass(e,"preview")&&(this.preview=!0)})),this.preview||this.opts.snippetJSON.snippets.length>0&&yr(this),this.colTool=new Ev(this);var o=this.opts.onChange;if(this.opts.onChange=()=>{var e=o.apply(this,arguments);return this.activeCol&&this.util.repositionColumnTool(),this.elmTool.repositionElementTool(!0),this.element.image.imageTool.style.display="",this.element.module.moduleTool.style.display="",this.colTool.lockIndicator.style.display="",e},this.elmTool=new tb(this),this.element=new tv(this),this.rte=new rb(this),this.tooltip=new ub(this),this.lightbox=new gb(this),this.preview||this.applyBehavior(),!this.preview)if(this.opts.plugins.length>0)this.loadPlugins();else if(void 0===this.opts.scriptPath&&""===this.opts.pluginPath);else if(!this.opts.disableConfig){let e=this.opts.scriptPath+"config.js";""!==this.opts.pluginPath&&(e=this.opts.pluginPath+"config.js"),this.loadScript(e).then((()=>{this.opts.plugins.length>0&&this.loadPlugins()}),(()=>{console.log("Fail to load config")}))}new mb,this.colorPicker=new rv({lang:this.opts.lang,colors:this.opts.colors}),this.colorClassPicker=new sb({lang:this.opts.lang}),document.addEventListener("click",this.doDocumentClick=e=>{let i,n=(e=e||window.event).target||e.srcElement;if(!n)return;n.parentNode&&(i=vb.hasClass(n.parentNode,"is-builder"));let o=vb.hasClass(n,"is-builder"),s=!1,a=!1,r=!1,l=!1,d=!1,c=!1,u=!1,p=!1,h=!1,g=!1,f=!1,m=!1,v=!1,b=!1,y=n;for(;y&&y.tagName&&"BODY"!==y.tagName&&"HTML"!==y.tagName;){if(vb.hasClass(y,"is-builder")&&(s=!0),vb.hasClass(y,"is-modal")&&(a=!0),vb.hasClass(y,"is-side")&&(r=!0),vb.hasClass(y,"is-pop")&&(l=!0),vb.hasClass(y,"is-tool")&&(d=!0),(vb.hasClass(y,"is-rte-tool")||vb.hasClass(y,"is-elementrte-tool"))&&(c=!0),vb.hasClass(y,"is-rte-pop")&&(u=!0),vb.hasClass(y,"row-add-initial")&&(p=!0),(vb.hasClass(y,"sl-wrapper")||vb.hasClass(y,"sl-overlay")||vb.hasClass(y,"sl-close"))&&(h=!0),(vb.hasClass(y,"is-selectbox")||vb.hasClass(y,"is-selectbox-options"))&&(g=!0),this.opts.specialElementClasses)for(let e=0;e<this.opts.specialElementClasses.length;e++)vb.hasClass(y,this.opts.specialElementClasses[e])&&(b=!0);"divImageTool"===y.id&&(f=!0),"divImageResizer"===y.id&&(m=!0),this.preserveSelection&&(v=!0),y=y.parentNode}if(!g){let e=document.querySelectorAll(".is-selectbox-options");Array.prototype.forEach.call(e,(e=>{e.style.display="none"}))}let _=!1,x=document.querySelector("#divImageResizer");if(x&&"1"===x.getAttribute("data-resized")&&(_=!0),!_){if(!(a||h||f||m||"img"===n.tagName.toLowerCase())){document.querySelector("#divImageTool").style.display="",this.activeImage=null;let e=document.querySelector("#divImageResizer");e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}if((!(s||a||r||l||d||c||u||p||h||v||b)||i&&!p||o)&&(vb.getSelected()||(t.clearActiveCell(),t.clearControls())),this.activeLinkButton||this.activeButton||n.closest(".buttoneditor")||n.closest(".link-button-edit")||n.closest(".is-modal")||this.element.hyperlink.buttonEditor.hide(),!l&&!vb.parentsHasId(n,"_cbhtml")){const e=document.querySelectorAll(".is-pop");Array.prototype.forEach.call(e,(e=>{vb.parentsHasId(e,"_cbhtml")||(e.style.display="")}))}}}),document.addEventListener("mousedown",this.doDocumentMousedown=e=>{var i=(e=e||window.event).target||e.srcElement;vb.parentsHasClass(i,"row-handle")&&t.clearControls()}),document.addEventListener("keydown",this.doDocumentKeydown=e=>{90===e.which&&(e.ctrlKey||e.metaKey)&&(e.shiftKey?this.uo.doRedo():e.altKey||this.uo.doUndo()),89===e.which&&e.ctrlKey&&(e.altKey||this.uo.doRedo())}),document.body.addEventListener("mscontrolselect",(function(e){e.preventDefault()})),window._cb=this,window.applyLargerImage=this.applyLargerImage,window.returnUrl=this.returnUrl,window.selectFile=this.selectFile.bind(this),window.selectImage=this.selectImage.bind(this),window.selectVideo=this.selectVideo.bind(this),window.selectAsset=this.selectAsset.bind(this),window.imageLoaded=this.imageLoaded.bind(this),window.assetType=this.assetType.bind(this)}static run(e={}){return new bb(e)}setZoom(){if(""!==this.opts.page){const e=document.querySelector(this.opts.page);e.style.transform=`scale(${this.opts.zoom})`,this.setZoomOnControl(e)}else{document.querySelectorAll(this.opts.container).forEach((e=>{let t=!1;e.style.transform||(t=!0),t&&(e.style.transition="none"),e.style.transform=`scale(${this.opts.zoom})`,t&&setTimeout((()=>{e.style.transition=""}),300),this.setZoomOnControl(e)}))}}setZoomOnControl(e){e.querySelectorAll(".is-row-tool").forEach((e=>{e.style.transform=`scale(${1/this.opts.zoom})`,e.style.transformOrigin="top"}));e.querySelectorAll(".is-rowadd-tool button").forEach((e=>{e.style.transform=`scale(${1/this.opts.zoom})`}))}setZoomOnArea(){if(""!==this.opts.page){document.querySelector(this.opts.page).style.transform=`scale(${this.opts.zoom})`}else{document.querySelectorAll(this.opts.container).forEach((e=>{let t=!1;e.style.transform||(t=!0),t&&(e.style.transition="none"),e.style.transform=`scale(${this.opts.zoom})`,t&&setTimeout((()=>{e.style.transition=""}),300)}))}}applyBehavior(){null!==localStorage.getItem("_zoom")&&(this.opts.zoom=localStorage.getItem("_zoom")),this.rte.rteZoomSlider.value=100*this.opts.zoom;const e=document.querySelectorAll(this.opts.container);Array.prototype.forEach.call(e,(e=>{this.applyBehaviorOn(e),this.contentReformatOn(e)})),this.opts.onRender(),this.setZoomOnArea()}contentReformatOn(e){this.opts.useCssClasses&&vb.contentReformat(e,this.opts.cssClasses)}applyBehaviorOn(e){const t=this.util;if(this.opts.absolutePath){let t=e.querySelectorAll("a");Array.prototype.forEach.call(t,(e=>{let t=e.href;e.setAttribute("href",t)}));let i=e.querySelectorAll("img");Array.prototype.forEach.call(i,(e=>{let t=e.src;e.setAttribute("src",t)}))}vb.addClass(e,"is-builder"),this.preferences.initBuilder(e);if(vb.elementChildren(e).forEach((e=>{if(vb.hasClass(e,"row-add-initial"))return;(e.style.marginLeft||e.style.marginRight)&&(e.style.border="none"),this.rowtool=new nv(this),this.rowtool.render(e);new sv(this).render(e);vb.elementChildren(e).forEach((e=>{if(vb.hasClass(e,"is-row-tool")||vb.hasClass(e,"is-rowadd-tool"))return;"readonly"===e.getAttribute("data-mode")&&(e.setAttribute("data-noedit",""),e.removeAttribute("data-mode")),"readonly-protected"===e.getAttribute("data-mode")&&(e.setAttribute("data-protected",""),e.removeAttribute("data-mode"));let t=!1;e.hasAttribute("data-noedit")&&(t=!0);let i=!1;e.hasAttribute("data-protected")&&(i=!0);let n=!1;if(e.hasAttribute("data-html")&&(n=!0),!n&&!t&&!i){const t=e.innerText.trim();(e.querySelectorAll("p,h1,h2,h3,h4,h5,h6,table,ul,ol,pre,blockquote,code,figcaption,label,legend,button,a,span").length>0||""!==t)&&(e.contentEditable=!0)}this.element.applyBehavior(e),e.getAttribute("data-click")||(e.addEventListener("click",this.handleCellClick.bind(this,e)),e.addEventListener("keydown",this.handleCellKeypress.bind(this)),e.addEventListener("keydown",this.handleCellKeydown.bind(this,e)),e.addEventListener("keyup",this.handleCellKeyup.bind(this,e)),e.addEventListener("paste",this.handleCellPaste.bind(this)),e.setAttribute("data-click",!0))}))})),!e.getAttribute("data-sort")&&!e.hasAttribute("nogrid")){let i=new Za(e,{scroll:!0,group:"shared",direction:"dummy",animation:300,handle:".row-handle",sort:!0,onStart:()=>{this.uo.saveForUndo(),this.colTool.hideColumnTool(),this.elmTool.hide()},onEnd:()=>{this.opts.emailMode||vb.hasClass(this.activeCol.parentNode,"row-outline")&&(this.colTool.refreshColumnTool(this.activeCol),this.colTool.showColumnTool(this.activeCol)),this.util.checkEmpty()},onAdd:i=>{var n=i.item;if(n.getAttribute("data-id")){let i=n.getAttribute("data-id");const g=this.opts.snippetJSON.snippets.filter((e=>e.id+""===i&&e));var o,s=g[0].html,a=g[0].noedit;o=-1===s.indexOf("row clearfix"),this.opts.emailMode&&(o=!1);var r=this.opts.row,l=this.opts.cols;if(""!==r&&12===l.length&&(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace(new RegExp("row clearfix","g"),r)).replace(new RegExp("column full","g"),l[11])).replace(new RegExp("column half","g"),l[5])).replace(new RegExp("column third","g"),l[3])).replace(new RegExp("column fourth","g"),l[2])).replace(new RegExp("column fifth","g"),l[1])).replace(new RegExp("column sixth","g"),l[1])).replace(new RegExp("column two-third","g"),l[7])).replace(new RegExp("column two-fourth","g"),l[8])).replace(new RegExp("column two-fifth","g"),l[9])).replace(new RegExp("column two-sixth","g"),l[9])),s=s.replace(/{id}/g,t.makeId()),this.opts.onAdd&&(s=this.opts.onAdd(s)),this.opts.snippetPathReplace.length>0&&""!==this.opts.snippetPathReplace[0]){var d=new RegExp(this.opts.snippetPathReplace[0],"g");s=s.replace(d,this.opts.snippetPathReplace[1]);var c=this.opts.snippetPathReplace[0].replace(/\//g,"%2F"),u=this.opts.snippetPathReplace[1].replace(/\//g,"%2F"),p=new RegExp(c,"g");s=s.replace(p,u)}if(o)s=`<div class="${this.opts.row}"><div class="${this.opts.cols[this.opts.cols.length-1]}"${a?" data-noedit":""}>${s}</div></div>`,n.removeAttribute("draggable"),vb.removeClass(n,"snippet-item"),n.outerHTML=s;else{let e=vb.createElement("div");e.innerHTML=s;let i=e.querySelectorAll("[data-html]");Array.prototype.forEach.call(i,(e=>{s=(s=decodeURIComponent(e.getAttribute("data-html"))).replace(/{id}/g,t.makeId());for(var i=1;i<=20;i++)s=s.replace("[%HTML"+i+"%]",void 0===e.getAttribute("data-html-"+i)?"":decodeURIComponent(e.getAttribute("data-html-"+i)));e.innerHTML=s})),s=e.innerHTML,n.removeAttribute("draggable"),vb.removeClass(n,"snippet-item"),n.innerHTML="";var h=document.createRange();h.setStart(n,0),n.appendChild(h.createContextualFragment(s)),n.outerHTML=n.innerHTML}this.applyBehaviorOn(e),this.opts.onChange(),this.elmTool.hide()}}});this.sortableObjects.push(i),e.setAttribute("data-sort",!0)}const i=e.querySelectorAll(".is-subblock");Array.prototype.forEach.call(i,(e=>{e.contentEditable=!0})),this.util.checkEmptyOn(e),this.setZoomOnControl(e)}html(e){const t=this.util,i=new Wo(this);if(e);else{const i=document.querySelectorAll(this.opts.container);if(i.length>1){const n=t.cellSelected();e=n?n.parentNode.parentNode:i[0]}else e=i[0];if(""!==this.opts.page){const t=document.querySelector(this.opts.page);t&&(e=t)}}this.cleanHtmlFormatting=!0;let n=i.readHtml(e);return this.cleanHtmlFormatting=!1,n}viewHtmlNormal(){new Wo(this).viewHtmlNormal()}viewHtmlLarger(){new Wo(this).viewHtmlLarger()}readHtml(e,t,i){return new Wo(this).readHtml(e,t,i)}fromViewToActual(e){return new Wo(this).fromViewToActual(e)}colorpicker(e,t){return new rv({onPick:e,color:t,colors:this.opts.colors,animateModal:this.opts.animateModal,elementToAnimate:this.opts.container,lang:this.opts.lang})}gradientpicker(){return new _v({gradientcolors:this.opts.gradientcolors,colors:this.opts.colors,animateModal:this.opts.animateModal,elementToAnimate:this.opts.container,lang:this.opts.lang})}dropdown(e,t){new fs(e,t)}simpleColorPicker(e,t){return this.colorClassPicker.open(e,t)}destroy(){if(document.removeEventListener("click",this.doDocumentClick,!1),document.removeEventListener("keydown",this.doDocumentKeydown,!1),document.removeEventListener("mousedown",this.doDocumentMousedown,!1),this.util.clearControls(),!this.util.builderStuff())return;const e=new Wo(this),t=document.querySelectorAll(this.opts.container);if(Array.prototype.forEach.call(t,(t=>{t.innerHTML=e.readHtml(t,!0)})),Array.prototype.forEach.call(t,(e=>{e.removeAttribute("data-sort"),vb.removeClass(e,"is-builder")})),Array.prototype.forEach.call(this.sortableObjects,(e=>{try{e.destroy()}catch(e){}})),this.moveable.destroy(),this.builderStuff.parentNode.removeChild(this.builderStuff),this.builderStuff=null,""!==this.opts.page){document.querySelector(this.opts.page).style.transform=""}else{document.querySelectorAll(this.opts.container).forEach((e=>{e.style.transform=""}))}}saveImages(e,t,i){new db({page:this.opts.page,container:this.opts.container,customval:this.opts.customval,handler:e,onComplete:t,onBase64Upload:i||null}).save()}clearFont(){this.rte.clearFont()}applyFont(e,t,i){this.rte.applyFont(e,t,i)}setFont(e,t,i,n){this.rte.setFont(e,t,i,n)}addIcon(e){this.rte.addIcon(e)}applyLargerImage(e){let t=document.querySelectorAll(".form-upload-larger");Array.prototype.forEach.call(t,(t=>{vb.hasClass(t,"please-wait")&&(vb.removeClass(t,"please-wait"),t.parentNode.parentNode.querySelector('input[type="text"]').value=e,t.parentNode.parentNode.querySelector('input[type="file"]').value="")}))}returnUrl(e){let t=document.querySelectorAll(".form-upload-larger");Array.prototype.forEach.call(t,(t=>{vb.hasClass(t,"please-wait")&&(vb.removeClass(t,"please-wait"),t.parentNode.parentNode.querySelector('input[type="text"]').value=e,t.parentNode.parentNode.querySelector('input[type="file"]').value="")})),this.opts.assetRefresh=!0}openImagePicker(e,t){this.colTool.openImagePicker(e,t)}openImageAdjust(e){this.colTool.openImageAdjust(e)}selectFile(e){this.selectAsset(e)}selectImage(e){this.selectAsset(e)}selectVideo(e){this.selectAsset(e)}selectAsset(e){let t=e.split(".").pop();t=t.toLowerCase();let i=!1;if("all"===this.targetAssetType?i=!0:"media"===this.targetAssetType?"jpg"===t||"jpeg"===t||"png"===t||"gif"===t||"webm"===t||"mp4"===t?i=!0:alert(this.util.out("Please select an image or video file.")):"image"===this.targetAssetType?"jpg"===t||"jpeg"===t||"png"===t||"gif"===t||"webm"===t?i=!0:alert(this.util.out("Please select an image file.")):"video"===this.targetAssetType&&("mp4"===t?i=!0:alert(this.util.out("Please select an mp4 file."))),i){this.targetInput.value=e,"inpCellLinkSource"===this.targetInput.id&&this.targetCallback();let t=document.querySelector(".is-modal.videoselect");vb.removeClass(t,"active"),t=document.querySelector(".is-modal.imageselect"),vb.removeClass(t,"active"),t=document.querySelector(".is-modal.fileselect"),vb.removeClass(t,"active")}}assetType(){return this.targetAssetType}openAsset(e,t,i){if("media"===t&&(this.opts.onFileSelectClick||this.opts.onImageSelectClick))this.opts.onFileSelectClick?this.opts.onFileSelectClick({targetInput:e,theTrigger:i}):this.opts.onImageSelectClick({targetInput:e,theTrigger:i});else if("video"===t&&this.opts.onVideoSelectClick)this.opts.onVideoSelectClick({targetInput:e,theTrigger:i});else if("image"===t&&this.opts.onImageSelectClick)this.opts.onImageSelectClick({targetInput:e,theTrigger:i});else if("all"===t&&this.opts.onFileSelectClick)this.opts.onFileSelectClick({targetInput:e,theTrigger:i});else{let i,n;"media"===t?(n=this.builderStuff.querySelector(".is-modal.fileselect"),i=n.querySelector("iframe"),"about:blank"===i.src&&(i.src=this.opts.fileSelect)):"video"===t?(n=this.builderStuff.querySelector(".is-modal.videoselect"),i=n.querySelector("iframe"),"about:blank"===i.src&&(i.src=this.opts.videoSelect)):"image"===t?(n=this.builderStuff.querySelector(".is-modal.imageselect"),i=n.querySelector("iframe"),"about:blank"===i.src&&(i.src=this.opts.imageSelect)):"all"===t&&(n=this.builderStuff.querySelector(".is-modal.fileselect"),i=n.querySelector("iframe"),"about:blank"===i.src&&(i.src=this.opts.fileSelect)),this.util.showModal(n),this.targetInput=e,this.targetCallback=null,this.targetAssetType=t}}LightenDarkenColor(e,t){return this.util.LightenDarkenColor(e,t)}pickColor(e,t){new rv({colors:this.opts.colors,animateModal:!1,lang:this.opts.lang}).open(e,t)}addSnippet(e,t,i){this.util.addSnippet(e,t,i)}viewSnippets(){this.rte.viewSnippets()}saveForUndo(e){this.uo.saveForUndo(e)}imageLoaded(e){e.removeAttribute("onload"),this.activeCol&&this.colTool.refreshColumnTool(this.activeCol)}getActiveModule(){return document.querySelector("[data-module-active]")}getModuleSettings(){let e=document.querySelector("[data-module-active]");return decodeURIComponent(e.getAttribute("data-settings"))}setModuleHtml(e){document.querySelector("#hidContentModuleCode").value=e}setModuleSettings(e){document.querySelector("#hidContentModuleSettings").value=e}makeId(){return this.util.makeId()}setTooltip(e){this.tooltip.setAll(e)}loadPlugins(){if(!this.builderStuff)return;if(void 0===this.opts.scriptPath&&""===this.opts.pluginPath)return;if(this.numOfPlugins=0,"string"==typeof this.opts.plugins[0])return void this.loadPluginsOldWay();const e=this.builderStuff.querySelector(".is-rte-tool"),t=this.builderStuff.querySelector(".rte-more-options"),i=this.builderStuff.querySelector(".is-elementrte-tool"),n=this.builderStuff.querySelector(".elementrte-more-options");let o;for(o=this.opts.plugins.length-1;o>=0;o--){const s=this.opts.plugins[o].name,a=this.opts.plugins[o].showInMainToolbar,r=this.opts.plugins[o].showInElementToolbar;let l=!1;(e.querySelector('[data-plugin="'+s+'"]')||t.querySelector('[data-plugin="'+s+'"]'))&&(l=!0);let d=!1;if((i.querySelector('[data-plugin="'+s+'"]')||n.querySelector('[data-plugin="'+s+'"]'))&&(d=!0),a&&!l){t.querySelectorAll("div:not(.rte-separator)").forEach((e=>{e.insertAdjacentHTML("afterbegin",'<button style="width:46px;" title="button not found" data-plugin="'+s+'"></button>')}))}r&&!d&&n.querySelector("div").insertAdjacentHTML("afterbegin",'<button style="width:46px;" title="button not found" data-plugin="'+s+'"></button>')}for(o=0;o<this.opts.plugins.length;o++){const e=this.opts.plugins[o].name;let t=this.opts.scriptPath+"plugins/"+e+"/plugin.js";""!==this.opts.pluginPath&&(t=this.opts.pluginPath+"plugins/"+e+"/plugin.js"),this.loadScript(t).then((()=>{this.numOfPlugins++,this.numOfPlugins===this.opts.plugins.length&&(this.opts.onPluginsLoaded&&this.opts.onPluginsLoaded(),this.tooltip.setAll(),new ps({selector:".is-draggable"}))}))}}loadPluginsOldWay(){const e=this.builderStuff.querySelector(".is-rte-tool"),t=this.builderStuff.querySelector(".rte-more-options"),i=this.builderStuff.querySelector(".is-elementrte-tool"),n=this.builderStuff.querySelector(".elementrte-more-options");let o;for(o=this.opts.plugins.length-1;o>=0;o--){const s=this.opts.plugins[o];let a=!1;(e.querySelector('[data-plugin="'+s+'"]')||t.querySelector('[data-plugin="'+s+'"]'))&&(a=!0);let r=!1;(i.querySelector('[data-plugin="'+s+'"]')||n.querySelector('[data-plugin="'+s+'"]'))&&(r=!0),a||t.querySelector("div").insertAdjacentHTML("afterbegin",'<button style="width:46px;" title="button not found" data-plugin="'+this.opts.plugins[o]+'"></button>'),r||n.querySelector("div").insertAdjacentHTML("afterbegin",'<button style="width:46px;" title="button not found" data-plugin="'+this.opts.plugins[o]+'"></button>')}for(o=0;o<this.opts.plugins.length;o++){let e=this.opts.scriptPath+"plugins/"+this.opts.plugins[o]+"/plugin.js";""!==this.opts.pluginPath&&(e=this.opts.pluginPath+"plugins/"+this.opts.plugins[o]+"/plugin.js"),this.loadScript(e).then((()=>{if(this.numOfPlugins++,this.numOfPlugins===this.opts.plugins.length){let e=t.querySelectorAll("[data-plugin]");Array.prototype.forEach.call(e,(e=>{e.outerHTML=""})),e=n.querySelectorAll("[data-plugin]"),Array.prototype.forEach.call(e,(e=>{e.outerHTML=""})),this.opts.onPluginsLoaded&&this.opts.onPluginsLoaded(),this.tooltip.setAll(),new ps({selector:".is-draggable"})}}))}}addHtml(e){vb.appendHtml(this.builderStuff,e)}addCss(e){vb.appendHtml(document.head,e)}addButton_OLD(e,t,i,n){if(!this.builderStuff)return;const o=this.builderStuff.querySelector(".is-rte-tool"),s=this.builderStuff.querySelector(".rte-more-options");var a=!1;if(o.querySelector('[data-plugin="'+e+'"]')?o.querySelector('[data-plugin="'+e+'"]').outerHTML=t:s.querySelector('[data-plugin="'+e+'"]')&&(s.querySelector('[data-plugin="'+e+'"]').outerHTML=t,a=!0),!o.querySelector(".rte-more")&&a){o.insertAdjacentHTML("beforeend",`<button title="${this.util.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let e=this.rteTool.querySelector("button.rte-more");e&&vb.addEventListener(e,"click",(()=>{this.rte.showRteMore()}))}let r=o.querySelector(i);r=r||s.querySelector(i),r&&(r.setAttribute("data-title",r.getAttribute("title")),vb.addEventListener(r,"click",(e=>{n(e)})))}addButton(e,t,i,n){if(!this.builderStuff)return;const o=this.builderStuff.querySelector(".is-rte-tool"),s=this.builderStuff.querySelector(".rte-more-options");var a=!1;s.querySelector('[data-plugin="'+e+'"]')&&(a=!0);if(this.builderStuff.querySelectorAll('[data-plugin="'+e+'"]').forEach((e=>{e.outerHTML=t})),!o.querySelector(".rte-more")&&a){o.insertAdjacentHTML("beforeend",`<button title="${this.util.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let e=this.rteTool.querySelector("button.rte-more");e&&vb.addEventListener(e,"click",(()=>{this.rte.showRteMore()}))}let r=o.querySelectorAll(i);r.forEach((e=>{e.setAttribute("data-title",e.getAttribute("title")),vb.addEventListener(e,"click",(e=>{n(e)}))})),r=s.querySelectorAll(i),r.forEach((e=>{e.setAttribute("data-title",e.getAttribute("title")),vb.addEventListener(e,"click",(e=>{n(e)}))}))}addButton2(e,t,i,n){if(!this.builderStuff)return;const o=this.builderStuff.querySelector(".is-elementrte-tool"),s=this.builderStuff.querySelector(".elementrte-more-options");var a=!1;if(o.querySelector('[data-plugin="'+e+'"]')?o.querySelector('[data-plugin="'+e+'"]').outerHTML=t:s.querySelector('[data-plugin="'+e+'"]')&&(s.querySelector('[data-plugin="'+e+'"]').outerHTML=t,a=!0),!o.querySelector(".rte-more")&&a){o.insertAdjacentHTML("beforeend",`<button title="${this.util.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let e=this.elementRteTool.querySelector("button.rte-more");e&&vb.addEventListener(e,"click",(()=>{this.rte.showElementRteMore()}))}let r=o.querySelector(i);r=r||s.querySelector(i),r&&(r.setAttribute("data-title",r.getAttribute("title")),vb.addEventListener(r,"click",(e=>{n(e)})))}showModal(e,t,i,n){this.util.showModal(e,t,i,n)}hideModal(e){this.util.hideModal(e)}draggable(e){new ps({selector:e})}createModal(e,t,i,n,o){let s=this.builderStuff.querySelector(t);return s||(this.builderStuff.appendChild(e),s=this.builderStuff.querySelector(t)),this.showModal(s,i,n,o),new ps({selector:".is-draggable"}),s}getIcons(){return this.rte.getIcons()}showSidePanel(e){let t=this.builderStuff.querySelectorAll(".is-side");Array.prototype.forEach.call(t,(e=>{vb.removeClass(e,"active")})),vb.addClass(e,"active")}hideSidePanel(e){vb.removeClass(e,"active")}getScriptPath(){return this.opts.scriptPath}getSnippetPath(){return this.opts.snippetPath}out(e){return this.util.out(e)}undo(){this.uo.doUndo()}redo(){this.uo.doRedo()}getScope(){let e;const t=document.querySelectorAll(this.opts.container);if(t.length>1){const i=this.util.cellSelected();e=i?i.parentNode.parentNode:t[0]}else e=t[0];if(""!==this.opts.page){const t=document.querySelector(this.opts.page);t&&(e=t)}return e}pasteHtmlAtCaret(e,t){this.util.pasteHtmlAtCaret(e,t)}getScript(e,t){this.loadScript(e).then((()=>{t&&t()}),(()=>{console.log("Fail to load config")}))}getScripts(e,t){let i=0;this.loadScript(e[i]).then((()=>{i=this._helper1(i,e,t)}))}_helper1(e,t,i){if(++e<t.length){return this.loadScript(t[e]).then((()=>{e=this._helper1(e,t,i)})),e}i&&i()}includeJs(e,t){-1===this.filesAdded.indexOf("["+e+"]")?(this.getScript(e,t),this.filesAdded+="["+e+"]"):t&&t()}includeCss(e){if(-1===this.filesAdded.indexOf("["+e+"]")){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t),this.filesAdded+="["+e+"]"}}applyStyle(e,t){if(-1===this.filesAdded.indexOf("["+e+"]")){var i=document.createElement("style");i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),this.filesAdded+="["+e+"]"}}viewHtml(e){new Wo(this).view("full",e)}viewPreferences(){this.preferences.view()}viewConfig(){this.preferences.view()}viewZoom(){this.rte.viewZoom()}loadSnippets(e){if(this.preview)return;if(document.querySelector(this.opts.snippetList))return;if(this.isScriptAlreadyIncluded(e))return;const t=document.createElement("script");t.src=e,t.async=!0,t.onload=()=>{this.opts.snippetJSON=window.data_basic,""===this.opts.snippetPath&&(this.opts.snippetPath=window._snippets_path),this.opts.snippetJSON.snippets.length>0&&yr(this)},document.body.appendChild(t)}isScriptAlreadyIncluded(e){const t=document.getElementsByTagName("script");for(let i=0;i<t.length;i++)if(t[i].getAttribute("src")===e)return!0;return!1}loadHtml(e,t){const i=this.util;if(t);else{const e=document.querySelectorAll(this.opts.container);if(e.length>1){const n=i.cellSelected();t=n?n.parentNode.parentNode:e[0]}else t=e[0];if(""!==this.opts.page){const e=document.querySelector(this.opts.page);e&&(t=e)}}let n=document.createRange();t.innerHTML="",t.appendChild(n.createContextualFragment(e)),this.applyBehavior(),this.opts.onChange(),this.opts.onRender()}loadHTML(e){this.loadHtml(e)}setUIColor(e,t){let i=document.querySelector("[data-cb-color]");if(i&&i.setAttribute("data-cb-del",""),t){var n=document.createElement("link");n.rel="stylesheet",n.href=t,n.setAttribute("data-cb-color",""),n.addEventListener("load",(()=>{i=document.querySelector("[data-cb-del]"),i&&i.parentNode.removeChild(i),"dark"===e&&(vb.removeClass(document.body,"colored"),vb.removeClass(document.body,"colored-dark"),vb.removeClass(document.body,"light"),vb.addClass(document.body,"dark")),"colored"===e&&(vb.removeClass(document.body,"dark"),vb.removeClass(document.body,"colored-dark"),vb.removeClass(document.body,"light"),vb.addClass(document.body,"colored")),"colored-dark"===e&&(vb.removeClass(document.body,"dark"),vb.removeClass(document.body,"colored"),vb.removeClass(document.body,"light"),vb.addClass(document.body,"colored-dark")),""===e&&(vb.removeClass(document.body,"dark"),vb.removeClass(document.body,"colored-dark"),vb.removeClass(document.body,"colored"),vb.removeClass(document.body,"light")),"light"===e&&(vb.removeClass(document.body,"dark"),vb.removeClass(document.body,"colored-dark"),vb.removeClass(document.body,"colored"),vb.addClass(document.body,"light"));const t=this.util;setTimeout((()=>{t.getUIStyles(),this.setUIColorRefresh(),this.opts.onThemeChange&&this.opts.onThemeChange()}),300)})),document.head.appendChild(n)}else{i=document.querySelector("[data-cb-del]"),i&&i.parentNode.removeChild(i),""===e&&(vb.removeClass(document.body,"dark"),vb.removeClass(document.body,"colored-dark"),vb.removeClass(document.body,"colored"),vb.removeClass(document.body,"light"));const t=this.util;setTimeout((()=>{t.getUIStyles(),this.setUIColorRefresh(),this.opts.onThemeChange&&this.opts.onThemeChange()}),1e3)}}setUIColorRefresh(){const e=this.util;if(!this.rte||!this.element)return void setTimeout((()=>{this.setUIColorRefresh()}),600);let t=this.rte.rteFontFamilyOptions.querySelector("iframe").contentWindow.document;let i=this.builderStuff.querySelector(".is-modal.pickfontfamily").querySelector("iframe").contentWindow.document,n=this.rte.rteIconOptions.querySelector("iframe").contentWindow.document;""===t.body.innerHTML?(t.open(),this.opts.emailMode?t.write(e.getFontFamilyEmail()):t.write(e.getFontFamilyHTML()),t.close()):this.util.refreshFontFamilyStyle1(),""===i.body.innerHTML?(i.open(),this.opts.emailMode?i.write(e.getFontFamilyEmail(!0)):i.write(e.getFontFamilyHTML(!0)),i.close()):this.util.refreshFontFamilyStyle2(),""===n.body.innerHTML?(n.open(),n.write(this.rte.getIconsHTML()),n.close()):this.rte.refreshIconsStyle(),this.builderStuff.querySelector(".snippets").querySelector("iframe").src="about:blank";let o=document.querySelector(".is-modal.videoselect"),s=document.querySelector(".is-modal.imageselect"),a=document.querySelector(".is-modal.fileselect"),r=o.querySelector("iframe"),l=s.querySelector("iframe"),d=a.querySelector("iframe");r.contentWindow.applyParentStyles&&r.contentWindow.applyParentStyles(),l.contentWindow.applyParentStyles&&l.contentWindow.applyParentStyles(),d.contentWindow.applyParentStyles&&d.contentWindow.applyParentStyles()}openMedia(e){let t="",i=e.getAttribute("data-modal-theme");i||(i="light");const n=e.getAttribute("data-modal-color");if(e.getAttribute("data-modal-url")){t=e.getAttribute("data-modal-url");let o=t.split(".").pop();if("jpg"===o||"jpeg"===o||"png"===o||"gif"===o||"webm"===o)this.lightbox.openImage(t,i,n);else if("mp4"===o)this.lightbox.openVideo(t,"dark",n);else if(-1!==t.toLowerCase().indexOf("youtube.com")||-1!==t.toLowerCase().indexOf("vimeo.com"))this.lightbox.openExternalVideo(t,"dark",n);else{if(0===t.indexOf("#"));else{if(!window.confirm(this.util.out("Do you really want to leave?")))return!1}window.location.href=t}}else e.getAttribute("data-modal-image")&&(t=e.getAttribute("data-modal-image"),this.lightbox.openImage(t,i,n)),e.getAttribute("data-modal-video")&&(t=e.getAttribute("data-modal-video"),this.lightbox.openVideo(t,"dark",n)),e.getAttribute("data-modal-externalvideo")&&(t=e.getAttribute("data-modal-externalvideo"),this.lightbox.openExternalVideo(t,"dark",n))}lightboxOpen(e){this.useLightbox&&(e.hasAttribute("data-noedit")||e.hasAttribute("data-protected"))&&vb.hasClass(e,"block-click")&&this.openMedia(e)}handleCellClick(e,t){this.lightboxOpen(e);this.util.clearActiveCell(),this.activeCol=e;let i=t.target;vb.addClass(e,"cell-active");let n=e.parentNode;vb.addClass(n,"row-active");const o=document.querySelectorAll(this.opts.container);Array.prototype.forEach.call(o,(e=>{vb.removeClass(e,"builder-active")})),vb.addClass(n.parentNode,"builder-active"),n.childElementCount-2==1||vb.addClass(n,"row-outline"),e.hasAttribute("data-html")||this.opts.onContentClick&&this.opts.onContentClick(t),this.element.click(e,t),this.colTool.click(e),this.elmTool.click(e,t),this.rte.click(e,t);const s=document.querySelector(".grideditor.active");if(s){const t=s.querySelector(".cell-locking");e.hasAttribute("data-noedit")?vb.addClass(t,"on"):vb.removeClass(t,"on")}let a=vb.getParentElement(i,"a");if(("a"===i.tagName.toLowerCase()||a)&&(e.hasAttribute("data-noedit")||e.hasAttribute("data-protected"))){if("true"===e.getAttribute("contenteditable"))return t.preventDefault(),!1;if("a"===i.tagName.toLowerCase()&&(a=i),this.useLightbox&&vb.hasClass(a,"is-lightbox")){let e=a.getAttribute("href");if(!e)return t.preventDefault(),!1;let n=e.split(".").pop(),o=a.getAttribute("data-modal-theme");o||(o="light");const s=i.getAttribute("data-modal-color");if("jpg"===n||"jpeg"===n||"png"===n||"gif"===n||"webm"===n)return this.lightbox.openImage(e,o,s),t.preventDefault(),!1;if("mp4"===n)return this.lightbox.openVideo(e,"dark",s),t.preventDefault(),!1;if(-1!==e.toLowerCase().indexOf("youtube.com")||-1!==e.toLowerCase().indexOf("vimeo.com"))return this.lightbox.openExternalVideo(e,"dark",s),t.preventDefault(),!1;if(0===e.indexOf("#"));else{if(!window.confirm(this.util.out("Do you really want to leave?")))return t.preventDefault(),!1}}else{let e=a.getAttribute("href");if(!e)return t.preventDefault(),!1;if(0===e.indexOf("#"));else{if(!window.confirm(this.util.out("Do you really want to leave?")))return t.preventDefault(),!1}}}if(1===e.childElementCount){let t=e.children[0];t&&vb.hasClass(t,"spacer")&&(e.contentEditable=!1)}this.colTool.showHideLockIndicator(e);const r=n.querySelector(".is-rowadd-tool").querySelector("button");r.style.marginTop="";const l=Array.from(n.parentNode.children).filter((e=>"div"===e.nodeName.toLowerCase()));if(l&&l.length>0){if(n===l[l.length-1]){const e=n.parentNode.parentNode,t=vb.getElementOffset(e);let i=t.top+t.height;const o=vb.getElementOffset(n);i-(o.top+o.height)<19&&(r.style.marginTop="-14px")}}}handleCellKeypress(e){e.ctrlKey||e.metaKey||(null===this.uoTm?(this.uo.saveForUndo(),this.uoTm=setTimeout((()=>{this.uoTm=null}),1e3)):(clearTimeout(this.uoTm),this.uoTm=setTimeout((()=>{this.uoTm=null}),1e3)))}handleCellKeydown(e,t){let i=e.querySelectorAll("span");if(Array.prototype.forEach.call(i,(e=>{e.setAttribute("data-keep","")})),(t.ctrlKey||t.metaKey)&&86===t.which&&this.handleCellPaste(),this.opts.elementSelection&&!this.emailMode&&(t.ctrlKey||t.metaKey)&&65===t.which){let e;try{window.getSelection?e=window.getSelection().getRangeAt(0).commonAncestorContainer.parentNode:document.selection&&(e=document.selection.createRange().parentElement()),vb.hasClass(e.parentNode.parentNode,"is-builder")||vb.selectElementContents(e),t.preventDefault()}catch(t){}}if(46===t.keyCode){let e;try{if(window.getSelection?e=window.getSelection().getRangeAt(0).commonAncestorContainer:document.selection&&(e=document.selection.createRange()),"<br>"===e.innerHTML){e.nextElementSibling&&(e.parentNode.removeChild(e),t.preventDefault())}}catch(t){}}if(8===t.keyCode){let e;try{if(window.getSelection?e=window.getSelection().getRangeAt(0).commonAncestorContainer:document.selection&&(e=document.selection.createRange()),""===e.textContent){e.previousElementSibling||t.preventDefault()}}catch(t){}}}handleCellKeyup(e,t){vb.textSelection()&&("38"===t.keyCode||"40"===t.keyCode||"37"===t.keyCode||"39"===t.keyCode)&&this.util.saveSelection();let i=e.querySelectorAll("span");var n;Array.prototype.forEach.call(i,(e=>{e.hasAttribute("data-keep")||(e.outerHTML=e.innerHTML)}));try{window.getSelection?n=window.getSelection().getRangeAt(0).commonAncestorContainer.parentNode:document.selection&&(n=document.selection.createRange().parentElement())}catch(t){return}if(13===t.keyCode&&!t.shiftKey){"p"!==n.tagName.toLowerCase()&&"div"!==n.tagName.toLowerCase()||document.execCommand("formatBlock",!1,"<p>");let t=e.querySelectorAll("[data-keep]");Array.prototype.forEach.call(t,(e=>{e.removeAttribute("data-keep")}))}this.opts.onChange(),this.elmTool.hide()}handleCellPaste(){this.uo.saveForUndo();const e=this.util;e.saveSelection();let t=document.querySelector("#idContentWord");var i,n;t&&t.parentNode.removeChild(t),window.getSelection?i=3===(n=window.getSelection().getRangeAt(0).commonAncestorContainer).nodeType?n.parentNode:n:document.selection&&(n=document.selection.createRange(),i=document.selection.createRange().parentElement());const o='<div style="position:absolute;z-index:-1000;top:'+(i.getBoundingClientRect().top+window.pageYOffset)+'px;left:-1000px;width:100px;height:100px;overflow:auto;" name="idContentWord" id="idContentWord" contenteditable="true"></div>';vb.appendHtml(this.builderStuff,o),t=document.querySelector("#idContentWord"),t.focus(),setTimeout((()=>{try{var t="";let u=document.querySelector("#idContentWord");var i=!1,n=u.innerText;if(!this.opts.disableAutoEmbedVideo){var o=/^http[s]?:\/\/(((www.youtube.com\/watch\?(feature=player_detailpage&)?)v=)|(youtu.be\/))([^#&?]*)/.exec(n),s=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/)|(video\/))?([0-9]+)\/?/.exec(n);if(null!==o||null!==s){if(null!==o&&o.length>=7)n="https://www.youtube.com/embed/"+o[6]+"?rel=0";if(null!==s&&s.length>=7)n="https://player.vimeo.com/video/"+s[6];t='<div class="embed-responsive embed-responsive-16by9"><iframe width="560" height="315" src="'+n+'" frameborder="0" allowfullscreen=""></iframe></div>',i=!0}}if(!i)if("text"===this.opts.paste){let e=u.querySelectorAll("p,h1,h2,h3,h4,h5,h6");Array.prototype.forEach.call(e,(e=>{e.innerHTML=e.innerHTML+" "})),t=u.innerText}else{t=u.innerHTML,t="html"===this.opts.paste?e.cleanHTML(t,!1):e.cleanHTML(t,!0),u.innerHTML=t;let i=u.querySelectorAll("li");Array.prototype.forEach.call(i,(e=>{e.style.whiteSpace="";const t=e.childNodes;let i=t.length;for(;i--;)"P"===t[i].tagName&&(t[i].outerHTML=t[i].innerHTML)})),t=u.innerHTML}u=document.querySelector("#idContentWord"),u&&u.parentNode.removeChild(u),e.restoreSelection();var a=window.getSelection(),r=a.getRangeAt(0);r.extractContents(),r.collapse(!0);var l=r.createContextualFragment(t),d=l.lastChild;if(r.insertNode(l),this.activeCol){this.activeCol.find("h1:empty,h2:empty,h3:empty,h4:empty,h5:empty,h6:empty,p:empty").remove();let e=this.activeCol.querySelector("p.elm-active,h1.elm-active,h2.elm-active,h3.elm-active,h4.elm-active,h5.elm-active,h6.elm-active");if(e){if(e.querySelectorAll("p,h1,h2,h3,h4,h5,h6").length>0){let t=e.nextElementSibling;if(Array.from(e.childNodes).filter((e=>3===e.nodeType&&e.textContent.trim().length>1)).forEach((e=>{const t=document.createElement("p");e.after(t),t.appendChild(e)})),e.firstElementChild&&1===e.childNodes.length&&"SPAN"===e.firstElementChild.tagName){e.outerHTML=e.firstElementChild.innerHTML,this.activeCol.querySelectorAll("*:empty").forEach((e=>{e.remove()})),t?vb.moveCursorToElement(t.previousElementSibling):vb.moveCursorToElement(this.activeCol);let i=document.querySelector(".builder-active");return i&&this.applyBehaviorOn(i),this.opts.onChange(),void this.opts.onRender()}e.outerHTML=e.innerHTML,this.activeCol.find("h1:empty,h2:empty,h3:empty,h4:empty,h5:empty,h6:empty,p:empty").remove(),t?vb.moveCursorToElement(t.previousElementSibling):vb.moveCursorToElement(this.activeCol);let i=document.querySelector(".builder-active");return i&&this.applyBehaviorOn(i),this.opts.onChange(),void this.opts.onRender()}}}r.setStartAfter(d),r.setEndAfter(d),r.collapse(!1);var c=r.commonAncestorContainer;if(c&&c.parentNode)try{c.parentNode.normalize()}catch(e){}a.removeAllRanges(),a.addRange(r);let p=document.querySelector(".builder-active");p&&this.applyBehaviorOn(p),this.opts.onChange(),this.opts.onRender()}catch(e){let t=document.querySelector("#idContentWord");t&&t.parentNode.removeChild(t)}}),800)}cellSelected(){return this.util.cellSelected()}loadScript(e,t,i=!0,n=!0){return new Promise(((o,s)=>{let a=document.createElement("script");const r=t||document.getElementsByTagName("script")[0];function l(e,t){(t||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=null,a.onreadystatechange=null,a=void 0,t?s():o())}a.async=i,a.defer=n,a.onload=l,a.onreadystatechange=l,a.src=e,r.parentNode.insertBefore(a,r)}))}currentScriptPath(){let e,t;for(var i=document.getElementsByTagName("script"),n=0;n<i.length;n++){var o=i[n].src;e="contentbuilder.js",o.indexOf(e)>-1&&(t=o.substring(0,o.indexOf(e))),e="contentbuilder.min.js",o.indexOf(e)>-1&&(t=o.substring(0,o.indexOf(e)))}return t}}var yb={exports:{}};!function(e,t){
/*!
       * pace.js v1.2.4
       * https://github.com/CodeByZach/pace/
       * Licensed MIT Â© HubSpot, Inc.
       */
(function(){if("undefined"!=typeof window){var t,i,n,o,s,a,r,l,d,c,u,p,h,g,f,m,v,b,y,_,x,w,S,C,k,E,A,q,T,L,M,O,R,N,B,I,D,$,P,H,z,F,j,U,W,G,V,Y,X,K=[].slice,Z={}.hasOwnProperty,Q=function(e,t){for(var i in t)Z.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},J=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},ee=function(e,t){return function(){return e.apply(t,arguments)}};for(w={className:"",catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},L=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},O=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,x=window.cancelAnimationFrame||window.mozCancelAnimationFrame,m=function(e,t,i){return"function"==typeof e.addEventListener?e.addEventListener(t,i,!1):function(){if("function"!=typeof e["on"+t]||"object"!=typeof e["on"+t].eventListeners){var n=new l;"function"==typeof e["on"+t]&&n.on(t,e["on"+t]),e["on"+t]=function(e){return n.trigger(t,e)},e["on"+t].eventListeners=n}else n=e["on"+t].eventListeners;n.on(t,i)}()},null==O&&(O=function(e){return setTimeout(e,50)},x=function(e){return clearTimeout(e)}),N=function(e){var t,i;return t=L(),(i=function(){var n;return(n=L()-t)>=33?(t=L(),e(n,(function(){return O(i)}))):setTimeout(i,33-n)})()},R=function(){var e,t,i;return i=arguments[0],t=arguments[1],e=3<=arguments.length?K.call(arguments,2):[],"function"==typeof i[t]?i[t].apply(i,e):i[t]},S=function(){var e,t,i,n,o,s,a;for(t=arguments[0],s=0,a=(n=2<=arguments.length?K.call(arguments,1):[]).length;s<a;s++)if(i=n[s])for(e in i)Z.call(i,e)&&(o=i[e],null!=t[e]&&"object"==typeof t[e]&&null!=o&&"object"==typeof o?S(t[e],o):t[e]=o);return t},b=function(e){var t,i,n,o,s;for(i=t=0,o=0,s=e.length;o<s;o++)n=e[o],i+=Math.abs(n),t++;return i/t},k=function(e,t){var i,n,o;if(null==e&&(e="options"),null==t&&(t=!0),o=document.querySelector("[data-pace-"+e+"]")){if(i=o.getAttribute("data-pace-"+e),!t)return i;try{return JSON.parse(i)}catch(e){return n=e,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},r=function(){function e(){}return e.prototype.on=function(e,t,i,n){var o;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[e]&&(o[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})},e.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},e.prototype.off=function(e,t){var i,n,o;if(null!=(null!=(n=this.bindings)?n[e]:void 0)){if(null==t)return delete this.bindings[e];for(i=0,o=[];i<this.bindings[e].length;)this.bindings[e][i].handler===t?o.push(this.bindings[e].splice(i,1)):o.push(i++);return o}},e.prototype.trigger=function(){var e,t,i,n,o,s,a,r,l;if(i=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],null!=(a=this.bindings)?a[i]:void 0){for(o=0,l=[];o<this.bindings[i].length;)n=(r=this.bindings[i][o]).handler,t=r.ctx,s=r.once,n.apply(null!=t?t:this,e),s?l.push(this.bindings[i].splice(o,1)):l.push(o++);return l}},e}(),c=window.Pace||{},window.Pace=c,S(c,r.prototype),M=c.options=S({},w,window.paceOptions,k()),U=0,G=(Y=["ajax","document","eventLag","elements"]).length;U<G;U++)!0===M[$=Y[U]]&&(M[$]=w[$]);d=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Q(t,e),t}(Error),i=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(M.target)))throw new d;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/(pace-done )|/,"pace-running ");var t=""!==M.className?" "+M.className:"";this.el.innerHTML='<div class="pace-progress'+t+'">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return(e=this.getElement()).className=e.className.replace("pace-active","pace-inactive"),document.body.className=document.body.className.replace("pace-running ","pace-done ")},e.prototype.update=function(e){return this.progress=e,c.trigger("progress",e),this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){d=e}return this.el=void 0},e.prototype.render=function(){var e,t,i,n,o,s,a;if(null==document.querySelector(M.target))return!1;for(e=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",o=0,s=(a=["webkitTransform","msTransform","transform"]).length;o<s;o++)t=a[o],e.children[0].style[t]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),e.children[0].setAttribute("data-progress",""+i)),c.trigger("change",this.progress),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),l=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var i,n,o,s,a;if(null!=this.bindings[e]){for(a=[],n=0,o=(s=this.bindings[e]).length;n<o;n++)i=s[n],a.push(i.call(this,t));return a}},e.prototype.on=function(e,t){var i;return null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push(t)},e}(),j=window.XMLHttpRequest,F=window.XDomainRequest,z=window.WebSocket,C=function(e,t){var i,n;for(i in n=[],t.prototype)try{null==e[i]&&"function"!=typeof t[i]?"function"==typeof Object.defineProperty?n.push(Object.defineProperty(e,i,{get:function(e){return function(){return t.prototype[e]}}(i),configurable:!0,enumerable:!0})):n.push(e[i]=t.prototype[i]):n.push(void 0)}catch(e){}return n},q=[],c.ignore=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],q.unshift("ignore"),i=t.apply(null,e),q.shift(),i},c.track=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],q.unshift("track"),i=t.apply(null,e),q.shift(),i},D=function(e){var t;if(null==e&&(e="GET"),"track"===q[0])return"force";if(!q.length&&M.ajax){if("socket"===e&&M.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),J.call(M.ajax.trackMethods,t)>=0)return!0}return!1},u=function(e){function t(){var e,i=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(n,o,s){return D(n)&&i.trigger("request",{type:n,url:o,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var i;return i=new j(t),e(i),i};try{C(window.XMLHttpRequest,j)}catch(e){}if(null!=F){window.XDomainRequest=function(){var t;return t=new F,e(t),t};try{C(window.XDomainRequest,F)}catch(e){}}if(null!=z&&M.ajax.trackWebSockets){window.WebSocket=function(e,t){var n;return n=null!=t?new z(e,t):new z(e),D("socket")&&i.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n};try{C(window.WebSocket,z)}catch(e){}}}return Q(t,e),t}(l),W=null,I=function(e){var t,i,n,o;for(i=0,n=(o=M.ajax.ignoreURLs).length;i<n;i++)if("string"==typeof(t=o[i])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(E=function(){return null==W&&(W=new u),W})().on("request",(function(e){var i,n,o,s,a;if(s=e.type,o=e.request,a=e.url,!I(a))return c.running||!1===M.restartOnRequestAfter&&"force"!==D(s)?void 0:(n=arguments,"boolean"==typeof(i=M.restartOnRequestAfter||0)&&(i=0),setTimeout((function(){var e,i,a,r,l;if("socket"===s?o.readyState<1:0<(a=o.readyState)&&a<4){for(c.restart(),l=[],e=0,i=(r=c.sources).length;e<i;e++){if(($=r[e])instanceof t){$.watch.apply($,n);break}l.push(void 0)}return l}}),i))})),t=function(){function e(){this.complete=ee(this.complete,this);var e=this;this.elements=[],E().on("request",(function(){return e.watch.apply(e,arguments)}))}return e.prototype.watch=function(e){var t,i,n,o;if(n=e.type,t=e.request,o=e.url,!I(o))return i="socket"===n?new g(t,this.complete):new f(t,this.complete),this.elements.push(i)},e.prototype.complete=function(e){return this.elements=this.elements.filter((function(t){return t!==e}))},e}(),f=function(e,t){var i,n,o,s,a=this;if(this.progress=0,null!=window.ProgressEvent)for(m(e,"progress",(function(e){return e.lengthComputable?a.progress=100*e.loaded/e.total:a.progress=a.progress+(100-a.progress)/2})),i=0,n=(s=["load","abort","timeout","error"]).length;i<n;i++)m(e,s[i],(function(){return t(a),a.progress=100}));else o=e.onreadystatechange,e.onreadystatechange=function(){var i;return 0===(i=e.readyState)||4===i?(t(a),a.progress=100):3===e.readyState&&(a.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}},g=function(e,t){var i,n,o,s=this;for(this.progress=0,i=0,n=(o=["error","open"]).length;i<n;i++)m(e,o[i],(function(){return t(s),s.progress=100}))},o=function(){function e(e){var t,i,n,o;for(null==e&&(e={}),this.complete=ee(this.complete,this),this.elements=[],null==e.selectors&&(e.selectors=[]),i=0,n=(o=e.selectors).length;i<n;i++)t=o[i],this.elements.push(new s(t,this.complete))}return e.prototype.complete=function(e){return this.elements=this.elements.filter((function(t){return t!==e}))},e}(),s=function(){function e(e,t){this.selector=e,this.completeCallback=t,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout((function(){return e.check()}),M.elements.checkInterval)},e.prototype.done=function(){return this.completeCallback(this),this.completeCallback=null,this.progress=100},e}(),n=function(){function e(){var e,t,i=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),a=function(){var e,t,i,n,o,s=this;this.progress=0,e=0,o=[],n=0,i=L(),t=setInterval((function(){var a;return a=L()-i-50,i=L(),o.push(a),o.length>M.eventLag.sampleCount&&o.shift(),e=b(o),++n>=M.eventLag.minSamples&&e<M.eventLag.lagThreshold?(s.progress=100,clearInterval(t)):s.progress=3/(e+3)*100}),50)},h=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=M.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=R(this.source,"progress"))}return e.prototype.tick=function(e,t){var i;return null==t&&(t=R(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/M.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),i=1-Math.pow(this.progress/100,M.easeFactor),this.progress+=i*this.rate*e,this.progress=Math.min(this.lastProgress+M.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),P=null,B=null,y=null,H=null,v=null,_=null,c.running=!1,A=function(){if(M.restartOnPushState)return c.restart()},null!=window.history.pushState&&(V=window.history.pushState,window.history.pushState=function(){return A(),V.apply(window.history,arguments)}),null!=window.history.replaceState&&(X=window.history.replaceState,window.history.replaceState=function(){return A(),X.apply(window.history,arguments)}),p={ajax:t,elements:o,document:n,eventLag:a},(T=function(){var e,t,n,o,s,a,r,l;for(c.sources=P=[],t=0,o=(a=["ajax","elements","document","eventLag"]).length;t<o;t++)!1!==M[e=a[t]]&&P.push(new p[e](M[e]));for(n=0,s=(l=null!=(r=M.extraSources)?r:[]).length;n<s;n++)$=l[n],P.push(new $(M));return c.bar=y=new i,B=[],H=new h})(),c.stop=function(){return c.trigger("stop"),c.running=!1,y.destroy(),_=!0,null!=v&&("function"==typeof x&&x(v),v=null),T()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var e;return c.running=!0,y.render(),e=L(),_=!1,v=N((function(t,i){var n,o,s,a,r,l,d,u,p,g,f,m,v,b,x;for(y.progress,o=g=0,s=!0,l=f=0,v=P.length;f<v;l=++f)for($=P[l],p=null!=B[l]?B[l]:B[l]=[],d=m=0,b=(r=null!=(x=$.elements)?x:[$]).length;m<b;d=++m)a=r[d],s&=(u=null!=p[d]?p[d]:p[d]=new h(a)).done,u.done||(o++,g+=u.tick(t));return n=g/o,y.update(H.tick(t,n)),y.done()||s||_?(y.update(100),c.trigger("done"),setTimeout((function(){return y.finish(),c.running=!1,c.trigger("hide")}),Math.max(M.ghostTime,Math.max(M.minTime-(L()-e),0)))):i()}))},c.start=function(e){S(M,e),c.running=!0;try{y.render()}catch(e){d=e}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},e.exports=c}}).call(l)}(yb);var _b=yb.exports;const xb=new e;return class{constructor(e={}){if(this.settings=Object.assign(this,{wrapper:".is-wrapper",useSidebar:!0,sidebarData:{buttons:[{name:"section",title:"Sections"},{name:"snippet",title:"Content Blocks"},{name:"typography",title:"Typography"},{name:"code",title:"HTML"}]},htmlSyntaxHighlighting:!0,enableContentStyle:!0,disableStaticSection:!1,framework:"",designUrl1:"assets/designs/basic.js",designUrl2:"assets/designs/examples.js",designPath:"assets/designs/",designPathReplace:[],scriptPath:"",snippetUrl:"assets/minimalist-blocks/content.js",snippetPath:"assets/minimalist-blocks/",snippetPathReplace:[],assetPath:"assets/",modulePath:"assets/modules/",contentStylePath:"assets/styles/",pluginPath:"contentbuilder/",fontAssetPath:"assets/fonts/",plugins:[{name:"preview",showInMainToolbar:!0,showInElementToolbar:!0},{name:"wordcount",showInMainToolbar:!0,showInElementToolbar:!0},{name:"symbols",showInMainToolbar:!0,showInElementToolbar:!1}],disableConfig:!1,useLightbox:!0,themes:[["#ffffff","",""],["#282828","dark","contentbuilder/themes/dark.css"],["#0088dc","colored","contentbuilder/themes/colored-blue.css"],["#006add","colored","contentbuilder/themes/colored-blue6.css"],["#0a4d92","colored","contentbuilder/themes/colored-darkblue.css"],["#96af16","colored","contentbuilder/themes/colored-green.css"],["#f3522b","colored","contentbuilder/themes/colored-orange.css"],["#b92ea6","colored","contentbuilder/themes/colored-magenta.css"],["#e73171","colored","contentbuilder/themes/colored-pink.css"],["#782ec5","colored","contentbuilder/themes/colored-purple.css"],["#ed2828","colored","contentbuilder/themes/colored-red.css"],["#f9930f","colored","contentbuilder/themes/colored-yellow.css"],["#13b34b","colored","contentbuilder/themes/colored-green4.css"],["#333333","colored-dark","contentbuilder/themes/colored-dark.css"],["#dbe5f5","light","contentbuilder/themes/light-blue.css"],["#fbe6f2","light","contentbuilder/themes/light-pink.css"],["#dcdaf3","light","contentbuilder/themes/light-purple.css"],["#ffe9e0","light","contentbuilder/themes/light-red.css"],["#fffae5","light","contentbuilder/themes/light-yellow.css"],["#ddf3dc","light","contentbuilder/themes/light-green.css"],["#c7ebfd","light","contentbuilder/themes/light-blue2.css"],["#ffd5f2","light","contentbuilder/themes/light-pink2.css"],["#eadafb","light","contentbuilder/themes/light-purple2.css"],["#c5d4ff","light","contentbuilder/themes/light-blue3.css"],["#ffefb1","light","contentbuilder/themes/light-yellow2.css"],["#fefefe","light","contentbuilder/themes/light-gray3.css"],["#e5e5e5","light","contentbuilder/themes/light-gray2.css"],["#dadada","light","contentbuilder/themes/light-gray.css"],["#3f4ec9","colored","contentbuilder/themes/colored-blue2.css"],["#6779d9","colored","contentbuilder/themes/colored-blue4.css"],["#10b9d7","colored","contentbuilder/themes/colored-blue3.css"],["#006add","colored","contentbuilder/themes/colored-blue5.css"],["#e92f94","colored","contentbuilder/themes/colored-pink3.css"],["#a761d9","colored","contentbuilder/themes/colored-purple2.css"],["#f9930f","colored","contentbuilder/themes/colored-yellow2.css"],["#f3522b","colored","contentbuilder/themes/colored-red3.css"],["#36b741","colored","contentbuilder/themes/colored-green2.css"],["#00c17c","colored","contentbuilder/themes/colored-green3.css"],["#fb3279","colored","contentbuilder/themes/colored-pink2.css"],["#ff6d13","colored","contentbuilder/themes/colored-orange2.css"],["#f13535","colored","contentbuilder/themes/colored-red2.css"],["#646464","colored","contentbuilder/themes/colored-gray.css"],["#3f4ec9","dark","contentbuilder/themes/dark-blue.css"],["#0b4d92","dark","contentbuilder/themes/dark-blue2.css"],["#006add","dark","contentbuilder/themes/dark-blue3.css"],["#5f3ebf","dark","contentbuilder/themes/dark-purple.css"],["#e92f69","dark","contentbuilder/themes/dark-pink.css"],["#4c4c4c","dark","contentbuilder/themes/dark-gray.css"],["#ed2828","dark","contentbuilder/themes/dark-red.css"],["#006add","colored","contentbuilder/themes/colored-blue8.css"],["#ff7723","colored","contentbuilder/themes/colored-orange3.css"],["#ff5722","colored","contentbuilder/themes/colored-red5.css"],["#f13535","colored","contentbuilder/themes/colored-red4.css"],["#00bd79","colored","contentbuilder/themes/colored-green5.css"],["#557ae9","colored","contentbuilder/themes/colored-blue7.css"],["#fb3279","colored","contentbuilder/themes/colored-pink4.css"]],backgroundColor:"#f1f1f1",imageselect:"",fileselect:"",imageSelect:"",fileSelect:"",videoselect:"",videoSelect:"",slider:"",navbar:!1,onRender:function(){},onChange:function(){},onCoverImageSelectClick:null,coverImageHandler:"",customval:"",enableAnimation:!1,colors:["#ff8f00","#ef6c00","#d84315","#c62828","#58362f","#37474f","#353535","#f9a825","#9e9d24","#558b2f","#ad1457","#6a1b9a","#4527a0","#616161","#00b8c9","#009666","#2e7d32","#0277bd","#1565c0","#283593","#9e9e9e"],gradientcolors:[["linear-gradient(0deg, rgb(255, 57, 25), rgb(249, 168, 37))","light"],["linear-gradient(0deg, rgb(255, 57, 25), rgb(255, 104, 15))","light"],["linear-gradient(0deg, #FF5722, #FF9800)","light"],["linear-gradient(0deg, #613ca2, rgb(110, 123, 217))","light"],["linear-gradient(0deg, rgb(65, 70, 206), rgb(236, 78, 130))","light"],["linear-gradient(0deg, rgb(0, 150, 102), rgb(90, 103, 197))","light"],["linear-gradient(30deg, rgb(249, 119, 148), rgb(98, 58, 162))","light"],["linear-gradient(0deg, rgb(223, 70, 137), rgb(90, 103, 197))","light"],["linear-gradient(0deg, rgb(40, 53, 147), rgb(90, 103, 197))","light"],["linear-gradient(0deg, rgb(21, 101, 192), rgb(52, 169, 239))","light"],["linear-gradient(0deg, rgb(32, 149, 219), rgb(139, 109, 230))","light"],["linear-gradient(0deg, rgb(90, 103, 197), rgb(0, 184, 201))","light"],["linear-gradient(0deg, rgb(0, 184, 201), rgb(253, 187, 45))","light"],["linear-gradient(0deg, rgb(255, 208, 100), rgb(239, 98, 159))","light"],["linear-gradient(0deg, rgb(0, 214, 223), rgb(130, 162, 253))","light"],["linear-gradient(0deg, rgb(50, 234, 251), rgb(248, 247, 126))","dark"],["linear-gradient(0deg, rgb(141, 221, 255), rgb(255, 227, 255))","dark"],["linear-gradient(0deg, rgb(255, 170, 170), rgb(255, 255, 200))","dark"],["linear-gradient(0deg, rgb(239, 239, 239), rgb(252, 252, 252))","dark"]],photoselect:"",moduleConfig:[],largerImageHandler:"",mediaHandler:"",videoHandler:"",cellFormat:"",rowFormat:"",row:"",cols:[],colequal:[],colsizes:[],classReplace:[],columnTool:!0,elementTool:!0,buttons:["bold","italic","underline","formatting","color","align","textsettings","createLink","tags","|","undo","redo","zoom","more"],buttonsMore:["icon","image","|","list","font","formatPara","|","preferences"],elementButtons:["left","center","right","full","undo","redo","zoom","more"],elementButtonsMore:["|","preferences"],iconButtons:["icon","color","textsettings","createLink","|","undo","redo","zoom","more"],iconButtonsMore:["|","preferences"],customTags:[],animateModal:!1,elementAnimate:!0,elementEditor:!0,imageQuality:.92,columnHtmlEditor:!0,rowHtmlEditor:!0,rowMoveButtons:!0,scrollableEditingToolbar:!0,toolbar:"top",toolbarDisplay:"auto",toolbarAddSnippetButton:!1,paste:"html-without-styles",builderMode:"",rowcolOutline:!0,elementSelection:!0,animatedSorting:!1,dragWithoutHandle:!1,addButtonPlacement:"",defaultDesignCategory:5,snippetCategories:[[120,"Basic"],[118,"Article"],[101,"Headline"],[119,"Buttons"],[102,"Photos"],[103,"Profile"],[116,"Contact"],[104,"Products"],[105,"Features"],[106,"Process"],[107,"Pricing"],[108,"Skills"],[109,"Achievements"],[110,"Quotes"],[111,"Partners"],[112,"As Featured On"],[113,"Page Not Found"],[114,"Coming Soon"],[115,"Help, FAQ"]],defaultSnippetCategory:101,outlineMode:"",elementHighlight:!0,rowTool:"right",toolStyle:"",outlineStyle:"",snippetAddTool:!0,mobileSimpleEdit:!1,clearPreferences:!1,imageEmbed:!0,undoRedoStyles:!0,undoContainerOnly:!1,absolutePath:!1,maxEmbedImageWidth:1600,zoom:.6,contentStyleWithSample:!1,contentSizes:[300,320,340,360,380,400,420,440,460,480,500,520,540,560,580,600,620,640,660,680,700,720,740,760,780,800,820,840,860,880,900,920,940,960,970,980,1e3,1020,1040,1050,1060,1080,1100,1120,1140,1160,1180,1200,1220,1240,1260,1280,1300,1320,1340,1360,1380,1400,1420,1440,1460,1480,1500,1520,1540,1560,1580,1600,1620,1640,1660,1680,1700,1720,1740,1760,1780,1800,1820,1840,1860,1880,1900,1920,1940,1960,1980,2e3,2020,2040,2060,2080,2100,2120,2140,2160,2180,2200,2220,2240,2260,2280,2300,2320,2340,2360,2380,2400,2420,2440,2460,2480,2500,2520,2540,2560,2580,2600,2620,2640,2660,2680,2700],contentStyles:{data:{categories:[{id:-1,desc:"ALL"},{id:1,desc:"Sans-serif & Sans-serif"},{id:2,desc:"Serif & Serif"},{id:3,desc:"Sans-serif & Serif"},{id:4,desc:"Serif & Sans-serif"},{id:5,desc:"Monospace & Monospace"},{id:6,desc:"Monospace & Sans-serif"},{id:7,desc:"Sans-serif & Monospace"},{id:8,desc:"Display & Sans-serif"},{id:9,desc:"Handwriting & Sans-serif"},{id:10,desc:"Display & Serif"},{id:11,desc:"Handwriting & Serif"},{id:12,desc:"Display & Monospace"},{id:13,desc:"Handwriting & Monospace"},{id:14,desc:"Display & Display"}],styles:[{css:"basetype-opensans.css",sectioncss:"type-opensans.css",classname:"type-opensans",img:"000.png",category:9,default:!0,caption:"Open Sans"},{css:"basetype-spectralsc-karma.css",sectioncss:"type-spectralsc-karma.css",classname:"type-spectralsc-karma",img:"004.png",category:2,default:!0,caption:"Spectral SC & Karma"},{css:"basetype-alegreyasanssc-hind.css",sectioncss:"type-alegreyasanssc-hind.css",classname:"type-alegreyasanssc-hind",img:"006.png",category:1,default:!0,caption:"Alegreya Sans SC & Hind"},{css:"basetype-cabinsketch-montserrat.css",sectioncss:"type-cabinsketch-montserrat.css",classname:"type-cabinsketch-montserrat",img:"007.png",category:8,default:!0,caption:"Cabin Sketch & Montserrat"},{css:"basetype-anonymouspro-catamaran.css",sectioncss:"type-anonymouspro-catamaran.css",classname:"type-anonymouspro-catamaran",img:"010.png",category:6,default:!0,caption:"Anonymous Pro & Catamaran"},{css:"basetype-nothingyouc-ibmplexmono.css",sectioncss:"type-nothingyouc-ibmplexmono.css",classname:"type-nothingyouc-ibmplexmono",img:"011.png",category:13,default:!0,caption:"Nothing You Could Do & IBM Plex Mono"},{css:"basetype-juliussansone-taviraj.css",sectioncss:"type-juliussansone-taviraj.css",classname:"type-juliussansone-taviraj",img:"012.png",category:3,default:!0,caption:"Julius Sans One & Taviraj"},{css:"basetype-voltaire-sourcecodepro.css",sectioncss:"type-voltaire-sourcecodepro.css",classname:"type-voltaire-sourcecodepro",img:"013.png",category:7,default:!0,caption:"Voltaire & Source Code Pro"},{css:"basetype-oregano-zillaslab.css",sectioncss:"type-oregano-zillaslab.css",classname:"type-oregano-zillaslab",img:"014.png",category:10,default:!0,caption:"Oregano & Zilla Slab"},{css:"basetype-anonymouspro.css",sectioncss:"type-anonymouspro.css",classname:"type-anonymouspro",img:"016.png",category:5,default:!1,caption:"Anonymous Pro"},{css:"basetype-dancingscript-anonymouspro.css",sectioncss:"type-dancingscript-anonymouspro.css",classname:"type-dancingscript-anonymouspro",img:"018.png",category:13,default:!1,caption:"Dancing Script & Anonymous Pro"},{css:"basetype-unicaone-cormorantgaramond.css",sectioncss:"type-unicaone-cormorantgaramond.css",classname:"type-unicaone-cormorantgaramond",img:"019.png",category:10,default:!1,caption:"Unica One & Cormorant Garamond"},{css:"basetype-allan-overpassmono.css",sectioncss:"type-allan-overpassmono.css",classname:"type-allan-overpassmono",img:"020.png",category:12,default:!1,caption:"Allan & Overpass Mono"},{css:"basetype-averialibre-barlow.css",sectioncss:"type-averialibre-barlow.css",classname:"type-averialibre-barlow",img:"021.png",category:8,default:!1,caption:"Averia Libre & Barlow"},{css:"basetype-merriweathersans-martel.css",sectioncss:"type-merriweathersans-martel.css",classname:"type-merriweathersans-martel",img:"022.png",category:3,default:!1,caption:"Merriweather Sans & Martel"},{css:"basetype-poppins.css",sectioncss:"type-poppins.css",classname:"type-poppins",img:"023.png",category:1,default:!1,caption:"Poppins"},{css:"basetype-specialelite-encodesans.css",sectioncss:"type-specialelite-encodesans.css",classname:"type-specialelite-encodesans",img:"026.png",category:8,default:!1,caption:"Special Elite & Encode Sans"},{css:"basetype-marcellussc-heebo.css",sectioncss:"type-marcellussc-heebo.css",classname:"type-marcellussc-heebo",img:"028.png",category:4,default:!1,caption:"Marcellus SC & Heebo"},{css:"basetype-oswald-cousine.css",sectioncss:"type-oswald-cousine.css",classname:"type-oswald-cousine",img:"029.png",category:7,default:!1,caption:"Oswald & Cousine"},{css:"basetype-oranienbaum-sourcesanspro.css",sectioncss:"type-oranienbaum-sourcesanspro.css",classname:"type-oranienbaum-sourcesanspro",img:"031.png",category:4,default:!1,caption:"Oranienbaum & Source Sans Pro"},{css:"basetype-sriracha-arvo.css",sectioncss:"type-sriracha-arvo.css",classname:"type-sriracha-arvo",img:"032.png",category:11,default:!1,caption:"Sriracha & Arvo"},{css:"basetype-merriweather.css",sectioncss:"type-merriweather.css",classname:"type-merriweather",img:"033.png",category:2,default:!1,caption:"Merriweather"},{css:"basetype-badscript-rokkitt.css",sectioncss:"type-badscript-rokkitt.css",classname:"type-badscript-rokkitt",img:"034.png",category:11,default:!1,caption:"Bad Script & Rokkitt"},{css:"basetype-inconsolata.css",sectioncss:"type-inconsolata.css",classname:"type-inconsolata",img:"036.png",category:5,default:!1,caption:"Inconsolata"},{css:"basetype-novamono-robotomono.css",sectioncss:"type-novamono-robotomono.css",classname:"type-novamono-robotomono",img:"037.png",category:5,default:!1,caption:"Nova Mono & Roboto Mono"},{css:"basetype-spacemono.css",sectioncss:"type-spacemono.css",classname:"type-spacemono",img:"038.png",category:5,default:!1,caption:"Space Mono"},{css:"basetype-elsie-frankruhllibre.css",sectioncss:"type-elsie-frankruhllibre.css",classname:"type-elsie-frankruhllibre",img:"042.png",category:10,default:!1,caption:"Elsie & Frank Ruhl Libre"},{css:"basetype-playfairdisp-petitformalscr.css",sectioncss:"type-playfairdisp-petitformalscr.css",classname:"type-playfairdisp-petitformalscr",img:"043.png",category:2,default:!1,caption:"Playfair Display"},{css:"basetype-josefinsans-neuton.css",sectioncss:"type-josefinsans-neuton.css",classname:"type-josefinsans-neuton",img:"044.png",category:3,default:!1,caption:"Josefin Sans & Neuton"},{css:"basetype-stintultracon-inconsolata.css",sectioncss:"type-stintultracon-inconsolata.css",classname:"type-stintultracon-inconsolata",img:"045.png",category:12,default:!1,caption:"Stint Ultra Condensed & Inconsolata"},{css:"basetype-raleway-playfairdisplay.css",sectioncss:"type-raleway-playfairdisplay.css",classname:"type-raleway-playfairdisplay",img:"047.png",category:1,default:!1,caption:"Raleway"},{css:"basetype-ubuntumono-sourcecodepro.css",sectioncss:"type-ubuntumono-sourcecodepro.css",classname:"type-ubuntumono-sourcecodepro",img:"049.png",category:5,default:!1,caption:"Ubuntu Mono & Source Code Pro"},{css:"basetype-sharetechmono-nunito.css",sectioncss:"type-sharetechmono-nunito.css",classname:"type-sharetechmono-nunito",img:"050.png",category:6,default:!1,caption:"Share Tech Mono & Nunito"},{css:"basetype-lato.css",sectioncss:"type-lato.css",classname:"type-lato",img:"051.png",category:1,default:!1,caption:"Lato"},{css:"basetype-pathwaygothicone-merriweather.css",sectioncss:"type-pathwaygothicone-merriweather.css",classname:"type-pathwaygothicone-merriweather",img:"052.png",category:3,default:!1,caption:"Pathway Gothic One & Merriweather"},{css:"basetype-forum-nanumgothiccoding.css",sectioncss:"type-forum-nanumgothiccoding.css",classname:"type-forum-nanumgothiccoding",img:"053.png",category:12,default:!1,caption:"Forum & Nanum Gothic Coding"},{css:"basetype-bilbo-halant.css",sectioncss:"type-bilbo-halant.css",classname:"type-bilbo-halant",img:"054.png",category:11,default:!1,caption:"Bilbo & Halant"},{css:"basetype-hammersmithone-poppins.css",sectioncss:"type-hammersmithone-poppins.css",classname:"type-hammersmithone-poppins",img:"057.png",category:1,default:!1,caption:"Hammersmith One & Poppins"},{css:"basetype-arimamadurai.css",sectioncss:"type-arimamadurai.css",classname:"type-arimamadurai",img:"058.png",category:14,default:!1,caption:"Arima Madurai"},{css:"basetype-teko-muktamahee.css",sectioncss:"type-teko-muktamahee.css",classname:"type-teko-muktamahee",img:"059.png",category:1,default:!1,caption:"Teko & Mukta Mahee"},{css:"basetype-heebo-ibmplexmono.css",sectioncss:"type-heebo-ibmplexmono.css",classname:"type-heebo-ibmplexmono",img:"060.png",category:7,default:!1,caption:"Heebo & IBM Plex Mono"},{css:"basetype-sairacon-thegirlnextdoor.css",sectioncss:"type-sairacon-thegirlnextdoor.css",classname:"type-sairacon-thegirlnextdoor",img:"062.png",category:1,default:!1,caption:"Saira Condensed"},{css:"basetype-frankruhllibre-lato.css",sectioncss:"type-frankruhllibre-lato.css",classname:"type-frankruhllibre-lato",img:"063.png",category:4,default:!1,caption:"Frank Ruhl Libre & Lato"},{css:"basetype-yantramanav-ibmplexserif.css",sectioncss:"type-yantramanav-ibmplexserif.css",classname:"type-yantramanav-ibmplexserif",img:"064.png",category:1,default:!1,caption:"Yantramanav & IBM Plex Serif"},{css:"basetype-quicksand-kalam.css",sectioncss:"type-quicksand-kalam.css",classname:"type-quicksand-kalam",img:"065.png",category:1,default:!1,caption:"Quicksand & Kalam"},{css:"basetype-ibmplexmono.css",sectioncss:"type-ibmplexmono.css",classname:"type-ibmplexmono",img:"066.png",category:5,default:!1,caption:"IBM Plex Mono"},{css:"basetype-cinzeldecor-palanquin.css",sectioncss:"type-cinzeldecor-palanquin.css",classname:"type-cinzeldecor-palanquin",img:"067.png",category:8,default:!1,caption:"Cinzel Decorative & Palanquin"},{css:"basetype-oswald-biryani.css",sectioncss:"type-oswald-biryani.css",classname:"type-oswald-biryani",img:"069.png",category:1,default:!1,caption:"Oswald & Biryani"},{css:"basetype-yanonekaff-josefinsans.css",sectioncss:"type-yanonekaff-josefinsans.css",classname:"type-yanonekaff-josefinsans",img:"070.png",category:1,default:!1,caption:"Yanone Kaffeesatz & Josefin Sans"},{css:"basetype-abrilfatface-assistant.css",sectioncss:"type-abrilfatface-assistant.css",classname:"type-abrilfatface-assistant",img:"071.png",category:8,default:!1,caption:"Abril Fatface & Assistant"},{css:"basetype-nanumgothiccod-firasanscon.css",sectioncss:"type-nanumgothiccod-firasanscon.css",classname:"type-nanumgothiccod-firasanscon",img:"072.png",category:6,default:!1,caption:"Nanum Gothic Coding & Fira Sans Condensed"},{css:"basetype-inder-trirong.css",sectioncss:"type-inder-trirong.css",classname:"type-inder-trirong",img:"073.png",category:3,default:!1,caption:"Inder & Trirong"},{css:"basetype-atma-tajawal.css",sectioncss:"type-atma-tajawal.css",classname:"type-atma-tajawal",img:"075.png",category:8,default:!1,caption:"Atma & Tajawal"},{css:"basetype-prata-hindsiliguri.css",sectioncss:"type-prata-hindsiliguri.css",classname:"type-prata-hindsiliguri",img:"076.png",category:4,default:!1,caption:"Prata & Hind Siliguri"},{css:"basetype-federo-gothica1.css",sectioncss:"type-federo-gothica1.css",classname:"type-federo-gothica1",img:"078.png",category:1,default:!1,caption:"Federo & Gothic A1"},{css:"basetype-fjallaone-ibmplexserif.css",sectioncss:"type-fjallaone-ibmplexserif.css",classname:"type-fjallaone-ibmplexserif",img:"079.png",category:3,default:!1,caption:"Fjalla One & IBM Plex Serif"},{css:"basetype-cormorantsc-ibmplexsanscon.css",sectioncss:"type-cormorantsc-ibmplexsanscon.css",classname:"type-cormorantsc-ibmplexsanscon",img:"081.png",category:4,default:!1,caption:"Cormorant SC & IBM Plex Sans Condensed"},{css:"basetype-kalam-robotomono.css",sectioncss:"type-kalam-robotomono.css",classname:"type-kalam-robotomono",img:"082.png",category:13,default:!1,caption:"Kalam & Roboto Mono"},{css:"basetype-fugazone-librefranklin.css",sectioncss:"type-fugazone-librefranklin.css",classname:"type-fugazone-librefranklin",img:"083.png",category:8,default:!1,caption:"Fugaz One & Libre Franklin"},{css:"basetype-yeonsung-palanquin.css",sectioncss:"type-yeonsung-palanquin.css",classname:"type-yeonsung-palanquin",img:"085.png",category:8,default:!1,caption:"Yeon Sung & Palanquin"},{css:"basetype-rancho-robotoslab.css",sectioncss:"type-rancho-robotoslab.css",classname:"type-rancho-robotoslab",img:"086.png",category:11,default:!1,caption:"Rancho & Roboto Slab"},{css:"basetype-tenaram-overpassmono.css",sectioncss:"type-tenaram-overpassmono.css",classname:"type-tenaram-overpassmono",img:"087.png",category:7,default:!1,caption:"Tenali Ramakrishna & Overpass Mono"},{css:"basetype-thegirlnextdoor-sourcesanspro.css",sectioncss:"type-thegirlnextdoor-sourcesanspro.css",classname:"type-thegirlnextdoor-sourcesanspro",img:"088.png",category:9,default:!1,caption:"The Girl Next Door & Source Sans Pro"},{css:"basetype-boogaloo-inconsolata.css",sectioncss:"type-boogaloo-inconsolata.css",classname:"type-boogaloo-inconsolata",img:"090.png",category:12,default:!1,caption:"Boogaloo & Inconsolata"},{css:"basetype-caveat-sourcecodepro.css",sectioncss:"type-caveat-sourcecodepro.css",classname:"type-caveat-sourcecodepro",img:"091.png",category:13,default:!1,caption:"Caveat & Source Code Pro"},{css:"basetype-passionone-worksans.css",sectioncss:"type-passionone-worksans.css",classname:"type-passionone-worksans",img:"092.png",category:8,default:!1,caption:"Passion One & Work Sans"},{css:"basetype-anticdidone-halant.css",sectioncss:"type-anticdidone-halant.css",classname:"type-anticdidone-halant",img:"093.png",category:2,default:!1,caption:"Antic Didone & Halant"},{css:"basetype-adventpro-opensans.css",sectioncss:"type-adventpro-opensans.css",classname:"type-adventpro-opensans",img:"094.png",category:1,default:!1,caption:"Advent Pro & Open Sans"},{css:"basetype-cutivemono-lato.css",sectioncss:"type-cutivemono-lato.css",classname:"type-cutivemono-lato",img:"095.png",category:6,default:!1,caption:"Cutive Mono & Lato"},{css:"basetype-elsie-montserrat.css",sectioncss:"type-elsie-montserrat.css",classname:"type-elsie-montserrat",img:"096.png",category:8,default:!1,caption:"Elsie & Montserrat"},{css:"basetype-macondo-mukta.css",sectioncss:"type-macondo-mukta.css",classname:"type-macondo-mukta",img:"097.png",category:8,default:!1,caption:"Macondo & Mukta"},{css:"basetype-oswald-opensans.css",sectioncss:"type-oswald-opensans.css",classname:"type-oswald-opensans",img:"098.png",category:1,default:!1,caption:"Oswald & Open Sans"},{css:"basetype-poppins-lekton.css",sectioncss:"type-poppins-lekton.css",classname:"type-poppins-lekton",img:"099.png",category:1,default:!1,caption:"Poppins & Lekton"},{css:"basetype-raleway-neuton.css",sectioncss:"type-raleway-neuton.css",classname:"type-raleway-neuton",img:"100.png",category:3,default:!1,caption:"Raleway & Neuton"},{css:"basetype-sourcecodepro-nunitosans.css",sectioncss:"type-sourcecodepro-nunitosans.css",classname:"type-sourcecodepro-nunitosans",img:"101.png",category:6,default:!1,caption:"Source Code Pro & Nunito Sans"},{css:"basetype-tangerine-opensans.css",sectioncss:"type-tangerine-opensans.css",classname:"type-tangerine-opensans",img:"102.png",category:9,default:!1,caption:"Tangerine & Open Sans"},{css:"basetype-alegreya-lato.css",sectioncss:"type-alegreya-lato.css",classname:"type-alegreya-lato",img:"103.png",category:4,default:!1,caption:"Alegreya & Lato"},{css:"basetype-amaticsc-lato.css",sectioncss:"type-amaticsc-lato.css",classname:"type-amaticsc-lato",img:"104.png",category:9,default:!1,caption:"Amatic SC & Lato"},{css:"basetype-heebo-ibmplexmono-2.css",sectioncss:"type-heebo-ibmplexmono-2.css",classname:"type-heebo-ibmplexmono-2",img:"105.png",category:7,default:!1,caption:"Heebo & IBM Plex Mono"},{css:"basetype-juliussansone-robotocondensed.css",sectioncss:"type-juliussansone-robotocondensed.css",classname:"type-juliussansone-robotocondensed",img:"106.png",category:1,default:!1,caption:"Julius Sans One & Roboto Condensed"},{css:"basetype-montserrat-roboto.css",sectioncss:"type-montserrat-roboto.css",classname:"type-montserrat-roboto",img:"107.png",category:1,default:!1,caption:"Montserrat & Roboto"},{css:"basetype-nothingyouc-ibmplexmono-2.css",sectioncss:"type-nothingyouc-ibmplexmono-2.css",classname:"type-nothingyouc-ibmplexmono-2",img:"108.png",category:13,default:!1,caption:"Nothing You Could Do & IBM Plex Mono"},{css:"basetype-raleway-lato.css",sectioncss:"type-raleway-lato.css",classname:"type-raleway-lato",img:"109.png",category:1,default:!1,caption:"Raleway & Lato"},{css:"basetype-raleway-lusitana.css",sectioncss:"type-raleway-lusitana.css",classname:"type-raleway-lusitana",img:"110.png",category:3,default:!1,caption:"Raleway & Lusitana"},{css:"basetype-rufina-oxygen.css",sectioncss:"type-rufina-oxygen.css",classname:"type-rufina-oxygen",img:"111.png",category:4,default:!1,caption:"Rufina & Oxygen"},{css:"basetype-sacramento-opensans.css",sectioncss:"type-sacramento-opensans.css",classname:"type-sacramento-opensans",img:"112.png",category:9,default:!1,caption:"Sacramento & Open Sans"},{css:"basetype-specialelite-playfairdisplay.css",sectioncss:"type-specialelite-playfairdisplay.css",classname:"type-specialelite-playfairdisplay",img:"113.png",category:10,default:!1,caption:"Special Elite & Playfair Display"},{css:"basetype-unicaone-sourcesanspro.css",sectioncss:"type-unicaone-sourcesanspro.css",classname:"type-unicaone-sourcesanspro",img:"114.png",category:8,default:!1,caption:"Unica One & Source Sans Pro"},{css:"basetype-amaticsc-josepfinsans.css",sectioncss:"type-amaticsc-josepfinsans.css",classname:"type-amaticsc-josepfinsans",img:"001.png",category:9,default:!0,caption:"Amatic SC & Josefin Sans"},{css:"basetype-sourcesanspro-anonymouspro.css",sectioncss:"type-sourcesanspro-anonymouspro.css",classname:"type-sourcesanspro-anonymouspro",img:"002.png",category:7,default:!0,caption:"Source Sans Pro & Anonymous Pro"},{css:"basetype-poppins-oldstandardtt.css",sectioncss:"type-poppins-oldstandardtt.css",classname:"type-poppins-oldstandardtt",img:"003.png",category:3,default:!0,caption:"Poppins & Old Standard TT"},{css:"basetype-yesteryear-chivo.css",sectioncss:"type-yesteryear-chivo.css",classname:"type-yesteryear-chivo",img:"005.png",category:9,default:!0,caption:"Yesteryear & Chivo"},{css:"basetype-ptserif-poppins.css",sectioncss:"type-ptserif-poppins.css",classname:"type-ptserif-poppins",img:"008.png",category:4,default:!0,caption:"PT Serif & Poppins"},{css:"basetype-kellyslab-yantramanav.css",sectioncss:"type-kellyslab-yantramanav.css",classname:"type-kellyslab-yantramanav",img:"009.png",category:8,default:!0,caption:"Kelly Slab & Yantramanav"},{css:"basetype-yellowtail-frankruhllibre.css",sectioncss:"type-yellowtail-frankruhllibre.css",classname:"type-yellowtail-frankruhllibre",img:"015.png",category:11,default:!0,caption:"Yellowtail & Frank Ruhl Libre"},{css:"basetype-sedgwickave-spectral.css",sectioncss:"type-sedgwickave-spectral.css",classname:"type-sedgwickave-spectral",img:"017.png",category:10,default:!1,caption:"Sedgwick Ave & Spectral"},{css:"basetype-satisfy-economica.css",sectioncss:"type-satisfy-economica.css",classname:"type-satisfy-economica",img:"024.png",category:9,default:!1,caption:"Satisfy & Economica"},{css:"basetype-josefinsans-lekton.css",sectioncss:"type-josefinsans-lekton.css",classname:"type-josefinsans-lekton",img:"025.png",category:1,default:!1,caption:"Josefin Sans & Lekton"},{css:"basetype-parisienne-maitree.css",sectioncss:"type-parisienne-maitree.css",classname:"type-parisienne-maitree",img:"027.png",category:11,default:!1,caption:"Parisienne & Maitree"},{css:"basetype-londrinashadow-martel.css",sectioncss:"type-londrinashadow-martel.css",classname:"type-londrinashadow-martel",img:"030.png",category:10,default:!1,caption:"Londrina Shadow & Martel"},{css:"basetype-poiretone-pridi.css",sectioncss:"type-poiretone-pridi.css",classname:"type-poiretone-pridi",img:"035.png",category:10,default:!1,caption:"Poiret One & Pridi"},{css:"basetype-pollerone-ibmplexserif.css",sectioncss:"type-pollerone-ibmplexserif.css",classname:"type-pollerone-ibmplexserif",img:"039.png",category:10,default:!1,caption:"Poller One & IBM Plex Serif"},{css:"basetype-italiana-martel.css",sectioncss:"type-italiana-martel.css",classname:"type-italiana-martel",img:"040.png",category:2,default:!1,caption:"Italiana & Martel"},{css:"basetype-julee-lora.css",sectioncss:"type-julee-lora.css",classname:"type-julee-lora",img:"041.png",category:11,default:!1,caption:"Julee & Lora"},{css:"basetype-sixcaps-robotomono.css",sectioncss:"type-sixcaps-robotomono.css",classname:"type-sixcaps-robotomono",img:"046.png",category:7,default:!1,caption:"Six Caps & Roboto Mono"},{css:"basetype-pacifico-nanumgothiccod.css",sectioncss:"type-pacifico-nanumgothiccod.css",classname:"type-pacifico-nanumgothiccod",img:"048.png",category:13,default:!1,caption:"Pacifico & Nanum Gothic Coding"},{css:"basetype-greatvibes-robotomono.css",sectioncss:"type-greatvibes-robotomono.css",classname:"type-greatvibes-robotomono",img:"055.png",category:13,default:!1,caption:"Great Vibes & Roboto Mono"},{css:"basetype-pinyonscript-firasans.css",sectioncss:"type-pinyonscript-firasans.css",classname:"type-pinyonscript-firasans",img:"056.png",category:9,default:!1,caption:"Pinyon Script & Fira Sans"},{css:"basetype-sail-rasa.css",sectioncss:"type-sail-rasa.css",classname:"type-sail-rasa",img:"061.png",category:10,default:!1,caption:"Sail & Rasa"},{css:"basetype-yesevaone-forum.css",sectioncss:"type-yesevaone-forum.css",classname:"type-yesevaone-forum",img:"068.png",category:14,default:!1,caption:"Yeseva One & Forum"},{css:"basetype-dosis-oldstandardtt.css",sectioncss:"type-dosis-oldstandardtt.css",classname:"type-dosis-oldstandardtt",img:"074.png",category:1,default:!1,caption:"Dosis & Old Standard TT"},{css:"basetype-engagement-spectral.css",sectioncss:"type-engagement-spectral.css",classname:"type-engagement-spectral",img:"077.png",category:11,default:!1,caption:"Engagement & Spectral"},{css:"basetype-dynalight-mada.css",sectioncss:"type-dynalight-mada.css",classname:"type-dynalight-mada",img:"080.png",category:8,default:!1,caption:"Dynalight & Mada"},{css:"basetype-gravitasone-nanummyeongjo.css",sectioncss:"type-gravitasone-nanummyeongjo.css",classname:"type-gravitasone-nanummyeongjo",img:"084.png",category:10,default:!1,caption:"Gravitas One & Nanum Myeongjo"},{css:"basetype-alexbrush-ibmplexsans.css",sectioncss:"type-alexbrush-ibmplexsans.css",classname:"type-alexbrush-ibmplexsans",img:"089.png",category:9,default:!1,caption:"Alex Brush & IBM Plex Sans"}]}},contentStylesAlt:{data:{categories:[{id:-1,desc:"ALL"},{id:1,desc:"Sans-serif & Sans-serif"},{id:2,desc:"Serif & Serif"},{id:3,desc:"Sans-serif & Serif"},{id:4,desc:"Serif & Sans-serif"},{id:5,desc:"Monospace & Monospace"},{id:6,desc:"Monospace & Sans-serif"},{id:7,desc:"Sans-serif & Monospace"},{id:8,desc:"Display & Sans-serif"},{id:9,desc:"Handwriting & Sans-serif"},{id:10,desc:"Display & Serif"},{id:11,desc:"Handwriting & Serif"},{id:12,desc:"Display & Monospace"},{id:13,desc:"Handwriting & Monospace"},{id:14,desc:"Display & Display"}],styles:[{css:"basetype-opensans.css",sectioncss:"type-opensans.css",classname:"type-opensans",img:"type-opensans.jpg",category:9,default:!0,caption:"Open Sans"},{css:"basetype-spectralsc-karma.css",sectioncss:"type-spectralsc-karma.css",classname:"type-spectralsc-karma",img:"type-spectralsc-karma.jpg",category:2,default:!0,caption:"Spectral SC & Karma"},{css:"basetype-alegreyasanssc-hind.css",sectioncss:"type-alegreyasanssc-hind.css",classname:"type-alegreyasanssc-hind",img:"type-alegreyasanssc-hind.jpg",category:1,default:!0,caption:"Alegreya Sans SC & Hind"},{css:"basetype-cabinsketch-montserrat.css",sectioncss:"type-cabinsketch-montserrat.css",classname:"type-cabinsketch-montserrat",img:"type-cabinsketch-montserrat.jpg",category:8,default:!0,caption:"Cabin Sketch & Montserrat"},{css:"basetype-anonymouspro-catamaran.css",sectioncss:"type-anonymouspro-catamaran.css",classname:"type-anonymouspro-catamaran",img:"type-anonymouspro-catamaran.jpg",category:6,default:!0,caption:"Anonymous Pro & Catamaran"},{css:"basetype-nothingyouc-ibmplexmono.css",sectioncss:"type-nothingyouc-ibmplexmono.css",classname:"type-nothingyouc-ibmplexmono",img:"type-nothingyouc-ibmplexmono.jpg",category:13,default:!0,caption:"Nothing You Could Do & IBM Plex Mono"},{css:"basetype-juliussansone-taviraj.css",sectioncss:"type-juliussansone-taviraj.css",classname:"type-juliussansone-taviraj",img:"type-juliussansone-taviraj.jpg",category:3,default:!0,caption:"Julius Sans One & Taviraj"},{css:"basetype-voltaire-sourcecodepro.css",sectioncss:"type-voltaire-sourcecodepro.css",classname:"type-voltaire-sourcecodepro",img:"type-voltaire-sourcecodepro.jpg",category:7,default:!0,caption:"Voltaire & Source Code Pro"},{css:"basetype-oregano-zillaslab.css",sectioncss:"type-oregano-zillaslab.css",classname:"type-oregano-zillaslab",img:"type-oregano-zillaslab.jpg",category:10,default:!0,caption:"Oregano & Zilla Slab"},{css:"basetype-anonymouspro.css",sectioncss:"type-anonymouspro.css",classname:"type-anonymouspro",img:"type-anonymouspro.jpg",category:5,default:!1,caption:"Anonymous Pro"},{css:"basetype-dancingscript-anonymouspro.css",sectioncss:"type-dancingscript-anonymouspro.css",classname:"type-dancingscript-anonymouspro",img:"type-dancingscript-anonymouspro.jpg",category:13,default:!1,caption:"Dancing Script & Anonymous Pro"},{css:"basetype-unicaone-cormorantgaramond.css",sectioncss:"type-unicaone-cormorantgaramond.css",classname:"type-unicaone-cormorantgaramond",img:"type-unicaone-cormorantgaramond.jpg",category:10,default:!1,caption:"Unica One & Cormorant Garamond"},{css:"basetype-allan-overpassmono.css",sectioncss:"type-allan-overpassmono.css",classname:"type-allan-overpassmono",img:"type-allan-overpassmono.jpg",category:12,default:!1,caption:"Allan & Overpass Mono"},{css:"basetype-averialibre-barlow.css",sectioncss:"type-averialibre-barlow.css",classname:"type-averialibre-barlow",img:"type-averialibre-barlow.jpg",category:8,default:!1,caption:"Averia Libre & Barlow"},{css:"basetype-merriweathersans-martel.css",sectioncss:"type-merriweathersans-martel.css",classname:"type-merriweathersans-martel",img:"type-merriweathersans-martel.jpg",category:3,default:!1,caption:"Merriweather Sans & Martel"},{css:"basetype-poppins.css",sectioncss:"type-poppins.css",classname:"type-poppins",img:"type-poppins.jpg",category:1,default:!1,caption:"Poppins"},{css:"basetype-specialelite-encodesans.css",sectioncss:"type-specialelite-encodesans.css",classname:"type-specialelite-encodesans",img:"type-specialelite-encodesans.jpg",category:8,default:!1,caption:"Special Elite & Encode Sans"},{css:"basetype-marcellussc-heebo.css",sectioncss:"type-marcellussc-heebo.css",classname:"type-marcellussc-heebo",img:"type-marcellussc-heebo.jpg",category:4,default:!1,caption:"Marcellus SC & Heebo"},{css:"basetype-oswald-cousine.css",sectioncss:"type-oswald-cousine.css",classname:"type-oswald-cousine",img:"type-oswald-cousine.jpg",category:7,default:!1,caption:"Oswald & Cousine"},{css:"basetype-oranienbaum-sourcesanspro.css",sectioncss:"type-oranienbaum-sourcesanspro.css",classname:"type-oranienbaum-sourcesanspro",img:"type-oranienbaum-sourcesanspro.jpg",category:4,default:!1,caption:"Oranienbaum & Source Sans Pro"},{css:"basetype-sriracha-arvo.css",sectioncss:"type-sriracha-arvo.css",classname:"type-sriracha-arvo",img:"type-sriracha-arvo.jpg",category:11,default:!1,caption:"Sriracha & Arvo"},{css:"basetype-merriweather.css",sectioncss:"type-merriweather.css",classname:"type-merriweather",img:"type-merriweather.jpg",category:2,default:!1,caption:"Merriweather"},{css:"basetype-badscript-rokkitt.css",sectioncss:"type-badscript-rokkitt.css",classname:"type-badscript-rokkitt",img:"type-badscript-rokkitt.jpg",category:11,default:!1,caption:"Bad Script & Rokkitt"},{css:"basetype-inconsolata.css",sectioncss:"type-inconsolata.css",classname:"type-inconsolata",img:"type-inconsolata.jpg",category:5,default:!1,caption:"Inconsolata"},{css:"basetype-novamono-robotomono.css",sectioncss:"type-novamono-robotomono.css",classname:"type-novamono-robotomono",img:"type-novamono-robotomono.jpg",category:5,default:!1,caption:"Nova Mono & Roboto Mono"},{css:"basetype-spacemono.css",sectioncss:"type-spacemono.css",classname:"type-spacemono",img:"type-spacemono.jpg",category:5,default:!1,caption:"Space Mono"},{css:"basetype-elsie-frankruhllibre.css",sectioncss:"type-elsie-frankruhllibre.css",classname:"type-elsie-frankruhllibre",img:"type-elsie-frankruhllibre.jpg",category:10,default:!1,caption:"Elsie & Frank Ruhl Libre"},{css:"basetype-playfairdisp-petitformalscr.css",sectioncss:"type-playfairdisp-petitformalscr.css",classname:"type-playfairdisp-petitformalscr",img:"type-playfairdisp-petitformalscr.jpg",category:2,default:!1,caption:"Playfair Display"},{css:"basetype-josefinsans-neuton.css",sectioncss:"type-josefinsans-neuton.css",classname:"type-josefinsans-neuton",img:"type-josefinsans-neuton.jpg",category:3,default:!1,caption:"Josefin Sans & Neuton"},{css:"basetype-stintultracon-inconsolata.css",sectioncss:"type-stintultracon-inconsolata.css",classname:"type-stintultracon-inconsolata",img:"type-stintultracon-inconsolata.jpg",category:12,default:!1,caption:"Stint Ultra Condensed & Inconsolata"},{css:"basetype-raleway-playfairdisplay.css",sectioncss:"type-raleway-playfairdisplay.css",classname:"type-raleway-playfairdisplay",img:"type-raleway-playfairdisplay.jpg",category:1,default:!1,caption:"Raleway"},{css:"basetype-ubuntumono-sourcecodepro.css",sectioncss:"type-ubuntumono-sourcecodepro.css",classname:"type-ubuntumono-sourcecodepro",img:"type-ubuntumono-sourcecodepro.jpg",category:5,default:!1,caption:"Ubuntu Mono & Source Code Pro"},{css:"basetype-sharetechmono-nunito.css",sectioncss:"type-sharetechmono-nunito.css",classname:"type-sharetechmono-nunito",img:"type-sharetechmono-nunito.jpg",category:6,default:!1,caption:"Share Tech Mono & Nunito"},{css:"basetype-lato.css",sectioncss:"type-lato.css",classname:"type-lato",img:"type-lato.jpg",category:1,default:!1,caption:"Lato"},{css:"basetype-pathwaygothicone-merriweather.css",sectioncss:"type-pathwaygothicone-merriweather.css",classname:"type-pathwaygothicone-merriweather",img:"type-pathwaygothicone-merriweather.jpg",category:3,default:!1,caption:"Pathway Gothic One & Merriweather"},{css:"basetype-forum-nanumgothiccoding.css",sectioncss:"type-forum-nanumgothiccoding.css",classname:"type-forum-nanumgothiccoding",img:"type-forum-nanumgothiccoding.jpg",category:12,default:!1,caption:"Forum & Nanum Gothic Coding"},{css:"basetype-bilbo-halant.css",sectioncss:"type-bilbo-halant.css",classname:"type-bilbo-halant",img:"type-bilbo-halant.jpg",category:11,default:!1,caption:"Bilbo & Halant"},{css:"basetype-hammersmithone-poppins.css",sectioncss:"type-hammersmithone-poppins.css",classname:"type-hammersmithone-poppins",img:"type-hammersmithone-poppins.jpg",category:1,default:!1,caption:"Hammersmith One & Poppins"},{css:"basetype-arimamadurai.css",sectioncss:"type-arimamadurai.css",classname:"type-arimamadurai",img:"type-arimamadurai.jpg",category:14,default:!1,caption:"Arima Madurai"},{css:"basetype-teko-muktamahee.css",sectioncss:"type-teko-muktamahee.css",classname:"type-teko-muktamahee",img:"type-teko-muktamahee.jpg",category:1,default:!1,caption:"Teko & Mukta Mahee"},{css:"basetype-heebo-ibmplexmono.css",sectioncss:"type-heebo-ibmplexmono.css",classname:"type-heebo-ibmplexmono",img:"type-heebo-ibmplexmono.jpg",category:7,default:!1,caption:"Heebo & IBM Plex Mono"},{css:"basetype-sairacon-thegirlnextdoor.css",sectioncss:"type-sairacon-thegirlnextdoor.css",classname:"type-sairacon-thegirlnextdoor",img:"type-sairacon-thegirlnextdoor.jpg",category:1,default:!1,caption:"Saira Condensed"},{css:"basetype-frankruhllibre-lato.css",sectioncss:"type-frankruhllibre-lato.css",classname:"type-frankruhllibre-lato",img:"type-frankruhllibre-lato.jpg",category:4,default:!1,caption:"Frank Ruhl Libre & Lato"},{css:"basetype-yantramanav-ibmplexserif.css",sectioncss:"type-yantramanav-ibmplexserif.css",classname:"type-yantramanav-ibmplexserif",img:"type-yantramanav-ibmplexserif.jpg",category:1,default:!1,caption:"Yantramanav & IBM Plex Serif"},{css:"basetype-quicksand-kalam.css",sectioncss:"type-quicksand-kalam.css",classname:"type-quicksand-kalam",img:"type-quicksand-kalam.jpg",category:1,default:!1,caption:"Quicksand & Kalam"},{css:"basetype-ibmplexmono.css",sectioncss:"type-ibmplexmono.css",classname:"type-ibmplexmono",img:"type-ibmplexmono.jpg",category:5,default:!1,caption:"IBM Plex Mono"},{css:"basetype-cinzeldecor-palanquin.css",sectioncss:"type-cinzeldecor-palanquin.css",classname:"type-cinzeldecor-palanquin",img:"type-cinzeldecor-palanquin.jpg",category:8,default:!1,caption:"Cinzel Decorative & Palanquin"},{css:"basetype-oswald-biryani.css",sectioncss:"type-oswald-biryani.css",classname:"type-oswald-biryani",img:"type-oswald-biryani.jpg",category:1,default:!1,caption:"Oswald & Biryani"},{css:"basetype-yanonekaff-josefinsans.css",sectioncss:"type-yanonekaff-josefinsans.css",classname:"type-yanonekaff-josefinsans",img:"type-yanonekaff-josefinsans.jpg",category:1,default:!1,caption:"Yanone Kaffeesatz & Josefin Sans"},{css:"basetype-abrilfatface-assistant.css",sectioncss:"type-abrilfatface-assistant.css",classname:"type-abrilfatface-assistant",img:"type-abrilfatface-assistant.jpg",category:8,default:!1,caption:"Abril Fatface & Assistant"},{css:"basetype-nanumgothiccod-firasanscon.css",sectioncss:"type-nanumgothiccod-firasanscon.css",classname:"type-nanumgothiccod-firasanscon",img:"type-nanumgothiccod-firasanscon.jpg",category:6,default:!1,caption:"Nanum Gothic Coding & Fira Sans Condensed"},{css:"basetype-inder-trirong.css",sectioncss:"type-inder-trirong.css",classname:"type-inder-trirong",img:"type-inder-trirong.jpg",category:3,default:!1,caption:"Inder & Trirong"},{css:"basetype-atma-tajawal.css",sectioncss:"type-atma-tajawal.css",classname:"type-atma-tajawal",img:"type-atma-tajawal.jpg",category:8,default:!1,caption:"Atma & Tajawal"},{css:"basetype-prata-hindsiliguri.css",sectioncss:"type-prata-hindsiliguri.css",classname:"type-prata-hindsiliguri",img:"type-prata-hindsiliguri.jpg",category:4,default:!1,caption:"Prata & Hind Siliguri"},{css:"basetype-federo-gothica1.css",sectioncss:"type-federo-gothica1.css",classname:"type-federo-gothica1",img:"type-federo-gothica1.jpg",category:1,default:!1,caption:"Federo & Gothic A1"},{css:"basetype-fjallaone-ibmplexserif.css",sectioncss:"type-fjallaone-ibmplexserif.css",classname:"type-fjallaone-ibmplexserif",img:"type-fjallaone-ibmplexserif.jpg",category:3,default:!1,caption:"Fjalla One & IBM Plex Serif"},{css:"basetype-cormorantsc-ibmplexsanscon.css",sectioncss:"type-cormorantsc-ibmplexsanscon.css",classname:"type-cormorantsc-ibmplexsanscon",img:"type-cormorantsc-ibmplexsanscon.jpg",category:4,default:!1,caption:"Cormorant SC & IBM Plex Sans Condensed"},{css:"basetype-kalam-robotomono.css",sectioncss:"type-kalam-robotomono.css",classname:"type-kalam-robotomono",img:"type-kalam-robotomono.jpg",category:13,default:!1,caption:"Kalam & Roboto Mono"},{css:"basetype-fugazone-librefranklin.css",sectioncss:"type-fugazone-librefranklin.css",classname:"type-fugazone-librefranklin",img:"type-fugazone-librefranklin.jpg",category:8,default:!1,caption:"Fugaz One & Libre Franklin"},{css:"basetype-yeonsung-palanquin.css",sectioncss:"type-yeonsung-palanquin.css",classname:"type-yeonsung-palanquin",img:"type-yeonsung-palanquin.jpg",category:8,default:!1,caption:"Yeon Sung & Palanquin"},{css:"basetype-rancho-robotoslab.css",sectioncss:"type-rancho-robotoslab.css",classname:"type-rancho-robotoslab",img:"type-rancho-robotoslab.jpg",category:11,default:!1,caption:"Rancho & Roboto Slab"},{css:"basetype-tenaram-overpassmono.css",sectioncss:"type-tenaram-overpassmono.css",classname:"type-tenaram-overpassmono",img:"type-tenaram-overpassmono.jpg",category:7,default:!1,caption:"Tenali Ramakrishna & Overpass Mono"},{css:"basetype-thegirlnextdoor-sourcesanspro.css",sectioncss:"type-thegirlnextdoor-sourcesanspro.css",classname:"type-thegirlnextdoor-sourcesanspro",img:"type-thegirlnextdoor-sourcesanspro.jpg",category:9,default:!1,caption:"The Girl Next Door & Source Sans Pro"},{css:"basetype-boogaloo-inconsolata.css",sectioncss:"type-boogaloo-inconsolata.css",classname:"type-boogaloo-inconsolata",img:"type-boogaloo-inconsolata.jpg",category:12,default:!1,caption:"Boogaloo & Inconsolata"},{css:"basetype-caveat-sourcecodepro.css",sectioncss:"type-caveat-sourcecodepro.css",classname:"type-caveat-sourcecodepro",img:"type-caveat-sourcecodepro.jpg",category:13,default:!1,caption:"Caveat & Source Code Pro"},{css:"basetype-passionone-worksans.css",sectioncss:"type-passionone-worksans.css",classname:"type-passionone-worksans",img:"type-passionone-worksans.jpg",category:8,default:!1,caption:"Passion One & Work Sans"},{css:"basetype-anticdidone-halant.css",sectioncss:"type-anticdidone-halant.css",classname:"type-anticdidone-halant",img:"type-anticdidone-halant.jpg",category:2,default:!1,caption:"Antic Didone & Halant"},{css:"basetype-adventpro-opensans.css",sectioncss:"type-adventpro-opensans.css",classname:"type-adventpro-opensans",img:"type-adventpro-opensans.jpg",category:1,default:!1,caption:"Advent Pro & Open Sans"},{css:"basetype-cutivemono-lato.css",sectioncss:"type-cutivemono-lato.css",classname:"type-cutivemono-lato",img:"type-cutivemono-lato.jpg",category:6,default:!1,caption:"Cutive Mono & Lato"},{css:"basetype-elsie-montserrat.css",sectioncss:"type-elsie-montserrat.css",classname:"type-elsie-montserrat",img:"type-elsie-montserrat.jpg",category:8,default:!1,caption:"Elsie & Montserrat"},{css:"basetype-macondo-mukta.css",sectioncss:"type-macondo-mukta.css",classname:"type-macondo-mukta",img:"type-macondo-mukta.jpg",category:8,default:!1,caption:"Macondo & Mukta"},{css:"basetype-oswald-opensans.css",sectioncss:"type-oswald-opensans.css",classname:"type-oswald-opensans",img:"type-oswald-opensans.jpg",category:1,default:!1,caption:"Oswald & Open Sans"},{css:"basetype-poppins-lekton.css",sectioncss:"type-poppins-lekton.css",classname:"type-poppins-lekton",img:"type-poppins-lekton.jpg",category:1,default:!1,caption:"Poppins & Lekton"},{css:"basetype-raleway-neuton.css",sectioncss:"type-raleway-neuton.css",classname:"type-raleway-neuton",img:"type-raleway-neuton.jpg",category:3,default:!1,caption:"Raleway & Neuton"},{css:"basetype-sourcecodepro-nunitosans.css",sectioncss:"type-sourcecodepro-nunitosans.css",classname:"type-sourcecodepro-nunitosans",img:"type-sourcecodepro-nunitosans.jpg",category:6,default:!1,caption:"Source Code Pro & Nunito Sans"},{css:"basetype-tangerine-opensans.css",sectioncss:"type-tangerine-opensans.css",classname:"type-tangerine-opensans",img:"type-tangerine-opensans.jpg",category:9,default:!1,caption:"Tangerine & Open Sans"},{css:"basetype-alegreya-lato.css",sectioncss:"type-alegreya-lato.css",classname:"type-alegreya-lato",img:"type-alegreya-lato.jpg",category:4,default:!1,caption:"Alegreya & Lato"},{css:"basetype-amaticsc-lato.css",sectioncss:"type-amaticsc-lato.css",classname:"type-amaticsc-lato",img:"type-amaticsc-lato.jpg",category:9,default:!1,caption:"Amatic SC & Lato"},{css:"basetype-heebo-ibmplexmono-2.css",sectioncss:"type-heebo-ibmplexmono-2.css",classname:"type-heebo-ibmplexmono-2",img:"type-heebo-ibmplexmono-2.jpg",category:7,default:!1,caption:"Heebo & IBM Plex Mono"},{css:"basetype-juliussansone-robotocondensed.css",sectioncss:"type-juliussansone-robotocondensed.css",classname:"type-juliussansone-robotocondensed",img:"type-juliussansone-robotocondensed.jpg",category:1,default:!1,caption:"Julius Sans One & Roboto Condensed"},{css:"basetype-montserrat-roboto.css",sectioncss:"type-montserrat-roboto.css",classname:"type-montserrat-roboto",img:"type-montserrat-roboto.jpg",category:1,default:!1,caption:"Montserrat & Roboto"},{css:"basetype-nothingyouc-ibmplexmono-2.css",sectioncss:"type-nothingyouc-ibmplexmono-2.css",classname:"type-nothingyouc-ibmplexmono-2",img:"type-nothingyouc-ibmplexmono-2.jpg",category:13,default:!1,caption:"Nothing You Could Do & IBM Plex Mono"},{css:"basetype-raleway-lato.css",sectioncss:"type-raleway-lato.css",classname:"type-raleway-lato",img:"type-raleway-lato.jpg",category:1,default:!1,caption:"Raleway & Lato"},{css:"basetype-raleway-lusitana.css",sectioncss:"type-raleway-lusitana.css",classname:"type-raleway-lusitana",img:"type-raleway-lusitana.jpg",category:3,default:!1,caption:"Raleway & Lusitana"},{css:"basetype-rufina-oxygen.css",sectioncss:"type-rufina-oxygen.css",classname:"type-rufina-oxygen",img:"type-rufina-oxygen.jpg",category:4,default:!1,caption:"Rufina & Oxygen"},{css:"basetype-sacramento-opensans.css",sectioncss:"type-sacramento-opensans.css",classname:"type-sacramento-opensans",img:"type-sacramento-opensans.jpg",category:9,default:!1,caption:"Sacramento & Open Sans"},{css:"basetype-specialelite-playfairdisplay.css",sectioncss:"type-specialelite-playfairdisplay.css",classname:"type-specialelite-playfairdisplay",img:"type-specialelite-playfairdisplay.jpg",category:10,default:!1,caption:"Special Elite & Playfair Display"},{css:"basetype-unicaone-sourcesanspro.css",sectioncss:"type-unicaone-sourcesanspro.css",classname:"type-unicaone-sourcesanspro",img:"type-unicaone-sourcesanspro.jpg",category:8,default:!1,caption:"Unica One & Source Sans Pro"},{css:"basetype-amaticsc-josepfinsans.css",sectioncss:"type-amaticsc-josepfinsans.css",classname:"type-amaticsc-josepfinsans",img:"type-amaticsc-josepfinsans.jpg",category:9,default:!0,caption:"Amatic SC & Josefin Sans"},{css:"basetype-sourcesanspro-anonymouspro.css",sectioncss:"type-sourcesanspro-anonymouspro.css",classname:"type-sourcesanspro-anonymouspro",img:"type-sourcesanspro-anonymouspro.jpg",category:7,default:!0,caption:"Source Sans Pro & Anonymous Pro"},{css:"basetype-poppins-oldstandardtt.css",sectioncss:"type-poppins-oldstandardtt.css",classname:"type-poppins-oldstandardtt",img:"type-poppins-oldstandardtt.jpg",category:3,default:!0,caption:"Poppins & Old Standard TT"},{css:"basetype-yesteryear-chivo.css",sectioncss:"type-yesteryear-chivo.css",classname:"type-yesteryear-chivo",img:"type-yesteryear-chivo.jpg",category:9,default:!0,caption:"Yesteryear & Chivo"},{css:"basetype-ptserif-poppins.css",sectioncss:"type-ptserif-poppins.css",classname:"type-ptserif-poppins",img:"type-ptserif-poppins.jpg",category:4,default:!0,caption:"PT Serif & Poppins"},{css:"basetype-kellyslab-yantramanav.css",sectioncss:"type-kellyslab-yantramanav.css",classname:"type-kellyslab-yantramanav",img:"type-kellyslab-yantramanav.jpg",category:8,default:!0,caption:"Kelly Slab & Yantramanav"},{css:"basetype-yellowtail-frankruhllibre.css",sectioncss:"type-yellowtail-frankruhllibre.css",classname:"type-yellowtail-frankruhllibre",img:"type-yellowtail-frankruhllibre.jpg",category:11,default:!0,caption:"Yellowtail & Frank Ruhl Libre"},{css:"basetype-sedgwickave-spectral.css",sectioncss:"type-sedgwickave-spectral.css",classname:"type-sedgwickave-spectral",img:"type-sedgwickave-spectral.jpg",category:10,default:!1,caption:"Sedgwick Ave & Spectral"},{css:"basetype-satisfy-economica.css",sectioncss:"type-satisfy-economica.css",classname:"type-satisfy-economica",img:"type-satisfy-economica.jpg",category:9,default:!1,caption:"Satisfy & Economica"},{css:"basetype-josefinsans-lekton.css",sectioncss:"type-josefinsans-lekton.css",classname:"type-josefinsans-lekton",img:"type-josefinsans-lekton.jpg",category:1,default:!1,caption:"Josefin Sans & Lekton"},{css:"basetype-parisienne-maitree.css",sectioncss:"type-parisienne-maitree.css",classname:"type-parisienne-maitree",img:"type-parisienne-maitree.jpg",category:11,default:!1,caption:"Parisienne & Maitree"},{css:"basetype-londrinashadow-martel.css",sectioncss:"type-londrinashadow-martel.css",classname:"type-londrinashadow-martel",img:"type-londrinashadow-martel.jpg",category:10,default:!1,caption:"Londrina Shadow & Martel"},{css:"basetype-poiretone-pridi.css",sectioncss:"type-poiretone-pridi.css",classname:"type-poiretone-pridi",img:"type-poiretone-pridi.jpg",category:10,default:!1,caption:"Poiret One & Pridi"},{css:"basetype-pollerone-ibmplexserif.css",sectioncss:"type-pollerone-ibmplexserif.css",classname:"type-pollerone-ibmplexserif",img:"type-pollerone-ibmplexserif.jpg",category:10,default:!1,caption:"Poller One & IBM Plex Serif"},{css:"basetype-italiana-martel.css",sectioncss:"type-italiana-martel.css",classname:"type-italiana-martel",img:"type-italiana-martel.jpg",category:2,default:!1,caption:"Italiana & Martel"},{css:"basetype-julee-lora.css",sectioncss:"type-julee-lora.css",classname:"type-julee-lora",img:"type-julee-lora.jpg",category:11,default:!1,caption:"Julee & Lora"},{css:"basetype-sixcaps-robotomono.css",sectioncss:"type-sixcaps-robotomono.css",classname:"type-sixcaps-robotomono",img:"type-sixcaps-robotomono.jpg",category:7,default:!1,caption:"Six Caps & Roboto Mono"},{css:"basetype-pacifico-nanumgothiccod.css",sectioncss:"type-pacifico-nanumgothiccod.css",classname:"type-pacifico-nanumgothiccod",img:"type-pacifico-nanumgothiccod.jpg",category:13,default:!1,caption:"Pacifico & Nanum Gothic Coding"},{css:"basetype-greatvibes-robotomono.css",sectioncss:"type-greatvibes-robotomono.css",classname:"type-greatvibes-robotomono",img:"type-greatvibes-robotomono.jpg",category:13,default:!1,caption:"Great Vibes & Roboto Mono"},{css:"basetype-pinyonscript-firasans.css",sectioncss:"type-pinyonscript-firasans.css",classname:"type-pinyonscript-firasans",img:"type-pinyonscript-firasans.jpg",category:9,default:!1,caption:"Pinyon Script & Fira Sans"},{css:"basetype-sail-rasa.css",sectioncss:"type-sail-rasa.css",classname:"type-sail-rasa",img:"type-sail-rasa.jpg",category:10,default:!1,caption:"Sail & Rasa"},{css:"basetype-yesevaone-forum.css",sectioncss:"type-yesevaone-forum.css",classname:"type-yesevaone-forum",img:"type-yesevaone-forum.jpg",category:14,default:!1,caption:"Yeseva One & Forum"},{css:"basetype-dosis-oldstandardtt.css",sectioncss:"type-dosis-oldstandardtt.css",classname:"type-dosis-oldstandardtt",img:"type-dosis-oldstandardtt.jpg",category:1,default:!1,caption:"Dosis & Old Standard TT"},{css:"basetype-engagement-spectral.css",sectioncss:"type-engagement-spectral.css",classname:"type-engagement-spectral",img:"type-engagement-spectral.jpg",category:11,default:!1,caption:"Engagement & Spectral"},{css:"basetype-dynalight-mada.css",sectioncss:"type-dynalight-mada.css",classname:"type-dynalight-mada",img:"type-dynalight-mada.jpg",category:8,default:!1,caption:"Dynalight & Mada"},{css:"basetype-gravitasone-nanummyeongjo.css",sectioncss:"type-gravitasone-nanummyeongjo.css",classname:"type-gravitasone-nanummyeongjo",img:"type-gravitasone-nanummyeongjo.jpg",category:10,default:!1,caption:"Gravitas One & Nanum Myeongjo"},{css:"basetype-alexbrush-ibmplexsans.css",sectioncss:"type-alexbrush-ibmplexsans.css",classname:"type-alexbrush-ibmplexsans",img:"type-alexbrush-ibmplexsans.jpg",category:9,default:!1,caption:"Alex Brush & IBM Plex Sans"}]}},cssInBody:!1,cssClasses:{fontWeight:{thin:"font-thin",extralight:"font-extralight",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black",defaultBold:"font-semibold",defaultNormal:"font-light"},fontStyle:{italic:"italic",normal:"not-italic"},textDecoration:{underline:"underline",linethrough:"line-through",normal:"no-underline"},textTransform:{uppercase:"uppercase",lowercase:"lowercase",capitalize:"capitalize",normal:"normal-case"},tracking:{tracking__100:"tracking--100",tracking__075:"tracking--75",tracking__050:"tracking-tighter",tracking__025:"tracking-tight",tracking_000:"tracking-normal",tracking_025:"tracking-wide",tracking_050:"tracking-wider",tracking_075:"tracking-75",tracking_100:"tracking-widest",tracking_125:"tracking-125",tracking_150:"tracking-150",tracking_175:"tracking-175",tracking_200:"tracking-200",tracking_225:"tracking-225",tracking_250:"tracking-250",tracking_275:"tracking-275",tracking_300:"tracking-300",tracking_325:"tracking-325",tracking_350:"tracking-350",tracking_375:"tracking-375",tracking_400:"tracking-400",tracking_425:"tracking-425",tracking_450:"tracking-450",tracking_475:"tracking-475",tracking_500:"tracking-500"},leading:{leading_5:"leading-05",leading_6:"leading-06",leading_7:"leading-07",leading_8:"leading-08",leading_9:"leading-09",leading_10:"leading-none",leading_11:"leading-11",leading_12:"leading-12",leading_125:"leading-tight",leading_13:"leading-13",leading_1375:"leading-snug",leading_14:"leading-14",leading_15:"leading-normal",leading_16:"leading-16",leading_1625:"leading-relaxed",leading_17:"leading-17",leading_18:"leading-18",leading_19:"leading-19",leading_20:"leading-loose",leading_21:"leading-21",leading_22:"leading-22",leading_23:"leading-23",leading_24:"leading-24",leading_25:"leading-25",leading_26:"leading-26",leading_27:"leading-27",leading_28:"leading-28",leading_29:"leading-29",leading_30:"leading-30"},opacity:{opacity_0:"opacity-0",opacity_2:"opacity-2",opacity_4:"opacity-4",opacity_5:"opacity-5",opacity_6:"opacity-6",opacity_8:"opacity-8",opacity_10:"opacity-10",opacity_12:"opacity-12",opacity_15:"opacity-15",opacity_20:"opacity-20",opacity_25:"opacity-25",opacity_30:"opacity-30",opacity_35:"opacity-35",opacity_40:"opacity-40",opacity_45:"opacity-45",opacity_50:"opacity-50",opacity_55:"opacity-55",opacity_60:"opacity-60",opacity_65:"opacity-65",opacity_70:"opacity-70",opacity_75:"opacity-75",opacity_80:"opacity-80",opacity_85:"opacity-85",opacity_90:"opacity-90",opacity_95:"opacity-95",opacity_100:"opacity-100"},padding:{all:{p_0:"p-0",p_1:"p-1",p_2:"p-2",p_3:"p-3",p_4:"p-4",p_5:"p-5",p_6:"p-6",p_7:"p-7",p_8:"p-8",p_9:"p-9",p_10:"p-10",p_11:"p-11",p_12:"p-12",p_14:"p-14",p_16:"p-16",p_20:"p-20"},x:{px_0:"px-0",px_1:"px-1",px_2:"px-2",px_3:"px-3",px_4:"px-4",px_5:"px-5",px_6:"px-6",px_7:"px-7",px_8:"px-8",px_9:"px-9",px_10:"px-10",px_11:"px-11",px_12:"px-12",px_14:"px-14",px_16:"px-16",px_20:"px-20"},y:{py_0:"py-0",py_1:"py-1",py_2:"py-2",py_3:"py-3",py_4:"py-4",py_5:"py-5",py_6:"py-6",py_7:"py-7",py_8:"py-8",py_9:"py-9",py_10:"py-10",py_11:"py-11",py_12:"py-12",py_14:"py-14",py_16:"py-16",py_20:"py-20"},top:{pt_0:"pt-0",pt_1:"pt-1",pt_2:"pt-2",pt_3:"pt-3",pt_4:"pt-4",pt_5:"pt-5",pt_6:"pt-6",pt_7:"pt-7",pt_8:"pt-8",pt_9:"pt-9",pt_10:"pt-10",pt_11:"pt-11",pt_12:"pt-12",pt_14:"pt-14",pt_16:"pt-16",pt_20:"pt-20"},right:{pr_0:"pr-0",pr_1:"pr-1",pr_2:"pr-2",pr_3:"pr-3",pr_4:"pr-4",pr_5:"pr-5",pr_6:"pr-6",pr_7:"pr-7",pr_8:"pr-8",pr_9:"pr-9",pr_10:"pr-10",pr_11:"pr-11",pr_12:"pr-12",pr_14:"pr-14",pr_16:"pr-16",pr_20:"pr-20"},bottom:{pb_0:"pb-0",pb_1:"pb-1",pb_2:"pb-2",pb_3:"pb-3",pb_4:"pb-4",pb_5:"pb-5",pb_6:"pb-6",pb_7:"pb-7",pb_8:"pb-8",pb_9:"pb-9",pb_10:"pb-10",pb_11:"pb-11",pb_12:"pb-12",pb_14:"pb-14",pb_16:"pb-16",pb_20:"pb-20"},left:{pl_0:"pl-0",pl_1:"pl-1",pl_2:"pl-2",pl_3:"pl-3",pl_4:"pl-4",pl_5:"pl-5",pl_6:"pl-6",pl_7:"pl-7",pl_8:"pl-8",pl_9:"pl-9",pl_10:"pl-10",pl_11:"pl-11",pl_12:"pl-12",pl_14:"pl-14",pl_16:"pl-16",pl_20:"pl-20"}},extend:{superscript:"sup",subscript:"sub"},textAlign:{left:"text-left",center:"text-center",right:"text-right",justify:"text-justify"},display:{flex:"flex",block:"block",inline:"inline",inline_block:"inline-block"},flexDirection:{row:"flex-row",column:"flex-col",row_reverse:"flex-row-reverse",column_reverse:"flex-col-reverse"},flexWrap:{wrap:"flex-wrap",nowrap:"flex-nowrap",wrap_reverse:"flex-wrap-reverse"},justifyContent:{start:"justify-start",end:"justify-end",center:"justify-center",between:"justify-between",around:"justify-around",evenly:"justify-evenly"},alignItems:{start:"items-start",end:"items-end",center:"items-center",baseline:"items-baseline",stretch:"items-stretch"}},useCssClasses:!0,useButtonPlugin:!1,onAddSectionOpen:function(){},contentHtmlStart:'<div class="is-container is-builder container"><div class="row clearfix"><div class="column full">',contentHtmlEnd:"</div></div></div>"},e),""!==this.settings.imageSelect?this.settings.imageselect=this.settings.imageSelect:""!=this.settings.imageselect&&(this.settings.imageSelect=this.settings.imageselect),""!==this.settings.fileSelect?this.settings.fileselect=this.settings.fileSelect:""!=this.settings.fileselect&&(this.settings.fileSelect=this.settings.fileselect),""!==this.settings.videoSelect?this.settings.videoselect=this.settings.videoSelect:""!=this.settings.videoselect&&(this.settings.videoSelect=this.settings.videoselect),""!==this.settings.largerImageHandler?this.settings.mediaHandler=this.settings.largerImageHandler:""!=this.settings.mediaHandler&&(this.settings.largerImageHandler=this.settings.mediaHandler),this.settings.onLargerImageUpload?this.settings.onMediaUpload=this.settings.onLargerImageUpload:this.settings.onMediaUpload&&(this.settings.onLargerImageUpload=this.settings.onMediaUpload),this.settings.snippetPathReplace.length>0&&0===this.settings.designPathReplace.length&&(this.settings.designPathReplace=this.settings.snippetPathReplace),this.settings.contentStyleWithSample&&(this.settings.contentStyles=this.settings.contentStylesAlt),this.wrapperEl=document.querySelector(this.wrapper),xb.hasClass(this.wrapperEl,"preview"))return void(this.preview=!0);xb.addClass(this.wrapperEl,"is-wrapper"),xb.addClass(this.wrapperEl,"is-edit");let i=this.settings.onRender;this.settings.onRender=()=>{i.call(this);try{this.box(),setTimeout((function(){if(window.skrollr){let e=window.skrollr.get();e&&e.refresh()}}),100)}catch(e){}};let n=this.settings.onChange;this.settings.onChange=()=>{n.call(this),setTimeout((()=>{this.quickPosTool()}),100)};let o=document.querySelector("#_cbhtml");o||(o=document.createElement("div"),o.id="_cbhtml",o.style.visibility="hidden",o.className="is-ui",document.body.appendChild(o),o=document.querySelector("#_cbhtml")),this.builderStuff=o,(e=>{const i=e.builderStuff;t.appendHtml(i,'<svg width="0" height="0" style="position:absolute;display:none;">\n        <defs>\n\n            <symbol viewBox="0 0 512 512" id="ion-android-add"><path d="M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-center"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-552.286,-107.697 L-552.286,-263.911 L552.286,-263.911 L552.286,-107.697 L-552.286,-107.697 Z " /><path d="M-467.355,319.234 L-467.355,163.02 L466.34,163.02 L466.34,319.234 L-467.355,319.234 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-code"><path d="M168 392a23.929 23.929 0 0 1-16.971-7.029l-112-112c-9.373-9.373-9.373-24.569 0-33.941l112-112c9.373-9.372 24.568-9.372 33.941 0 9.371 9.372 9.371 24.568 0 33.941L89.941 256l95.029 95.029c9.371 9.373 9.371 24.568 0 33.941A23.925 23.925 0 0 1 168 392zM344 392a23.929 23.929 0 0 0 16.971-7.029l112-112c9.373-9.373 9.373-24.569 0-33.941l-112-112c-9.373-9.372-24.568-9.372-33.941 0-9.371 9.372-9.371 24.568 0 33.941L422.059 256l-95.029 95.029c-9.371 9.373-9.371 24.568 0 33.941A23.925 23.925 0 0 0 344 392z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-edit"><path d="M163 439.573l-90.569-90.569L322.78 98.656l90.57 90.569zM471.723 88.393l-48.115-48.114c-11.723-11.724-31.558-10.896-44.304 1.85l-45.202 45.203 90.569 90.568 45.202-45.202c12.743-12.746 13.572-32.582 1.85-44.305zM64.021 363.252L32 480l116.737-32.021z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-snippets"><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)">\t\t\t<path d="M-727.581,329.502 L318.058,329.502 L318.058,-527.853 L-727.581,-527.853 L-727.581,329.502 Z " fill="#ffffff" fill-opacity="1.00" stroke-width="85.63" stroke="#000000" stroke-linecap="square" stroke-linejoin="miter" />\t\t\t<path d="M-347.749,652.594 L697.89,652.594 L697.89,-204.761 L-347.749,-204.761 L-347.749,652.594 Z " fill="#ffffff" fill-opacity="1.00" stroke-width="85.63" stroke="#000000" stroke-linecap="square" stroke-linejoin="miter" />\t\t</g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-copy-outline"><path d="M304 96h-16v80h80v-16h-64z"></path><path d="M325.3 64H160v48h-48v336h240v-48h48V139l-74.7-75zM336 432H128V128h32v272h176v32zm48-48H176V80h142.7l65.3 65.6V384z"></path></symbol>\n                \n            <symbol viewBox="0 0 24 24" id="icon-arrow-bar-to-up" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="12" y1="10" x2="12" y2="20" />\n                <line x1="12" y1="10" x2="16" y2="14" />\n                <line x1="12" y1="10" x2="8" y2="14" />\n                <line x1="4" y1="4" x2="20" y2="4" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-arrow-bar-to-down" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="4" y1="20" x2="20" y2="20" />\n                <line x1="12" y1="14" x2="12" y2="4" />\n                <line x1="12" y1="14" x2="16" y2="10" />\n                <line x1="12" y1="14" x2="8" y2="10" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-space-between" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="4" y1="4" x2="20" y2="4" />\n                <line x1="4" y1="20" x2="20" y2="20" />\n            </symbol>\n\n            </defs>\n        </svg>')})(this),this.sidebar=new s(this),window.data_basic?(this.editorSetup(),this.init()):xb.addExternalScripts([this.snippetUrl],(()=>{this.editorSetup(),this.init()})),window.contentbox=this,window.applyBoxImage=this.boxImage.bind(this),window.applyLargerImage=this.applyLargerImage.bind(this),window.returnUrl=this.returnUrl.bind(this),window._contentbox=this}editorSetup(){this.editor=new bb({container:".is-container",page:".is-wrapper",scriptPath:this.settings.scriptPath,pluginPath:this.settings.pluginPath,modulePath:this.settings.modulePath,fontAssetPath:this.settings.fontAssetPath,assetPath:this.settings.assetPath,plugins:this.settings.plugins,disableConfig:this.settings.disableConfig,snippetList:"#divSidebarSnippets",snippetPath:this.settings.snippetPath,snippetUrl:this.settings.snippetUrl,snippetJSON:window.data_basic,snippetPathReplace:this.settings.snippetPathReplace,maxColumns:6,maxEmbedImageWidth:this.settings.maxEmbedImageWidth,slider:this.settings.slider,onRender:this.settings.onRender,onChange:this.settings.onChange,onRefreshTool:()=>{setTimeout((()=>{this.quickPosTool()}),100)},useLightbox:this.settings.useLightbox,themes:this.settings.themes,moduleConfig:this.settings.moduleConfig,onImageSelectClick:this.settings.onImageSelectClick,onFileSelectClick:this.settings.onFileSelectClick,onVideoSelectClick:this.settings.onVideoSelectClick,onImageBrowseClick:this.settings.onImageBrowseClick,onImageSettingClick:this.settings.onImageSettingClick,onImageEditClick:this.settings.onImageEditClick,setCropperConfig:this.settings.setCropperConfig,onPluginsLoaded:this.settings.onPluginsLoaded,imageselect:this.settings.imageselect,fileselect:this.settings.fileselect,imageEmbed:this.settings.imageEmbed,sourceEditor:this.settings.sourceEditor,customval:this.settings.customval,colors:this.settings.colors,gradientcolors:this.settings.gradientcolors,buttons:this.settings.buttons,buttonsMore:this.settings.buttonsMore,elementButtons:this.settings.elementButtons,elementButtonsMore:this.settings.elementButtonsMore,iconButtons:this.settings.iconButtons,iconButtonsMore:this.settings.iconButtonsMore,customTags:this.settings.customTags,largerImageHandler:this.settings.largerImageHandler,onLargerImageUpload:this.settings.onLargerImageUpload,videoHandler:this.settings.videoHandler,onVideoUpload:this.settings.onVideoUpload,framework:this.settings.framework,cellFormat:this.settings.cellFormat,rowFormat:this.settings.rowFormat,row:this.settings.row,cols:this.settings.cols,colequal:this.settings.colequal,colsizes:this.settings.colsizes,classReplace:this.settings.classReplace,columnTool:this.settings.columnTool,elementTool:this.settings.elementTool,animateModal:this.settings.animateModal,elementAnimate:this.settings.elementAnimate,elementEditor:this.settings.elementEditor,onAdd:this.settings.onAdd,imageQuality:this.settings.imageQuality,columnHtmlEditor:this.settings.columnHtmlEditor,rowHtmlEditor:this.settings.rowHtmlEditor,rowMoveButtons:this.settings.rowMoveButtons,htmlSyntaxHighlighting:this.settings.htmlSyntaxHighlighting,scrollableEditingToolbar:this.settings.scrollableEditingToolbar,toolbar:this.settings.toolbar,toolbarDisplay:this.settings.toolbarDisplay,toolbarAddSnippetButton:this.settings.toolbarAddSnippetButton,paste:this.settings.paste,builderMode:this.settings.builderMode,rowcolOutline:this.settings.rowcolOutline,elementSelection:this.settings.elementSelection,animatedSorting:this.settings.animatedSorting,dragWithoutHandle:this.settings.dragWithoutHandle,addButtonPlacement:this.settings.addButtonPlacement,outlineMode:this.settings.outlineMode,elementHighlight:this.settings.elementHighlight,rowTool:this.settings.rowTool,toolStyle:this.settings.toolStyle,outlineStyle:this.settings.outlineStyle,snippetAddTool:this.settings.snippetAddTool,mobileSimpleEdit:this.settings.mobileSimpleEdit,clearPreferences:this.settings.clearPreferences,snippetCategories:this.settings.snippetCategories,defaultSnippetCategory:this.settings.defaultSnippetCategory,undoRedoStyles:this.settings.undoRedoStyles,onUndo:()=>{this.pageSetup()},onRedo:()=>{this.pageSetup()},undoContainerOnly:this.settings.undoContainerOnly,absolutePath:this.settings.absolutePath,cssClasses:this.settings.cssClasses,useCssClasses:this.settings.useCssClasses,useButtonPlugin:this.settings.useButtonPlugin,zoom:this.settings.zoom,onZoomStart:()=>{let e=document.querySelectorAll(".is-section-tool");Array.prototype.forEach.call(e,(function(e){"block"===e.style.display&&(e.setAttribute("data-section-active",""),e.style.display="none")}));let t=document.querySelector("#divBoxTool");"flex"===t.style.display&&(t.setAttribute("data-box-active",""),t.style.display="none")},onZoomEnd:()=>{if(!this.wrapperEl.querySelector(".is-section"))return;this.addSpace();let e=document.querySelector(".is-section-tool[data-section-active]");e&&(e.removeAttribute("data-section-active"),e.style.display="block"),e=document.querySelector("#divBoxTool[data-box-active]"),e&&(e.removeAttribute("data-box-active"),e.style.display="flex"),this.rePositionTool()},onThemeChange:()=>{this.refreshUIStyle()},fileSelect:this.settings.fileSelect,imageSelect:this.settings.imageSelect,videoSelect:this.settings.videoSelect,onContentClick:e=>{this.settings.onContentClick&&this.settings.onContentClick();let t=e.target;if(!t.closest('[contenteditable="true"]')){let i=this.editor.dom.getParentElement(t,"a");if("a"===t.tagName.toLowerCase()||i){"a"===t.tagName.toLowerCase()&&(i=t);let n=i.getAttribute("href");if(n&&0===n.indexOf("#"))if(0===n.indexOf("#section")){let t=n.replace("#section","");if(!isNaN(parseInt(t))){let i,n=document.querySelectorAll(".is-section"),o=0;n.forEach((function(e){xb.hasClass(e,"is-section-navbar")||(o===t-1&&(i=e),o++)})),i&&this.scrollTo(i),e.preventDefault()}}else{let t=document.querySelector(n);t&&(this.scrollTo(t),e.preventDefault())}}}}})}init(){xb.appendHtml(document.head,`<style id="_contentbox_lightbox">\n        body {\n            background: ${this.settings.backgroundColor};\n        }\n        .block-click.is-box {\n            cursor: unset;\n        }\n        .block-click.is-box > * {\n            pointer-events: unset;\n            user-select: unset;\n        } \n        </style>`);const e=this.builderStuff;xb.appendHtml(e,'<div class="page-overlay"></div>');let t=e.querySelector(".page-overlay");this.editsection=new r(this),this.editbox=new Qt(this),setTimeout((()=>{this.pageSetupDone||this.pageSetup()}),300),_b.start(),_b.on("hide",(()=>{let i=document.querySelector(".pace-inactive");i&&i.parentNode.removeChild(i),this.wrapperEl.style.opacity=1;let n=e.querySelector(".is-sidebar");n&&(n.style.opacity=1),this.builderStuff.style.visibility="visible",t=e.querySelectorAll(".page-overlay"),t.forEach((e=>{e.parentNode.removeChild(e)}))})),document.addEventListener("click",this.doDocumentClick=e=>{let t=!1,i=!1,n=!1,o=!1,s=(e=e||window.event).target||e.srcElement;for(;s&&s.tagName&&"BODY"!==s.tagName&&"HTML"!==s.tagName;)xb.hasClass(s,"is-sidebar-content")&&(t=!0),xb.hasClass(s,"is-sidebar")&&(i=!0),xb.hasClass(s,"is-builder")&&(n=!0),xb.hasClass(s,"is-section")&&(s.hasAttribute("data-anim-start")||s.hasAttribute("data-anim-end"))&&(o=!0),s=s.parentNode;t||i||this.sidebar.closeSidebar(),n&&o&&(this.controlHiddenOnScroll=!0)})}pageSetup(){this.wrapperEl.querySelectorAll(".is-section").forEach((e=>{if(this.sectionSetup(e),xb.hasClass(e,"is-box"))this.boxSetup(e);else{e.querySelectorAll(".is-box").forEach((e=>{this.boxSetup(e)}))}})),this.editor.applyBehavior(),this.addSpace()}box(){const e=document.querySelector(".is-section-navbar");if(e){e.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(t=>{let i=e.getAttribute("href");if(i&&0===i.indexOf("#"))if(0===i.indexOf("#section")){let e=i.replace("#section","");if(!isNaN(parseInt(e))){let i,n=document.querySelectorAll(".is-section"),o=0;n.forEach((function(t){xb.hasClass(t,"is-section-navbar")||(o===e-1&&(i=t),o++)})),i&&this.scrollTo(i),t.preventDefault()}}else try{let e=document.querySelector(i);e&&(this.scrollTo(e),t.preventDefault())}catch(t){}e.closest(".is-menu-search")||(t.preventDefault(),t.stopImmediatePropagation())}))}))}}addSpace(){const e=this.wrapperEl.querySelector("div.is-dummy");e&&e.parentNode.removeChild(e),xb.appendHtml(this.wrapperEl,'<div class="is-dummy" style="height:0px;"></div>'),setTimeout((()=>{const e=this.wrapperEl;e.style.transition="";const t=1*(e.getBoundingClientRect().top+window.pageYOffset)/this.editor.zoom;e.querySelector(".is-dummy").style.height=t+"px"}),300)}scrollTo(e,t=0){setTimeout((()=>{e.scrollIntoView({behavior:"smooth",block:"center"})}),t)}sectionSetup(e){xb.appendHtml(e,'<div class="is-section-tool"><button class="is-section-edit" data-title="'+n("Section Settings")+'" title="'+n("Section Settings")+'"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button><button class="is-section-remove" data-title="'+n("Remove")+'" title="'+n("Remove")+'">&#10005;</button></div>'),this.editor.setTooltip(e);e.querySelector(".is-section-edit").addEventListener("click",(()=>{this.editsection.edit()}));e.querySelector(".is-section-remove").addEventListener("click",(()=>{const e=document.querySelector(".is-modal.delsectionconfirm");this.editor.util.showModal(e)}))}boxSetup(e){e.addEventListener("mouseenter",(()=>{let t;this.positionTool(e),t=xb.hasClass(e,"is-section")?e:xb.parentsHasClass(e,"is-section"),this.activeBox=e,this.activeSection=t}))}addIdea(e){this.editor.saveForUndo();const t=this.designPath;let i,o=[];if(-1!==(e=(e=e.replace(/\[%IMAGE_PATH%\]/g,t)).replace(/%5B%25IMAGE_PATH%25%5D/g,t)).indexOf("is-section-navbar")){const t=this.wrapperEl.querySelector(".is-section-navbar");if(t)return void this.editor.util.confirm(n("Do you want to replace the current navigation bar?"),(i=>{i&&(t.parentNode.removeChild(t),this.addIdea(e))}),!0,n("Replace"));xb.appendHtml(this.wrapperEl,e,"afterbegin"),i=this.wrapperEl.querySelector(".is-section"),o.push(i)}else if(-1!==e.indexOf("is-static")){let t=xb.getLastElement(this.wrapperEl,".is-section");if(t){xb.appendHtml(t,e,"afterend"),i=t.nextElementSibling,o.push(i);let n=i.nextElementSibling;if(n){let e=n.querySelector(".is-section-tool");e||o.push(n),n=n.nextElementSibling,n&&(e=n.querySelector(".is-section-tool"),e||o.push(n))}}else xb.appendHtml(this.wrapperEl,e,"afterbegin"),i=this.wrapperEl.querySelector(".is-section"),o.push(i)}else if(this.activeSection){let t=this.activeSection;if(xb.hasClass(t,"is-static")){xb.appendHtml(t,e,"beforebegin"),i=t.previousElementSibling,o.push(i);let n=i.previousElementSibling;if(n){let e=n.querySelector(".is-section-tool");e||o.push(n),n=n.previousElementSibling,n&&(e=n.querySelector(".is-section-tool"),e||o.push(n))}}else{xb.appendHtml(t,e,"afterend"),i=t.nextElementSibling,o.push(i);let n=i.nextElementSibling;if(n){let e=n.querySelector(".is-section-tool");e||o.push(n),n=n.nextElementSibling,n&&(e=n.querySelector(".is-section-tool"),e||o.push(n))}}}else{xb.appendHtml(this.wrapperEl,e,"afterbegin"),i=this.wrapperEl.querySelector(".is-section"),o.push(i);let t=i.nextElementSibling;if(t){let e=t.querySelector(".is-section-tool");e||o.push(t),t=t.nextElementSibling,t&&(e=t.querySelector(".is-section-tool"),e||o.push(t))}}let s=i.previousElementSibling;if(s){let e=s.querySelector(".is-section-tool");e||o.push(s),s=s.previousElementSibling,s&&(e=s.querySelector(".is-section-tool"),e||o.push(s))}o.forEach((e=>{if(e.querySelectorAll(".is-overlay-content[data-module]").forEach((e=>{let t=decodeURIComponent(e.getAttribute("data-html"));t=t.replace(/{id}/g,xb.uniqueId()),xb.html(e,t)})),e.querySelectorAll(".is-overlay").forEach((e=>{let t=e.querySelector(".is-overlay-content");t&&""===t.innerHTML&&1===e.childElementCount&&e.parentNode.removeChild(e)})),this.sectionSetup(e),xb.hasClass(e,"is-box"))this.boxSetup(e);else{e.querySelectorAll(".is-box").forEach((e=>{this.boxSetup(e)}))}})),this.editor.applyBehavior(),this.settings.onRender();this.wrapperEl.querySelectorAll(".is-arrow-down a").forEach((e=>{e.addEventListener("click",(t=>{let i=e.parentNode.parentNode;return this.scrollTo(i.nextElementSibling),t.preventDefault(),t.stopImmediatePropagation(),!1}))})),this.onChange(),xb.removeElement(document.querySelector(".is-sidebar-overlay")),xb.removeClass(document.querySelectorAll(".is-sidebar .is-sidebar-button"),"active"),xb.removeClass(document.querySelectorAll(".is-sidebar-content"),"active"),document.body.style.overflowY="",this.addSpace(),this.scrollTo(i,600)}refreshUIStyle(){if(!this.editor)return;if(!this.editor.styleSnippetBackground)return void setTimeout((()=>{this.refreshUIStyle()}),300);document.querySelector("#divSidebarSnippets").style.backgroundColor=this.editor.styleSnippetBackground;document.querySelectorAll(".is-sidebar-content").forEach((e=>{e.style.backgroundColor=this.editor.styleSnippetBackground}));const e=document.querySelector("#divStyles");e.style.backgroundColor=this.editor.styleSnippetBackground,e.style.color=this.editor.styleSnippetColor;const t=document.querySelector(".is-sidebar");t.style.backgroundColor=this.editor.styleModalBackground,t.style.color=this.editor.styleModalColor;t.querySelectorAll("svg").forEach((e=>{e.style.fill=this.editor.styleModalColor}));t.querySelectorAll("button").forEach((e=>{e.style.color=this.editor.styleModalColor}));const i=document.querySelector("#ifrIdeasPanel");i.contentWindow.applyParentStyles&&i.contentWindow.applyParentStyles()}rePositionTool(){let e,t=this.wrapperEl.querySelector(".row-active");e=t?xb.parentsHasClass(t,"is-box"):this.activeBox,this.positionTool(e)}quickPosTool(){let e=this.activeBox;if(!e)return;const t=this.boxTool,i=xb.getElementOffset(e);let n=i.top,o=i.left,s=i.width,a=n+i.height-40,r=o+s/2;t.style.top=a+"px",t.style.left=r-40+"px",t.style.display="flex"}positionTool(e){var t;let i;t=null!==localStorage.getItem("_zoom")?localStorage.getItem("_zoom"):this.settings.zoom;const n=document.querySelector("#divBoxTool");e.closest(".is-section-navbar")?(document.querySelector("#form-upload-cover").style.display="none",document.querySelector("#btnEditBox").style.display="none",document.querySelector("#btnEditModule").style.display="inline-block",n.style.width="40px",i=20):e.querySelectorAll(".is-overlay-content[data-module]").length>0?(document.querySelector("#form-upload-cover").style.display="none",document.querySelector("#btnEditBox").style.display="inline-block",document.querySelector("#btnEditModule").style.display="inline-block",n.style.width="80px",i=40):(document.querySelector("#form-upload-cover").style.display="block",document.querySelector("#btnEditBox").style.display="inline-block",document.querySelector("#btnEditModule").style.display="none",n.style.width="80px",i=40);const o=xb.getElementOffset(e);let s=o.top,a=o.left,r=o.width,l=s+o.height-40,d=a+r/2;n.style.top=l+"px",n.style.left=d-i+"px",n.style.display="flex";let c,u;this.wrapperEl.querySelectorAll(".is-section-tool").forEach((e=>{e.style.display="none"})),xb.hasClass(e,"is-section")?(c=e,u=e.querySelector(".is-section-tool")):(c=xb.parentsHasClass(e,"is-section"),u=c.querySelector(".is-section-tool")),u&&(u.style.display="block",u.style.transform="scale("+1/t+")",u.style.transformOrigin="top right")}addButton(e){if(this.preview)return;const t=this.builderStuff,i=xb.uniqueId(),o=xb.uniqueId();let s;if(e.src){s='<button id="'+i+'" class="is-sidebar-button" data-content="'+o+'" data-src="'+e.src+'" data-title="'+n(e.title)+'" title="'+n(e.title)+'">'+e.html+"</button>";var a='<div id="'+o+'" class="is-sidebar-content '+e.class+'" style="-webkit-transition-duration:0.2s;transition-duration:0.2s;"><div><iframe src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;"></iframe></div></div>';xb.appendHtml(t,a)}else s='<button id="'+i+'" class="is-sidebar-button" data-title="'+n(e.title)+'" title="'+n(e.title)+'">'+e.html+"</button>";t.querySelector(".is-sidebar").children[e.pos].insertAdjacentHTML("afterEnd",s);const r=t.querySelector("#"+i);r.addEventListener("click",(()=>{if(e.src)if(xb.hasClass(r,"active")){const e=t.querySelector(".is-sidebar-overlay");e.parentNode.removeChild(e);let i=t.querySelectorAll(".is-sidebar > div");i.forEach((e=>{xb.removeClass(e,"active")})),i=t.querySelectorAll(".is-sidebar-content"),i.forEach((e=>{xb.removeClass(e,"active")})),document.body.style.overflowY=""}else{xb.removeClass(t.querySelector(".is-sidebar > div"),"active"),xb.removeClass(t.querySelector(".is-sidebar-content"),"active"),document.body.style.overflowY="",xb.addClass(r,"active");var i=r.getAttribute("data-content");xb.addClass(t.querySelector("#"+i),"active");var n=t.querySelector("#"+i+" iframe");"about:blank"==n.getAttribute("src")&&n.setAttribute("src",e.src),xb.appendHtml(t,'<div class="is-sidebar-overlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.000001);z-index: 1000;;"></div>');const o=t.querySelector(".is-sidebar-overlay");o.addEventListener("click",(()=>{o.parentNode.removeChild(o);let e=t.querySelectorAll(".is-sidebar > div");e.forEach((e=>{xb.removeClass(e,"active")})),e=t.querySelectorAll(".is-sidebar-content"),e.forEach((e=>{xb.removeClass(e,"active")})),document.body.style.overflowY=""}))}else e.onClick()}))}undo(){this.editor.undo()}redo(){this.editor.redo()}saveImages(e,t,i){this.editor.saveImages(e,t,i)}applyLargerImage(e){this.editor.applyLargerImage(e)}returnUrl(e){this.editor.returnUrl(e)}showModal(e){this.editor.util.showModal(e)}hideModal(e){this.editor.util.hideModal(e)}refreshModule(){this.editbox.refreshModule()}loadStyles(e,t){let i,n=document.getElementsByTagName("link");for(let e=0;e<n.length;e++)"contentstyle"===n[e].getAttribute("data-name")&&n[e].setAttribute("data-rel","_del"),-1!==n[e].getAttribute("href").indexOf("basetype-")&&n[e].setAttribute("data-rel","_del"),-1===n[e].getAttribute("href").indexOf("/box.css")&&-1===n[e].getAttribute("href").indexOf("/box-flex.css")||n[e].closest("body")&&(i=!0,this.settings.cssInBody=!0);this.settings.cssInBody&&(i=!0),document.querySelectorAll('[data-rel="_del"]').forEach((e=>{e.parentNode.removeChild(e)}));let o=document.head;o||(o=document.body),e&&""!==e&&(i?this.wrapperEl.insertAdjacentHTML("beforebegin",e):o.insertAdjacentHTML("beforeend",e)),t&&""!==t&&(i?this.wrapperEl.insertAdjacentHTML("beforebegin",t):o.insertAdjacentHTML("beforeend",t))}loadHtml(e){this.activeBox=null,this.activeSection=null;const t=this.wrapperEl;if(t.style.opacity||(t.style.opacity="0"),!this.editor)return void setTimeout((()=>{this.loadHtml(e)}),100);let i=document.createRange();t.innerHTML="",t.appendChild(i.createContextualFragment(e)),this.pageSetup(),this.pageSetupDone=!0,this.settings.onRender();t.querySelectorAll(".is-arrow-down a").forEach((e=>{e.addEventListener("click",(t=>{let i=e.parentNode.parentNode;return this.scrollTo(i.nextElementSibling),t.preventDefault(),t.stopImmediatePropagation(),!1}))}))}boxImage(e,t){this.editbox.boxImage(e,t)}mainCss(){let e=document.getElementsByTagName("link"),t=[];for(let i=0;i<e.length;i++){-1!=e[i].href.toLowerCase().indexOf("basetype-")&&t.push(e[i].outerHTML)}return t.join("")}mainCssList(){let e=document.getElementsByTagName("link"),t=[];for(let i=0;i<e.length;i++){-1!=e[i].href.toLowerCase().indexOf("basetype-")&&t.push(e[i].outerHTML)}return t}sectionCss(){let e=document.getElementsByTagName("link"),t=[];for(let i=0;i<e.length;i++){let n=e[i].href.toLowerCase();-1!=n.indexOf("basetype-")||-1!=n.indexOf("type-")&&t.push(e[i].outerHTML)}return t=[...new Set(t)],t.join("")}sectionCssList(){let e=document.getElementsByTagName("link"),t=[];for(let i=0;i<e.length;i++){let n=e[i].href.toLowerCase();-1!=n.indexOf("basetype-")||-1!=n.indexOf("type-")&&t.push(e[i].outerHTML)}return t=[...new Set(t)],t}html(e){return this.cleanupUnused(),this.editor.readHtml(this.wrapperEl,e,!0)}viewZoom(){this.editor.viewZoom()}destroy(){document.removeEventListener("click",this.doDocumentClick,!1),window.removeEventListener("scroll",this.doWindowScroll,!1);let e=this.html();this.builderStuff.innerHTML="",xb.removeClass(document.body,"sidebar-active");const t=document.querySelector("#_contentbox_lightbox");t&&t.parentNode.removeChild(t);let i=document.createRange();const n=this.wrapperEl;n.innerHTML="",n.appendChild(i.createContextualFragment(e)),xb.removeClass(n,"is-edit"),this.editor.destroy(),_b.stop()}cleanupUnused(){let e=document.getElementsByTagName("link");for(let t=0;t<e.length;t++){let i=e[t].getAttribute("href");if(-1!==i.indexOf("googleapis")){i=i.replace(/\+/g," ").replace(/%20/g," ");let n=i.substr(i.indexOf("family=")+7);-1!=n.indexOf(":")&&(n=n.split(":")[0]),n=n.toLowerCase();let o=!1;if(this.wrapperEl.innerHTML.toLowerCase().split(n).length>=3&&(o=!0),!o){let i=e[t].getAttribute("data-protect");void 0!==i&&!1!==i||e[t].setAttribute("data-rel","_del")}}}e=document.getElementsByTagName("link");for(let t=0;t<e.length;t++)if("contentstyle"===e[t].getAttribute("data-name")){let i=e[t].getAttribute("data-class");""===i&&e[t].setAttribute("data-rel","_del"),""!==i&&(this.wrapperEl.querySelector("."+i)||e[t].setAttribute("data-rel","_del"))}let t=document.querySelectorAll('[data-rel="_del"]');t.forEach((e=>{e.parentNode.removeChild(e)})),t=document.head.querySelectorAll("link"),t.forEach((e=>{let t=e.getAttribute("href");this.wrapperEl.querySelectorAll("link").forEach((e=>{t===e.getAttribute("href")&&e.setAttribute("data-rel","_del")}))})),t=document.querySelectorAll('[data-rel="_del"]'),t.forEach((e=>{e.parentNode.removeChild(e)}))}}}();
